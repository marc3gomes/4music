require.config({"config": {
        "jsbuild":{"Nwdthemes_Revslider/public/assets/js/rbtools.min.js":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(t,e){t.exports=jQuery},function(t,e,n){n(2),n(6),t.exports=n(4)},function(t,e,n){var r,i,o,s;\r\n    /*!\r\n     * @fileOverview TouchSwipe - jQuery Plugin @version 1.6.18 / SANDBOXED VERSION FOR TP\r\n     * @author Matt Bryson http://www.github.com/mattbryson\r\n     * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin\r\n     * @see http://labs.rampinteractive.co.uk/touchSwipe/\r\n     * @see http://plugins.jquery.com/project/touchSwipe\r\n     * @license\r\n     * Copyright (c) 2010-2015 Matt Bryson\r\n     * Dual licensed under the MIT or GPL Version 2 licenses.\r\n     *\r\n     */s=function(t){\"use strict\";var e=\"left\",n=\"right\",r=\"up\",i=\"down\",o=\"none\",s=\"doubletap\",a=\"longtap\",u=\"horizontal\",l=\"vertical\",h=\"all\",c=\"move\",f=\"end\",p=\"cancel\",d=\"ontouchstart\"in window,g=window.navigator.msPointerEnabled&&!window.PointerEvent&&!d,D=(window.PointerEvent||window.navigator.msPointerEnabled)&&!d,m=\"TouchSwipe\";function v(v,_){_=t.extend({},_);var y=d||D||!_.fallbackToMouseEvents,x=y?D?g?\"MSPointerDown\":\"pointerdown\":\"touchstart\":\"mousedown\",w=y?D?g?\"MSPointerMove\":\"pointermove\":\"touchmove\":\"mousemove\",C=y?D?g?\"MSPointerUp\":\"pointerup\":\"touchend\":\"mouseup\",F=y?D?\"mouseleave\":null:\"mouseleave\",E=D?g?\"MSPointerCancel\":\"pointercancel\":\"touchcancel\",b=0,T=null,M=null,A=0,P=0,S=0,O=1,k=0,B=0,L=null,N=t(v),R=\"start\",X=0,Y={},I=0,z=0,H=0,W=0,V=0,j=null,U=null;try{N.on(x,q),N.on(E,Q)}catch(v){t.error(\"events not supported \"+x+\",\"+E+\" on jQuery.swipe\")}function q(o){if(!0!==N.data(m+\"_intouch\")&&!(0<t(o.target).closest(_.excludedElements,N).length)){var s=o.originalEvent?o.originalEvent:o;if(!s.pointerType||\"mouse\"!=s.pointerType||0!=_.fallbackToMouseEvents){var a,u,l=s.touches,c=l?l[0]:s;return R=\"start\",l?X=l.length:!1!==_.preventDefaultEvents&&o.preventDefault(),B=M=T=null,O=1,k=S=P=A=b=0,(u={})[e]=yt(e),u[n]=yt(n),u.up=yt(r),u[i]=yt(i),L=u,dt(),mt(0,c),!l||X===_.fingers||_.fingers===h||st()?(I=Ft(),2==X&&(mt(1,l[1]),P=S=wt(Y[0].start,Y[1].start)),(_.swipeStatus||_.pinchStatus)&&(a=tt(s,R))):a=!1,!1===a?(tt(s,R=p),a):(_.hold&&(U=setTimeout(t.proxy((function(){N.trigger(\"hold\",[s.target]),_.hold&&(a=_.hold.call(N,s,s.target))}),this),_.longTapThreshold)),Dt(!0),null)}}}function G(s){var a=s.originalEvent?s.originalEvent:s;if(R!==f&&R!==p&&!gt()){var d,g,D,m,v,y,x,w=a.touches,C=vt(w?w[0]:a);if(z=Ft(),w&&(X=w.length),_.hold&&clearTimeout(U),R=c,2==X&&(0==P?(mt(1,w[1]),P=S=wt(Y[0].start,Y[1].start)):(vt(w[1]),S=wt(Y[0].end,Y[1].end),Y[0].end,Y[1].end,B=O<1?\"out\":\"in\"),O=(S/P*1).toFixed(2),k=Math.abs(P-S)),X===_.fingers||_.fingers===h||!w||st()){if(T=Ct(C.start,C.end),function(t,s){if(!1!==_.preventDefaultEvents)if(_.allowPageScroll===o)t.preventDefault();else{var a=\"auto\"===_.allowPageScroll;switch(s){case e:(_.swipeLeft&&a||!a&&_.allowPageScroll!=u)&&t.preventDefault();break;case n:(_.swipeRight&&a||!a&&_.allowPageScroll!=u)&&t.preventDefault();break;case r:(_.swipeUp&&a||!a&&_.allowPageScroll!=l)&&t.preventDefault();break;case i:(_.swipeDown&&a||!a&&_.allowPageScroll!=l)&&t.preventDefault()}}}(s,M=Ct(C.last,C.end)),y=C.start,x=C.end,b=Math.round(Math.sqrt(Math.pow(x.x-y.x,2)+Math.pow(x.y-y.y,2))),A=xt(),function(t,e){t!=o&&(e=Math.max(e,_t(t)),L[t].distance=e)}(T,b),d=tt(a,R),!_.triggerOnTouchEnd||_.triggerOnTouchLeave){var F=!0;_.triggerOnTouchLeave&&(D={left:(v=(m=t(m=this)).offset()).left,right:v.left+m.outerWidth(),top:v.top,bottom:v.top+m.outerHeight()},F=(g=C.end).x>D.left&&g.x<D.right&&g.y>D.top&&g.y<D.bottom),!_.triggerOnTouchEnd&&F?R=J(c):_.triggerOnTouchLeave&&!F&&(R=J(f)),R!=p&&R!=f||tt(a,R)}}else tt(a,R=p);!1===d&&tt(a,R=p)}}function K(t){var e,n=t.originalEvent?t.originalEvent:t,r=n.touches;if(r){if(r.length&&!gt())return e=n,H=Ft(),W=e.touches.length+1,!0;if(r.length&&gt())return!0}return gt()&&(X=W),z=Ft(),A=xt(),rt()||!nt()?tt(n,R=p):_.triggerOnTouchEnd||!1===_.triggerOnTouchEnd&&R===c?(!1!==_.preventDefaultEvents&&!1!==t.cancelable&&t.preventDefault(),tt(n,R=f)):!_.triggerOnTouchEnd&&ct()?et(n,R=f,\"tap\"):R===c&&tt(n,R=p),Dt(!1),null}function Q(){S=P=I=z=X=0,O=1,dt(),Dt(!1)}function Z(t){var e=t.originalEvent?t.originalEvent:t;_.triggerOnTouchLeave&&tt(e,R=J(f))}function $(){N.off(x,q),N.off(E,Q),N.off(w,G),N.off(C,K),F&&N.off(F,Z),Dt(!1)}function J(t){var e=t,n=it(),r=nt(),i=rt();return!n||i?e=p:!r||t!=c||_.triggerOnTouchEnd&&!_.triggerOnTouchLeave?!r&&t==f&&_.triggerOnTouchLeave&&(e=p):e=f,e}function tt(t,e){var n,r=t.touches;return(at()&&ut()||ut())&&(n=et(t,e,\"swipe\")),(ot()&&st()||st())&&!1!==n&&(n=et(t,e,\"pinch\")),pt()&&ft()&&!1!==n?n=et(t,e,s):A>_.longTapThreshold&&b<10&&_.longTap&&!1!==n?n=et(t,e,a):1!==X&&d||!(isNaN(b)||b<_.threshold)||!ct()||!1===n||(n=et(t,e,\"tap\")),e===p&&Q(),e===f&&(r&&r.length||Q()),n}function et(o,u,l){var h;if(\"swipe\"==l){if(N.trigger(\"swipeStatus\",[u,T||null,b||0,A||0,X,Y,M]),_.swipeStatus&&!1===(h=_.swipeStatus.call(N,o,u,T||null,b||0,A||0,X,Y,M)))return!1;if(u==f&&at()){if(clearTimeout(j),clearTimeout(U),N.trigger(\"swipe\",[T,b,A,X,Y,M]),_.swipe&&!1===(h=_.swipe.call(N,o,T,b,A,X,Y,M)))return!1;switch(T){case e:N.trigger(\"swipeLeft\",[T,b,A,X,Y,M]),_.swipeLeft&&(h=_.swipeLeft.call(N,o,T,b,A,X,Y,M));break;case n:N.trigger(\"swipeRight\",[T,b,A,X,Y,M]),_.swipeRight&&(h=_.swipeRight.call(N,o,T,b,A,X,Y,M));break;case r:N.trigger(\"swipeUp\",[T,b,A,X,Y,M]),_.swipeUp&&(h=_.swipeUp.call(N,o,T,b,A,X,Y,M));break;case i:N.trigger(\"swipeDown\",[T,b,A,X,Y,M]),_.swipeDown&&(h=_.swipeDown.call(N,o,T,b,A,X,Y,M))}}}if(\"pinch\"==l){if(N.trigger(\"pinchStatus\",[u,B||null,k||0,A||0,X,O,Y]),_.pinchStatus&&!1===(h=_.pinchStatus.call(N,o,u,B||null,k||0,A||0,X,O,Y)))return!1;if(u==f&&ot())switch(B){case\"in\":N.trigger(\"pinchIn\",[B||null,k||0,A||0,X,O,Y]),_.pinchIn&&(h=_.pinchIn.call(N,o,B||null,k||0,A||0,X,O,Y));break;case\"out\":N.trigger(\"pinchOut\",[B||null,k||0,A||0,X,O,Y]),_.pinchOut&&(h=_.pinchOut.call(N,o,B||null,k||0,A||0,X,O,Y))}}return\"tap\"==l?u!==p&&u!==f||(clearTimeout(j),clearTimeout(U),ft()&&!pt()?(V=Ft(),j=setTimeout(t.proxy((function(){V=null,N.trigger(\"tap\",[o.target]),_.tap&&(h=_.tap.call(N,o,o.target))}),this),_.doubleTapThreshold)):(V=null,N.trigger(\"tap\",[o.target]),_.tap&&(h=_.tap.call(N,o,o.target)))):l==s?u!==p&&u!==f||(clearTimeout(j),clearTimeout(U),V=null,N.trigger(\"doubletap\",[o.target]),_.doubleTap&&(h=_.doubleTap.call(N,o,o.target))):l==a&&(u!==p&&u!==f||(clearTimeout(j),V=null,N.trigger(\"longtap\",[o.target]),_.longTap&&(h=_.longTap.call(N,o,o.target)))),h}function nt(){var t=!0;return null!==_.threshold&&(t=b>=_.threshold),t}function rt(){var t=!1;return null!==_.cancelThreshold&&null!==T&&(t=_t(T)-b>=_.cancelThreshold),t}function it(){return!(_.maxTimeThreshold&&A>=_.maxTimeThreshold)}function ot(){var t=lt(),e=ht(),n=null===_.pinchThreshold||k>=_.pinchThreshold;return t&&e&&n}function st(){return _.pinchStatus||_.pinchIn||_.pinchOut}function at(){var t=it(),e=nt(),n=lt(),r=ht();return!rt()&&r&&n&&e&&t}function ut(){return _.swipe||_.swipeStatus||_.swipeLeft||_.swipeRight||_.swipeUp||_.swipeDown}function lt(){return X===_.fingers||_.fingers===h||!d}function ht(){return 0!==Y[0].end.x}function ct(){return _.tap}function ft(){return!!_.doubleTap}function pt(){if(null==V)return!1;var t=Ft();return ft()&&t-V<=_.doubleTapThreshold}function dt(){W=H=0}function gt(){var t=!1;return H&&Ft()-H<=_.fingerReleaseThreshold&&(t=!0),t}function Dt(t){N&&(!0===t?(N.on(w,G),N.on(C,K),F&&N.on(F,Z)):(N.off(w,G,!1),N.off(C,K,!1),F&&N.off(F,Z,!1)),N.data(m+\"_intouch\",!0===t))}function mt(t,e){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=e.pageX||e.clientX,n.start.y=n.last.y=n.end.y=e.pageY||e.clientY,Y[t]=n}function vt(t){var e=void 0!==t.identifier?t.identifier:0,n=Y[e]||null;return null===n&&(n=mt(e,t)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=t.pageX||t.clientX,n.end.y=t.pageY||t.clientY,n}function _t(t){if(L[t])return L[t].distance}function yt(t){return{direction:t,distance:0}}function xt(){return z-I}function wt(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return Math.round(Math.sqrt(n*n+r*r))}function Ct(t,s){if(u=s,(a=t).x==u.x&&a.y==u.y)return o;var a,u,l,h,c,f,p,d,g=(h=s,c=(l=t).x-h.x,f=h.y-l.y,p=Math.atan2(f,c),(d=Math.round(180*p/Math.PI))<0&&(d=360-Math.abs(d)),d);return g<=45&&0<=g||g<=360&&315<=g?e:135<=g&&g<=225?n:45<g&&g<135?i:r}function Ft(){return(new Date).getTime()}this.enable=function(){return this.disable(),N.on(x,q),N.on(E,Q),N},this.disable=function(){return $(),N},this.destroy=function(){$(),N.data(m,null),N=null},this.option=function(e,n){if(\"object\"==typeof e)_=t.extend(_,e);else if(void 0!==_[e]){if(void 0===n)return _[e];_[e]=n}else{if(!e)return _;t.error(\"Option \"+e+\" does not exist on jQuery.swipe.options\")}return null}}t.fn.rsswipe=function(e){var n=t(this),r=n.data(m);if(r&&\"string\"==typeof e){if(r[e])return r[e].apply(r,Array.prototype.slice.call(arguments,1));t.error(\"Method \"+e+\" does not exist on jQuery.rsswipe\")}else if(r&&\"object\"==typeof e)r.option.apply(r,arguments);else if(!(r||\"object\"!=typeof e&&e))return function(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=o),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e=e||{},e=t.extend({},t.fn.rsswipe.defaults,e),this.each((function(){var n=t(this),r=n.data(m);r||(r=new v(this,e),n.data(m,r))}))}.apply(this,arguments);return n},t.fn.rsswipe.version=\"1.6.18\",t.fn.rsswipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:\"auto\",fallbackToMouseEvents:!0,excludedElements:\".noSwipe\",preventDefaultEvents:!0},t.fn.rsswipe.phases={PHASE_START:\"start\",PHASE_MOVE:c,PHASE_END:f,PHASE_CANCEL:p},t.fn.rsswipe.directions={LEFT:e,RIGHT:n,UP:r,DOWN:i,IN:\"in\",OUT:\"out\"},t.fn.rsswipe.pageScroll={NONE:o,HORIZONTAL:u,VERTICAL:l,AUTO:\"auto\"},t.fn.rsswipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:h}},n(3).jQuery?(i=[n(0)],void 0===(o=\"function\"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o)):t.exports?s(n(0)):s(jQuery)},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){var n;(n=jQuery).waitForImages={hasImageProperties:[\"backgroundImage\",\"listStyleImage\",\"borderImage\",\"borderCornerImage\"]},n.expr.pseudos.uncached=function(t){var e=document.createElement(\"img\");return e.src=t.src,n(t).is('img[src!=\"\"]')&&!e.complete},n.fn.waitForImages=function(t,e,r){if(n.isPlainObject(t)&&(e=t.each,r=t.waitForAll,t=t.finished),t=t||n.noop,e=e||n.noop,r=!!r,!n.isFunction(t)||!n.isFunction(e))throw new TypeError(\"An invalid callback was supplied.\");return this.each((function(){var i=n(this),o=[];if(r){var s=n.waitForImages.hasImageProperties||[],a=/url\\((['\"]?)(.*?)\\1\\)/g;i.find(\"*\").each((function(){var t=n(this);t.is(\"img:uncached\")&&o.push({src:t.attr(\"src\"),element:t[0]}),n.each(s,(function(e,n){var r,i=t.css(n);if(!i)return!0;for(;r=a.exec(i);)o.push({src:r[2],element:t[0]})}))}))}else i.find(\"img:uncached\").each((function(){o.push({src:this.src,element:this})}));var u=o.length,l=0;0==u&&t.call(i[0]),n.each(o,(function(r,o){var s=new Image;n(s).bind(\"load error\",(function(n){if(l++,e.call(o.element,l,u,\"load\"==n.type),l==u)return t.call(i[0]),!1})),s.src=o.src}))}))}},,function(t,e,n){\"use strict\";function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}\r\n    /*!\r\n     * GSAP 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */n.r(e);var o,s,a,u,l,h,c,f,p,d,g,D,m,v={autoSleep:120,force3D:\"auto\",nullTargetWarn:1,units:{lineHeight:\"\"}},_={duration:.5,overwrite:!1,delay:0},y=1e8,x=2*Math.PI,w=x/4,C=0,F=Math.sqrt,E=Math.cos,b=Math.sin,T=function(t){return\"string\"==typeof t},M=function(t){return\"function\"==typeof t},A=function(t){return\"number\"==typeof t},P=function(t){return void 0===t},S=function(t){return\"object\"==typeof t},O=function(t){return!1!==t},k=function(){return\"undefined\"!=typeof window},B=function(t){return M(t)||T(t)},L=\"function\"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},N=Array.isArray,R=/(?:-?\\.?\\d|\\.)+/gi,X=/[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,Y=/[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,I=/[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,z=/[+-]=-?[.\\d]+/,H=/[^,'\"\\[\\]\\s]+/gi,W=/[\\d.+\\-=]+(?:e[-+]\\d*)*/i,V={},j={},U=function(t){return(j=mt(t,V))&&nn},q=function(t,e){return console.warn(\"Invalid property\",t,\"set to\",e,\"Missing plugin? gsap.registerPlugin()\")},G=function(t,e){return!e&&console.warn(t)},K=function(t,e){return t&&(V[t]=e)&&j&&(j[t]=e)||V},Q=function(){return 0},Z={},$=[],J={},tt={},et={},nt=30,rt=[],it=\"\",ot=function(t){var e,n,r=t[0];if(S(r)||M(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=rt.length;n--&&!rt[n].targetTest(r););e=rt[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new be(t[n],e)))||t.splice(n,1);return t},st=function(t){return t._gsap||ot(Ut(t))[0]._gsap},at=function(t,e,n){return(n=t[e])&&M(n)?t[e]():P(n)&&t.getAttribute&&t.getAttribute(e)||n},ut=function(t,e){return(t=t.split(\",\")).forEach(e)||t},lt=function(t){return Math.round(1e5*t)/1e5||0},ht=function(t){return Math.round(1e7*t)/1e7||0},ct=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},ft=function(){var t,e,n=$.length,r=$.slice(0);for(J={},$.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},pt=function(t,e,n,r){$.length&&ft(),t.render(e,n,r),$.length&&ft()},dt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+\"\").match(H).length<2?e:T(t)?t.trim():t},gt=function(t){return t},Dt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},mt=function(t,e){for(var n in e)t[n]=e[n];return t},vt=function t(e,n){for(var r in n)\"__proto__\"!==r&&\"constructor\"!==r&&\"prototype\"!==r&&(e[r]=S(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},_t=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},yt=function(t){var e,n=t.parent||s,r=t.keyframes?(e=N(t.keyframes),function(t,n){for(var r in n)r in t||\"duration\"===r&&e||\"ease\"===r||(t[r]=n[r])}):Dt;if(O(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},xt=function(t,e,n,r){void 0===n&&(n=\"_first\"),void 0===r&&(r=\"_last\");var i=e._prev,o=e._next;i?i._next=o:t[n]===e&&(t[n]=o),o?o._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},wt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Ct=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Ft=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Et=function(t){return t._repeat?bt(t._tTime,t=t.duration()+t._rDelay)*t:0},bt=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Tt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Mt=function(t){return t._end=ht(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},At=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=ht(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Mt(t),n._dirty||Ct(n,t)),t},Pt=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Tt(t.rawTime(),e),(!e._dur||zt(0,e.totalDuration(),n)-e._tTime>1e-8)&&e.render(n,!0)),Ct(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},St=function(t,e,n,r){return e.parent&&wt(e),e._start=ht((A(n)?n:n||t!==s?Xt(t,n,e):t._time)+e._delay),e._end=ht(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,r,i){void 0===n&&(n=\"_first\"),void 0===r&&(r=\"_last\");var o,s=t[r];if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t}(t,e,\"_first\",\"_last\",t._sort?\"_start\":0),Bt(e)||(t._recent=e),r||Pt(t,e),t},Ot=function(t,e){return(V.ScrollTrigger||q(\"scrollTrigger\",e))&&V.ScrollTrigger.create(e,t)},kt=function(t,e,n,r){return ke(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&c!==pe.frame?($.push(t),t._lazy=[e,r],1):void 0:1},Bt=function(t){var e=t.data;return\"isFromStart\"===e||\"isStart\"===e},Lt=function(t,e,n,r){var i=t._repeat,o=ht(e)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:ht(o*(i+1)+t._rDelay*i):o,s>0&&!r?At(t,t._tTime=t._tDur*s):t.parent&&Mt(t),n||Ct(t.parent,t),t},Nt=function(t){return t instanceof Me?Ct(t):Lt(t,t._dur)},Rt={_start:0,endTime:Q,totalDuration:Q},Xt=function t(e,n,r){var i,o,s,a=e.labels,u=e._recent||Rt,l=e.duration()>=y?u.endTime(!1):e._dur;return T(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s=\"%\"===n.substr(-1),i=n.indexOf(\"=\"),\"<\"===o||\">\"===o?(i>=0&&(n=n.replace(/=/,\"\")),(\"<\"===o?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?u:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=l),a[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(o=o/100*(N(r)?r[0]:r).totalDuration()),i>1?t(e,n.substr(0,i-1),r)+o:l+o)):null==n?l:+n},Yt=function(t,e,n){var r,i,o=A(e[1]),s=(o?2:1)+(t<2?0:1),a=e[s];if(o&&(a.duration=e[1]),a.parent=n,t){for(r=a,i=n;i&&!(\"immediateRender\"in r);)r=i.vars.defaults||{},i=O(i.vars.inherit)&&i.parent;a.immediateRender=O(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[s-1]}return new Xe(e[0],a,e[s+1])},It=function(t,e){return t||0===t?e(t):e},zt=function(t,e,n){return n<t?t:n>e?e:n},Ht=function(t,e){return T(t)&&(e=W.exec(t))?t.substr(e.index+e[0].length):\"\"},Wt=[].slice,Vt=function(t,e){return t&&S(t)&&\"length\"in t&&(!e&&!t.length||t.length-1 in t&&S(t[0]))&&!t.nodeType&&t!==a},jt=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return T(t)&&!e||Vt(t,1)?(r=n).push.apply(r,Ut(t)):n.push(t)}))||n},Ut=function(t,e,n){return!T(t)||n||!u&&de()?N(t)?jt(t,n):Vt(t)?Wt.call(t,0):t?[t]:[]:Wt.call((e||l).querySelectorAll(t),0)},qt=function(t){return t.sort((function(){return.5-Math.random()}))},Gt=function(t){if(M(t))return t;var e=S(t)?t:{each:t},n=xe(e.ease),r=e.from||0,i=parseFloat(e.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,u=e.axis,l=r,h=r;return T(r)?l=h={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(l=r[0],h=r[1]),function(t,s,c){var f,p,d,g,D,m,v,_,x,w=(c||e).length,C=o[w];if(!C){if(!(x=\"auto\"===e.grid?0:(e.grid||[1,y])[1])){for(v=-y;v<(v=c[x++].getBoundingClientRect().left)&&x<w;);x--}for(C=o[w]=[],f=a?Math.min(x,w)*l-.5:r%x,p=x===y?0:a?w*h/x-.5:r/x|0,v=0,_=y,m=0;m<w;m++)d=m%x-f,g=p-(m/x|0),C[m]=D=u?Math.abs(\"y\"===u?g:d):F(d*d+g*g),D>v&&(v=D),D<_&&(_=D);\"random\"===r&&qt(C),C.max=v-_,C.min=_,C.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(x>w?w-1:u?\"y\"===u?w/x:x:Math.max(x,w/x))||0)*(\"edges\"===r?-1:1),C.b=w<0?i-w:i,C.u=Ht(e.amount||e.each)||0,n=n&&w<0?_e(n):n}return w=(C[t]-C.min)/C.max||0,ht(C.b+(n?n(w):w)*C.v)+C.u}},Kt=function(t){var e=Math.pow(10,((t+\"\").split(\".\")[1]||\"\").length);return function(n){var r=Math.round(parseFloat(n)/t)*t*e;return(r-r%1)/e+(A(n)?0:Ht(n))}},Qt=function(t,e){var n,r,i=N(t);return!i&&S(t)&&(n=i=t.radius||y,t.values?(t=Ut(t.values),(r=!A(t[0]))&&(n*=n)):t=Kt(t.increment)),It(e,i?M(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,o,s=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),u=y,l=0,h=t.length;h--;)(i=r?(i=t[h].x-s)*i+(o=t[h].y-a)*o:Math.abs(t[h]-s))<u&&(u=i,l=h);return l=!n||u<=n?t[l]:e,r||l===e||A(e)?l:l+Ht(e)}:Kt(t))},Zt=function(t,e,n,r){return It(N(t)?!e:!0===n?!!(n=0):!r,(function(){return N(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+\"\").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},$t=function(t,e,n){return It(n,(function(n){return t[~~e(n)]}))},Jt=function(t){for(var e,n,r,i,o=0,s=\"\";~(e=t.indexOf(\"random(\",o));)r=t.indexOf(\")\",e),i=\"[\"===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?H:R),s+=t.substr(o,e-o)+Zt(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+t.substr(o,t.length-o)},te=function(t,e,n,r,i){var o=e-t,s=r-n;return It(i,(function(e){return n+((e-t)/o*s||0)}))},ee=function(t,e,n){var r,i,o,s=t.labels,a=y;for(r in s)(i=s[r]-e)<0==!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},ne=function(t,e,n){var r,i,o=t.vars,s=o[e];if(s)return r=o[e+\"Params\"],i=o.callbackScope||t,n&&$.length&&ft(),r?s.apply(i,r):s.call(i)},re=function(t){return wt(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&ne(t,\"onInterrupt\"),t},ie=function(t){var e=(t=!t.name&&t.default||t).name,n=M(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:Q,render:qe,add:Se,kill:Ke,modifier:Ge,rawVars:0},o={targetTest:0,get:0,getSetter:We,aliases:{},register:0};if(de(),t!==r){if(tt[e])return;Dt(r,Dt(_t(t,i),o)),mt(r.prototype,mt(i,_t(t,o))),tt[r.prop=e]=r,t.targetTest&&(rt.push(r),Z[e]=1),e=(\"css\"===e?\"CSS\":e.charAt(0).toUpperCase()+e.substr(1))+\"Plugin\"}K(e,r),t.register&&t.register(nn,r,$e)},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},se=function(t,e,n){return 255*(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},ae=function(t,e,n){var r,i,o,s,a,u,l,h,c,f,p=t?A(t)?[t>>16,t>>8&255,255&t]:0:oe.black;if(!p){if(\",\"===t.substr(-1)&&(t=t.substr(0,t.length-1)),oe[t])p=oe[t];else if(\"#\"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t=\"#\"+r+r+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):\"\")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&255,255&p,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]}else if(\"hsl\"===t.substr(0,3))if(p=f=t.match(R),e){if(~t.indexOf(\"=\"))return p=t.match(X),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=+p[1]/100,r=2*(u=+p[2]/100)-(i=u<=.5?u*(a+1):u+a-u*a),p.length>3&&(p[3]*=1),p[0]=se(s+1/3,r,i),p[1]=se(s,r,i),p[2]=se(s-1/3,r,i);else p=t.match(R)||oe.transparent;p=p.map(Number)}return e&&!f&&(r=p[0]/255,i=p[1]/255,o=p[2]/255,u=((l=Math.max(r,i,o))+(h=Math.min(r,i,o)))/2,l===h?s=a=0:(c=l-h,a=u>.5?c/(2-l-h):c/(l+h),s=l===r?(i-o)/c+(i<o?6:0):l===i?(o-r)/c+2:(r-i)/c+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*u+.5)),n&&p.length<4&&(p[3]=1),p},ue=function(t){var e=[],n=[],r=-1;return t.split(he).forEach((function(t){var i=t.match(Y)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},le=function(t,e,n){var r,i,o,s,a=\"\",u=(t+a).match(he),l=e?\"hsla(\":\"rgba(\",h=0;if(!u)return t;if(u=u.map((function(t){return(t=ae(t,e,1))&&l+(e?t[0]+\",\"+t[1]+\"%,\"+t[2]+\"%,\"+t[3]:t.join(\",\"))+\")\"})),n&&(o=ue(t),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=t.replace(he,\"1\").split(Y)).length-1;h<s;h++)a+=i[h]+(~r.indexOf(h)?u.shift()||l+\"0,0,0,0)\":(o.length?o:u.length?u:n).shift());if(!i)for(s=(i=t.split(he)).length-1;h<s;h++)a+=i[h]+u[h];return a+i[s]},he=function(){var t,e=\"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\";for(t in oe)e+=\"|\"+t+\"\\\\b\";return new RegExp(e+\")\",\"gi\")}(),ce=/hsl[a]?\\(/,fe=function(t){var e,n=t.join(\" \");if(he.lastIndex=0,he.test(n))return e=ce.test(n),t[1]=le(t[1],e),t[0]=le(t[0],e,ue(t[1])),!0},pe=function(){var t,e,n,r,i,o,s=Date.now,c=500,f=33,d=s(),g=d,D=1e3/240,m=D,v=[],_=function n(a){var u,l,h,p,_=s()-g,y=!0===a;if(_>c&&(d+=_-f),((u=(h=(g+=_)-d)-m)>0||y)&&(p=++r.frame,i=h-1e3*r.time,r.time=h/=1e3,m+=u+(u>=D?4:D-u),l=1),y||(t=e(n)),l)for(o=0;o<v.length;o++)v[o](h,i,p,a)};return r={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){h&&(!u&&k()&&(a=u=window,l=a.document||{},V.gsap=nn,(a.gsapVersions||(a.gsapVersions=[])).push(nn.version),U(j||a.GreenSockGlobals||!a.gsap&&a||{}),n=a.requestAnimationFrame),t&&r.sleep(),e=n||function(t){return setTimeout(t,m-1e3*r.time+1|0)},p=1,_(2))},sleep:function(){(n?a.cancelAnimationFrame:clearTimeout)(t),p=0,e=Q},lagSmoothing:function(t,e){c=t||1/1e-8,f=Math.min(e,c,0)},fps:function(t){D=1e3/(t||240),m=1e3*r.time+D},add:function(t){v.indexOf(t)<0&&v.push(t),de()},remove:function(t,e){~(e=v.indexOf(t))&&v.splice(e,1)&&o>=e&&o--},_listeners:v}}(),de=function(){return!p&&pe.wake()},ge={},De=/^[\\d.\\-M][\\d.\\-,\\s]/,me=/[\"']/g,ve=function(t){for(var e,n,r,i={},o=t.substr(1,t.length-3).split(\":\"),s=o[0],a=1,u=o.length;a<u;a++)n=o[a],e=a!==u-1?n.lastIndexOf(\",\"):n.length,r=n.substr(0,e),i[s]=isNaN(r)?r.replace(me,\"\").trim():+r,s=n.substr(e+1).trim();return i},_e=function(t){return function(e){return 1-t(1-e)}},ye=function t(e,n){for(var r,i=e._first;i;)i instanceof Me?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},xe=function(t,e){return t&&(M(t)?t:ge[t]||function(t){var e,n,r,i,o=(t+\"\").split(\"(\"),s=ge[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~t.indexOf(\"{\")?[ve(o[1])]:(e=t,n=e.indexOf(\"(\")+1,r=e.indexOf(\")\"),i=e.indexOf(\"(\",n),e.substring(n,~i&&i<r?e.indexOf(\")\",r+1):r)).split(\",\").map(dt)):ge._CE&&De.test(t)?ge._CE(\"\",t):s}(t))||e},we=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:n,easeInOut:r};return ut(t,(function(t){for(var e in ge[t]=V[t]=o,ge[i=t.toLowerCase()]=n,o)ge[i+(\"easeIn\"===e?\".in\":\"easeOut\"===e?\".out\":\".inOut\")]=ge[t+\".\"+e]=o[e]})),o},Ce=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Fe=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),s=o/x*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*b((t-s)*o)+1},u=\"out\"===e?a:\"in\"===e?function(t){return 1-a(1-t)}:Ce(a);return o=x/o,u.config=function(n,r){return t(e,n,r)},u},Ee=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i=\"out\"===e?r:\"in\"===e?function(t){return 1-r(1-t)}:Ce(r);return i.config=function(n){return t(e,n)},i};ut(\"Linear,Quad,Cubic,Quart,Quint,Strong\",(function(t,e){var n=e<5?e+1:e;we(t+\",Power\"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),ge.Linear.easeNone=ge.none=ge.Linear.easeIn,we(\"Elastic\",Fe(\"in\"),Fe(\"out\"),Fe()),d=7.5625,D=1/(g=2.75),we(\"Bounce\",(function(t){return 1-m(1-t)}),m=function(t){return t<D?d*t*t:t<.7272727272727273?d*Math.pow(t-1.5/g,2)+.75:t<.9090909090909092?d*(t-=2.25/g)*t+.9375:d*Math.pow(t-2.625/g,2)+.984375}),we(\"Expo\",(function(t){return t?Math.pow(2,10*(t-1)):0})),we(\"Circ\",(function(t){return-(F(1-t*t)-1)})),we(\"Sine\",(function(t){return 1===t?1:1-E(t*w)})),we(\"Back\",Ee(\"in\"),Ee(\"out\"),Ee()),ge.SteppedEase=ge.steps=V.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*zt(0,1-1e-8,t)|0)+i)*n}}},_.ease=ge[\"quad.out\"],ut(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\",(function(t){return it+=t+\",\"+t+\"Params,\"}));var be=function(t,e){this.id=C++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:at,this.set=e?e.getSetter:We},Te=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Lt(this,+t.duration,1,1),this.data=t.data,p||pe.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Lt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(de(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(At(this,t),!n._dp||n.parent||Pt(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&St(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),pt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Et(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Et(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?bt(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Tt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Ft(this.totalTime(zt(-this._delay,this._tDur,e),!0)),Mt(this),this},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(de(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&1e-8!==Math.abs(this._zTime)&&(this._tTime-=1e-8)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&St(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(O(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Tt(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Nt(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Nt(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Xt(this,t),O(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,O(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+\"Params\"]=n),\"onUpdate\"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=M(t)?t:gt,i=function(){var t=e.then;e.then=null,M(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){re(this)},t}();Dt(Te.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Me=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=O(e.sortChildren),s&&St(e.parent||s,r(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&Ot(r(i),e.scrollTrigger),i}i(e,t);var n=e.prototype;return n.to=function(t,e,n){return Yt(0,arguments,this),this},n.from=function(t,e,n){return Yt(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Yt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,yt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Xe(t,e,Xt(this,n),1),this},n.call=function(t,e,n){return St(this,Xe.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,i,o,s){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new Xe(t,n,Xt(this,i)),this},n.staggerFrom=function(t,e,n,r,i,o,s){return n.runBackwards=1,yt(n).immediateRender=O(n.immediateRender),this.staggerTo(t,e,n,r,i,o,s)},n.staggerFromTo=function(t,e,n,r,i,o,s,a){return r.startAt=n,yt(r).immediateRender=O(r.immediateRender),this.staggerTo(t,e,r,i,o,s,a)},n.render=function(t,e,n){var r,i,o,a,u,l,h,c,f,p,d,g,D=this._time,m=this._dirty?this.totalDuration():this._tDur,v=this._dur,_=t<=0?0:ht(t),y=this._zTime<0!=t<0&&(this._initted||!v);if(this!==s&&_>m&&t>=0&&(_=m),_!==this._tTime||n||y){if(D!==this._time&&v&&(_+=this._time-D,t+=this._time-D),r=_,f=this._start,l=!(c=this._ts),y&&(v||(D=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(d=this._yoyo,u=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*u+t,e,n);if(r=ht(_%u),_===m?(a=this._repeat,r=v):((a=~~(_/u))&&a===_/u&&(r=v,a--),r>v&&(r=v)),p=bt(this._tTime,u),!D&&this._tTime&&p!==a&&(p=a),d&&1&a&&(r=v-r,g=1),a!==p&&!this._lock){var x=d&&1&p,w=x===(d&&1&a);if(a<p&&(x=!x),D=x?0:v,this._lock=1,this.render(D||(g?0:ht(a*u)),e,!v)._lock=0,this._tTime=_,!e&&this.parent&&ne(this,\"onRepeat\"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),D&&D!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,m=this._tDur,w&&(this._lock=2,D=x?v:-1e-4,this.render(D,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;ye(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(\"isPause\"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(\"isPause\"===r.data&&r._start<e)return r;r=r._prev}}(this,ht(D),ht(r)))&&(_-=r-(r=h._start)),this._tTime=_,this._time=r,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,D=0),!D&&r&&!e&&(ne(this,\"onStart\"),this._tTime!==_))return this;if(r>=D&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!l){h=0,o&&(_+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var C=t<0?t:r;i;){if(o=i._prev,(i._act||C<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(C-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(C-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!l){h=0,o&&(_+=this._zTime=C?-1e-8:1e-8);break}}i=o}}if(h&&!e&&(this.pause(),h.render(r>=D?0:-1e-8)._zTime=r>=D?1:-1,this._ts))return this._start=f,Mt(this),this.render(t,e,n);this._onUpdate&&!e&&ne(this,\"onUpdate\",!0),(_===m&&m>=this.totalDuration()||!_&&D)&&(f!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!v)&&(_===m&&this._ts>0||!_&&this._ts<0)&&wt(this,1),e||t<0&&!D||!_&&!D&&m||(ne(this,_===m&&t>=0?\"onComplete\":\"onReverseComplete\",!0),this._prom&&!(_<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(A(e)||(e=Xt(this,e,t)),!(t instanceof Te)){if(N(t))return t.forEach((function(t){return n.add(t,e)})),this;if(T(t))return this.addLabel(t,e);if(!M(t))return this;t=Xe.delayedCall(0,t)}return this!==t?St(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-y);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof Xe?e&&i.push(o):(n&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,n)))),o=o._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return T(t)?this.removeLabel(t):M(t)?this.killTweensOf(t):(xt(this,t),t===this._recent&&(this._recent=this._last),Ct(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ht(pe.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Xt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Xe.delayedCall(0,e||Q,n);return r.data=\"isPause\",this._hasPause=1,St(this,r,Xt(this,t))},n.removePause=function(t){var e=this._first;for(t=Xt(this,t);e;)e._start===t&&\"isPause\"===e.data&&wt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Ae!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=Ut(t),o=this._first,s=A(e);o;)o instanceof Xe?ct(o._targets,i)&&(s?(!Ae||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&r.push(o):(n=o.getTweensOf(i,e)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,i=Xt(r,t),o=e,s=o.startAt,a=o.onStart,u=o.onStartParams,l=o.immediateRender,h=Xe.to(r,Dt({ease:e.ease||\"none\",lazy:!1,immediateRender:!1,time:i,overwrite:\"auto\",duration:e.duration||Math.abs((i-(s&&\"time\"in s?s.time:r._time))/r.timeScale())||1e-8,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((i-(s&&\"time\"in s?s.time:r._time))/r.timeScale());h._dur!==t&&Lt(h,t,0,1).render(h._time,!0,!0),n=1}a&&a.apply(h,u||[])}},e));return l?h.render(0):h},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Dt({startAt:{time:Xt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),ee(this,Xt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),ee(this,Xt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return Ct(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ct(this)},n.totalDuration=function(t){var e,n,r,i=0,o=this,a=o._last,u=y;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(r=o.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>u&&o._sort&&a._ts&&!o._lock?(o._lock=1,St(o,a,n-a._delay,1)._lock=0):u=n,n<0&&a._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),u=0),a._end>i&&a._ts&&(i=a._end),a=e;Lt(o,o===s&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(s._ts&&(pt(s,Tt(t,s)),c=pe.frame),pe.frame>=nt){nt+=v.autoSleep||120;var e=s._first;if((!e||!e._ts)&&v.autoSleep&&pe._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||pe.sleep()}}},e}(Te);Dt(Me.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ae,Pe=function(t,e,n,r,i,o,s){var a,u,l,h,c,f,p,d,g=new $e(this._pt,t,e,0,1,Ue,null,i),D=0,m=0;for(g.b=n,g.e=r,n+=\"\",(p=~(r+=\"\").indexOf(\"random(\"))&&(r=Jt(r)),o&&(o(d=[n,r],t,e),n=d[0],r=d[1]),u=n.match(I)||[];a=I.exec(r);)h=a[0],c=r.substring(D,a.index),l?l=(l+1)%5:\"rgba(\"===c.substr(-5)&&(l=1),h!==u[m++]&&(f=parseFloat(u[m-1])||0,g._pt={_next:g._pt,p:c||1===m?c:\",\",s:f,c:\"=\"===h.charAt(1)?parseFloat(h.substr(2))*(\"-\"===h.charAt(0)?-1:1):parseFloat(h)-f,m:l&&l<4?Math.round:0},D=I.lastIndex);return g.c=D<r.length?r.substring(D,r.length):\"\",g.fp=s,(z.test(r)||p)&&(g.e=0),this._pt=g,g},Se=function(t,e,n,r,i,o,s,a,u){M(r)&&(r=r(i||0,t,o));var l,h=t[e],c=\"get\"!==n?n:M(h)?u?t[e.indexOf(\"set\")||!M(t[\"get\"+e.substr(3)])?e:\"get\"+e.substr(3)](u):t[e]():h,f=M(h)?u?ze:Ie:Ye;if(T(r)&&(~r.indexOf(\"random(\")&&(r=Jt(r)),\"=\"===r.charAt(1)&&((l=parseFloat(c)+parseFloat(r.substr(2))*(\"-\"===r.charAt(0)?-1:1)+(Ht(c)||0))||0===l)&&(r=l)),c!==r)return isNaN(c*r)||\"\"===r?(!h&&!(e in t)&&q(e,r),Pe.call(this,t,e,c,r,f,a||v.stringFilter,u)):(l=new $e(this._pt,t,e,+c||0,r-(c||0),\"boolean\"==typeof h?je:Ve,0,f),u&&(l.fp=u),s&&l.modifier(s,this,t),this._pt=l)},Oe=function(t,e,n,r,i,o){var s,a,u,l;if(tt[t]&&!1!==(s=new tt[t]).init(i,s.rawVars?e[t]:function(t,e,n,r,i){if(M(t)&&(t=Le(t,i,e,n,r)),!S(t)||t.style&&t.nodeType||N(t)||L(t))return T(t)?Le(t,i,e,n,r):t;var o,s={};for(o in t)s[o]=Le(t[o],i,e,n,r);return s}(e[t],r,i,o,n),n,r,o)&&(n._pt=a=new $e(n._pt,i,t,0,1,s.render,s,0,s.priority),n!==f))for(u=n._ptLookup[n._targets.indexOf(i)],l=s._props.length;l--;)u[s._props[l]]=a;return s},ke=function t(e,n){var r,i,a,u,l,h,c,f,p,d,g,D,m,v=e.vars,x=v.ease,w=v.startAt,C=v.immediateRender,F=v.lazy,E=v.onUpdate,b=v.onUpdateParams,T=v.callbackScope,M=v.runBackwards,A=v.yoyoEase,P=v.keyframes,S=v.autoRevert,k=e._dur,B=e._startAt,L=e._targets,N=e.parent,R=N&&\"nested\"===N.data?N.parent._targets:L,X=\"auto\"===e._overwrite&&!o,Y=e.timeline;if(Y&&(!P||!x)&&(x=\"none\"),e._ease=xe(x,_.ease),e._yEase=A?_e(xe(!0===A?x:A,_.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),e._from=!Y&&!!v.runBackwards,!Y||P&&!v.stagger){if(D=(f=L[0]?st(L[0]).harness:0)&&v[f.prop],r=_t(v,Z),B&&wt(B.render(-1,!0)),w)if(wt(e._startAt=Xe.set(L,Dt({data:\"isStart\",overwrite:!1,parent:N,immediateRender:!0,lazy:O(F),startAt:null,delay:0,onUpdate:E,onUpdateParams:b,callbackScope:T,stagger:0},w))),n<0&&!C&&!S&&e._startAt.render(-1,!0),C){if(n>0&&!S&&(e._startAt=0),k&&n<=0)return void(n&&(e._zTime=n))}else!1===S&&(e._startAt=0);else if(M&&k)if(B)!S&&(e._startAt=0);else if(n&&(C=!1),a=Dt({overwrite:!1,data:\"isFromStart\",lazy:C&&O(F),immediateRender:C,stagger:0,parent:N},r),D&&(a[f.prop]=D),wt(e._startAt=Xe.set(L,a)),n<0&&e._startAt.render(-1,!0),e._zTime=n,C){if(!n)return}else t(e._startAt,1e-8);for(e._pt=0,F=k&&O(F)||F&&!k,i=0;i<L.length;i++){if(c=(l=L[i])._gsap||ot(L)[i]._gsap,e._ptLookup[i]=d={},J[c.id]&&$.length&&ft(),g=R===L?i:R.indexOf(l),f&&!1!==(p=new f).init(l,D||r,e,g,R)&&(e._pt=u=new $e(e._pt,l,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(t){d[t]=u})),p.priority&&(h=1)),!f||D)for(a in r)tt[a]&&(p=Oe(a,r,e,g,l,R))?p.priority&&(h=1):d[a]=u=Se.call(e,l,a,\"get\",r[a],g,R,0,v.stringFilter);e._op&&e._op[i]&&e.kill(l,e._op[i]),X&&e._pt&&(Ae=e,s.killTweensOf(l,d,e.globalTime(n)),m=!e.parent,Ae=0),e._pt&&F&&(J[c.id]=1)}h&&Ze(e),e._onInit&&e._onInit(e)}e._onUpdate=E,e._initted=(!e._op||e._pt)&&!m,P&&n<=0&&Y.render(y,!0,!0)},Be=function(t,e,n,r){var i,o,s=e.ease||r||\"power1.inOut\";if(N(e))o=n[t]||(n[t]=[]),e.forEach((function(t,n){return o.push({t:n/(e.length-1)*100,v:t,e:s})}));else for(i in e)o=n[i]||(n[i]=[]),\"ease\"===i||o.push({t:parseFloat(t),v:e[i],e:s})},Le=function(t,e,n,r,i){return M(t)?t.call(e,n,r,i):T(t)&&~t.indexOf(\"random(\")?Jt(t):t},Ne=it+\"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",Re={};ut(Ne+\",id,stagger,delay,duration,paused,scrollTrigger\",(function(t){return Re[t]=1}));var Xe=function(t){function e(e,n,i,a){var u;\"number\"==typeof n&&(i.duration=n,n=i,i=null);var l,h,c,f,p,d,g,D,m=(u=t.call(this,a?n:yt(n))||this).vars,_=m.duration,y=m.delay,x=m.immediateRender,w=m.stagger,C=m.overwrite,F=m.keyframes,E=m.defaults,b=m.scrollTrigger,T=m.yoyoEase,M=n.parent||s,P=(N(e)||L(e)?A(e[0]):\"length\"in n)?[e]:Ut(e);if(u._targets=P.length?ot(P):G(\"GSAP target \"+e+\" not found. https://greensock.com\",!v.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=C,F||w||B(_)||B(y)){if(n=u.vars,(l=u.timeline=new Me({data:\"nested\",defaults:E||{}})).kill(),l.parent=l._dp=r(u),l._start=0,w||B(_)||B(y)){if(f=P.length,g=w&&Gt(w),S(w))for(p in w)~Ne.indexOf(p)&&(D||(D={}),D[p]=w[p]);for(h=0;h<f;h++)(c=_t(n,Re)).stagger=0,T&&(c.yoyoEase=T),D&&mt(c,D),d=P[h],c.duration=+Le(_,r(u),h,d,P),c.delay=(+Le(y,r(u),h,d,P)||0)-u._delay,!w&&1===f&&c.delay&&(u._delay=y=c.delay,u._start+=y,c.delay=0),l.to(d,c,g?g(h,d,P):0),l._ease=ge.none;l.duration()?_=y=0:u.timeline=0}else if(F){yt(Dt(l.vars.defaults,{ease:\"none\"})),l._ease=xe(F.ease||n.ease||\"none\");var k,R,X,Y=0;if(N(F))F.forEach((function(t){return l.to(P,t,\">\")}));else{for(p in c={},F)\"ease\"===p||\"easeEach\"===p||Be(p,F[p],c,F.easeEach);for(p in c)for(k=c[p].sort((function(t,e){return t.t-e.t})),Y=0,h=0;h<k.length;h++)(X={ease:(R=k[h]).e,duration:(R.t-(h?k[h-1].t:0))/100*_})[p]=R.v,l.to(P,X,Y),Y+=X.duration;l.duration()<_&&l.to({},{duration:_-l.duration()})}}_||u.duration(_=l.duration())}else u.timeline=0;return!0!==C||o||(Ae=r(u),s.killTweensOf(P),Ae=0),St(M,r(u),i),n.reversed&&u.reverse(),n.paused&&u.paused(!0),(x||!_&&!F&&u._start===ht(M._time)&&O(x)&&function t(e){return!e||e._ts&&t(e.parent)}(r(u))&&\"nested\"!==M.data)&&(u._tTime=-1e-8,u.render(Math.max(0,-y))),b&&Ot(r(u),b),u}i(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,o,s,a,u,l,h,c,f=this._time,p=this._tDur,d=this._dur,g=t>p-1e-8&&t>=0?p:t<1e-8?0:t;if(d){if(g!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(r=g,h=this.timeline,this._repeat){if(s=d+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(r=ht(g%s),g===p?(o=this._repeat,r=d):((o=~~(g/s))&&o===g/s&&(r=d,o--),r>d&&(r=d)),(u=this._yoyo&&1&o)&&(c=this._yEase,r=d-r),a=bt(this._tTime,s),r===f&&!n&&this._initted)return this;o!==a&&(h&&this._yEase&&ye(h,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(ht(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(kt(this,t<0?t:r,n,e))return this._tTime=0,this;if(d!==this._dur)return this.render(t,e,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(c||this._ease)(r/d),this._from&&(this.ratio=l=1-l),r&&!f&&!e&&(ne(this,\"onStart\"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(l,i.d),i=i._next;h&&h.render(t<0?t:!r&&u?-1e-8:h._dur*h._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),ne(this,\"onUpdate\")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&ne(this,\"onRepeat\"),g!==this._tDur&&g||this._tTime!==g||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!d)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&wt(this,1),e||t<0&&!f||!g&&!f||(ne(this,g===p?\"onComplete\":\"onReverseComplete\",!0),this._prom&&!(g<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,o,s,a=t.ratio,u=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)&&(t._initted||!Bt(t))||(t._ts<0||t._dp._ts<0)&&!Bt(t))?0:1,l=t._rDelay,h=0;if(l&&t._repeat&&(h=zt(0,t._tDur,e),o=bt(h,l),t._yoyo&&1&o&&(u=1-u),o!==bt(t._tTime,l)&&(a=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==a||r||1e-8===t._zTime||!e&&t._zTime){if(!t._initted&&kt(t,e,r,n))return;for(s=t._zTime,t._zTime=e||(n?1e-8:0),n||(n=e&&!s),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=h,i=t._pt;i;)i.r(u,i.d),i=i._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&ne(t,\"onUpdate\"),h&&t._repeat&&!n&&t.parent&&ne(t,\"onRepeat\"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&wt(t,1),n||(ne(t,u?\"onComplete\":\"onReverseComplete\",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e=\"all\"),!(t||e&&\"all\"!==e))return this._lazy=this._pt=0,this.parent?re(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ae&&!0!==Ae.vars.overwrite)._first||re(this),this.parent&&n!==this.timeline.totalDuration()&&Lt(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,u,l,h=this._targets,c=t?Ut(t):h,f=this._ptLookup,p=this._pt;if((!e||\"all\"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(h,c))return\"all\"===e&&(this._pt=0),re(this);for(r=this._op=this._op||[],\"all\"!==e&&(T(e)&&(a={},ut(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var n,r,i,o,s=t[0]?st(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(r in n=mt({},e),a)if(r in n)for(i=(o=a[r].split(\",\")).length;i--;)n[o[i]]=n[r];return n}(h,e)),l=h.length;l--;)if(~c.indexOf(h[l]))for(a in i=f[l],\"all\"===e?(r[l]=e,s=i,o={}):(o=r[l]=r[l]||{},s=e),s)(u=i&&i[a])&&(\"kill\"in u.d&&!0!==u.d.kill(a)||xt(this,u,\"_pt\"),delete i[a]),\"all\"!==o&&(o[a]=1);return this._initted&&!this._pt&&p&&re(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Yt(1,arguments)},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,e,n){return Yt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return s.killTweensOf(t,e,n)},e}(Te);Dt(Xe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ut(\"staggerTo,staggerFrom,staggerFromTo\",(function(t){Xe[t]=function(){var e=new Me,n=Wt.call(arguments,0);return n.splice(\"staggerFromTo\"===t?5:4,0,0),e[t].apply(e,n)}}));var Ye=function(t,e,n){return t[e]=n},Ie=function(t,e,n){return t[e](n)},ze=function(t,e,n,r){return t[e](r.fp,n)},He=function(t,e,n){return t.setAttribute(e,n)},We=function(t,e){return M(t[e])?Ie:P(t[e])&&t.setAttribute?He:Ye},Ve=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},je=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Ue=function(t,e){var n=e._pt,r=\"\";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},qe=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Ge=function(t,e,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(t,e,n),o=i},Ke=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?xt(this,r,\"_pt\"):r.dep||(e=1),r=n;return!e},Qe=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},Ze=function(t){for(var e,n,r,i,o=t._pt;o;){for(e=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=e}t._pt=r},$e=function(){function t(t,e,n,r,i,o,s,a,u){this.t=e,this.s=r,this.c=i,this.p=n,this.r=o||Ve,this.d=s||this,this.set=a||Ye,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Qe,this.m=t,this.mt=n,this.tween=e},t}();ut(it+\"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\",(function(t){return Z[t]=1})),V.TweenMax=V.TweenLite=Xe,V.TimelineLite=V.TimelineMax=Me,s=new Me({sortChildren:!1,defaults:_,autoRemoveChildren:!0,id:\"root\",smoothChildTiming:!0}),v.stringFilter=fe;var Je={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return ie(t)}))},timeline:function(t){return new Me(t)},getTweensOf:function(t,e){return s.getTweensOf(t,e)},getProperty:function(t,e,n,r){T(t)&&(t=Ut(t)[0]);var i=st(t||{}).get,o=n?gt:dt;return\"native\"===n&&(n=\"\"),t?e?o((tt[e]&&tt[e].get||i)(t,e,n,r)):function(e,n,r){return o((tt[e]&&tt[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=Ut(t)).length>1){var r=t.map((function(t){return nn.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var o=tt[e],s=st(t),a=s.harness&&(s.harness.aliases||{})[e]||e,u=o?function(e){var r=new o;f._pt=0,r.init(t,n?e+n:e,f,0,[t]),r.render(1,r),f._pt&&qe(1,f)}:s.set(t,a);return o?u:function(e){return u(t,a,n?e+n:e,s,1)}},isTweening:function(t){return s.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=xe(t.ease,_.ease)),vt(_,t||{})},config:function(t){return vt(v,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,o=t.extendTimeline;(r||\"\").split(\",\").forEach((function(t){return t&&!tt[t]&&!V[t]&&G(e+\" effect requires \"+t+\" plugin.\")})),et[e]=function(t,e,r){return n(Ut(t),Dt(e||{},i),r)},o&&(Me.prototype[e]=function(t,n,r){return this.add(et[e](t,S(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){ge[t]=xe(e)},parseEase:function(t,e){return arguments.length?xe(t,e):ge},getById:function(t){return s.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new Me(t);for(i.smoothChildTiming=O(t.smoothChildTiming),s.remove(i),i._dp=0,i._time=i._tTime=s._time,n=s._first;n;)r=n._next,!e&&!n._dur&&n instanceof Xe&&n.vars.onComplete===n._targets[0]||St(i,n,n._start-n._delay),n=r;return St(s,i,0),i},utils:{wrap:function t(e,n,r){var i=n-e;return N(e)?$t(e,t(0,e.length),n):It(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,o=2*i;return N(e)?$t(e,t(0,e.length-1),n):It(r,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:Gt,random:Zt,snap:Qt,normalize:function(t,e,n){return te(t,e,0,1,n)},getUnit:Ht,clamp:function(t,e,n){return It(n,(function(n){return zt(t,e,n)}))},splitColor:ae,toArray:Ut,selector:function(t){return t=Ut(t)[0]||G(\"Invalid scope\")||{},function(e){var n=t.current||t.nativeElement||t;return Ut(e,n.querySelectorAll?n:n===t?G(\"Invalid scope\")||l.createElement(\"div\"):t)}},mapRange:te,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Ht(n))}},interpolate:function t(e,n,r,i){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var s,a,u,l,h,c=T(e),f={};if(!0===r&&(i=1)&&(r=null),c)e={p:e},n={p:n};else if(N(e)&&!N(n)){for(u=[],l=e.length,h=l-2,a=1;a<l;a++)u.push(t(e[a-1],e[a]));l--,o=function(t){t*=l;var e=Math.min(h,~~t);return u[e](t-e)},r=n}else i||(e=mt(N(e)?[]:{},e));if(!u){for(s in n)Se.call(f,e,s,\"get\",n[s]);o=function(t){return qe(t,f)||(c?e.p:e)}}}return It(r,o)},shuffle:qt},install:U,effects:et,ticker:pe,updateRoot:Me.updateRoot,plugins:tt,globalTimeline:s,core:{PropTween:$e,globals:K,Tween:Xe,Timeline:Me,Animation:Te,getCache:st,_removeLinkedListItem:xt,suppressOverwrites:function(t){return o=t}}};ut(\"to,from,fromTo,delayedCall,set,killTweensOf\",(function(t){return Je[t]=Xe[t]})),pe.add(Me.updateRoot),f=Je.to({},{duration:0});var tn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},en=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(T(n)&&(r={},ut(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,o=t._targets;for(n in e)for(r=o.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=tn(i,n)),i&&i.modifier&&i.modifier(e[n],t,o[r],n))}(t,n)}}}},nn=Je.registerPlugin({name:\"attr\",init:function(t,e,n,r,i){var o,s;for(o in e)(s=this.add(t,\"setAttribute\",(t.getAttribute(o)||0)+\"\",e[o],r,i,0,0,o))&&(s.op=o),this._props.push(o)}},{name:\"endArray\",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},en(\"roundProps\",Kt),en(\"modifiers\"),en(\"snap\",Qt))||Je;Xe.version=Me.version=nn.version=\"3.9.1\",h=1,k()&&de();ge.Power0,ge.Power1,ge.Power2,ge.Power3,ge.Power4,ge.Linear,ge.Quad,ge.Cubic,ge.Quart,ge.Quint,ge.Strong,ge.Elastic,ge.Back,ge.SteppedEase,ge.Bounce,ge.Sine,ge.Expo,ge.Circ;\r\n    /*!\r\n     * CSSPlugin 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */var rn,on,sn,an,un,ln,hn,cn={},fn=180/Math.PI,pn=Math.PI/180,dn=Math.atan2,gn=/([A-Z])/g,Dn=/(?:left|right|width|margin|padding|x)/i,mn=/[\\s,\\(]\\S/,vn={autoAlpha:\"opacity,visibility\",scale:\"scaleX,scaleY\",alpha:\"opacity\"},_n=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},yn=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},xn=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},wn=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Cn=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Fn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},En=function(t,e,n){return t.style[e]=n},bn=function(t,e,n){return t.style.setProperty(e,n)},Tn=function(t,e,n){return t._gsap[e]=n},Mn=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},An=function(t,e,n,r,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},Pn=function(t,e,n,r,i){var o=t._gsap;o[e]=n,o.renderTransform(i,o)},Sn=\"transform\",On=Sn+\"Origin\",kn=function(t,e){var n=on.createElementNS?on.createElementNS((e||\"http://www.w3.org/1999/xhtml\").replace(/^https/,\"http\"),t):on.createElement(t);return n.style?n:on.createElement(t)},Bn=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(gn,\"-$1\").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Nn(n)||n,1)||\"\"},Ln=\"O,Moz,ms,Ms,Webkit\".split(\",\"),Nn=function(t,e,n){var r=(e||un).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(Ln[i]+t in r););return i<0?null:(3===i?\"ms\":i>=0?Ln[i]:\"\")+t},Rn=function(){\"undefined\"!=typeof window&&window.document&&(rn=window,on=rn.document,sn=on.documentElement,un=kn(\"div\")||{style:{}},kn(\"div\"),Sn=Nn(Sn),On=Sn+\"Origin\",un.style.cssText=\"border-width:0;line-height:0;position:absolute;padding:0\",hn=!!Nn(\"perspective\"),an=1)},Xn=function t(e){var n,r=kn(\"svg\",this.ownerSVGElement&&this.ownerSVGElement.getAttribute(\"xmlns\")||\"http://www.w3.org/2000/svg\"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(sn.appendChild(r),r.appendChild(this),this.style.display=\"block\",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),sn.removeChild(r),this.style.cssText=s,n},Yn=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},In=function(t){var e;try{e=t.getBBox()}catch(n){e=Xn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Xn||(e=Xn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Yn(t,[\"x\",\"cx\",\"x1\"])||0,y:+Yn(t,[\"y\",\"cy\",\"y1\"])||0,width:0,height:0}},zn=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!In(t))},Hn=function(t,e){if(e){var n=t.style;e in cn&&e!==On&&(e=Sn),n.removeProperty?(\"ms\"!==e.substr(0,2)&&\"webkit\"!==e.substr(0,6)||(e=\"-\"+e),n.removeProperty(e.replace(gn,\"-$1\").toLowerCase())):n.removeAttribute(e)}},Wn=function(t,e,n,r,i,o){var s=new $e(t._pt,e,n,0,1,o?Fn:Cn);return t._pt=s,s.b=r,s.e=i,t._props.push(n),s},Vn={deg:1,rad:1,turn:1},jn=function t(e,n,r,i){var o,s,a,u,l=parseFloat(r)||0,h=(r+\"\").trim().substr((l+\"\").length)||\"px\",c=un.style,f=Dn.test(n),p=\"svg\"===e.tagName.toLowerCase(),d=(p?\"client\":\"offset\")+(f?\"Width\":\"Height\"),g=\"px\"===i,D=\"%\"===i;return i===h||!l||Vn[i]||Vn[h]?l:(\"px\"!==h&&!g&&(l=t(e,n,r,\"px\")),u=e.getCTM&&zn(e),!D&&\"%\"!==h||!cn[n]&&!~n.indexOf(\"adius\")?(c[f?\"width\":\"height\"]=100+(g?h:i),s=~n.indexOf(\"adius\")||\"em\"===i&&e.appendChild&&!p?e:e.parentNode,u&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==on&&s.appendChild||(s=on.body),(a=s._gsap)&&D&&a.width&&f&&a.time===pe.time?lt(l/a.width*100):((D||\"%\"===h)&&(c.position=Bn(e,\"position\")),s===e&&(c.position=\"static\"),s.appendChild(un),o=un[d],s.removeChild(un),c.position=\"absolute\",f&&D&&((a=st(s)).time=pe.time,a.width=s[d]),lt(g?o*l/100:o&&l?100/o*l:0))):(o=u?e.getBBox()[f?\"width\":\"height\"]:e[d],lt(D?l/o*100:l/100*o)))},Un=function(t,e,n,r){var i;return an||Rn(),e in vn&&\"transform\"!==e&&~(e=vn[e]).indexOf(\",\")&&(e=e.split(\",\")[0]),cn[e]&&\"transform\"!==e?(i=rr(t,r),i=\"transformOrigin\"!==e?i[e]:i.svg?i.origin:ir(Bn(t,On))+\" \"+i.zOrigin+\"px\"):(!(i=t.style[e])||\"auto\"===i||r||~(i+\"\").indexOf(\"calc(\"))&&(i=Qn[e]&&Qn[e](t,e,n)||Bn(t,e)||at(t,e)||(\"opacity\"===e?1:0)),n&&!~(i+\"\").trim().indexOf(\" \")?jn(t,e,i,n)+n:i},qn=function(t,e,n,r){if(!n||\"none\"===n){var i=Nn(e,t,1),o=i&&Bn(t,i,1);o&&o!==n?(e=i,n=o):\"borderColor\"===e&&(n=Bn(t,\"borderTopColor\"))}var s,a,u,l,h,c,f,p,d,g,D,m,_=new $e(this._pt,t.style,e,0,1,Ue),y=0,x=0;if(_.b=n,_.e=r,n+=\"\",\"auto\"===(r+=\"\")&&(t.style[e]=r,r=Bn(t,e)||r,t.style[e]=n),fe(s=[n,r]),r=s[1],u=(n=s[0]).match(Y)||[],(r.match(Y)||[]).length){for(;a=Y.exec(r);)f=a[0],d=r.substring(y,a.index),h?h=(h+1)%5:\"rgba(\"!==d.substr(-5)&&\"hsla(\"!==d.substr(-5)||(h=1),f!==(c=u[x++]||\"\")&&(l=parseFloat(c)||0,D=c.substr((l+\"\").length),(m=\"=\"===f.charAt(1)?+(f.charAt(0)+\"1\"):0)&&(f=f.substr(2)),p=parseFloat(f),g=f.substr((p+\"\").length),y=Y.lastIndex-g.length,g||(g=g||v.units[e]||D,y===r.length&&(r+=g,_.e+=g)),D!==g&&(l=jn(t,e,c,g)||0),_._pt={_next:_._pt,p:d||1===x?d:\",\",s:l,c:m?m*p:p-l,m:h&&h<4||\"zIndex\"===e?Math.round:0});_.c=y<r.length?r.substring(y,r.length):\"\"}else _.r=\"display\"===e&&\"none\"===r?Fn:Cn;return z.test(r)&&(_.e=0),this._pt=_,_},Gn={top:\"0%\",bottom:\"100%\",left:\"0%\",right:\"100%\",center:\"50%\"},Kn=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,o=e.t,s=o.style,a=e.u,u=o._gsap;if(\"all\"===a||!0===a)s.cssText=\"\",r=1;else for(i=(a=a.split(\",\")).length;--i>-1;)n=a[i],cn[n]&&(r=1,n=\"transformOrigin\"===n?On:Sn),Hn(o,n);r&&(Hn(o,Sn),u&&(u.svg&&o.removeAttribute(\"transform\"),rr(o,1),u.uncache=1))}},Qn={clearProps:function(t,e,n,r,i){if(\"isFromStart\"!==i.data){var o=t._pt=new $e(t._pt,e,n,0,0,Kn);return o.u=r,o.pr=-10,o.tween=i,t._props.push(n),1}}},Zn=[1,0,0,1,0,0],$n={},Jn=function(t){return\"matrix(1, 0, 0, 1, 0, 0)\"===t||\"none\"===t||!t},tr=function(t){var e=Bn(t,Sn);return Jn(e)?Zn:e.substr(7).match(X).map(lt)},er=function(t,e){var n,r,i,o,s=t._gsap||st(t),a=t.style,u=tr(t);return s.svg&&t.getAttribute(\"transform\")?\"1,0,0,1,0,0\"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(\",\")?Zn:u:(u!==Zn||t.offsetParent||t===sn||s.svg||(i=a.display,a.display=\"block\",(n=t.parentNode)&&t.offsetParent||(o=1,r=t.nextSibling,sn.appendChild(t)),u=tr(t),i?a.display=i:Hn(t,\"display\"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):sn.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},nr=function(t,e,n,r,i,o){var s,a,u,l=t._gsap,h=i||er(t,!0),c=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,d=l.yOffset||0,g=h[0],D=h[1],m=h[2],v=h[3],_=h[4],y=h[5],x=e.split(\" \"),w=parseFloat(x[0])||0,C=parseFloat(x[1])||0;n?h!==Zn&&(a=g*v-D*m)&&(u=w*(-D/a)+C*(g/a)-(g*y-D*_)/a,w=w*(v/a)+C*(-m/a)+(m*y-v*_)/a,C=u):(w=(s=In(t)).x+(~x[0].indexOf(\"%\")?w/100*s.width:w),C=s.y+(~(x[1]||x[0]).indexOf(\"%\")?C/100*s.height:C)),r||!1!==r&&l.smooth?(_=w-c,y=C-f,l.xOffset=p+(_*g+y*m)-_,l.yOffset=d+(_*D+y*v)-y):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=C,l.smooth=!!r,l.origin=e,l.originIsAbsolute=!!n,t.style[On]=\"0px 0px\",o&&(Wn(o,l,\"xOrigin\",c,w),Wn(o,l,\"yOrigin\",f,C),Wn(o,l,\"xOffset\",p,l.xOffset),Wn(o,l,\"yOffset\",d,l.yOffset)),t.setAttribute(\"data-svg-origin\",w+\" \"+C)},rr=function(t,e){var n=t._gsap||new be(t);if(\"x\"in n&&!e&&!n.uncache)return n;var r,i,o,s,a,u,l,h,c,f,p,d,g,D,m,_,y,x,w,C,F,E,b,T,M,A,P,S,O,k,B,L,N=t.style,R=n.scaleX<0,X=Bn(t,On)||\"0\";return r=i=o=u=l=h=c=f=p=0,s=a=1,n.svg=!(!t.getCTM||!zn(t)),D=er(t,n.svg),n.svg&&(T=(!n.uncache||\"0px 0px\"===X)&&!e&&t.getAttribute(\"data-svg-origin\"),nr(t,T||X,!!T||n.originIsAbsolute,!1!==n.smooth,D)),d=n.xOrigin||0,g=n.yOrigin||0,D!==Zn&&(x=D[0],w=D[1],C=D[2],F=D[3],r=E=D[4],i=b=D[5],6===D.length?(s=Math.sqrt(x*x+w*w),a=Math.sqrt(F*F+C*C),u=x||w?dn(w,x)*fn:0,(c=C||F?dn(C,F)*fn+u:0)&&(a*=Math.abs(Math.cos(c*pn))),n.svg&&(r-=d-(d*x+g*C),i-=g-(d*w+g*F))):(L=D[6],k=D[7],P=D[8],S=D[9],O=D[10],B=D[11],r=D[12],i=D[13],o=D[14],l=(m=dn(L,O))*fn,m&&(T=E*(_=Math.cos(-m))+P*(y=Math.sin(-m)),M=b*_+S*y,A=L*_+O*y,P=E*-y+P*_,S=b*-y+S*_,O=L*-y+O*_,B=k*-y+B*_,E=T,b=M,L=A),h=(m=dn(-C,O))*fn,m&&(_=Math.cos(-m),B=F*(y=Math.sin(-m))+B*_,x=T=x*_-P*y,w=M=w*_-S*y,C=A=C*_-O*y),u=(m=dn(w,x))*fn,m&&(T=x*(_=Math.cos(m))+w*(y=Math.sin(m)),M=E*_+b*y,w=w*_-x*y,b=b*_-E*y,x=T,E=M),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,h=180-h),s=lt(Math.sqrt(x*x+w*w+C*C)),a=lt(Math.sqrt(b*b+L*L)),m=dn(E,b),c=Math.abs(m)>2e-4?m*fn:0,p=B?1/(B<0?-B:B):0),n.svg&&(T=t.getAttribute(\"transform\"),n.forceCSS=t.setAttribute(\"transform\",\"\")||!Jn(Bn(t,Sn)),T&&t.setAttribute(\"transform\",T))),Math.abs(c)>90&&Math.abs(c)<270&&(R?(s*=-1,c+=u<=0?180:-180,u+=u<=0?180:-180):(a*=-1,c+=c<=0?180:-180)),n.x=r-((n.xPercent=r&&(n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+\"px\",n.y=i-((n.yPercent=i&&(n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+\"px\",n.z=o+\"px\",n.scaleX=lt(s),n.scaleY=lt(a),n.rotation=lt(u)+\"deg\",n.rotationX=lt(l)+\"deg\",n.rotationY=lt(h)+\"deg\",n.skewX=c+\"deg\",n.skewY=f+\"deg\",n.transformPerspective=p+\"px\",(n.zOrigin=parseFloat(X.split(\" \")[2])||0)&&(N[On]=ir(X)),n.xOffset=n.yOffset=0,n.force3D=v.force3D,n.renderTransform=n.svg?ur:hn?ar:sr,n.uncache=0,n},ir=function(t){return(t=t.split(\" \"))[0]+\" \"+t[1]},or=function(t,e,n){var r=Ht(e);return lt(parseFloat(e)+parseFloat(jn(t,\"x\",n+\"px\",r)))+r},sr=function(t,e){e.z=\"0px\",e.rotationY=e.rotationX=\"0deg\",e.force3D=0,ar(t,e)},ar=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,u=n.rotation,l=n.rotationY,h=n.rotationX,c=n.skewX,f=n.skewY,p=n.scaleX,d=n.scaleY,g=n.transformPerspective,D=n.force3D,m=n.target,v=n.zOrigin,_=\"\",y=\"auto\"===D&&t&&1!==t||!0===D;if(v&&(\"0deg\"!==h||\"0deg\"!==l)){var x,w=parseFloat(l)*pn,C=Math.sin(w),F=Math.cos(w);w=parseFloat(h)*pn,x=Math.cos(w),o=or(m,o,C*x*-v),s=or(m,s,-Math.sin(w)*-v),a=or(m,a,F*x*-v+v)}\"0px\"!==g&&(_+=\"perspective(\"+g+\") \"),(r||i)&&(_+=\"translate(\"+r+\"%, \"+i+\"%) \"),(y||\"0px\"!==o||\"0px\"!==s||\"0px\"!==a)&&(_+=\"0px\"!==a||y?\"translate3d(\"+o+\", \"+s+\", \"+a+\") \":\"translate(\"+o+\", \"+s+\") \"),\"0deg\"!==u&&(_+=\"rotate(\"+u+\") \"),\"0deg\"!==l&&(_+=\"rotateY(\"+l+\") \"),\"0deg\"!==h&&(_+=\"rotateX(\"+h+\") \"),\"0deg\"===c&&\"0deg\"===f||(_+=\"skew(\"+c+\", \"+f+\") \"),1===p&&1===d||(_+=\"scale(\"+p+\", \"+d+\") \"),m.style[Sn]=_||\"translate(0, 0)\"},ur=function(t,e){var n,r,i,o,s,a=e||this,u=a.xPercent,l=a.yPercent,h=a.x,c=a.y,f=a.rotation,p=a.skewX,d=a.skewY,g=a.scaleX,D=a.scaleY,m=a.target,v=a.xOrigin,_=a.yOrigin,y=a.xOffset,x=a.yOffset,w=a.forceCSS,C=parseFloat(h),F=parseFloat(c);f=parseFloat(f),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),f+=d),f||p?(f*=pn,p*=pn,n=Math.cos(f)*g,r=Math.sin(f)*g,i=Math.sin(f-p)*-D,o=Math.cos(f-p)*D,p&&(d*=pn,s=Math.tan(p-d),i*=s=Math.sqrt(1+s*s),o*=s,d&&(s=Math.tan(d),n*=s=Math.sqrt(1+s*s),r*=s)),n=lt(n),r=lt(r),i=lt(i),o=lt(o)):(n=g,o=D,r=i=0),(C&&!~(h+\"\").indexOf(\"px\")||F&&!~(c+\"\").indexOf(\"px\"))&&(C=jn(m,\"x\",h,\"px\"),F=jn(m,\"y\",c,\"px\")),(v||_||y||x)&&(C=lt(C+v-(v*n+_*i)+y),F=lt(F+_-(v*r+_*o)+x)),(u||l)&&(s=m.getBBox(),C=lt(C+u/100*s.width),F=lt(F+l/100*s.height)),s=\"matrix(\"+n+\",\"+r+\",\"+i+\",\"+o+\",\"+C+\",\"+F+\")\",m.setAttribute(\"transform\",s),w&&(m.style[Sn]=s)},lr=function(t,e,n,r,i,o){var s,a,u=T(i),l=parseFloat(i)*(u&&~i.indexOf(\"rad\")?fn:1),h=o?l*o:l-r,c=r+h+\"deg\";return u&&(\"short\"===(s=i.split(\"_\")[1])&&(h%=360)!==h%180&&(h+=h<0?360:-360),\"cw\"===s&&h<0?h=(h+36e9)%360-360*~~(h/360):\"ccw\"===s&&h>0&&(h=(h-36e9)%360-360*~~(h/360))),t._pt=a=new $e(t._pt,e,n,r,h,yn),a.e=c,a.u=\"deg\",t._props.push(n),a},hr=function(t,e){for(var n in e)t[n]=e[n];return t},cr=function(t,e,n){var r,i,o,s,a,u,l,h=hr({},n._gsap),c=n.style;for(i in h.svg?(o=n.getAttribute(\"transform\"),n.setAttribute(\"transform\",\"\"),c[Sn]=e,r=rr(n,1),Hn(n,Sn),n.setAttribute(\"transform\",o)):(o=getComputedStyle(n)[Sn],c[Sn]=e,r=rr(n,1),c[Sn]=o),cn)(o=h[i])!==(s=r[i])&&\"perspective,force3D,transformOrigin,svgOrigin\".indexOf(i)<0&&(a=Ht(o)!==(l=Ht(s))?jn(n,i,o,l):parseFloat(o),u=parseFloat(s),t._pt=new $e(t._pt,r,i,a,u-a,_n),t._pt.u=l||0,t._props.push(i));hr(r,h)};ut(\"padding,margin,Width,Radius\",(function(t,e){var n=\"Top\",r=\"Right\",i=\"Bottom\",o=\"Left\",s=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return e<2?t+n:\"border\"+n+t}));Qn[e>1?\"border\"+t:t]=function(t,e,n,r,i){var o,a;if(arguments.length<4)return o=s.map((function(e){return Un(t,e,n)})),5===(a=o.join(\" \")).split(o[0]).length?o[0]:a;o=(r+\"\").split(\" \"),a={},s.forEach((function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,a,i)}}));var fr,pr,dr={name:\"css\",register:Rn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var o,s,a,u,l,h,c,f,p,d,g,D,m,_,y,x,w,C,F,E=this._props,b=t.style,M=n.vars.startAt;for(c in an||Rn(),e)if(\"autoRound\"!==c&&(s=e[c],!tt[c]||!Oe(c,e,n,r,t,i)))if(l=typeof s,h=Qn[c],\"function\"===l&&(l=typeof(s=s.call(n,r,t,i))),\"string\"===l&&~s.indexOf(\"random(\")&&(s=Jt(s)),h)h(this,t,c,s,n)&&(y=1);else if(\"--\"===c.substr(0,2))o=(getComputedStyle(t).getPropertyValue(c)+\"\").trim(),s+=\"\",he.lastIndex=0,he.test(o)||(f=Ht(o),p=Ht(s)),p?f!==p&&(o=jn(t,c,o,p)+p):f&&(s+=f),this.add(b,\"setProperty\",o,s,r,i,0,0,c),E.push(c);else if(\"undefined\"!==l){if(M&&c in M?(o=\"function\"==typeof M[c]?M[c].call(n,r,t,i):M[c],T(o)&&~o.indexOf(\"random(\")&&(o=Jt(o)),Ht(o+\"\")||(o+=v.units[c]||Ht(Un(t,c))||\"\"),\"=\"===(o+\"\").charAt(1)&&(o=Un(t,c))):o=Un(t,c),u=parseFloat(o),(d=\"string\"===l&&\"=\"===s.charAt(1)?+(s.charAt(0)+\"1\"):0)&&(s=s.substr(2)),a=parseFloat(s),c in vn&&(\"autoAlpha\"===c&&(1===u&&\"hidden\"===Un(t,\"visibility\")&&a&&(u=0),Wn(this,b,\"visibility\",u?\"inherit\":\"hidden\",a?\"inherit\":\"hidden\",!a)),\"scale\"!==c&&\"transform\"!==c&&~(c=vn[c]).indexOf(\",\")&&(c=c.split(\",\")[0])),g=c in cn)if(D||((m=t._gsap).renderTransform&&!e.parseTransform||rr(t,e.parseTransform),_=!1!==e.smoothOrigin&&m.smooth,(D=this._pt=new $e(this._pt,b,Sn,0,1,m.renderTransform,m,0,-1)).dep=1),\"scale\"===c)this._pt=new $e(this._pt,m,\"scaleY\",m.scaleY,(d?d*a:a-m.scaleY)||0),E.push(\"scaleY\",c),c+=\"X\";else{if(\"transformOrigin\"===c){w=void 0,C=void 0,F=void 0,w=(x=s).split(\" \"),C=w[0],F=w[1]||\"50%\",\"top\"!==C&&\"bottom\"!==C&&\"left\"!==F&&\"right\"!==F||(x=C,C=F,F=x),w[0]=Gn[C]||C,w[1]=Gn[F]||F,s=w.join(\" \"),m.svg?nr(t,s,0,_,0,this):((p=parseFloat(s.split(\" \")[2])||0)!==m.zOrigin&&Wn(this,m,\"zOrigin\",m.zOrigin,p),Wn(this,b,c,ir(o),ir(s)));continue}if(\"svgOrigin\"===c){nr(t,s,1,_,0,this);continue}if(c in $n){lr(this,m,c,u,s,d);continue}if(\"smoothOrigin\"===c){Wn(this,m,\"smooth\",m.smooth,s);continue}if(\"force3D\"===c){m[c]=s;continue}if(\"transform\"===c){cr(this,s,t);continue}}else c in b||(c=Nn(c)||c);if(g||(a||0===a)&&(u||0===u)&&!mn.test(s)&&c in b)a||(a=0),(f=(o+\"\").substr((u+\"\").length))!==(p=Ht(s)||(c in v.units?v.units[c]:f))&&(u=jn(t,c,o,p)),this._pt=new $e(this._pt,g?m:b,c,u,d?d*a:a-u,g||\"px\"!==p&&\"zIndex\"!==c||!1===e.autoRound?_n:wn),this._pt.u=p||0,f!==p&&\"%\"!==p&&(this._pt.b=o,this._pt.r=xn);else if(c in b)qn.call(this,t,c,o,s);else{if(!(c in t)){q(c,s);continue}this.add(t,c,o||t[c],s,r,i)}E.push(c)}y&&Ze(this)},get:Un,aliases:vn,getSetter:function(t,e,n){var r=vn[e];return r&&r.indexOf(\",\")<0&&(e=r),e in cn&&e!==On&&(t._gsap.x||Un(t,\"x\"))?n&&ln===n?\"scale\"===e?Mn:Tn:(ln=n||{})&&(\"scale\"===e?An:Pn):t.style&&!P(t.style[e])?En:~e.indexOf(\"-\")?bn:We(t,e)},core:{_removeProperty:Hn,_getMatrix:er}};nn.utils.checkPrefix=Nn,pr=ut(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent,\"+(fr=\"rotation,rotationX,rotationY,skewX,skewY\")+\",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\",(function(t){cn[t]=1})),ut(fr,(function(t){v.units[t]=\"deg\",$n[t]=1})),vn[pr[13]]=\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent,\"+fr,ut(\"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\",(function(t){var e=t.split(\":\");vn[e[1]]=pr[e[0]]})),ut(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\",(function(t){v.units[t]=\"px\"})),nn.registerPlugin(dr);var gr,Dr,mr,vr=nn.registerPlugin(dr)||nn,_r=vr.core.Tween,yr=function(){return gr||\"undefined\"!=typeof window&&(gr=window.gsap)&&gr.registerPlugin&&gr},xr=function(t){gr=yr(),(mr=gr&&gr.parseEase(\"_CE\"))?(Dr=1,gr.parseEase(\"bounce\").config=function(t){return\"object\"==typeof t?Cr(\"\",t):Cr(\"bounce(\"+t+\")\",{strength:+t})}):t&&console.warn(\"Please gsap.registerPlugin(CustomEase, CustomBounce)\")},wr=function(t){var e,n=t.length,r=1/t[n-2];for(e=2;e<n;e+=2)t[e]=~~(t[e]*r*1e3)/1e3;t[n-2]=1},Cr=function(t,e){Dr||xr(1),e=e||{};var n,r,i,o,s,a,u,l=Math.min(.999,e.strength||.7),h=l,c=(e.squash||0)/100,f=c,p=1/.03,d=.2,g=1,D=.1,m=[0,0,.07,0,.1,1,.1,1],v=[0,0,0,0,.1,0,.1,0];for(s=0;s<200&&(a=D+(d*=h*((h+1)/2)),o=1-(g*=l*l),r=(i=D+.49*d)+.8*(i-(n=D+g/p)),c&&(D+=c,n+=c,i+=c,r+=c,a+=c,u=c/f,v.push(D-c,0,D-c,u,D-c/2,u,D,u,D,0,D,0,D,-.6*u,D+(a-D)/6,0,a,0),m.push(D-c,1,D,1,D,1),c*=l*l),m.push(D,1,n,o,i,o,r,o,a,1,a,1),l*=.95,p=g/(a-r),D=a,!(o>.999));s++);if(e.endAtStart&&\"false\"!==e.endAtStart){if(i=-.1,m.unshift(i,1,i,1,-.07,0),f)for(i-=c=2.5*f,m.unshift(i,1,i,1,i,1),v.splice(0,6),v.unshift(i,0,i,0,i,1,i+c/2,1,i+c,1,i+c,0,i+c,0,i+c,-.6,i+c+.033,0),s=0;s<v.length;s+=2)v[s]-=i;for(s=0;s<m.length;s+=2)m[s]-=i,m[s+1]=1-m[s+1]}return c&&(wr(v),v[2]=\"C\"+v[2],mr(e.squashID||t+\"-squash\",\"M\"+v.join(\",\"))),wr(m),m[2]=\"C\"+m[2],mr(t,\"M\"+m.join(\",\"))},Fr=function(){function t(t,e){this.ease=Cr(t,e)}return t.create=function(t,e){return Cr(t,e)},t.register=function(t){gr=t,xr()},t}();\r\n    /*!\r\n     * CustomBounce 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */yr()&&gr.registerPlugin(Fr),Fr.version=\"3.9.1\";\r\n    /*!\r\n     * paths 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var Er=/[achlmqstvz]|(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/gi,br=/(?:(-)?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/gi,Tr=/[\\+\\-]?\\d*\\.?\\d+e[\\+\\-]?\\d+/gi,Mr=/(^[#\\.][a-z]|[a-y][a-z])/i,Ar=Math.PI/180,Pr=180/Math.PI,Sr=Math.sin,Or=Math.cos,kr=Math.abs,Br=Math.sqrt,Lr=Math.atan2,Nr=function(t){return\"string\"==typeof t},Rr=function(t){return\"number\"==typeof t},Xr={},Yr={},Ir=function(t){return Math.round((t+1e8)%1*1e5)/1e5||(t<0?0:1)},zr=function(t){return Math.round(1e5*t)/1e5||0},Hr=function(t){return Math.round(1e10*t)/1e10||0},Wr=function(t,e,n,r){var i=t[e],o=1===r?6:ei(i,n,r);if(o&&o+n+2<i.length)return t.splice(e,0,i.slice(0,n+o+2)),i.splice(0,n+o),1},Vr=function(t,e,n){var r=t.length,i=~~(n*r);if(t[i]>e)for(;--i&&t[i]>e;);else for(;t[++i]<e&&i<r;);return i<r?i:r-1},jr=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e},Ur=function(t,e){var n=t.length,r=t[n-1]||[],i=r.length;n&&e[0]===r[i-2]&&e[1]===r[i-1]&&(e=r.concat(e.slice(2)),n--),t[n]=e};function qr(t){var e,n=(t=Nr(t)&&Mr.test(t)&&document.querySelector(t)||t).getAttribute?t:0;return n&&(t=t.getAttribute(\"d\"))?(n._gsPath||(n._gsPath={}),(e=n._gsPath[t])&&!e._dirty?e:n._gsPath[t]=si(t)):t?Nr(t)?si(t):Rr(t[0])?[t]:t:console.warn(\"Expecting a <path> element or an SVG path data string\")}function Gr(t){var e,n=0;for(t.reverse();n<t.length;n+=2)e=t[n],t[n]=t[n+1],t[n+1]=e;t.reversed=!t.reversed}var Kr={rect:\"rx,ry,x,y,width,height\",circle:\"r,cx,cy\",ellipse:\"rx,ry,cx,cy\",line:\"x1,x2,y1,y2\"};function Qr(t,e){var n,r,i,o,s,a,u,l,h,c,f,p,d,g,D,m,v,_,y,x,w,C,F=t.tagName.toLowerCase(),E=.552284749831;return\"path\"!==F&&t.getBBox?(a=function(t,e){var n,r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\"),i=[].slice.call(t.attributes),o=i.length;for(e=\",\"+e+\",\";--o>-1;)n=i[o].nodeName.toLowerCase(),e.indexOf(\",\"+n+\",\")<0&&r.setAttributeNS(null,n,i[o].nodeValue);return r}(t,\"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points\"),C=function(t,e){for(var n=e?e.split(\",\"):[],r={},i=n.length;--i>-1;)r[n[i]]=+t.getAttribute(n[i])||0;return r}(t,Kr[F]),\"rect\"===F?(o=C.rx,s=C.ry||o,r=C.x,i=C.y,c=C.width-2*o,f=C.height-2*s,n=o||s?\"M\"+(m=(g=(d=r+o)+c)+o)+\",\"+(_=i+s)+\" V\"+(y=_+f)+\" C\"+[m,x=y+s*E,D=g+o*E,w=y+s,g,w,g-(g-d)/3,w,d+(g-d)/3,w,d,w,p=r+o*(1-E),w,r,x,r,y,r,y-(y-_)/3,r,_+(y-_)/3,r,_,r,v=i+s*(1-E),p,i,d,i,d+(g-d)/3,i,g-(g-d)/3,i,g,i,D,i,m,v,m,_].join(\",\")+\"z\":\"M\"+(r+c)+\",\"+i+\" v\"+f+\" h\"+-c+\" v\"+-f+\" h\"+c+\"z\"):\"circle\"===F||\"ellipse\"===F?(\"circle\"===F?l=(o=s=C.r)*E:(o=C.rx,l=(s=C.ry)*E),n=\"M\"+((r=C.cx)+o)+\",\"+(i=C.cy)+\" C\"+[r+o,i+l,r+(u=o*E),i+s,r,i+s,r-u,i+s,r-o,i+l,r-o,i,r-o,i-l,r-u,i-s,r,i-s,r+u,i-s,r+o,i-l,r+o,i].join(\",\")+\"z\"):\"line\"===F?n=\"M\"+C.x1+\",\"+C.y1+\" L\"+C.x2+\",\"+C.y2:\"polyline\"!==F&&\"polygon\"!==F||(n=\"M\"+(r=(h=(t.getAttribute(\"points\")+\"\").match(br)||[]).shift())+\",\"+(i=h.shift())+\" L\"+h.join(\",\"),\"polygon\"===F&&(n+=\",\"+r+\",\"+i+\"z\")),a.setAttribute(\"d\",li(a._gsRawPath=si(n))),e&&t.parentNode&&(t.parentNode.insertBefore(a,t),t.parentNode.removeChild(t)),a):t}function Zr(t,e,n){var r,i=t[e],o=t[e+2],s=t[e+4];return i+=(o-i)*n,i+=((o+=(s-o)*n)-i)*n,r=o+(s+(t[e+6]-s)*n-o)*n-i,i=t[e+1],i+=((o=t[e+3])-i)*n,i+=((o+=((s=t[e+5])-o)*n)-i)*n,zr(Lr(o+(s+(t[e+7]-s)*n-o)*n-i,r)*Pr)}function $r(t,e,n){n=void 0===n?1:Hr(n)||0,e=Hr(e)||0;var r=Math.max(0,~~(kr(n-e)-1e-8)),i=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=jr(t[n],t[n].slice(0));return jr(t,e)}(t);if(e>n&&(e=1-e,n=1-n,function(t,e){var n=t.length;for(e||t.reverse();n--;)t[n].reversed||Gr(t[n])}(i),i.totalLength=0),e<0||n<0){var o=Math.abs(~~Math.min(e,n))+1;e+=o,n+=o}i.totalLength||ti(i);var s,a,u,l,h,c,f,p,d=n>1,g=ni(i,e,Xr,!0),D=ni(i,n,Yr),m=D.segment,v=g.segment,_=D.segIndex,y=g.segIndex,x=D.i,w=g.i,C=y===_,F=x===w&&C;if(d||r){for(s=_<y||C&&x<w||F&&D.t<g.t,Wr(i,y,w,g.t)&&(y++,s||(_++,F?(D.t=(D.t-g.t)/(1-g.t),x=0):C&&(x-=w))),Math.abs(1-(n-e))<1e-5?_=y-1:!D.t&&_?_--:Wr(i,_,x,D.t)&&s&&y++,1===g.t&&(y=(y+1)%i.length),h=[],f=1+(c=i.length)*r,p=y,f+=(c-y+_)%c,l=0;l<f;l++)Ur(h,i[p++%c]);i=h}else if(u=1===D.t?6:ei(m,x,D.t),e!==n)for(a=ei(v,w,F?g.t/D.t:g.t),C&&(u+=a),m.splice(x+u+2),(a||w)&&v.splice(0,w+a),l=i.length;l--;)(l<y||l>_)&&i.splice(l,1);else m.angle=Zr(m,x+u,0),g=m[x+=u],D=m[x+1],m.length=m.totalLength=0,m.totalPoints=i.totalPoints=8,m.push(g,D,g,D,g,D,g,D);return i.totalLength=0,i}function Jr(t,e,n){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var r,i,o,s,a,u,l,h,c,f,p,d,g,D,m,v,_,y=~~t.resolution||12,x=1/y,w=n?e+6*n+1:t.length,C=t[e],F=t[e+1],E=e?e/6*y:0,b=t.samples,T=t.lookup,M=(e?t.minLength:1e8)||1e8,A=b[E+n*y-1],P=e?b[E-1]:0;for(b.length=T.length=0,i=e+2;i<w;i+=6){if(o=t[i+4]-C,s=t[i+2]-C,a=t[i]-C,h=t[i+5]-F,c=t[i+3]-F,f=t[i+1]-F,u=l=p=d=0,kr(o)<.01&&kr(h)<.01&&kr(a)+kr(f)<.01)t.length>8&&(t.splice(i,6),i-=6,w-=6);else for(r=1;r<=y;r++)u=l-(l=((D=x*r)*D*o+3*(g=1-D)*(D*s+g*a))*D),p=d-(d=(D*D*h+3*g*(D*c+g*f))*D),(v=Br(p*p+u*u))<M&&(M=v),P+=v,b[E++]=P;C+=o,F+=h}if(A)for(A-=P;E<b.length;E++)b[E]+=A;if(b.length&&M){if(t.totalLength=_=b[b.length-1]||0,t.minLength=M,_/M<9999)for(v=m=0,r=0;r<_;r+=M)T[v++]=b[m]<r?++m:m}else t.totalLength=b[0]=0;return e?P-b[e/2-1]:P}function ti(t,e){var n,r,i;for(i=n=r=0;i<t.length;i++)t[i].resolution=~~e||12,r+=t[i].length,n+=Jr(t[i]);return t.totalPoints=r,t.totalLength=n,t}function ei(t,e,n){if(n<=0||n>=1)return 0;var r=t[e],i=t[e+1],o=t[e+2],s=t[e+3],a=t[e+4],u=t[e+5],l=r+(o-r)*n,h=o+(a-o)*n,c=i+(s-i)*n,f=s+(u-s)*n,p=l+(h-l)*n,d=c+(f-c)*n,g=a+(t[e+6]-a)*n,D=u+(t[e+7]-u)*n;return h+=(g-h)*n,f+=(D-f)*n,t.splice(e+2,4,zr(l),zr(c),zr(p),zr(d),zr(p+(h-p)*n),zr(d+(f-d)*n),zr(h),zr(f),zr(g),zr(D)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}function ni(t,e,n,r){n=n||{},t.totalLength||ti(t),(e<0||e>1)&&(e=Ir(e));var i,o,s,a,u,l,h,c=0,f=t[0];if(e)if(1===e)h=1,l=(f=t[c=t.length-1]).length-8;else{if(t.length>1){for(s=t.totalLength*e,u=l=0;(u+=t[l++].totalLength)<s;)c=l;e=(s-(a=u-(f=t[c]).totalLength))/(u-a)||0}i=f.samples,o=f.resolution,s=f.totalLength*e,a=(l=f.lookup.length?f.lookup[~~(s/f.minLength)]||0:Vr(i,s,e))?i[l-1]:0,(u=i[l])<s&&(a=u,u=i[++l]),h=1/o*((s-a)/(u-a)+l%o),l=6*~~(l/o),r&&1===h&&(l+6<f.length?(l+=6,h=0):c+1<t.length&&(l=h=0,f=t[++c]))}else h=l=c=0,f=t[0];return n.t=h,n.i=l,n.path=t,n.segment=f,n.segIndex=c,n}function ri(t,e,n,r){var i,o,s,a,u,l,h,c,f,p=t[0],d=r||{};if((e<0||e>1)&&(e=Ir(e)),t.length>1){for(s=t.totalLength*e,u=l=0;(u+=t[l++].totalLength)<s;)p=t[l];e=(s-(a=u-p.totalLength))/(u-a)||0}return i=p.samples,o=p.resolution,s=p.totalLength*e,a=(l=p.lookup.length?p.lookup[e<1?~~(s/p.minLength):p.lookup.length-1]||0:Vr(i,s,e))?i[l-1]:0,(u=i[l])<s&&(a=u,u=i[++l]),f=1-(h=1/o*((s-a)/(u-a)+l%o)||0),c=p[l=6*~~(l/o)],d.x=zr((h*h*(p[l+6]-c)+3*f*(h*(p[l+4]-c)+f*(p[l+2]-c)))*h+c),d.y=zr((h*h*(p[l+7]-(c=p[l+1]))+3*f*(h*(p[l+5]-c)+f*(p[l+3]-c)))*h+c),n&&(d.angle=p.totalLength?Zr(p,l,h>=1?1-1e-9:h||1e-9):p.angle||0),d}function ii(t,e,n,r,i,o,s){for(var a,u,l,h,c,f=t.length;--f>-1;)for(u=(a=t[f]).length,l=0;l<u;l+=2)h=a[l],c=a[l+1],a[l]=h*e+c*r+o,a[l+1]=h*n+c*i+s;return t._dirty=1,t}function oi(t,e,n,r,i,o,s,a,u){if(t!==a||e!==u){n=kr(n),r=kr(r);var l=i%360*Ar,h=Or(l),c=Sr(l),f=Math.PI,p=2*f,d=(t-a)/2,g=(e-u)/2,D=h*d+c*g,m=-c*d+h*g,v=D*D,_=m*m,y=v/(n*n)+_/(r*r);y>1&&(n=Br(y)*n,r=Br(y)*r);var x=n*n,w=r*r,C=(x*w-x*_-w*v)/(x*_+w*v);C<0&&(C=0);var F=(o===s?-1:1)*Br(C),E=F*(n*m/r),b=F*(-r*D/n),T=(t+a)/2+(h*E-c*b),M=(e+u)/2+(c*E+h*b),A=(D-E)/n,P=(m-b)/r,S=(-D-E)/n,O=(-m-b)/r,k=A*A+P*P,B=(P<0?-1:1)*Math.acos(A/Br(k)),L=(A*O-P*S<0?-1:1)*Math.acos((A*S+P*O)/Br(k*(S*S+O*O)));isNaN(L)&&(L=f),!s&&L>0?L-=p:s&&L<0&&(L+=p),B%=p,L%=p;var N,R=Math.ceil(kr(L)/(p/4)),X=[],Y=L/R,I=4/3*Sr(Y/2)/(1+Or(Y/2)),z=h*n,H=c*n,W=c*-r,V=h*r;for(N=0;N<R;N++)D=Or(i=B+N*Y),m=Sr(i),A=Or(i+=Y),P=Sr(i),X.push(D-I*m,m+I*D,A+I*P,P-I*A,A,P);for(N=0;N<X.length;N+=2)D=X[N],m=X[N+1],X[N]=D*z+m*W+T,X[N+1]=D*H+m*V+M;return X[N-2]=a,X[N-1]=u,X}}function si(t){var e,n,r,i,o,s,a,u,l,h,c,f,p,d,g,D=(t+\"\").replace(Tr,(function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e})).match(Er)||[],m=[],v=0,_=0,y=D.length,x=0,w=\"ERROR: malformed path: \"+t,C=function(t,e,n,r){h=(n-t)/3,c=(r-e)/3,a.push(t+h,e+c,n-h,r-c,n,r)};if(!t||!isNaN(D[0])||isNaN(D[1]))return console.log(w),m;for(e=0;e<y;e++)if(p=o,isNaN(D[e])?s=(o=D[e].toUpperCase())!==D[e]:e--,r=+D[e+1],i=+D[e+2],s&&(r+=v,i+=_),e||(u=r,l=i),\"M\"===o)a&&(a.length<8?m.length-=1:x+=a.length),v=u=r,_=l=i,a=[r,i],m.push(a),e+=2,o=\"L\";else if(\"C\"===o)a||(a=[0,0]),s||(v=_=0),a.push(r,i,v+1*D[e+3],_+1*D[e+4],v+=1*D[e+5],_+=1*D[e+6]),e+=6;else if(\"S\"===o)h=v,c=_,\"C\"!==p&&\"S\"!==p||(h+=v-a[a.length-4],c+=_-a[a.length-3]),s||(v=_=0),a.push(h,c,r,i,v+=1*D[e+3],_+=1*D[e+4]),e+=4;else if(\"Q\"===o)h=v+2/3*(r-v),c=_+2/3*(i-_),s||(v=_=0),v+=1*D[e+3],_+=1*D[e+4],a.push(h,c,v+2/3*(r-v),_+2/3*(i-_),v,_),e+=4;else if(\"T\"===o)h=v-a[a.length-4],c=_-a[a.length-3],a.push(v+h,_+c,r+2/3*(v+1.5*h-r),i+2/3*(_+1.5*c-i),v=r,_=i),e+=2;else if(\"H\"===o)C(v,_,v=r,_),e+=1;else if(\"V\"===o)C(v,_,v,_=r+(s?_-v:0)),e+=1;else if(\"L\"===o||\"Z\"===o)\"Z\"===o&&(r=u,i=l,a.closed=!0),(\"L\"===o||kr(v-r)>.5||kr(_-i)>.5)&&(C(v,_,r,i),\"L\"===o&&(e+=2)),v=r,_=i;else if(\"A\"===o){if(d=D[e+4],g=D[e+5],h=D[e+6],c=D[e+7],n=7,d.length>1&&(d.length<3?(c=h,h=g,n--):(c=g,h=d.substr(2),n-=2),g=d.charAt(1),d=d.charAt(0)),f=oi(v,_,+D[e+1],+D[e+2],+D[e+3],+d,+g,(s?v:0)+1*h,(s?_:0)+1*c),e+=n,f)for(n=0;n<f.length;n++)a.push(f[n]);v=a[a.length-2],_=a[a.length-1]}else console.log(w);return(e=a.length)<6?(m.pop(),e=0):a[0]===a[e-2]&&a[1]===a[e-1]&&(a.closed=!0),m.totalPoints=x+e,m}function ai(t,e){void 0===e&&(e=1);for(var n=t[0],r=0,i=[n,r],o=2;o<t.length;o+=2)i.push(n,r,t[o],r=(t[o]-n)*e/2,n=t[o],-r);return i}function ui(t,e,n){kr(t[0]-t[2])<1e-4&&kr(t[1]-t[3])<1e-4&&(t=t.slice(2));var r,i,o,s,a,u,l,h,c,f,p,d,g,D,m=t.length-2,v=+t[0],_=+t[1],y=+t[2],x=+t[3],w=[v,_,v,_],C=y-v,F=x-_,E=Math.abs(t[m]-v)<.001&&Math.abs(t[m+1]-_)<.001;for(isNaN(n)&&(n=Math.PI/10),E&&(t.push(y,x),y=v,x=_,v=t[m-2],_=t[m-1],t.unshift(v,_),m+=4),e=e||0===e?+e:1,a=2;a<m;a+=2)r=v,i=_,v=y,_=x,y=+t[a+2],x=+t[a+3],v===y&&_===x||(d=(u=C)*u+(h=F)*h,g=(C=y-v)*C+(F=x-_)*F,D=(l=y-r)*l+(c=x-i)*c,p=(o=Math.acos((d+g-D)/Br(4*d*g)))/Math.PI*e,f=Br(d)*p,p*=Br(g),v===r&&_===i||(o>n?(s=Lr(c,l),w.push(zr(v-Or(s)*f),zr(_-Sr(s)*f),zr(v),zr(_),zr(v+Or(s)*p),zr(_+Sr(s)*p))):(s=Lr(h,u),w.push(zr(v-Or(s)*f),zr(_-Sr(s)*f)),s=Lr(F,C),w.push(zr(v),zr(_),zr(v+Or(s)*p),zr(_+Sr(s)*p)))));return v!==y||_!==x||w.length<4?w.push(zr(y),zr(x),zr(y),zr(x)):w.length-=2,E&&(w.splice(0,6),w.length=w.length-6),w}function li(t){Rr(t[0])&&(t=[t]);var e,n,r,i,o=\"\",s=t.length;for(n=0;n<s;n++){for(i=t[n],o+=\"M\"+zr(i[0])+\",\"+zr(i[1])+\" C\",e=i.length,r=2;r<e;r++)o+=zr(i[r++])+\",\"+zr(i[r++])+\" \"+zr(i[r++])+\",\"+zr(i[r++])+\" \"+zr(i[r++])+\",\"+zr(i[r])+\" \";i.closed&&(o+=\"z\")}return o}\r\n    /*!\r\n     * CustomEase 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */var hi,ci,fi=function(){return hi||\"undefined\"!=typeof window&&(hi=window.gsap)&&hi.registerPlugin&&hi},pi=function(){(hi=fi())?(hi.registerEase(\"_CE\",vi.create),ci=1):console.warn(\"Please gsap.registerPlugin(CustomEase)\")},di=function(t){return~~(1e3*t+(t<0?-.5:.5))/1e3},gi=/[-+=\\.]*\\d+[\\.e\\-\\+]*\\d*[e\\-\\+]*\\d*/gi,Di=/[cLlsSaAhHvVtTqQ]/g,mi=function t(e,n,r,i,o,s,a,u,l,h,c){var f,p=(e+r)/2,d=(n+i)/2,g=(r+o)/2,D=(i+s)/2,m=(o+a)/2,v=(s+u)/2,_=(p+g)/2,y=(d+D)/2,x=(g+m)/2,w=(D+v)/2,C=(_+x)/2,F=(y+w)/2,E=a-e,b=u-n,T=Math.abs((r-a)*b-(i-u)*E),M=Math.abs((o-a)*b-(s-u)*E);return h||(h=[{x:e,y:n},{x:a,y:u}],c=1),h.splice(c||h.length-1,0,{x:C,y:F}),(T+M)*(T+M)>l*(E*E+b*b)&&(f=h.length,t(e,n,p,d,_,y,C,F,l,h,c),t(C,F,x,w,m,v,a,u,l,h,c+1+(h.length-f))),h},vi=function(){function t(t,e,n){ci||pi(),this.id=t,this.setData(e,n)}var e=t.prototype;return e.setData=function(t,e){e=e||{};var n,r,i,o,s,a,u,l,h,c=(t=t||\"0,0,1,1\").match(gi),f=1,p=[],d=[],g=e.precision||1,D=g<=1;if(this.data=t,(Di.test(t)||~t.indexOf(\"M\")&&t.indexOf(\"C\")<0)&&(c=si(t)[0]),4===(n=c.length))c.unshift(0,0),c.push(1,1),n=8;else if((n-2)%6)throw\"Invalid CustomEase\";for(0==+c[0]&&1==+c[n-2]||function(t,e,n){n||0===n||(n=Math.max(+t[t.length-1],+t[1]));var r,i=-1*+t[0],o=-n,s=t.length,a=1/(+t[s-2]+i),u=-e||(Math.abs(+t[s-1]-+t[1])<.01*(+t[s-2]-+t[0])?function(t){var e,n=t.length,r=1e20;for(e=1;e<n;e+=6)+t[e]<r&&(r=+t[e]);return r}(t)+o:+t[s-1]+o);for(u=u?1/u:-a,r=0;r<s;r+=2)t[r]=(+t[r]+i)*a,t[r+1]=(+t[r+1]+o)*u}(c,e.height,e.originY),this.segment=c,o=2;o<n;o+=6)r={x:+c[o-2],y:+c[o-1]},i={x:+c[o+4],y:+c[o+5]},p.push(r,i),mi(r.x,r.y,+c[o],+c[o+1],+c[o+2],+c[o+3],i.x,i.y,1/(2e5*g),p,p.length-1);for(n=p.length,o=0;o<n;o++)u=p[o],l=p[o-1]||u,(u.x>l.x||l.y!==u.y&&l.x===u.x||u===l)&&u.x<=1?(l.cx=u.x-l.x,l.cy=u.y-l.y,l.n=u,l.nx=u.x,D&&o>1&&Math.abs(l.cy/l.cx-p[o-2].cy/p[o-2].cx)>2&&(D=0),l.cx<f&&(l.cx?f=l.cx:(l.cx=.001,o===n-1&&(l.x-=.001,f=Math.min(f,.001),D=0)))):(p.splice(o--,1),n--);if(s=1/(n=1/f+1|0),a=0,u=p[0],D){for(o=0;o<n;o++)h=o*s,u.nx<h&&(u=p[++a]),r=u.y+(h-u.x)/u.cx*u.cy,d[o]={x:h,cx:s,y:r,cy:0,nx:9},o&&(d[o-1].cy=r-d[o-1].y);d[n-1].cy=p[p.length-1].y-r}else{for(o=0;o<n;o++)u.nx<o*s&&(u=p[++a]),d[o]=u;a<p.length-1&&(d[o-1]=p[p.length-2])}return this.ease=function(t){var e=d[t*n|0]||d[n-1];return e.nx<t&&(e=e.n),e.y+(t-e.x)/e.cx*e.cy},this.ease.custom=this,this.id&&hi&&hi.registerEase(this.id,this.ease),this},e.getSVGData=function(e){return t.getSVGData(this,e)},t.create=function(e,n,r){return new t(e,n,r).ease},t.register=function(t){hi=t,pi()},t.get=function(t){return hi.parseEase(t)},t.getSVGData=function(e,n){var r,i,o,s,a,u,l,h,c,f,p=(n=n||{}).width||100,d=n.height||100,g=n.x||0,D=(n.y||0)+d,m=hi.utils.toArray(n.path)[0];if(n.invert&&(d=-d,D=0),\"string\"==typeof e&&(e=hi.parseEase(e)),e.custom&&(e=e.custom),e instanceof t)r=li(ii([e.segment],p,0,0,-d,g,D));else{for(r=[g,D],s=1/(l=Math.max(5,200*(n.precision||1))),h=5/(l+=2),c=di(g+s*p),i=((f=di(D+e(s)*-d))-D)/(c-g),o=2;o<l;o++)a=di(g+o*s*p),u=di(D+e(o*s)*-d),(Math.abs((u-f)/(a-c)-i)>h||o===l-1)&&(r.push(c,f),i=(u-f)/(a-c)),c=a,f=u;r=\"M\"+r.join(\",\")}return m&&m.setAttribute(\"d\",r),r},t}();fi()&&hi.registerPlugin(vi),vi.version=\"3.9.1\";\r\n    /*!\r\n     * CustomWiggle 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var _i,yi,xi,wi=function(){return _i||\"undefined\"!=typeof window&&(_i=window.gsap)&&_i.registerPlugin&&_i},Ci={easeOut:\"M0,1,C0.7,1,0.6,0,1,0\",easeInOut:\"M0,0,C0.1,0,0.24,1,0.444,1,0.644,1,0.6,0,1,0\",anticipate:\"M0,0,C0,0.222,0.024,0.386,0,0.4,0.18,0.455,0.65,0.646,0.7,0.67,0.9,0.76,1,0.846,1,1\",uniform:\"M0,0,C0,0.95,0,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0\"},Fi=function(t){return t},Ei=function(t){if(!yi)if(_i=wi(),xi=_i&&_i.parseEase(\"_CE\")){for(var e in Ci)Ci[e]=xi(\"\",Ci[e]);yi=1,Ti(\"wiggle\").config=function(t){return\"object\"==typeof t?Ti(\"\",t):Ti(\"wiggle(\"+t+\")\",{wiggles:+t})}}else t&&console.warn(\"Please gsap.registerPlugin(CustomEase, CustomWiggle)\")},bi=function(t,e){return\"function\"!=typeof t&&(t=_i.parseEase(t)||xi(\"\",t)),t.custom||!e?t:function(e){return 1-t(e)}},Ti=function(t,e){yi||Ei(1);var n,r,i,o,s,a,u,l,h,c=0|((e=e||{}).wiggles||10),f=1/c,p=f/2,d=\"anticipate\"===e.type,g=Ci[e.type]||Ci.easeOut,D=Fi;if(d&&(D=g,g=Ci.easeOut),e.timingEase&&(D=bi(e.timingEase)),e.amplitudeEase&&(g=bi(e.amplitudeEase,!0)),l=[0,0,(a=D(p))/4,0,a/2,u=d?-g(p):g(p),a,u],\"random\"===e.type){for(l.length=4,n=D(f),r=2*Math.random()-1,h=2;h<c;h++)p=n,u=r,n=D(f*h),r=2*Math.random()-1,i=Math.atan2(r-l[l.length-3],n-l[l.length-4]),o=Math.cos(i)*f,s=Math.sin(i)*f,l.push(p-o,u-s,p,u,p+o,u+s);l.push(n,0,1,0)}else{for(h=1;h<c;h++)l.push(D(p+f/2),u),p+=f,u=(u>0?-1:1)*g(h*f),a=D(p),l.push(D(p-f/2),u,a,u);l.push(D(p+f/4),u,D(p+f/4),0,1,0)}for(h=l.length;--h>-1;)l[h]=~~(1e3*l[h])/1e3;return l[2]=\"C\"+l[2],xi(t,\"M\"+l.join(\",\"))},Mi=function(){function t(t,e){this.ease=Ti(t,e)}return t.create=function(t,e){return Ti(t,e)},t.register=function(t){_i=t,Ei()},t}();wi()&&_i.registerPlugin(Mi),Mi.version=\"3.9.1\";\r\n    /*!\r\n     * DrawSVGPlugin 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var Ai,Pi,Si,Oi,ki,Bi=function(){return\"undefined\"!=typeof window},Li=function(){return Ai||Bi()&&(Ai=window.gsap)&&Ai.registerPlugin&&Ai},Ni=/[-+=\\.]*\\d+[\\.e\\-\\+]*\\d*[e\\-\\+]*\\d*/gi,Ri={rect:[\"width\",\"height\"],circle:[\"r\",\"r\"],ellipse:[\"rx\",\"ry\"],line:[\"x2\",\"y2\"]},Xi=function(t){return Math.round(1e4*t)/1e4},Yi=function(t){return parseFloat(t)||0},Ii=function(t,e){var n=Yi(t);return~t.indexOf(\"%\")?n/100*e:n},zi=function(t,e){return Yi(t.getAttribute(e))},Hi=Math.sqrt,Wi=function(t,e,n,r,i,o){return Hi(Math.pow((Yi(n)-Yi(t))*i,2)+Math.pow((Yi(r)-Yi(e))*o,2))},Vi=function(t){return console.warn(t)},ji=function(t){return\"non-scaling-stroke\"===t.getAttribute(\"vector-effect\")},Ui=function(t){if(!(t=Pi(t)[0]))return 0;var e,n,r,i,o,s,a,u=t.tagName.toLowerCase(),l=t.style,h=1,c=1;ji(t)&&(c=t.getScreenCTM(),h=Hi(c.a*c.a+c.b*c.b),c=Hi(c.d*c.d+c.c*c.c));try{n=t.getBBox()}catch(t){Vi(\"Some browsers won't measure invisible elements (like display:none or masks inside defs).\")}var f=n||{x:0,y:0,width:0,height:0},p=f.x,d=f.y,g=f.width,D=f.height;if(n&&(g||D)||!Ri[u]||(g=zi(t,Ri[u][0]),D=zi(t,Ri[u][1]),\"rect\"!==u&&\"line\"!==u&&(g*=2,D*=2),\"line\"===u&&(p=zi(t,\"x1\"),d=zi(t,\"y1\"),g=Math.abs(g-p),D=Math.abs(D-d))),\"path\"===u)i=l.strokeDasharray,l.strokeDasharray=\"none\",e=t.getTotalLength()||0,h!==c&&Vi(\"Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled.\"),e*=(h+c)/2,l.strokeDasharray=i;else if(\"rect\"===u)e=2*g*h+2*D*c;else if(\"line\"===u)e=Wi(p,d,p+g,d+D,h,c);else if(\"polyline\"===u||\"polygon\"===u)for(r=t.getAttribute(\"points\").match(Ni)||[],\"polygon\"===u&&r.push(r[0],r[1]),e=0,o=2;o<r.length;o+=2)e+=Wi(r[o-2],r[o-1],r[o],r[o+1],h,c)||0;else\"circle\"!==u&&\"ellipse\"!==u||(s=g/2*h,a=D/2*c,e=Math.PI*(3*(s+a)-Hi((3*s+a)*(s+3*a))));return e||0},qi=function(t,e){if(!(t=Pi(t)[0]))return[0,0];e||(e=Ui(t)+1);var n=Si.getComputedStyle(t),r=n.strokeDasharray||\"\",i=Yi(n.strokeDashoffset),o=r.indexOf(\",\");return o<0&&(o=r.indexOf(\" \")),(r=o<0?e:Yi(r.substr(0,o)))>e&&(r=e),[-i||0,r-i||0]},Gi=function(){Bi()&&(document,Si=window,ki=Ai=Li(),Pi=Ai.utils.toArray,Oi=-1!==((Si.navigator||{}).userAgent||\"\").indexOf(\"Edge\"))},Ki={version:\"3.9.1\",name:\"drawSVG\",register:function(t){Ai=t,Gi()},init:function(t,e,n,r,i){if(!t.getBBox)return!1;ki||Gi();var o,s,a,u=Ui(t);return this._style=t.style,this._target=t,e+\"\"==\"true\"?e=\"0 100%\":e?-1===(e+\"\").indexOf(\" \")&&(e=\"0 \"+e):e=\"0 0\",s=function(t,e,n){var r,i,o=t.indexOf(\" \");return o<0?(r=void 0!==n?n+\"\":t,i=t):(r=t.substr(0,o),i=t.substr(o+1)),(r=Ii(r,e))>(i=Ii(i,e))?[i,r]:[r,i]}(e,u,(o=qi(t,u))[0]),this._length=Xi(u),this._dash=Xi(o[1]-o[0]),this._offset=Xi(-o[0]),this._dashPT=this.add(this,\"_dash\",this._dash,Xi(s[1]-s[0])),this._offsetPT=this.add(this,\"_offset\",this._offset,Xi(-s[0])),Oi&&(a=Si.getComputedStyle(t)).strokeLinecap!==a.strokeLinejoin&&(s=Yi(a.strokeMiterlimit),this.add(t.style,\"strokeMiterlimit\",s,s+.01)),this._live=ji(t)||~(e+\"\").indexOf(\"live\"),this._nowrap=~(e+\"\").indexOf(\"nowrap\"),this._props.push(\"drawSVG\"),1},render:function(t,e){var n,r,i,o,s=e._pt,a=e._style;if(s){for(e._live&&(n=Ui(e._target))!==e._length&&(r=n/e._length,e._length=n,e._offsetPT&&(e._offsetPT.s*=r,e._offsetPT.c*=r),e._dashPT?(e._dashPT.s*=r,e._dashPT.c*=r):e._dash*=r);s;)s.r(t,s.d),s=s._next;i=e._dash||t&&1!==t&&1e-4||0,n=e._length-i+.1,o=e._offset,i&&o&&i+Math.abs(o%e._length)>e._length-.2&&(o+=o<0?.1:-.1)&&(n+=.1),a.strokeDashoffset=i?o:o+.001,a.strokeDasharray=n<.2?\"none\":i?i+\"px,\"+(e._nowrap?999999:n)+\"px\":\"0px, 999999px\"}},getLength:Ui,getPosition:qi};Li()&&Ai.registerPlugin(Ki);\r\n    /*!\r\n     * matrix 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var Qi,Zi,$i,Ji,to,eo,no,ro,io,oo=\"transform\",so=oo+\"Origin\",ao=function(t){var e=t.ownerDocument||t;!(oo in t.style)&&\"msTransform\"in t.style&&(so=(oo=\"msTransform\")+\"Origin\");for(;e.parentNode&&(e=e.parentNode););if(Zi=window,no=new go,e){Qi=e,$i=e.documentElement,Ji=e.body,(ro=Qi.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")).style.transform=\"none\";var n=e.createElement(\"div\"),r=e.createElement(\"div\");Ji.appendChild(n),n.appendChild(r),n.style.position=\"static\",n.style[oo]=\"translate3d(0,0,1px)\",io=r.offsetParent!==n,Ji.removeChild(n)}return e},uo=[],lo=[],ho=function(t){return t.ownerSVGElement||(\"svg\"===(t.tagName+\"\").toLowerCase()?t:null)},co=function t(e,n){if(e.parentNode&&(Qi||ao(e))){var r=ho(e),i=r?r.getAttribute(\"xmlns\")||\"http://www.w3.org/2000/svg\":\"http://www.w3.org/1999/xhtml\",o=r?n?\"rect\":\"g\":\"div\",s=2!==n?0:100,a=3===n?100:0,u=\"position:absolute;display:block;pointer-events:none;margin:0;padding:0;\",l=Qi.createElementNS?Qi.createElementNS(i.replace(/^https/,\"http\"),o):Qi.createElement(o);return n&&(r?(eo||(eo=t(e)),l.setAttribute(\"width\",.01),l.setAttribute(\"height\",.01),l.setAttribute(\"transform\",\"translate(\"+s+\",\"+a+\")\"),eo.appendChild(l)):(to||((to=t(e)).style.cssText=u),l.style.cssText=u+\"width:0.1px;height:0.1px;top:\"+a+\"px;left:\"+s+\"px\",to.appendChild(l))),l}throw\"Need document and parent.\"},fo=function(t,e){var n,r,i,o,s,a,u=ho(t),l=t===u,h=u?uo:lo,c=t.parentNode;if(t===Zi)return t;if(h.length||h.push(co(t,1),co(t,2),co(t,3)),n=u?eo:to,u)l?(o=-(i=function(t){var e,n=t.getCTM();return n||(e=t.style[oo],t.style[oo]=\"none\",t.appendChild(ro),n=ro.getCTM(),t.removeChild(ro),e?t.style[oo]=e:t.style.removeProperty(oo.replace(/([A-Z])/g,\"-$1\").toLowerCase())),n||no.clone()}(t)).e/i.a,s=-i.f/i.d,r=no):(i=t.getBBox(),o=(r=(r=t.transform?t.transform.baseVal:{}).numberOfItems?r.numberOfItems>1?function(t){for(var e=new go,n=0;n<t.numberOfItems;n++)e.multiply(t.getItem(n).matrix);return e}(r):r.getItem(0).matrix:no).a*i.x+r.c*i.y,s=r.b*i.x+r.d*i.y),e&&\"g\"===t.tagName.toLowerCase()&&(o=s=0),(l?u:c).appendChild(n),n.setAttribute(\"transform\",\"matrix(\"+r.a+\",\"+r.b+\",\"+r.c+\",\"+r.d+\",\"+(r.e+o)+\",\"+(r.f+s)+\")\");else{if(o=s=0,io)for(r=t.offsetParent,i=t;i&&(i=i.parentNode)&&i!==r&&i.parentNode;)(Zi.getComputedStyle(i)[oo]+\"\").length>4&&(o=i.offsetLeft,s=i.offsetTop,i=0);if(\"absolute\"!==(a=Zi.getComputedStyle(t)).position&&\"fixed\"!==a.position)for(r=t.offsetParent;c&&c!==r;)o+=c.scrollLeft||0,s+=c.scrollTop||0,c=c.parentNode;(i=n.style).top=t.offsetTop-s+\"px\",i.left=t.offsetLeft-o+\"px\",i[oo]=a[oo],i[so]=a[so],i.position=\"fixed\"===a.position?\"fixed\":\"absolute\",t.parentNode.appendChild(n)}return n},po=function(t,e,n,r,i,o,s){return t.a=e,t.b=n,t.c=r,t.d=i,t.e=o,t.f=s,t},go=function(){function t(t,e,n,r,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),po(this,t,e,n,r,i,o)}var e=t.prototype;return e.inverse=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,o=this.f,s=t*r-e*n||1e-10;return po(this,r/s,-e/s,-n/s,t/s,(n*o-r*i)/s,-(t*o-e*i)/s)},e.multiply=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f,a=t.a,u=t.c,l=t.b,h=t.d,c=t.e,f=t.f;return po(this,a*e+l*r,a*n+l*i,u*e+h*r,u*n+h*i,o+c*e+f*r,s+c*n+f*i)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f;return e===t.a&&n===t.b&&r===t.c&&i===t.d&&o===t.e&&s===t.f},e.apply=function(t,e){void 0===e&&(e={});var n=t.x,r=t.y,i=this.a,o=this.b,s=this.c,a=this.d,u=this.e,l=this.f;return e.x=n*i+r*s+u||0,e.y=n*o+r*a+l||0,e},t}();function Do(t,e,n,r){if(!t||!t.parentNode||(Qi||ao(t)).documentElement===t)return new go;var i=function(t){for(var e,n;t&&t!==Ji;)(n=t._gsap)&&n.uncache&&n.get(t,\"x\"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),e?e.push(n):e=[n]),t=t.parentNode;return e}(t),o=ho(t)?uo:lo,s=fo(t,n),a=o[0].getBoundingClientRect(),u=o[1].getBoundingClientRect(),l=o[2].getBoundingClientRect(),h=s.parentNode,c=!r&&function t(e){return\"fixed\"===Zi.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?t(e):void 0)}(t),f=new go((u.left-a.left)/100,(u.top-a.top)/100,(l.left-a.left)/100,(l.top-a.top)/100,a.left+(c?0:Zi.pageXOffset||Qi.scrollLeft||$i.scrollLeft||Ji.scrollLeft||0),a.top+(c?0:Zi.pageYOffset||Qi.scrollTop||$i.scrollTop||Ji.scrollTop||0));if(h.removeChild(s),i)for(a=i.length;a--;)(u=i[a]).scaleX=u.scaleY=0,u.renderTransform(1,u);return e?f.inverse():f}\r\n    /*!\r\n     * MotionPathPlugin 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */var mo,vo,_o,yo,xo=\"x,translateX,left,marginLeft,xPercent\".split(\",\"),wo=\"y,translateY,top,marginTop,yPercent\".split(\",\"),Co=Math.PI/180,Fo=function(t,e,n,r){for(var i=e.length,o=2===r?0:r,s=0;s<i;s++)t[o]=parseFloat(e[s][n]),2===r&&(t[o+1]=0),o+=2;return t},Eo=function(t,e,n){return parseFloat(t._gsap.get(t,e,n||\"px\"))||0},bo=function(t){var e,n=t[0],r=t[1];for(e=2;e<t.length;e+=2)n=t[e]+=n,r=t[e+1]+=r},To=function(t,e,n,r,i,o,s,a,u){\"cubic\"===s.type?e=[e]:(!1!==s.fromCurrent&&e.unshift(Eo(n,r,a),i?Eo(n,i,u):0),s.relative&&bo(e),e=[(i?ui:ai)(e,s.curviness)]);return e=o(Oo(e,n,s)),ko(t,n,r,e,\"x\",a),i&&ko(t,n,i,e,\"y\",u),ti(e,s.resolution||(0===s.curviness?20:12))},Mo=function(t){return t},Ao=/[-+\\.]*\\d+\\.?(?:e-|e\\+)?\\d*/g,Po=function(t,e,n){var r,i=Do(t),o=0,s=0;return\"svg\"===(t.tagName+\"\").toLowerCase()?(r=t.viewBox.baseVal).width||(r={width:+t.getAttribute(\"width\"),height:+t.getAttribute(\"height\")}):r=e&&t.getBBox&&t.getBBox(),e&&\"auto\"!==e&&(o=e.push?e[0]*(r?r.width:t.offsetWidth||0):e.x,s=e.push?e[1]*(r?r.height:t.offsetHeight||0):e.y),n.apply(o||s?i.apply({x:o,y:s}):{x:i.e,y:i.f})},So=function(t,e,n,r){var i,o=Do(t.parentNode,!0,!0),s=o.clone().multiply(Do(e)),a=Po(t,n,o),u=Po(e,r,o),l=u.x,h=u.y;return s.e=s.f=0,\"auto\"===r&&e.getTotalLength&&\"path\"===e.tagName.toLowerCase()&&(i=e.getAttribute(\"d\").match(Ao)||[],l+=(i=s.apply({x:+i[0],y:+i[1]})).x,h+=i.y),(i||e.getBBox&&t.getBBox&&e.ownerSVGElement===t.ownerSVGElement)&&(l-=(i=s.apply(e.getBBox())).x,h-=i.y),s.e=l-a.x,s.f=h-a.y,s},Oo=function(t,e,n){var r,i,o,s=n.align,a=n.matrix,u=n.offsetX,l=n.offsetY,h=n.alignOrigin,c=t[0][0],f=t[0][1],p=Eo(e,\"x\"),d=Eo(e,\"y\");return t&&t.length?(s&&(\"self\"===s||(r=yo(s)[0]||e)===e?ii(t,1,0,0,1,p-c,d-f):(h&&!1!==h[2]?mo.set(e,{transformOrigin:100*h[0]+\"% \"+100*h[1]+\"%\"}):h=[Eo(e,\"xPercent\")/-100,Eo(e,\"yPercent\")/-100],o=(i=So(e,r,h,\"auto\")).apply({x:c,y:f}),ii(t,i.a,i.b,i.c,i.d,p+i.e-(o.x-i.e),d+i.f-(o.y-i.f)))),a?ii(t,a.a,a.b,a.c,a.d,a.e,a.f):(u||l)&&ii(t,1,0,0,1,u||0,l||0),t):qr(\"M0,0L0,0\")},ko=function(t,e,n,r,i,o){var s=e._gsap,a=s.harness,u=a&&a.aliases&&a.aliases[n],l=u&&u.indexOf(\",\")<0?u:n,h=t._pt=new vo(t._pt,e,l,0,0,Mo,0,s.set(e,l,t));h.u=_o(s.get(e,l,o))||0,h.path=r,h.pp=i,t._props.push(l)},Bo={version:\"3.9.1\",name:\"motionPath\",register:function(t,e,n){_o=(mo=t).utils.getUnit,yo=mo.utils.toArray,vo=n},init:function(t,e){if(!mo)return console.warn(\"Please gsap.registerPlugin(MotionPathPlugin)\"),!1;\"object\"==typeof e&&!e.style&&e.path||(e={path:e});var n,r,i,o,s=[],a=e,u=a.path,l=a.autoRotate,h=a.unitX,c=a.unitY,f=a.x,p=a.y,d=u[0],g=(i=e.start,o=\"end\"in e?e.end:1,function(t){return i||1!==o?$r(t,i,o):t});if(this.rawPaths=s,this.target=t,(this.rotate=l||0===l)&&(this.rOffset=parseFloat(l)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||\"rotation\",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=_o(t._gsap.get(t,this.rProp))||0),Array.isArray(u)&&!(\"closed\"in u)&&\"number\"!=typeof d){for(r in d)!f&&~xo.indexOf(r)?f=r:!p&&~wo.indexOf(r)&&(p=r);for(r in f&&p?s.push(To(this,Fo(Fo([],u,f,0),u,p,1),t,f,p,g,e,h||_o(u[0][f]),c||_o(u[0][p]))):f=p=0,d)r!==f&&r!==p&&s.push(To(this,Fo([],u,r,2),t,r,0,g,e,_o(u[0][r])))}else ti(n=g(Oo(qr(e.path),t,e)),e.resolution),s.push(n),ko(this,t,e.x||\"x\",n,\"x\",e.unitX||\"px\"),ko(this,t,e.y||\"y\",n,\"y\",e.unitY||\"px\")},render:function(t,e){var n=e.rawPaths,r=n.length,i=e._pt;for(t>1?t=1:t<0&&(t=0);r--;)ri(n[r],t,!r&&e.rotate,n[r]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,t),i=i._next;e.rotate&&e.rSet(e.target,e.rProp,n[0].angle*(e.radians?Co:1)+e.rOffset+e.ru,e,t)},getLength:function(t){return ti(qr(t)).totalLength},sliceRawPath:$r,getRawPath:qr,pointsToSegment:ui,stringToRawPath:si,rawPathToString:li,transformRawPath:ii,getGlobalMatrix:Do,getPositionOnPath:ri,cacheRawPathMeasurements:ti,convertToPath:function(t,e){return yo(t).map((function(t){return Qr(t,!1!==e)}))},convertCoordinates:function(t,e,n){var r=Do(e,!0,!0).multiply(Do(t));return n?r.apply(n):r},getAlignMatrix:So,getRelativePosition:function(t,e,n,r){var i=So(t,e,n,r);return{x:i.e,y:i.f}},arrayToRawPath:function(t,e){var n=Fo(Fo([],t,(e=e||{}).x||\"x\",0),t,e.y||\"y\",1);return e.relative&&bo(n),[\"cubic\"===e.type?n:ui(n,e.curviness)]}};(mo||\"undefined\"!=typeof window&&(mo=window.gsap)&&mo.registerPlugin&&mo)&&mo.registerPlugin(Bo);\r\n    /*!\r\n     * ScrollToPlugin 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var Lo,No,Ro,Xo,Yo,Io,zo,Ho=function(){return\"undefined\"!=typeof window},Wo=function(){return Lo||Ho()&&(Lo=window.gsap)&&Lo.registerPlugin&&Lo},Vo=function(t){return\"string\"==typeof t},jo=function(t){return\"function\"==typeof t},Uo=function(t,e){var n=\"x\"===e?\"Width\":\"Height\",r=\"scroll\"+n,i=\"client\"+n;return t===Ro||t===Xo||t===Yo?Math.max(Xo[r],Yo[r])-(Ro[\"inner\"+n]||Xo[i]||Yo[i]):t[r]-t[\"offset\"+n]},qo=function(t,e){var n=\"scroll\"+(\"x\"===e?\"Left\":\"Top\");return t===Ro&&(null!=t.pageXOffset?n=\"page\"+e.toUpperCase()+\"Offset\":t=null!=Xo[n]?Xo:Yo),function(){return t[n]}},Go=function(t,e){if(!(t=Io(t)[0])||!t.getBoundingClientRect)return console.warn(\"scrollTo target doesn't exist. Using 0\")||{x:0,y:0};var n=t.getBoundingClientRect(),r=!e||e===Ro||e===Yo,i=r?{top:Xo.clientTop-(Ro.pageYOffset||Xo.scrollTop||Yo.scrollTop||0),left:Xo.clientLeft-(Ro.pageXOffset||Xo.scrollLeft||Yo.scrollLeft||0)}:e.getBoundingClientRect(),o={x:n.left-i.left,y:n.top-i.top};return!r&&e&&(o.x+=qo(e,\"x\")(),o.y+=qo(e,\"y\")()),o},Ko=function(t,e,n,r,i){return isNaN(t)||\"object\"==typeof t?Vo(t)&&\"=\"===t.charAt(1)?parseFloat(t.substr(2))*(\"-\"===t.charAt(0)?-1:1)+r-i:\"max\"===t?Uo(e,n)-i:Math.min(Uo(e,n),Go(t,e)[n]-i):parseFloat(t)-i},Qo=function(){Lo=Wo(),Ho()&&Lo&&document.body&&(Ro=window,Yo=document.body,Xo=document.documentElement,Io=Lo.utils.toArray,Lo.config({autoKillThreshold:7}),zo=Lo.config(),No=1)},Zo={version:\"3.9.1\",name:\"scrollTo\",rawVars:1,register:function(t){Lo=t,Qo()},init:function(t,e,n,r,i){No||Qo();var o=Lo.getProperty(t,\"scrollSnapType\");this.isWin=t===Ro,this.target=t,this.tween=n,e=function(t,e,n,r){if(jo(t)&&(t=t(e,n,r)),\"object\"!=typeof t)return Vo(t)&&\"max\"!==t&&\"=\"!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var i,o={};for(i in t)o[i]=\"onAutoKill\"!==i&&jo(t[i])?t[i](e,n,r):t[i];return o}(e,r,t,i),this.vars=e,this.autoKill=!!e.autoKill,this.getX=qo(t,\"x\"),this.getY=qo(t,\"y\"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),o&&\"none\"!==o&&(this.snap=1,this.snapInline=t.style.scrollSnapType,t.style.scrollSnapType=\"none\"),null!=e.x?(this.add(this,\"x\",this.x,Ko(e.x,t,\"x\",this.x,e.offsetX||0),r,i),this._props.push(\"scrollTo_x\")):this.skipX=1,null!=e.y?(this.add(this,\"y\",this.y,Ko(e.y,t,\"y\",this.y,e.offsetY||0),r,i),this._props.push(\"scrollTo_y\")):this.skipY=1},render:function(t,e){for(var n,r,i,o,s,a=e._pt,u=e.target,l=e.tween,h=e.autoKill,c=e.xPrev,f=e.yPrev,p=e.isWin,d=e.snap,g=e.snapInline;a;)a.r(t,a.d),a=a._next;n=p||!e.skipX?e.getX():c,i=(r=p||!e.skipY?e.getY():f)-f,o=n-c,s=zo.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),h&&(!e.skipX&&(o>s||o<-s)&&n<Uo(u,\"x\")&&(e.skipX=1),!e.skipY&&(i>s||i<-s)&&r<Uo(u,\"y\")&&(e.skipY=1),e.skipX&&e.skipY&&(l.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(l,e.vars.onAutoKillParams||[]))),p?Ro.scrollTo(e.skipX?n:e.x,e.skipY?r:e.y):(e.skipY||(u.scrollTop=e.y),e.skipX||(u.scrollLeft=e.x)),!d||1!==t&&0!==t||(r=u.scrollTop,n=u.scrollLeft,g?u.style.scrollSnapType=g:u.style.removeProperty(\"scroll-snap-type\"),u.scrollTop=r+1,u.scrollLeft=n+1,u.scrollTop=r,u.scrollLeft=n),e.xPrev=e.x,e.yPrev=e.y},kill:function(t){var e=\"scrollTo\"===t;(e||\"scrollTo_x\"===t)&&(this.skipX=1),(e||\"scrollTo_y\"===t)&&(this.skipY=1)}};Zo.max=Uo,Zo.getOffset=Go,Zo.buildGetter=qo,Wo()&&Lo.registerPlugin(Zo);\r\n    /*!\r\n     * Draggable 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n     */\r\n    var $o,Jo,ts,es,ns,rs,is,os,ss,as,us,ls,hs,cs,fs,ps,ds,gs,Ds,ms,vs,_s=function(){return\"undefined\"!=typeof window},ys=function(){return $o||_s()&&($o=window.gsap)&&$o.registerPlugin&&$o},xs=function(t){return\"function\"==typeof t},ws=function(t){return\"object\"==typeof t},Cs=function(t){return void 0===t},Fs=function(){return!1},Es=\"transform\",bs=\"transformOrigin\",Ts=function(t){return Math.round(1e4*t)/1e4},Ms=Array.isArray,As=function(t,e){var n=ts.createElementNS?ts.createElementNS((e||\"http://www.w3.org/1999/xhtml\").replace(/^https/,\"http\"),t):ts.createElement(t);return n.style?n:ts.createElement(t)},Ps=180/Math.PI,Ss=new go,Os=Date.now||function(){return(new Date).getTime()},ks=[],Bs={},Ls=0,Ns=/^(?:a|input|textarea|button|select)$/i,Rs=0,Xs={},Ys={},Is=function(t,e){var n,r={};for(n in t)r[n]=e?t[n]*e:t[n];return r},zs=function t(e,n){for(var r,i=e.length;i--;)n?e[i].style.touchAction=n:e[i].style.removeProperty(\"touch-action\"),(r=e[i].children)&&r.length&&t(r,n)},Hs=function(){return ks.forEach((function(t){return t()}))},Ws=function(){return!ks.length&&$o.ticker.remove(Hs)},Vs=function(t){for(var e=ks.length;e--;)ks[e]===t&&ks.splice(e,1);$o.to(Ws,{overwrite:!0,delay:15,duration:0,onComplete:Ws,data:\"_draggable\"})},js=function(t,e,n,r){if(t.addEventListener){var i=hs[e];r=r||(us?{passive:!1}:null),t.addEventListener(i||e,n,r),i&&e!==i&&t.addEventListener(e,n,r)}},Us=function(t,e,n){if(t.removeEventListener){var r=hs[e];t.removeEventListener(r||e,n),r&&e!==r&&t.removeEventListener(e,n)}},qs=function(t){t.preventDefault&&t.preventDefault(),t.preventManipulation&&t.preventManipulation()},Gs=function t(e){fs=e.touches&&cs<e.touches.length,Us(e.target,\"touchend\",t)},Ks=function(t){fs=t.touches&&cs<t.touches.length,js(t.target,\"touchend\",Gs)},Qs=function(t){return Jo.pageYOffset||t.scrollTop||t.documentElement.scrollTop||t.body.scrollTop||0},Zs=function(t){return Jo.pageXOffset||t.scrollLeft||t.documentElement.scrollLeft||t.body.scrollLeft||0},$s=function t(e,n){js(e,\"scroll\",n),ta(e.parentNode)||t(e.parentNode,n)},Js=function t(e,n){Us(e,\"scroll\",n),ta(e.parentNode)||t(e.parentNode,n)},ta=function(t){return!(t&&t!==es&&9!==t.nodeType&&t!==ts.body&&t!==Jo&&t.nodeType&&t.parentNode)},ea=function(t,e){var n=\"x\"===e?\"Width\":\"Height\",r=\"scroll\"+n,i=\"client\"+n;return Math.max(0,ta(t)?Math.max(es[r],ns[r])-(Jo[\"inner\"+n]||es[i]||ns[i]):t[r]-t[i])},na=function t(e,n){var r=ea(e,\"x\"),i=ea(e,\"y\");ta(e)?e=Ys:t(e.parentNode,n),e._gsMaxScrollX=r,e._gsMaxScrollY=i,n||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},ra=function(t,e,n){var r=t.style;r&&(Cs(r[e])&&(e=ss(e,t)||e),null==n?r.removeProperty&&r.removeProperty(e.replace(/([A-Z])/g,\"-$1\").toLowerCase()):r[e]=n)},ia=function(t){return Jo.getComputedStyle(t instanceof Element?t:t.host||(t.parentNode||{}).host||t)},oa={},sa=function(t){if(t===Jo)return oa.left=oa.top=0,oa.width=oa.right=es.clientWidth||t.innerWidth||ns.clientWidth||0,oa.height=oa.bottom=(t.innerHeight||0)-20<es.clientHeight?es.clientHeight:t.innerHeight||ns.clientHeight||0,oa;var e=t.ownerDocument||ts,n=Cs(t.pageX)?t.nodeType||Cs(t.left)||Cs(t.top)?as(t)[0].getBoundingClientRect():t:{left:t.pageX-Zs(e),top:t.pageY-Qs(e),right:t.pageX-Zs(e)+1,bottom:t.pageY-Qs(e)+1};return Cs(n.right)&&!Cs(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):Cs(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},aa=function(t,e,n){var r,i=t.vars,o=i[n],s=t._listeners[e];return xs(o)&&(r=o.apply(i.callbackScope||t,i[n+\"Params\"]||[t.pointerEvent])),s&&!1===t.dispatchEvent(e)&&(r=!1),r},ua=function(t,e){var n,r,i,o=as(t)[0];return o.nodeType||o===Jo?ha(o,e):Cs(t.left)?{left:r=t.min||t.minX||t.minRotation||0,top:n=t.min||t.minY||0,width:(t.max||t.maxX||t.maxRotation||0)-r,height:(t.max||t.maxY||0)-n}:(i={x:0,y:0},{left:t.left-i.x,top:t.top-i.y,width:t.width,height:t.height})},la={},ha=function(t,e){e=as(e)[0];var n,r,i,o,s,a,u,l,h,c,f,p,d,g,D=t.getBBox&&t.ownerSVGElement,m=t.ownerDocument||ts;if(t===Jo)i=Qs(m),r=(n=Zs(m))+(m.documentElement.clientWidth||t.innerWidth||m.body.clientWidth||0),o=i+((t.innerHeight||0)-20<m.documentElement.clientHeight?m.documentElement.clientHeight:t.innerHeight||m.body.clientHeight||0);else{if(e===Jo||Cs(e))return t.getBoundingClientRect();n=i=0,D?(f=(c=t.getBBox()).width,p=c.height):(t.viewBox&&(c=t.viewBox.baseVal)&&(n=c.x||0,i=c.y||0,f=c.width,p=c.height),f||(c=\"border-box\"===(d=ia(t)).boxSizing,f=(parseFloat(d.width)||t.clientWidth||0)+(c?0:parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth)),p=(parseFloat(d.height)||t.clientHeight||0)+(c?0:parseFloat(d.borderTopWidth)+parseFloat(d.borderBottomWidth)))),r=f,o=p}return t===e?{left:n,top:i,width:r-n,height:o-i}:(a=(s=Do(e,!0).multiply(Do(t))).apply({x:n,y:i}),u=s.apply({x:r,y:i}),l=s.apply({x:r,y:o}),h=s.apply({x:n,y:o}),n=Math.min(a.x,u.x,l.x,h.x),i=Math.min(a.y,u.y,l.y,h.y),{left:n+((g=e.parentNode||{}).scrollLeft||0),top:i+(g.scrollTop||0),width:Math.max(a.x,u.x,l.x,h.x)-n,height:Math.max(a.y,u.y,l.y,h.y)-i})},ca=function(t,e,n,r,i,o){var s,a,u,l={};if(e)if(1!==i&&e instanceof Array){if(l.end=s=[],u=e.length,ws(e[0]))for(a=0;a<u;a++)s[a]=Is(e[a],i);else for(a=0;a<u;a++)s[a]=e[a]*i;n+=1.1,r-=1.1}else xs(e)?l.end=function(n){var r,o,s=e.call(t,n);if(1!==i)if(ws(s)){for(o in r={},s)r[o]=s[o]*i;s=r}else s*=i;return s}:l.end=e;return(n||0===n)&&(l.max=n),(r||0===r)&&(l.min=r),o&&(l.velocity=0),l},fa=function t(e){var n;return!(!e||!e.getAttribute||e===ns)&&(!(\"true\"!==(n=e.getAttribute(\"data-clickable\"))&&(\"false\"===n||!e.onclick&&!Ns.test(e.nodeName+\"\")&&\"true\"!==e.getAttribute(\"contentEditable\")))||t(e.parentNode))},pa=function(t,e){for(var n,r=t.length;r--;)(n=t[r]).ondragstart=n.onselectstart=e?null:Fs,$o.set(n,{lazy:!0,userSelect:e?\"text\":\"none\"})},da=function(t,e){t=$o.utils.toArray(t)[0],e=e||{};var n,r,i,o,s,a,u=document.createElement(\"div\"),l=u.style,h=t.firstChild,c=0,f=0,p=t.scrollTop,d=t.scrollLeft,g=t.scrollWidth,D=t.scrollHeight,m=0,v=0,_=0;ms&&!1!==e.force3D?(s=\"translate3d(\",a=\"px,0px)\"):Es&&(s=\"translate(\",a=\"px)\"),this.scrollTop=function(t,e){if(!arguments.length)return-this.top();this.top(-t,e)},this.scrollLeft=function(t,e){if(!arguments.length)return-this.left();this.left(-t,e)},this.left=function(n,r){if(!arguments.length)return-(t.scrollLeft+f);var i=t.scrollLeft-d,o=f;if((i>2||i<-2)&&!r)return d=t.scrollLeft,$o.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-d),void(e.onKill&&e.onKill());(n=-n)<0?(f=n-.5|0,n=0):n>v?(f=n-v|0,n=v):f=0,(f||o)&&(this._skip||(l[Es]=s+-f+\"px,\"+-c+a),f+m>=0&&(l.paddingRight=f+m+\"px\")),t.scrollLeft=0|n,d=t.scrollLeft},this.top=function(n,r){if(!arguments.length)return-(t.scrollTop+c);var i=t.scrollTop-p,o=c;if((i>2||i<-2)&&!r)return p=t.scrollTop,$o.killTweensOf(this,{top:1,scrollTop:1}),this.top(-p),void(e.onKill&&e.onKill());(n=-n)<0?(c=n-.5|0,n=0):n>_?(c=n-_|0,n=_):c=0,(c||o)&&(this._skip||(l[Es]=s+-f+\"px,\"+-c+a)),t.scrollTop=0|n,p=t.scrollTop},this.maxScrollTop=function(){return _},this.maxScrollLeft=function(){return v},this.disable=function(){for(h=u.firstChild;h;)o=h.nextSibling,t.appendChild(h),h=o;t===u.parentNode&&t.removeChild(u)},this.enable=function(){if((h=t.firstChild)!==u){for(;h;)o=h.nextSibling,u.appendChild(h),h=o;t.appendChild(u),this.calibrate()}},this.calibrate=function(e){var o,s,a,h=t.clientWidth===n;p=t.scrollTop,d=t.scrollLeft,h&&t.clientHeight===r&&u.offsetHeight===i&&g===t.scrollWidth&&D===t.scrollHeight&&!e||((c||f)&&(s=this.left(),a=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),o=ia(t),h&&!e||(l.display=\"block\",l.width=\"auto\",l.paddingRight=\"0px\",(m=Math.max(0,t.scrollWidth-t.clientWidth))&&(m+=parseFloat(o.paddingLeft)+(vs?parseFloat(o.paddingRight):0))),l.display=\"inline-block\",l.position=\"relative\",l.overflow=\"visible\",l.verticalAlign=\"top\",l.boxSizing=\"content-box\",l.width=\"100%\",l.paddingRight=m+\"px\",vs&&(l.paddingBottom=o.paddingBottom),n=t.clientWidth,r=t.clientHeight,g=t.scrollWidth,D=t.scrollHeight,v=t.scrollWidth-n,_=t.scrollHeight-r,i=u.offsetHeight,l.display=\"block\",(s||a)&&(this.left(s),this.top(a)))},this.content=u,this.element=t,this._skip=!1,this.enable()},ga=function(t){if(_s()&&document.body){var e=window&&window.navigator;Jo=window,ts=document,es=ts.documentElement,ns=ts.body,rs=As(\"div\"),Ds=!!window.PointerEvent,(is=As(\"div\")).style.cssText=\"visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab\",gs=\"grab\"===is.style.cursor?\"grab\":\"move\",ps=e&&-1!==e.userAgent.toLowerCase().indexOf(\"android\"),ls=\"ontouchstart\"in es&&\"orientation\"in Jo||e&&(e.MaxTouchPoints>0||e.msMaxTouchPoints>0),r=As(\"div\"),i=As(\"div\"),o=i.style,s=ns,o.display=\"inline-block\",o.position=\"relative\",r.style.cssText=i.innerHTML=\"width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden\",r.appendChild(i),s.appendChild(r),n=i.offsetHeight+18>r.scrollHeight,s.removeChild(r),vs=n,hs=function(t){for(var e=t.split(\",\"),n=((\"onpointerdown\"in rs?\"pointerdown,pointermove,pointerup,pointercancel\":\"onmspointerdown\"in rs?\"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel\":t).split(\",\")),r={},i=4;--i>-1;)r[e[i]]=n[i],r[n[i]]=e[i];try{es.addEventListener(\"test\",null,Object.defineProperty({},\"passive\",{get:function(){us=1}}))}catch(t){}return r}(\"touchstart,touchmove,touchend,touchcancel\"),js(ts,\"touchcancel\",Fs),js(Jo,\"touchmove\",Fs),ns&&ns.addEventListener(\"touchstart\",Fs),js(ts,\"contextmenu\",(function(){for(var t in Bs)Bs[t].isPressed&&Bs[t].endDrag()})),$o=os=ys()}var n,r,i,o,s;$o?(ds=$o.plugins.inertia,ss=$o.utils.checkPrefix,Es=ss(Es),bs=ss(bs),as=$o.utils.toArray,ms=!!ss(\"perspective\")):t&&console.warn(\"Please gsap.registerPlugin(Draggable)\")},Da=function(t){var e,n;function r(e,n){var i;i=t.call(this)||this,os||ga(1),e=as(e)[0],ds||(ds=$o.plugins.inertia),i.vars=n=Is(n||{}),i.target=e,i.x=i.y=i.rotation=0,i.dragResistance=parseFloat(n.dragResistance)||0,i.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,i.lockAxis=n.lockAxis,i.autoScroll=n.autoScroll||0,i.lockedAxis=null,i.allowEventDefault=!!n.allowEventDefault,$o.getProperty(e,\"x\");var o,s,a,u,l,h,c,f,p,d,g,D,m,v,_,y,x,w,C,F,E,b,T,M,A,P,S,O,k,B,L,N,R=(n.type||\"x,y\").toLowerCase(),X=~R.indexOf(\"x\")||~R.indexOf(\"y\"),Y=-1!==R.indexOf(\"rotation\"),I=Y?\"rotation\":X?\"x\":\"left\",z=X?\"y\":\"top\",H=!(!~R.indexOf(\"x\")&&!~R.indexOf(\"left\")&&\"scroll\"!==R),W=!(!~R.indexOf(\"y\")&&!~R.indexOf(\"top\")&&\"scroll\"!==R),V=n.minimumMovement||2,j=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(i),U=as(n.trigger||n.handle||e),q={},G=0,K=!1,Q=n.autoScrollMarginTop||40,Z=n.autoScrollMarginRight||40,$=n.autoScrollMarginBottom||40,J=n.autoScrollMarginLeft||40,tt=n.clickableTest||fa,et=0,nt=e._gsap||$o.core.getCache(e),rt=function t(e){return\"fixed\"===ia(e).position||((e=e.parentNode)&&1===e.nodeType?t(e):void 0)}(e),it=function(t,n){return parseFloat(nt.get(e,t,n))},ot=e.ownerDocument||ts,st=function(t){return qs(t),t.stopImmediatePropagation&&t.stopImmediatePropagation(),!1},at=function t(n){if(j.autoScroll&&j.isDragging&&(K||x)){var r,i,o,a,u,l,h,c,p=e,d=15*j.autoScroll;for(K=!1,Ys.scrollTop=null!=Jo.pageYOffset?Jo.pageYOffset:null!=ot.documentElement.scrollTop?ot.documentElement.scrollTop:ot.body.scrollTop,Ys.scrollLeft=null!=Jo.pageXOffset?Jo.pageXOffset:null!=ot.documentElement.scrollLeft?ot.documentElement.scrollLeft:ot.body.scrollLeft,a=j.pointerX-Ys.scrollLeft,u=j.pointerY-Ys.scrollTop;p&&!i;)r=(i=ta(p.parentNode))?Ys:p.parentNode,o=i?{bottom:Math.max(es.clientHeight,Jo.innerHeight||0),right:Math.max(es.clientWidth,Jo.innerWidth||0),left:0,top:0}:r.getBoundingClientRect(),l=h=0,W&&((c=r._gsMaxScrollY-r.scrollTop)<0?h=c:u>o.bottom-$&&c?(K=!0,h=Math.min(c,d*(1-Math.max(0,o.bottom-u)/$)|0)):u<o.top+Q&&r.scrollTop&&(K=!0,h=-Math.min(r.scrollTop,d*(1-Math.max(0,u-o.top)/Q)|0)),h&&(r.scrollTop+=h)),H&&((c=r._gsMaxScrollX-r.scrollLeft)<0?l=c:a>o.right-Z&&c?(K=!0,l=Math.min(c,d*(1-Math.max(0,o.right-a)/Z)|0)):a<o.left+J&&r.scrollLeft&&(K=!0,l=-Math.min(r.scrollLeft,d*(1-Math.max(0,a-o.left)/J)|0)),l&&(r.scrollLeft+=l)),i&&(l||h)&&(Jo.scrollTo(r.scrollLeft,r.scrollTop),yt(j.pointerX+l,j.pointerY+h)),p=r}if(x){var g=j.x,D=j.y;Y?(j.deltaX=g-parseFloat(nt.rotation),j.rotation=g,nt.rotation=g+\"deg\",nt.renderTransform(1,nt)):s?(W&&(j.deltaY=D-s.top(),s.top(D)),H&&(j.deltaX=g-s.left(),s.left(g))):X?(W&&(j.deltaY=D-parseFloat(nt.y),nt.y=D+\"px\"),H&&(j.deltaX=g-parseFloat(nt.x),nt.x=g+\"px\"),nt.renderTransform(1,nt)):(W&&(j.deltaY=D-parseFloat(e.style.top||0),e.style.top=D+\"px\"),H&&(j.deltaX=g-parseFloat(e.style.left||0),e.style.left=g+\"px\")),!f||n||O||(O=!0,!1===aa(j,\"drag\",\"onDrag\")&&(H&&(j.x-=j.deltaX),W&&(j.y-=j.deltaY),t(!0)),O=!1)}x=!1},ut=function(t,n){var r,i,o=j.x,a=j.y;e._gsap||(nt=$o.core.getCache(e)),nt.uncache&&$o.getProperty(e,\"x\"),X?(j.x=parseFloat(nt.x),j.y=parseFloat(nt.y)):Y?j.x=j.rotation=parseFloat(nt.rotation):s?(j.y=s.top(),j.x=s.left()):(j.y=parseFloat(e.style.top||(i=ia(e))&&i.top)||0,j.x=parseFloat(e.style.left||(i||{}).left)||0),(C||F||E)&&!n&&(j.isDragging||j.isThrowing)&&(E&&(Xs.x=j.x,Xs.y=j.y,(r=E(Xs)).x!==j.x&&(j.x=r.x,x=!0),r.y!==j.y&&(j.y=r.y,x=!0)),C&&(r=C(j.x))!==j.x&&(j.x=r,Y&&(j.rotation=r),x=!0),F&&((r=F(j.y))!==j.y&&(j.y=r),x=!0)),x&&at(!0),t||(j.deltaX=j.x-o,j.deltaY=j.y-a,aa(j,\"throwupdate\",\"onThrowUpdate\"))},lt=function(t,e,n,r){return null==e&&(e=-1e20),null==n&&(n=1e20),xs(t)?function(i){var o=j.isPressed?1-j.edgeResistance:1;return t.call(j,i>n?n+(i-n)*o:i<e?e+(i-e)*o:i)*r}:Ms(t)?function(r){for(var i,o,s=t.length,a=0,u=1e20;--s>-1;)(o=(i=t[s])-r)<0&&(o=-o),o<u&&i>=e&&i<=n&&(a=s,u=o);return t[a]}:isNaN(t)?function(t){return t}:function(){return t*r}},ht=function(){var t,r,i,o;c=!1,s?(s.calibrate(),j.minX=g=-s.maxScrollLeft(),j.minY=m=-s.maxScrollTop(),j.maxX=d=j.maxY=D=0,c=!0):n.bounds&&(t=ua(n.bounds,e.parentNode),Y?(j.minX=g=t.left,j.maxX=d=t.left+t.width,j.minY=m=j.maxY=D=0):Cs(n.bounds.maxX)&&Cs(n.bounds.maxY)?(r=ua(e,e.parentNode),j.minX=g=Math.round(it(I,\"px\")+t.left-r.left),j.minY=m=Math.round(it(z,\"px\")+t.top-r.top),j.maxX=d=Math.round(g+(t.width-r.width)),j.maxY=D=Math.round(m+(t.height-r.height))):(t=n.bounds,j.minX=g=t.minX,j.minY=m=t.minY,j.maxX=d=t.maxX,j.maxY=D=t.maxY),g>d&&(j.minX=d,j.maxX=d=g,g=j.minX),m>D&&(j.minY=D,j.maxY=D=m,m=j.minY),Y&&(j.minRotation=g,j.maxRotation=d),c=!0),n.liveSnap&&(i=!0===n.liveSnap?n.snap||{}:n.liveSnap,o=Ms(i)||xs(i),Y?(C=lt(o?i:i.rotation,g,d,1),F=null):i.points?E=function(t,e,n,r,i,o,s){return o=o&&o<1e20?o*o:1e20,xs(t)?function(a){var u,l,h,c=j.isPressed?1-j.edgeResistance:1,f=a.x,p=a.y;return a.x=f=f>n?n+(f-n)*c:f<e?e+(f-e)*c:f,a.y=p=p>i?i+(p-i)*c:p<r?r+(p-r)*c:p,(u=t.call(j,a))!==a&&(a.x=u.x,a.y=u.y),1!==s&&(a.x*=s,a.y*=s),o<1e20&&(l=a.x-f)*l+(h=a.y-p)*h>o&&(a.x=f,a.y=p),a}:Ms(t)?function(e){for(var n,r,i,s,a=t.length,u=0,l=1e20;--a>-1;)(s=(n=(i=t[a]).x-e.x)*n+(r=i.y-e.y)*r)<l&&(u=a,l=s);return l<=o?t[u]:e}:function(t){return t}}(o?i:i.points,g,d,m,D,i.radius,s?-1:1):(H&&(C=lt(o?i:i.x||i.left||i.scrollLeft,g,d,s?-1:1)),W&&(F=lt(o?i:i.y||i.top||i.scrollTop,m,D,s?-1:1))))},ct=function(){j.isThrowing=!1,aa(j,\"throwcomplete\",\"onThrowComplete\")},ft=function(){j.isThrowing=!1},pt=function(t,r){var i,o,a,u;t&&ds?(!0===t&&(i=n.snap||n.liveSnap||{},o=Ms(i)||xs(i),t={resistance:(n.throwResistance||n.resistance||1e3)/(Y?10:1)},Y?t.rotation=ca(j,o?i:i.rotation,d,g,1,r):(H&&(t[I]=ca(j,o?i:i.points||i.x||i.left,d,g,s?-1:1,r||\"x\"===j.lockedAxis)),W&&(t[z]=ca(j,o?i:i.points||i.y||i.top,D,m,s?-1:1,r||\"y\"===j.lockedAxis)),(i.points||Ms(i)&&ws(i[0]))&&(t.linkedProps=I+\",\"+z,t.radius=i.radius))),j.isThrowing=!0,u=isNaN(n.overshootTolerance)?1===n.edgeResistance?0:1-j.edgeResistance+.2:n.overshootTolerance,t.duration||(t.duration={max:Math.max(n.minDuration||0,\"maxDuration\"in n?n.maxDuration:2),min:isNaN(n.minDuration)?0===u||ws(t)&&t.resistance>1e3?0:.5:n.minDuration,overshoot:u}),j.tween=a=$o.to(s||e,{inertia:t,data:\"_draggable\",onComplete:ct,onInterrupt:ft,onUpdate:n.fastMode?aa:ut,onUpdateParams:n.fastMode?[j,\"onthrowupdate\",\"onThrowUpdate\"]:i&&i.radius?[!1,!0]:[]}),n.fastMode||(s&&(s._skip=!0),a.render(1e9,!0,!0),ut(!0,!0),j.endX=j.x,j.endY=j.y,Y&&(j.endRotation=j.x),a.play(0),ut(!0,!0),s&&(s._skip=!1))):c&&j.applyBounds()},dt=function(t){var n,r=M;M=Do(e.parentNode,!0),t&&j.isPressed&&!M.equals(r||new go)&&(n=r.inverse().apply({x:a,y:u}),M.apply(n,n),a=n.x,u=n.y),M.equals(Ss)&&(M=null)},gt=function(){var t,n,r,i=1-j.edgeResistance,o=rt?Zs(ot):0,f=rt?Qs(ot):0;dt(!1),la.x=j.pointerX-o,la.y=j.pointerY-f,M&&M.apply(la,la),a=la.x,u=la.y,x&&(yt(j.pointerX,j.pointerY),at(!0)),N=Do(e),s?(ht(),h=s.top(),l=s.left()):(Dt()?(ut(!0,!0),ht()):j.applyBounds(),Y?(t=e.ownerSVGElement?[nt.xOrigin-e.getBBox().x,nt.yOrigin-e.getBBox().y]:(ia(e)[bs]||\"0 0\").split(\" \"),y=j.rotationOrigin=Do(e).apply({x:parseFloat(t[0])||0,y:parseFloat(t[1])||0}),ut(!0,!0),n=j.pointerX-y.x-o,r=y.y-j.pointerY+f,l=j.x,h=j.y=Math.atan2(r,n)*Ps):(h=it(z,\"px\"),l=it(I,\"px\"))),c&&i&&(l>d?l=d+(l-d)/i:l<g&&(l=g-(g-l)/i),Y||(h>D?h=D+(h-D)/i:h<m&&(h=m-(m-h)/i))),j.startX=l=Ts(l),j.startY=h=Ts(h)},Dt=function(){return j.tween&&j.tween.isActive()},mt=function(){!is.parentNode||Dt()||j.isDragging||is.parentNode.removeChild(is)},vt=function(t,i){var l;if(!o||j.isPressed||!t||!(\"mousedown\"!==t.type&&\"pointerdown\"!==t.type||i)&&Os()-et<30&&hs[j.pointerEvent.type])L&&t&&o&&qs(t);else{if(A=Dt(),j.pointerEvent=t,hs[t.type]?(T=~t.type.indexOf(\"touch\")?t.currentTarget||t.target:ot,js(T,\"touchend\",xt),js(T,\"touchmove\",_t),js(T,\"touchcancel\",xt),js(ot,\"touchstart\",Ks)):(T=null,js(ot,\"mousemove\",_t)),S=null,Ds&&T||(js(ot,\"mouseup\",xt),t&&t.target&&js(t.target,\"mouseup\",xt)),b=tt.call(j,t.target)&&!1===n.dragClickables&&!i)return js(t.target,\"change\",xt),aa(j,\"pressInit\",\"onPressInit\"),aa(j,\"press\",\"onPress\"),pa(U,!0),void(L=!1);var h;if(P=!(!T||H===W||!1===j.vars.allowNativeTouchScrolling||j.vars.allowContextMenu&&t&&(t.ctrlKey||t.which>2))&&(H?\"y\":\"x\"),(L=!P&&!j.allowEventDefault)&&(qs(t),js(Jo,\"touchforcechange\",qs)),t.changedTouches?(t=v=t.changedTouches[0],_=t.identifier):t.pointerId?_=t.pointerId:v=_=null,cs++,h=at,ks.push(h),1===ks.length&&$o.ticker.add(Hs),u=j.pointerY=t.pageY,a=j.pointerX=t.pageX,aa(j,\"pressInit\",\"onPressInit\"),(P||j.autoScroll)&&na(e.parentNode),!e.parentNode||!j.autoScroll||s||Y||!e.parentNode._gsMaxScrollX||is.parentNode||e.getBBox||(is.style.width=e.parentNode.scrollWidth+\"px\",e.parentNode.appendChild(is)),gt(),j.tween&&j.tween.kill(),j.isThrowing=!1,$o.killTweensOf(s||e,q,!0),s&&$o.killTweensOf(e,{scrollTo:1},!0),j.tween=j.lockedAxis=null,(n.zIndexBoost||!Y&&!s&&!1!==n.zIndexBoost)&&(e.style.zIndex=r.zIndex++),j.isPressed=!0,f=!(!n.onDrag&&!j._listeners.drag),p=!(!n.onMove&&!j._listeners.move),!1!==n.cursor||n.activeCursor)for(l=U.length;--l>-1;)$o.set(U[l],{cursor:n.activeCursor||n.cursor||(\"grab\"===gs?\"grabbing\":gs)});aa(j,\"press\",\"onPress\")}},_t=function(t){var n,r,i,s,l,h,c=t;if(o&&!fs&&j.isPressed&&t){if(j.pointerEvent=t,n=t.changedTouches){if((t=n[0])!==v&&t.identifier!==_){for(s=n.length;--s>-1&&(t=n[s]).identifier!==_&&t.target!==e;);if(s<0)return}}else if(t.pointerId&&_&&t.pointerId!==_)return;T&&P&&!S&&(la.x=t.pageX-(rt?Zs(ot):0),la.y=t.pageY-(rt?Qs(ot):0),M&&M.apply(la,la),r=la.x,i=la.y,((l=Math.abs(r-a))!==(h=Math.abs(i-u))&&(l>V||h>V)||ps&&P===S)&&(S=l>h&&H?\"x\":\"y\",P&&S!==P&&js(Jo,\"touchforcechange\",qs),!1!==j.vars.lockAxisOnTouchScroll&&H&&W&&(j.lockedAxis=\"x\"===S?\"y\":\"x\",xs(j.vars.onLockAxis)&&j.vars.onLockAxis.call(j,c)),ps&&P===S))?xt(c):(j.allowEventDefault||P&&(!S||P===S)||!1===c.cancelable?L&&(L=!1):(qs(c),L=!0),j.autoScroll&&(K=!0),yt(t.pageX,t.pageY,p))}else L&&t&&o&&qs(t)},yt=function(t,e,n){var r,i,o,s,f,p,v=1-j.dragResistance,_=1-j.edgeResistance,w=j.pointerX,b=j.pointerY,T=h,A=j.x,P=j.y,S=j.endX,O=j.endY,k=j.endRotation,B=x;j.pointerX=t,j.pointerY=e,rt&&(t-=Zs(ot),e-=Qs(ot)),Y?(s=Math.atan2(y.y-e,t-y.x)*Ps,(f=j.y-s)>180?(h-=360,j.y=s):f<-180&&(h+=360,j.y=s),j.x!==l||Math.abs(h-s)>V?(j.y=s,o=l+(h-s)*v):o=l):(M&&(p=t*M.a+e*M.c+M.e,e=t*M.b+e*M.d+M.f,t=p),(i=e-u)<V&&i>-V&&(i=0),(r=t-a)<V&&r>-V&&(r=0),(j.lockAxis||j.lockedAxis)&&(r||i)&&((p=j.lockedAxis)||(j.lockedAxis=p=H&&Math.abs(r)>Math.abs(i)?\"y\":W?\"x\":null,p&&xs(j.vars.onLockAxis)&&j.vars.onLockAxis.call(j,j.pointerEvent)),\"y\"===p?i=0:\"x\"===p&&(r=0)),o=Ts(l+r*v),s=Ts(h+i*v)),(C||F||E)&&(j.x!==o||j.y!==s&&!Y)&&(E&&(Xs.x=o,Xs.y=s,p=E(Xs),o=Ts(p.x),s=Ts(p.y)),C&&(o=Ts(C(o))),F&&(s=Ts(F(s)))),c&&(o>d?o=d+Math.round((o-d)*_):o<g&&(o=g+Math.round((o-g)*_)),Y||(s>D?s=Math.round(D+(s-D)*_):s<m&&(s=Math.round(m+(s-m)*_)))),(j.x!==o||j.y!==s&&!Y)&&(Y?(j.endRotation=j.x=j.endX=o,x=!0):(W&&(j.y=j.endY=s,x=!0),H&&(j.x=j.endX=o,x=!0)),n&&!1===aa(j,\"move\",\"onMove\")?(j.pointerX=w,j.pointerY=b,h=T,j.x=A,j.y=P,j.endX=S,j.endY=O,j.endRotation=k,x=B):!j.isDragging&&j.isPressed&&(j.isDragging=!0,aa(j,\"dragstart\",\"onDragStart\")))},xt=function t(r,i){if(o&&j.isPressed&&(!r||null==_||i||!(r.pointerId&&r.pointerId!==_&&r.target!==e||r.changedTouches&&!function(t,e){for(var n=t.length;n--;)if(t[n].identifier===e)return!0}(r.changedTouches,_)))){j.isPressed=!1;var s,a,u,l,h,c=r,f=j.isDragging,p=j.vars.allowContextMenu&&r&&(r.ctrlKey||r.which>2),d=$o.delayedCall(.001,mt);if(T?(Us(T,\"touchend\",t),Us(T,\"touchmove\",_t),Us(T,\"touchcancel\",t),Us(ot,\"touchstart\",Ks)):Us(ot,\"mousemove\",_t),Us(Jo,\"touchforcechange\",qs),Ds&&T||(Us(ot,\"mouseup\",t),r&&r.target&&Us(r.target,\"mouseup\",t)),x=!1,f&&(G=Rs=Os(),j.isDragging=!1),b&&!p)return r&&(Us(r.target,\"change\",t),j.pointerEvent=c),pa(U,!1),aa(j,\"release\",\"onRelease\"),aa(j,\"click\",\"onClick\"),void(b=!1);for(Vs(at),a=U.length;--a>-1;)ra(U[a],\"cursor\",n.cursor||(!1!==n.cursor?gs:null));if(cs--,r){if((s=r.changedTouches)&&(r=s[0])!==v&&r.identifier!==_){for(a=s.length;--a>-1&&(r=s[a]).identifier!==_&&r.target!==e;);if(a<0)return}j.pointerEvent=c,j.pointerX=r.pageX,j.pointerY=r.pageY}return p&&c?(qs(c),L=!0,aa(j,\"release\",\"onRelease\")):c&&!f?(L=!1,A&&(n.snap||n.bounds)&&pt(n.inertia||n.throwProps),aa(j,\"release\",\"onRelease\"),ps&&\"touchmove\"===c.type||-1!==c.type.indexOf(\"cancel\")||(aa(j,\"click\",\"onClick\"),Os()-et<300&&aa(j,\"doubleclick\",\"onDoubleClick\"),l=c.target||e,et=Os(),h=function(){et===k||!j.enabled()||j.isPressed||c.defaultPrevented||(l.click?l.click():ot.createEvent&&((u=ot.createEvent(\"MouseEvents\")).initMouseEvent(\"click\",!0,!0,Jo,1,j.pointerEvent.screenX,j.pointerEvent.screenY,j.pointerX,j.pointerY,!1,!1,!1,!1,0,null),l.dispatchEvent(u)))},ps||c.defaultPrevented||$o.delayedCall(.05,h))):(pt(n.inertia||n.throwProps),j.allowEventDefault||!c||!1===n.dragClickables&&tt.call(j,c.target)||!f||P&&(!S||P!==S)||!1===c.cancelable?L=!1:(L=!0,qs(c)),aa(j,\"release\",\"onRelease\")),Dt()&&d.duration(j.tween.duration()),f&&aa(j,\"dragend\",\"onDragEnd\"),!0}L&&r&&o&&qs(r)},wt=function(t){if(t&&j.isDragging&&!s){var n=t.target||e.parentNode,r=n.scrollLeft-n._gsScrollX,i=n.scrollTop-n._gsScrollY;(r||i)&&(M?(a-=r*M.a+i*M.c,u-=i*M.d+r*M.b):(a-=r,u-=i),n._gsScrollX+=r,n._gsScrollY+=i,yt(j.pointerX,j.pointerY))}},Ct=function(t){var e=Os(),n=e-et<100,r=e-G<50,i=n&&k===et,o=j.pointerEvent&&j.pointerEvent.defaultPrevented,s=n&&B===et,a=t.isTrusted||null==t.isTrusted&&n&&i;if((i||r&&!1!==j.vars.suppressClickOnDrag)&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),n&&(!j.pointerEvent||!j.pointerEvent.defaultPrevented)&&(!i||a&&!s))return a&&i&&(B=et),void(k=et);(j.isPressed||r||n)&&(a&&t.detail&&n&&!o||qs(t)),n||r||(t&&t.target&&(j.pointerEvent=t),aa(j,\"click\",\"onClick\"))},Ft=function(t){return M?{x:t.x*M.a+t.y*M.c+M.e,y:t.x*M.b+t.y*M.d+M.f}:{x:t.x,y:t.y}};return(w=r.get(e))&&w.kill(),i.startDrag=function(t,n){var r,i,o,s;vt(t||j.pointerEvent,!0),n&&!j.hitTest(t||j.pointerEvent)&&(r=sa(t||j.pointerEvent),i=sa(e),o=Ft({x:r.left+r.width/2,y:r.top+r.height/2}),s=Ft({x:i.left+i.width/2,y:i.top+i.height/2}),a-=o.x-s.x,u-=o.y-s.y),j.isDragging||(j.isDragging=!0,aa(j,\"dragstart\",\"onDragStart\"))},i.drag=_t,i.endDrag=function(t){return xt(t||j.pointerEvent,!0)},i.timeSinceDrag=function(){return j.isDragging?0:(Os()-G)/1e3},i.timeSinceClick=function(){return(Os()-et)/1e3},i.hitTest=function(t,e){return r.hitTest(j.target,t,e)},i.getDirection=function(t,n){var r,i,o,s,a,u,c=\"velocity\"===t&&ds?t:ws(t)&&!Y?\"element\":\"start\";return\"element\"===c&&(a=sa(j.target),u=sa(t)),r=\"start\"===c?j.x-l:\"velocity\"===c?ds.getVelocity(e,I):a.left+a.width/2-(u.left+u.width/2),Y?r<0?\"counter-clockwise\":\"clockwise\":(n=n||2,i=\"start\"===c?j.y-h:\"velocity\"===c?ds.getVelocity(e,z):a.top+a.height/2-(u.top+u.height/2),s=(o=Math.abs(r/i))<1/n?\"\":r<0?\"left\":\"right\",o<n&&(\"\"!==s&&(s+=\"-\"),s+=i<0?\"up\":\"down\"),s)},i.applyBounds=function(t,r){var i,o,s,a,u,l;if(t&&n.bounds!==t)return n.bounds=t,j.update(!0,r);if(ut(!0),ht(),c&&!Dt()){if(i=j.x,o=j.y,i>d?i=d:i<g&&(i=g),o>D?o=D:o<m&&(o=m),(j.x!==i||j.y!==o)&&(s=!0,j.x=j.endX=i,Y?j.endRotation=i:j.y=j.endY=o,x=!0,at(!0),j.autoScroll&&!j.isDragging))for(na(e.parentNode),a=e,Ys.scrollTop=null!=Jo.pageYOffset?Jo.pageYOffset:null!=ot.documentElement.scrollTop?ot.documentElement.scrollTop:ot.body.scrollTop,Ys.scrollLeft=null!=Jo.pageXOffset?Jo.pageXOffset:null!=ot.documentElement.scrollLeft?ot.documentElement.scrollLeft:ot.body.scrollLeft;a&&!l;)u=(l=ta(a.parentNode))?Ys:a.parentNode,W&&u.scrollTop>u._gsMaxScrollY&&(u.scrollTop=u._gsMaxScrollY),H&&u.scrollLeft>u._gsMaxScrollX&&(u.scrollLeft=u._gsMaxScrollX),a=u;j.isThrowing&&(s||j.endX>d||j.endX<g||j.endY>D||j.endY<m)&&pt(n.inertia||n.throwProps,s)}return j},i.update=function(t,n,r){if(n&&j.isPressed){var i=Do(e),o=N.apply({x:j.x-l,y:j.y-h}),s=Do(e.parentNode,!0);s.apply({x:i.e-o.x,y:i.f-o.y},o),j.x-=o.x-s.e,j.y-=o.y-s.f,at(!0),gt()}var a=j.x,u=j.y;return dt(!n),t?j.applyBounds():(x&&r&&at(!0),ut(!0)),n&&(yt(j.pointerX,j.pointerY),x&&at(!0)),j.isPressed&&!n&&(H&&Math.abs(a-j.x)>.01||W&&Math.abs(u-j.y)>.01&&!Y)&&gt(),j.autoScroll&&(na(e.parentNode,j.isDragging),K=j.isDragging,at(!0),Js(e,wt),$s(e,wt)),j},i.enable=function(t){var r,i,a,u={lazy:!0};if(!1!==n.cursor&&(u.cursor=n.cursor||gs),$o.utils.checkPrefix(\"touchCallout\")&&(u.touchCallout=\"none\"),\"soft\"!==t){for(zs(U,H===W?\"none\":n.allowNativeTouchScrolling&&e.scrollHeight===e.clientHeight==(e.scrollWidth===e.clientHeight)||n.allowEventDefault?\"manipulation\":H?\"pan-y\":\"pan-x\"),i=U.length;--i>-1;)a=U[i],Ds||js(a,\"mousedown\",vt),js(a,\"touchstart\",vt),js(a,\"click\",Ct,!0),$o.set(a,u),a.getBBox&&a.ownerSVGElement&&$o.set(a.ownerSVGElement,{touchAction:H===W?\"none\":n.allowNativeTouchScrolling||n.allowEventDefault?\"manipulation\":H?\"pan-y\":\"pan-x\"}),n.allowContextMenu||js(a,\"contextmenu\",st);pa(U,!1)}return $s(e,wt),o=!0,ds&&\"soft\"!==t&&ds.track(s||e,X?\"x,y\":Y?\"rotation\":\"top,left\"),e._gsDragID=r=\"d\"+Ls++,Bs[r]=j,s&&(s.enable(),s.element._gsDragID=r),(n.bounds||Y)&&gt(),n.bounds&&j.applyBounds(),j},i.disable=function(t){for(var n,r=j.isDragging,i=U.length;--i>-1;)ra(U[i],\"cursor\",null);if(\"soft\"!==t){for(zs(U,null),i=U.length;--i>-1;)n=U[i],ra(n,\"touchCallout\",null),Us(n,\"mousedown\",vt),Us(n,\"touchstart\",vt),Us(n,\"click\",Ct),Us(n,\"contextmenu\",st);pa(U,!0),T&&(Us(T,\"touchcancel\",xt),Us(T,\"touchend\",xt),Us(T,\"touchmove\",_t)),Us(ot,\"mouseup\",xt),Us(ot,\"mousemove\",_t)}return Js(e,wt),o=!1,ds&&\"soft\"!==t&&ds.untrack(s||e,X?\"x,y\":Y?\"rotation\":\"top,left\"),s&&s.disable(),Vs(at),j.isDragging=j.isPressed=b=!1,r&&aa(j,\"dragend\",\"onDragEnd\"),j},i.enabled=function(t,e){return arguments.length?t?j.enable(e):j.disable(e):o},i.kill=function(){return j.isThrowing=!1,j.tween&&j.tween.kill(),j.disable(),$o.set(U,{clearProps:\"userSelect\"}),delete Bs[e._gsDragID],j},~R.indexOf(\"scroll\")&&(s=i.scrollProxy=new da(e,function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}({onKill:function(){j.isPressed&&xt(null)}},n)),e.style.overflowY=W&&!ls?\"auto\":\"hidden\",e.style.overflowX=H&&!ls?\"auto\":\"hidden\",e=s.content),Y?q.rotation=1:(H&&(q[I]=1),W&&(q[z]=1)),nt.force3D=!(\"force3D\"in n)||n.force3D,i.enable(),i}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.register=function(t){$o=t,ga()},r.create=function(t,e){return os||ga(!0),as(t).map((function(t){return new r(t,e)}))},r.get=function(t){return Bs[(as(t)[0]||{})._gsDragID]},r.timeSinceDrag=function(){return(Os()-Rs)/1e3},r.hitTest=function(t,e,n){if(t===e)return!1;var r,i,o,s=sa(t),a=sa(e),u=s.top,l=s.left,h=s.right,c=s.bottom,f=s.width,p=s.height,d=a.left>h||a.right<l||a.top>c||a.bottom<u;return d||!n?!d:(o=-1!==(n+\"\").indexOf(\"%\"),n=parseFloat(n)||0,(r={left:Math.max(l,a.left),top:Math.max(u,a.top)}).width=Math.min(h,a.right)-r.left,r.height=Math.min(c,a.bottom)-r.top,!(r.width<0||r.height<0)&&(o?(n*=.01,(i=r.width*r.height)>=f*p*n||i>=a.width*a.height*n):r.width>n&&r.height>n))},r}(function(){function t(t){this._listeners={},this.target=t||this}var e=t.prototype;return e.addEventListener=function(t,e){var n=this._listeners[t]||(this._listeners[t]=[]);~n.indexOf(e)||n.push(e)},e.removeEventListener=function(t,e){var n=this._listeners[t],r=n&&n.indexOf(e)||-1;r>-1&&n.splice(r,1)},e.dispatchEvent=function(t){var e,n=this;return(this._listeners[t]||[]).forEach((function(r){return!1===r.call(n,{type:t,target:n.target})&&(e=!1)})),e},t}());!function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Da.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),Da.zIndex=1e3,Da.version=\"3.9.1\",ys()&&$o.registerPlugin(Da);\r\n    /*!\r\n     * VelocityTracker: 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var ma,va,_a,ya,xa,wa,Ca,Fa,Ea=function(){return ma||\"undefined\"!=typeof window&&(ma=window.gsap)},ba={},Ta=function(t){return Fa(t).id},Ma=function(t){return ba[Ta(\"string\"==typeof t?_a(t)[0]:t)]},Aa=function(t){var e,n=xa;if(t-Ca>=.05)for(Ca,Ca=t;n;)((e=n.g(n.t,n.p))!==n.v1||t-n.t1>.2)&&(n.v2=n.v1,n.v1=e,n.t2=n.t1,n.t1=t),n=n._next},Pa={deg:360,rad:2*Math.PI},Sa=function(){(ma=Ea())&&(_a=ma.utils.toArray,ya=ma.utils.getUnit,Fa=ma.core.getCache,wa=ma.ticker,va=1)},Oa=function(t,e,n,r){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=Pa[n||ya(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=wa.time,r&&(this._next=r,r._prev=this)},ka=function(){function t(t,e){va||Sa(),this.target=_a(t)[0],ba[Ta(this.target)]=this,this._props={},e&&this.add(e)}t.register=function(t){ma=t,Sa()};var e=t.prototype;return e.get=function(t,e){var n,r,i,o=this._props[t]||console.warn(\"Not tracking \"+t+\" velocity.\");return n=parseFloat(e?o.v1:o.g(o.t,o.p))-parseFloat(o.v2),(r=o.rCap)&&(n%=r)!==n%(r/2)&&(n=n<0?n+r:n-r),i=n/((e?o.t1:wa.time)-o.t2),Math.round(1e4*i)/1e4},e.getAll=function(){var t,e={},n=this._props;for(t in n)e[t]=this.get(t);return e},e.isTracking=function(t){return t in this._props},e.add=function(t,e){t in this._props||(xa||(wa.add(Aa),Ca=wa.time),xa=this._props[t]=new Oa(this.target,t,e,xa))},e.remove=function(t){var e,n,r=this._props[t];r&&(e=r._prev,n=r._next,e&&(e._next=n),n?n._prev=e:xa===r&&(wa.remove(Aa),xa=0),delete this._props[t])},e.kill=function(t){for(var e in this._props)this.remove(e);t||delete ba[Ta(this.target)]},t.track=function(e,n,r){va||Sa();for(var i,o,s=[],a=_a(e),u=n.split(\",\"),l=(r||\"\").split(\",\"),h=a.length;h--;){for(i=Ma(a[h])||new t(a[h]),o=u.length;o--;)i.add(u[o],l[o]||l[0]);s.push(i)}return s},t.untrack=function(t,e){var n=(e||\"\").split(\",\");_a(t).forEach((function(t){var e=Ma(t);e&&(n.length?n.forEach((function(t){return e.remove(t)})):e.kill(1))}))},t.isTracking=function(t,e){var n=Ma(t);return n&&n.isTracking(e)},t.getVelocity=function(t,e){var n=Ma(t);return n&&n.isTracking(e)?n.get(e):console.warn(\"Not tracking velocity of \"+e)},t}();ka.getByTarget=Ma,Ea()&&ma.registerPlugin(ka);\r\n    /*!\r\n     * InertiaPlugin 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var Ba,La,Na,Ra,Xa,Ya,Ia,za,Ha,Wa,Va,ja,Ua=ka.getByTarget,qa=function(){return Ba||\"undefined\"!=typeof window&&(Ba=window.gsap)&&Ba.registerPlugin&&Ba},Ga=function(t){return\"number\"==typeof t},Ka=function(t){return\"object\"==typeof t},Qa=function(t){return\"function\"==typeof t},Za=Array.isArray,$a=function(t){return t},Ja=function(t,e,n){for(var r in e)r in t||r===n||(t[r]=e[r]);return t},tu=function t(e){var n,r,i={};for(n in e)i[n]=Ka(r=e[n])&&!Za(r)?t(r):r;return i},eu=function(t,e,n,r,i){var o,s,a,u,l=e.length,h=0,c=1e10;if(Ka(t)){for(;l--;){for(a in o=e[l],s=0,t)s+=(u=o[a]-t[a])*u;s<c&&(h=l,c=s)}if((i||1e10)<1e10&&i<Math.sqrt(c))return t}else for(;l--;)(s=(o=e[l])-t)<0&&(s=-s),s<c&&o>=r&&o<=n&&(h=l,c=s);return e[h]},nu=function(t,e,n,r,i,o,s){if(\"auto\"===t.end)return t;var a,u,l=t.end;if(n=isNaN(n)?1e10:n,r=isNaN(r)?-1e10:r,Ka(e)){if(a=e.calculated?e:(Qa(l)?l(e,s):eu(e,l,n,r,o))||e,!e.calculated){for(u in a)e[u]=a[u];e.calculated=!0}a=a[i]}else a=Qa(l)?l(e,s):Za(l)?eu(e,l,n,r,o):parseFloat(l);return a>n?a=n:a<r&&(a=r),{max:a,min:a,unitFactor:t.unitFactor}},ru=function(t,e,n){return isNaN(t[e])?n:+t[e]},iu=function(t,e){return.05*e*t/Wa},ou=function(t,e,n){return Math.abs((e-t)*Wa/n/.05)},su={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},au=function(t,e,n,r){if(e.linkedProps){var i,o,s,a,u,l,h=e.linkedProps.split(\",\"),c={};for(i=0;i<h.length;i++)(s=e[o=h[i]])&&(a=Ga(s.velocity)?s.velocity:(u=u||Ua(t))&&u.isTracking(o)?u.get(o):0,l=Math.abs(a/ru(s,\"resistance\",r)),c[o]=parseFloat(n(t,o))+iu(a,l));return c}},uu=function(){(Ba=qa())&&(Na=Ba.parseEase,Ra=Ba.utils.toArray,Ia=Ba.utils.getUnit,Ha=Ba.core.getCache,Va=Ba.utils.clamp,Xa=Na(\"power3\"),Wa=Xa(.05),za=Ba.core.PropTween,Ba.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),Ya=Ba.config(),Ba.registerPlugin(ka),La=1)},lu={version:\"3.9.1\",name:\"inertia\",register:function(t){Ba=t,uu()},init:function(t,e,n,r,i){La||uu();var o=Ua(t);if(\"auto\"===e){if(!o)return void console.warn(\"No inertia tracking on \"+t+\". InertiaPlugin.track(target) first.\");e=o.getAll()}this.target=t,this.tween=n,ja=e;var s,a,u,l,h,c,f,p,d,g=t._gsap,D=g.get,m=e.duration,v=Ka(m),_=e.preventOvershoot||v&&0===m.overshoot,y=ru(e,\"resistance\",Ya.resistance),x=Ga(m)?m:function(t,e,n,r,i,o){if(void 0===n&&(n=10),void 0===r&&(r=.2),void 0===i&&(i=1),void 0===o&&(o=0),\"string\"==typeof t&&(t=Ra(t)[0]),!t)return 0;var s,a,u,l,h,c,f,p,d,g,D=0,m=1e10,v=e.inertia||e,_=Ha(t).get,y=ru(v,\"resistance\",Ya.resistance);for(s in g=au(t,v,_,y),v)su[s]||(a=v[s],Ka(a)||((p=p||Ua(t))&&p.isTracking(s)?a=Ga(a)?{velocity:a}:{velocity:p.get(s)}:(l=+a||0,u=Math.abs(l/y))),Ka(a)&&(l=Ga(a.velocity)?a.velocity:(p=p||Ua(t))&&p.isTracking(s)?p.get(s):0,u=Va(r,n,Math.abs(l/ru(a,\"resistance\",y))),c=(h=parseFloat(_(t,s))||0)+iu(l,u),\"end\"in a&&(a=nu(a,g&&s in g?g:c,a.max,a.min,s,v.radius,l),o&&(ja===e&&(ja=v=tu(e)),v[s]=Ja(a,v[s],\"end\"))),\"max\"in a&&c>+a.max+1e-10?(d=a.unitFactor||Ya.unitFactors[s]||1,(f=h>a.max&&a.min!==a.max||l*d>-15&&l*d<45?r+.1*(n-r):ou(h,a.max,l))+i<m&&(m=f+i)):\"min\"in a&&c<+a.min-1e-10&&(d=a.unitFactor||Ya.unitFactors[s]||1,(f=h<a.min&&a.min!==a.max||l*d>-45&&l*d<15?r+.1*(n-r):ou(h,a.min,l))+i<m&&(m=f+i)),f>D&&(D=f)),u>D&&(D=u));return D>m&&(D=m),D>n?n:D<r?r:D}(t,e,v&&m.max||10,v&&m.min||.2,v&&\"overshoot\"in m?+m.overshoot:_?0:1,!0);for(s in e=ja,ja=0,d=au(t,e,D,y),e)su[s]||(a=e[s],Qa(a)&&(a=a(r,t,i)),Ga(a)?h=a:Ka(a)&&!isNaN(a.velocity)?h=+a.velocity:o&&o.isTracking(s)?h=o.get(s):console.warn(\"ERROR: No velocity was defined for \"+t+\" property: \"+s),c=iu(h,x),p=0,u=D(t,s),l=Ia(u),u=parseFloat(u),Ka(a)&&(f=u+c,\"end\"in a&&(a=nu(a,d&&s in d?d:f,a.max,a.min,s,e.radius,h)),\"max\"in a&&+a.max<f?_||a.preventOvershoot?c=a.max-u:p=a.max-u-c:\"min\"in a&&+a.min>f&&(_||a.preventOvershoot?c=a.min-u:p=a.min-u-c)),this._props.push(s),this._pt=new za(this._pt,t,s,u,0,$a,0,g.set(t,s,this)),this._pt.u=l||0,this._pt.c1=c,this._pt.c2=p);return n.duration(x),1},render:function(t,e){var n,r=e._pt;for(t=Xa(e.tween._time/e.tween._dur);r;)r.set(r.t,r.p,(n=r.s+r.c1*t+r.c2*t*t,Math.round(1e4*n)/1e4+r.u),r.d,t),r=r._next}};\"track,untrack,isTracking,getVelocity,getByTarget\".split(\",\").forEach((function(t){return lu[t]=ka[t]})),qa()&&Ba.registerPlugin(lu);\r\n    /*!\r\n     * strings: 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var hu=/([\\uD800-\\uDBFF][\\uDC00-\\uDFFF](?:[\\u200D\\uFE0F][\\uD800-\\uDBFF][\\uDC00-\\uDFFF]){2,}|\\uD83D\\uDC69(?:\\u200D(?:(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC67|(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC66)|\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]\\uFE0F|\\uD83D\\uDC69(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92])|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC6F\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3C-\\uDD3E\\uDDD6-\\uDDDF])\\u200D[\\u2640\\u2642]\\uFE0F|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F\\u200D[\\u2640\\u2642]|(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642])\\uFE0F|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83D\\uDC69(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2695\\u2696\\u2708]|\\uD83D\\uDC69\\u200D[\\u2695\\u2696\\u2708]|\\uD83D\\uDC68(?:(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708]))\\uFE0F|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83D\\uDC69\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69]))|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|[#\\*0-9]\\uFE0F\\u20E3|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67)\\uDB40\\uDC7F|\\uD83D\\uDC68(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92])|(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]))|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC70\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDCAA\\uDD74\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD36\\uDDD1-\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\u200D(?:(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC67|(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC66)|\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC69\\uDC6E\\uDC70-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3D\\uDD3E\\uDDD1-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])?|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDEEB\\uDEEC\\uDEF4-\\uDEF8]|\\uD83E[\\uDD10-\\uDD3A\\uDD3C-\\uDD3E\\uDD40-\\uDD45\\uDD47-\\uDD4C\\uDD50-\\uDD6B\\uDD80-\\uDD97\\uDDC0\\uDDD0-\\uDDE6])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEF8]|\\uD83E[\\uDD10-\\uDD3A\\uDD3C-\\uDD3E\\uDD40-\\uDD45\\uDD47-\\uDD4C\\uDD50-\\uDD6B\\uDD80-\\uDD97\\uDDC0\\uDDD0-\\uDDE6])\\uFE0F)/;\r\n    /*!\r\n     * SplitText: 3.9.1\r\n     * https://greensock.com\r\n     *\r\n     * @license Copyright 2008-2021, GreenSock. All rights reserved.\r\n     * Subject to the terms at https://greensock.com/standard-license or for\r\n     * Club GreenSock members, the agreement issued with that membership.\r\n     * @author: Jack Doyle, jack@greensock.com\r\n    */\r\n    var cu,fu,pu,du,gu=/(?:\\r|\\n|\\t\\t)/g,Du=/(?:\\s\\s+)/g,mu=function(t){return fu.getComputedStyle(t)},vu=Array.isArray,_u=[].slice,yu=function(t,e){var n;return vu(t)?t:\"string\"==(n=typeof t)&&!e&&t?_u.call(cu.querySelectorAll(t),0):t&&\"object\"===n&&\"length\"in t?_u.call(t,0):t?[t]:[]},xu=function(t){return\"absolute\"===t.position||!0===t.absolute},wu=function(t,e){for(var n,r=e.length;--r>-1;)if(n=e[r],t.substr(0,n.length)===n)return n.length},Cu=function(t,e){void 0===t&&(t=\"\");var n=~t.indexOf(\"++\"),r=1;return n&&(t=t.split(\"++\").join(\"\")),function(){return\"<\"+e+\" style='position:relative;display:inline-block;'\"+(t?\" class='\"+t+(n?r++:\"\")+\"'>\":\">\")}},Fu=function t(e,n,r){var i=e.nodeType;if(1===i||9===i||11===i)for(e=e.firstChild;e;e=e.nextSibling)t(e,n,r);else 3!==i&&4!==i||(e.nodeValue=e.nodeValue.split(n).join(r))},Eu=function(t,e){for(var n=e.length;--n>-1;)t.push(e[n])},bu=function(t,e,n){for(var r;t&&t!==e;){if(r=t._next||t.nextSibling)return r.textContent.charAt(0)===n;t=t.parentNode||t._parent}},Tu=function t(e){var n,r,i=yu(e.childNodes),o=i.length;for(n=0;n<o;n++)(r=i[n])._isSplit?t(r):n&&r.previousSibling&&3===r.previousSibling.nodeType?(r.previousSibling.nodeValue+=3===r.nodeType?r.nodeValue:r.firstChild.nodeValue,e.removeChild(r)):3!==r.nodeType&&(e.insertBefore(r.firstChild,r),e.removeChild(r))},Mu=function(t,e){return parseFloat(e[t])||0},Au=function(t,e,n,r,i,o,s){var a,u,l,h,c,f,p,d,g,D,m,v,_=mu(t),y=Mu(\"paddingLeft\",_),x=-999,w=Mu(\"borderBottomWidth\",_)+Mu(\"borderTopWidth\",_),C=Mu(\"borderLeftWidth\",_)+Mu(\"borderRightWidth\",_),F=Mu(\"paddingTop\",_)+Mu(\"paddingBottom\",_),E=Mu(\"paddingLeft\",_)+Mu(\"paddingRight\",_),b=Mu(\"fontSize\",_)*(e.lineThreshold||.2),T=_.textAlign,M=[],A=[],P=[],S=e.wordDelimiter||\" \",O=e.tag?e.tag:e.span?\"span\":\"div\",k=e.type||e.split||\"chars,words,lines\",B=i&&~k.indexOf(\"lines\")?[]:null,L=~k.indexOf(\"words\"),N=~k.indexOf(\"chars\"),R=xu(e),X=e.linesClass,Y=~(X||\"\").indexOf(\"++\"),I=[],z=\"flex\"===_.display,H=t.style.display;for(Y&&(X=X.split(\"++\").join(\"\")),z&&(t.style.display=\"block\"),l=(u=t.getElementsByTagName(\"*\")).length,c=[],a=0;a<l;a++)c[a]=u[a];if(B||R)for(a=0;a<l;a++)((f=(h=c[a]).parentNode===t)||R||N&&!L)&&(v=h.offsetTop,B&&f&&Math.abs(v-x)>b&&(\"BR\"!==h.nodeName||0===a)&&(p=[],B.push(p),x=v),R&&(h._x=h.offsetLeft,h._y=v,h._w=h.offsetWidth,h._h=h.offsetHeight),B&&((h._isSplit&&f||!N&&f||L&&f||!L&&h.parentNode.parentNode===t&&!h.parentNode._isSplit)&&(p.push(h),h._x-=y,bu(h,t,S)&&(h._wordEnd=!0)),\"BR\"===h.nodeName&&(h.nextSibling&&\"BR\"===h.nextSibling.nodeName||0===a)&&B.push([])));for(a=0;a<l;a++)if(f=(h=c[a]).parentNode===t,\"BR\"!==h.nodeName)if(R&&(g=h.style,L||f||(h._x+=h.parentNode._x,h._y+=h.parentNode._y),g.left=h._x+\"px\",g.top=h._y+\"px\",g.position=\"absolute\",g.display=\"block\",g.width=h._w+1+\"px\",g.height=h._h+\"px\"),!L&&N)if(h._isSplit)for(h._next=u=h.nextSibling,h.parentNode.appendChild(h);u&&3===u.nodeType&&\" \"===u.textContent;)h._next=u.nextSibling,h.parentNode.appendChild(u),u=u.nextSibling;else h.parentNode._isSplit?(h._parent=h.parentNode,!h.previousSibling&&h.firstChild&&(h.firstChild._isFirst=!0),h.nextSibling&&\" \"===h.nextSibling.textContent&&!h.nextSibling.nextSibling&&I.push(h.nextSibling),h._next=h.nextSibling&&h.nextSibling._isFirst?null:h.nextSibling,h.parentNode.removeChild(h),c.splice(a--,1),l--):f||(v=!h.nextSibling&&bu(h.parentNode,t,S),h.parentNode._parent&&h.parentNode._parent.appendChild(h),v&&h.parentNode.appendChild(cu.createTextNode(\" \")),\"span\"===O&&(h.style.display=\"inline\"),M.push(h));else h.parentNode._isSplit&&!h._isSplit&&\"\"!==h.innerHTML?A.push(h):N&&!h._isSplit&&(\"span\"===O&&(h.style.display=\"inline\"),M.push(h));else B||R?(h.parentNode&&h.parentNode.removeChild(h),c.splice(a--,1),l--):L||t.appendChild(h);for(a=I.length;--a>-1;)I[a].parentNode.removeChild(I[a]);if(B){for(R&&(D=cu.createElement(O),t.appendChild(D),m=D.offsetWidth+\"px\",v=D.offsetParent===t?0:t.offsetLeft,t.removeChild(D)),g=t.style.cssText,t.style.cssText=\"display:none;\";t.firstChild;)t.removeChild(t.firstChild);for(d=\" \"===S&&(!R||!L&&!N),a=0;a<B.length;a++){for(p=B[a],(D=cu.createElement(O)).style.cssText=\"display:block;text-align:\"+T+\";position:\"+(R?\"absolute;\":\"relative;\"),X&&(D.className=X+(Y?a+1:\"\")),P.push(D),l=p.length,u=0;u<l;u++)\"BR\"!==p[u].nodeName&&(h=p[u],D.appendChild(h),d&&h._wordEnd&&D.appendChild(cu.createTextNode(\" \")),R&&(0===u&&(D.style.top=h._y+\"px\",D.style.left=y+v+\"px\"),h.style.top=\"0px\",v&&(h.style.left=h._x-v+\"px\")));0===l?D.innerHTML=\"&nbsp;\":L||N||(Tu(D),Fu(D,String.fromCharCode(160),\" \")),R&&(D.style.width=m,D.style.height=h._h+\"px\"),t.appendChild(D)}t.style.cssText=g}R&&(s>t.clientHeight&&(t.style.height=s-F+\"px\",t.clientHeight<s&&(t.style.height=s+w+\"px\")),o>t.clientWidth&&(t.style.width=o-E+\"px\",t.clientWidth<o&&(t.style.width=o+C+\"px\"))),z&&(H?t.style.display=H:t.style.removeProperty(\"display\")),Eu(n,M),L&&Eu(r,A),Eu(i,P)},Pu=function(t,e,n,r){var i,o,s,a,u,l,h,c,f=e.tag?e.tag:e.span?\"span\":\"div\",p=~(e.type||e.split||\"chars,words,lines\").indexOf(\"chars\"),d=xu(e),g=e.wordDelimiter||\" \",D=\" \"!==g?\"\":d?\"&#173; \":\" \",m=\"</\"+f+\">\",v=1,_=e.specialChars?\"function\"==typeof e.specialChars?e.specialChars:wu:null,y=cu.createElement(\"div\"),x=t.parentNode;for(x.insertBefore(y,t),y.textContent=t.nodeValue,x.removeChild(t),h=-1!==(i=function t(e){var n=e.nodeType,r=\"\";if(1===n||9===n||11===n){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=t(e)}else if(3===n||4===n)return e.nodeValue;return r}(t=y)).indexOf(\"<\"),!1!==e.reduceWhiteSpace&&(i=i.replace(Du,\" \").replace(gu,\"\")),h&&(i=i.split(\"<\").join(\"{{LT}}\")),u=i.length,o=(\" \"===i.charAt(0)?D:\"\")+n(),s=0;s<u;s++)if(l=i.charAt(s),_&&(c=_(i.substr(s),e.specialChars)))l=i.substr(s,c||1),o+=p&&\" \"!==l?r()+l+\"</\"+f+\">\":l,s+=c-1;else if(l===g&&i.charAt(s-1)!==g&&s){for(o+=v?m:\"\",v=0;i.charAt(s+1)===g;)o+=D,s++;s===u-1?o+=D:\")\"!==i.charAt(s+1)&&(o+=D+n(),v=1)}else\"{\"===l&&\"{{LT}}\"===i.substr(s,6)?(o+=p?r()+\"{{LT}}</\"+f+\">\":\"{{LT}}\",s+=5):l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||i.charCodeAt(s+1)>=65024&&i.charCodeAt(s+1)<=65039?(a=((i.substr(s,12).split(hu)||[])[1]||\"\").length||2,o+=p&&\" \"!==l?r()+i.substr(s,a)+\"</\"+f+\">\":i.substr(s,a),s+=a-1):o+=p&&\" \"!==l?r()+l+\"</\"+f+\">\":l;t.outerHTML=o+(v?m:\"\"),h&&Fu(x,\"{{LT}}\",\"<\")},Su=function t(e,n,r,i){var o,s,a=yu(e.childNodes),u=a.length,l=xu(n);if(3!==e.nodeType||u>1){for(n.absolute=!1,o=0;o<u;o++)(s=a[o])._next=s._isFirst=s._parent=s._wordEnd=null,(3!==s.nodeType||/\\S+/.test(s.nodeValue))&&(l&&3!==s.nodeType&&\"inline\"===mu(s).display&&(s.style.display=\"inline-block\",s.style.position=\"relative\"),s._isSplit=!0,t(s,n,r,i));return n.absolute=l,void(e._isSplit=!0)}Pu(e,n,r,i)},Ou=function(){function t(t,e){pu||(cu=document,fu=window,pu=1),this.elements=yu(t),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=e||{},this.split(e)}var e=t.prototype;return e.split=function(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,n,r,i=this.elements.length,o=t.tag?t.tag:t.span?\"span\":\"div\",s=Cu(t.wordsClass,o),a=Cu(t.charsClass,o);--i>-1;)r=this.elements[i],this._originals[i]=r.innerHTML,e=r.clientHeight,n=r.clientWidth,Su(r,t,s,a),Au(r,t,this.chars,this.words,this.lines,n,e);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},e.revert=function(){var t=this._originals;if(!t)throw\"revert() call wasn't scoped properly.\";return this.elements.forEach((function(e,n){return e.innerHTML=t[n]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},t.create=function(e,n){return new t(e,n)},t}();Ou.version=\"3.9.1\",vr.registerPlugin(Xe,_r,Me,Me,Fr,vi,Mi,Ki,Bo,Zo,dr,Da,lu);var ku=du=window.punchgs=window.tpGS={};for(var Bu in ku.gsap=vr,ku.TweenLite=Xe,ku.TweenMax=_r,ku.TimelineLite=Me,ku.TimelineMax=Me,ku.CustomBounce=Fr,ku.CustomEase=vi,ku.CustomWiggle=Mi,ku.DrawSVGPlugin=Ki,ku.MotionPathPlugin=Bo,ku.ScrollToPlugin=Zo,ku.CSSPlugin=dr,ku.draggable=Da,ku.inertia=lu,\r\n    /*! Map SplitText to tpGS TPGSSPLITTEXT */\r\n    ku.SplitText=Ou,ku.RAD2DEG=180/Math.PI,ku.DEG2RAD=Math.PI/180,\r\n    /*! REGISTER MOTION PATH (BEZIER) */\r\n    ku.gsap.registerPlugin(ku.MotionPathPlugin),ku.gsap.config({nullTargetWarn:!1}),\r\n    /*!FallBack for old and new Eases*/\r\n    ku.eases=ku.gsap.parseEase(),ku.eases)ku.eases.hasOwnProperty(Bu)&&void 0===ku[Bu]&&(ku[Bu]=ku.eases[Bu])\r\n    /*! FallBack for Essential Grid */;void 0!==du&&void 0!==du.TweenLite&&void 0===du.TweenLite.lagSmoothing&&(du.TweenLite.lagSmoothing=function(){});var Lu=[];function Nu(t,e,n){var r=document.createElement(\"canvas\"),i=r.getContext(\"2d\");if(r.width=100,r.height=200,0===t.length)i.fillStyle=n;else{for(var o=i.createLinearGradient(0,0,100,0),s=0;s<t.length;s++)o.addColorStop(t[s].stop/100,t[s].color);i.fillStyle=o}i.fillRect(0,0,100,200);var a=i.getImageData(0,0,100,2).data,u=\"\";for(s=0;s<e.length;s++){var l=Math.ceil(e[s]),h=4*(0!==l?l-1:l);u+=\"rgba(\"+a[h]+\",\"+a[h+1]+\",\"+a[h+2]+\",\"+a[h+3]/255+\")\",u+=\" \"+l+(e.length-1===s?\"%\":\"%,\")}return r.remove(),u}function Ru(t,e,n,r){for(var i=\"\",o=ku.gsap.utils.mapRange(0,r.length-1,0,t.length-1),s=0;s<r.length;s++){var a=Math.round(o(s));i+=t[a].color,i+=\" \"+t[a].stop+(r.length-1===s?\"%\":\"%,\")}return i}function Xu(t){var e=/rgb([\\s\\S]*?)%/g,n=[],r=[],i=[];do{(s=e.exec(t))&&n.push(s[0])}while(s);for(var o=0;o<n.length;o++){var s=n[o],a=(t=/rgb([\\s\\S]*?)\\)/.exec(s),/\\)([\\s\\S]*?)%/.exec(s));t[0]&&(t=t[0]),a[1]&&(a=a[1]),i.push(parseFloat(a)),r.push({color:t,stop:parseFloat(a)})}return 0===r.length&&(r.push({color:t,stop:0}),i.push(0),r.push({color:t,stop:100}),i.push(100)),{points:r,stops:i}}ku.getSSGColors=function(t,e,n){if(n=void 0===n?\"fading\":n,-1===t.indexOf(\"gradient\")&&-1===e.indexOf(\"gradient\"))return{from:t,to:e};for(var r={from:t,to:e},i=0;i<Lu.length;i++){if(Lu[i].from===t&&Lu[i].to===e&&Lu[i].type===n)return{from:Lu[i].rFrom,to:Lu[i].rTo};if(Lu[i].from===e&&Lu[i].to===t&&Lu[i].type===n)return{from:Lu[i].rTo,to:Lu[i].rFrom}}var o=Xu(t),s=Xu(e);if(o.stops.length===s.stops.length&&-1!==t.indexOf(\"gradient\")&&-1!==e.indexOf(\"gradient\"))return{from:t,to:e};var a,u,l=o.stops;for(i=0;i<s.stops.length;i++)-1===l.indexOf(s.stops[i])&&l.push(s.stops[i]);if(l.sort((function(t,e){return t-e})),-1!==t.indexOf(\"gradient(\")){var h=-1!==t.indexOf(\"deg,\")?t.indexOf(\"deg,\")+4:-1!==t.indexOf(\"at center,\")?t.indexOf(\"at center,\")+10:t.indexOf(\"gradient(\")+9;a=t.substring(0,h),-1===e.indexOf(\"gradient(\")&&(u=t.substring(0,h))}if(-1!==e.indexOf(\"gradient(\")){h=-1!==e.indexOf(\"deg,\")?e.indexOf(\"deg,\")+4:-1!==e.indexOf(\"at center,\")?e.indexOf(\"at center,\")+10:e.indexOf(\"gradient(\")+9;u=e.substring(0,h),-1===t.indexOf(\"gradient(\")&&(a=e.substring(0,h))}return\"fading\"===n?(o.stops.length,s.stops.length,a+=Nu(o.points,l,t),u+=Nu(s.points,l,e)):\"sliding\"===n&&(o.stops.length>s.stops.length?u+=Ru(s.points,l,e,o.points):a+=Ru(o.points,l,t,s.points)),a+=\")\",u+=\")\",\"sliding\"===n&&(o.stops.length>s.stops.length?a=t:u=e),r.rFrom=a,r.rTo=u,r.tyep=n,Lu.push(r),{from:a,to:u}}}]);\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.tpGS = {loaded:true, version:\"6.6.1\"};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();","Nwdthemes_Revslider/public/assets/js/dev/rs6.carousel.js":"/********************************************\r\n * REVOLUTION  EXTENSION - CAROUSEL\r\n * @date:  06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n    \"use strict\";\r\n    var version=\"6.6.0\";\r\n    jQuery.fn.revolution = jQuery.fn.revolution || {};\r\n    var _R = jQuery.fn.revolution;\r\n\r\n        ///////////////////////////////////////////\r\n        // \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n        ///////////////////////////////////////////\r\n    jQuery.extend(true,_R, {\r\n\r\n        // CALCULATE CAROUSEL POSITIONS\r\n        prepareCarousel : function(id,direction,speed, skip) {\r\n            if (id===undefined) return;\r\n            var _ = _R[id].carousel;\r\n\r\n            _.slidesWithRowAdjustions = {};\r\n            direction = _.lastdirection = dircheck(direction,_.lastdirection);\r\n            _R.setCarouselDefaults(id, undefined, skip);\r\n\r\n            _R.organiseCarousel(id,\"right\",true,false,false);\r\n\r\n            // if (_.focusedAfterAnimation === _.focused) return;\r\n            if (_.swipeTo===undefined || !_R.isNumeric(_.swipeTo)) {\r\n                _R.swipeAnimate({id:id,to:0,direction:direction,speed:0});\r\n            } else if (speed!==undefined)\r\n                _R.swipeAnimate({id:id,to:_.swipeTo, distance: _.swipeToDistance, direction:direction,fix:true,speed:speed});\r\n            else _R.swipeAnimate({id:id,to:_.swipeTo, distance: _.swipeToDistance, direction:direction,fix:true});\r\n\r\n            if (_R[id].sliderType===\"carousel\" && !_.fadein) {\r\n                tpGS.gsap.to(_R[id].canvas,1,{scale:1,opacity:1});\r\n                _.fadein=true;\r\n            }\r\n        },\r\n\r\n        setupCarousel: function(id){\r\n\r\n            var _ = _R[id].carousel;\r\n\r\n            if(_.orientation==\"v\"){\r\n                _.length = 'height';\r\n                _.translate = 'y';\r\n                _.slide_dims = 'slide_heights';\r\n                _.deltaT = 'deltaY';\r\n                _.sliderLength = 'sliderHeight';\r\n                _.slide_length = 'slide_height';\r\n                _.wraplength = 'wrapheight';\r\n                _.align = _.vertical_align === '0%' ? 'start' : _.vertical_align === '50%' ? 'center' : 'end';\r\n                if(_.snap && !_.justify && !_.infinity) _.forceBAlign = true;\r\n            } else {\r\n                _.length = 'width';\r\n                _.translate = 'x';\r\n                _.slide_dims = 'slide_widths';\r\n                _.deltaT = 'deltaX';\r\n                _.sliderLength = 'sliderWidth';\r\n                _.slide_length = 'slide_width';\r\n                _.wraplength = 'wrapwidth';\r\n                _.align = _.horizontal_align === 'left' ? 'start' : _.horizontal_align === 'center' ? 'center' : 'end';\r\n            }\r\n\r\n            _[_.sliderLength] = _R[id].canv[_.length];\r\n            _.proxy = document.createElement('div');\r\n            _.follower = document.createElement('div');\r\n            _.slideamount = _R[id].slideamount;\r\n\r\n            if(!_.infinity && !_.snap)_R[id].carousel.align = 'start';\r\n            initCarArrays(id);\r\n            updateEdgeCalculation(id, _.align);\r\n\r\n            _.inited = true;\r\n\r\n            _.lerpHandler = _R.carLerpHandler.bind(this, id);\r\n\r\n            if(_.animInList === undefined) _.animInList = [];\r\n\r\n            _.draggableObj = {\r\n                trigger: _R[id].c[0],\r\n                type: _.translate,\r\n                edgeResistance: 0.5,\r\n                zIndexBoost: false,\r\n                cursor: 'grab',\r\n                activeCursor: 'grabbing',\r\n                allowContextMenu: true,\r\n                inertia: true,\r\n                throwResistance: 8000,\r\n                onPress: function(e){\r\n                    if(_R.closestClass(e.target, 'rs-nav-element')) {\r\n                        _.draggable.endDrag();\r\n                        _.draggable.disable();\r\n                    } else _R[id].c.trigger('stoptimer');\r\n\r\n                    _.focusedOnPress = _.focused;\r\n                    _.isPressed = true;\r\n                    if(_.tween && _.tween.kill){\r\n                        _.tween.kill();\r\n                        delete _.tween;\r\n                    }\r\n                },\r\n                onClick: function(e){\r\n                    if(_R.closestClass(e.target, 'rs-nav-element') || _R.closestClass(e.target, 'rs-waction')) return;\r\n                    if(!_.draggable.enabled()) return;\r\n                    if(_R[id].carousel.stopOnClick === false) _R[id].c.trigger('starttimer');\r\n                },\r\n                onDragStart: function(){\r\n                    _.lerpSpeed = 0.1;\r\n                    if(!_.lerp) _.lerp = requestAnimationFrame(_.lerpHandler);\r\n                    if(_R.ISM && _.forceBAlign) {\r\n                        if(this.getDirection() === \"up\" && _.focused == _.slideamount -1 ||\r\n                        this.getDirection() === \"down\" && _.focused == 0) _.forceScroll = true;\r\n                        else _.forceScroll = false;\r\n                    }\r\n                },\r\n                snap: function(v){\r\n                    _R.getLastPos(id);\r\n                    if(_.forceScroll && _.forceBAlign) {\r\n                        if(this.getDirection() === \"up\") _R.document.scrollTop(_R[id].cpar.offset().top + _R[id].module.height);\r\n                        else _R.document.scrollTop(_R.document.scrollTop() - (window.innerHeight - _R[id].cpar[0].getBoundingClientRect().top));\r\n                        return _.focused == _.slideamount -1 && !_.infinity ? (_[_.wraplength] - _.totalWidth) : _.lastPos;\r\n                    }\r\n                    _R.calculateSnap(id, v);\r\n                    _.isPressed = false;\r\n                    return v;\r\n                },\r\n            }\r\n            _.draggable = tpGS.draggable.create(_.proxy, _.draggableObj)[0];\r\n\r\n            _R[id].c.one('revolution.slide.onchange', function (){triggerCarouselChange(id);});\r\n        },\r\n\r\n        positionCarousel: function(id){\r\n            var _ = _R[id].carousel;\r\n            _[_.sliderLength] = _R[id].canv[_.length];\r\n            if(_.draggable.isPressed) return;\r\n            initCarArrays(id);\r\n            if ((_R.ISM && _R[id].navigation.touch.mobileCarousel) || (_R.ISM!==true && _R[id].navigation.touch.desktopCarousel)) {\r\n                _.draggable.vars.cursor = \"grab\";\r\n                _.draggable.enable();\r\n            }\r\n            else {\r\n                _.draggable.vars.cursor = \"pointer\";\r\n                _.draggable.disable();\r\n            }\r\n\r\n            if(_R[id].carousel.justify){\r\n                _.wrapperWidth = 0;\r\n                for(var i = 0; i < _R[id].carousel[_.slide_dims].length; i++){\r\n                    _.wrapperWidth += _R[id].carousel[_.slide_dims][i];\r\n                }\r\n            } else{\r\n                _.wrapperWidth = _.slide_width * _R[id].slides.length;\r\n            }\r\n            if(_.focused === undefined) _.focused = 0;\r\n            _.activeSlide = _.focused;\r\n\r\n            for(var i = 0; i < _.arr.length; i++){\r\n                _R.updateSlideWidth(id, i);\r\n            }\r\n\r\n            var totalWidth = 0;\r\n\r\n            _.lastWrapwidth = _.wrapwidth;\r\n            _.lastWrapheight = _.wrapheight;\r\n            // spacing calculation\r\n            var startOffset;\r\n            var tempOffset;\r\n            if(_R[id].carousel.align === 'start'){\r\n                startOffset = 0;\r\n            }else if(_R[id].carousel.align === 'center') {\r\n                startOffset = (_[_.wraplength] - _.arr[_.focused][_.length])/2;\r\n            }else {\r\n                startOffset = (_[_.wraplength] - _.arr[_.focused][_.length]);\r\n            }\r\n            tempOffset = startOffset;\r\n            if(!_.infinity && _.orientation === \"v\" && _.focused == _.slideamount - 1) {\r\n                startOffset = (_[_.wraplength] - _.arr[_.focused][_.length]);\r\n            }\r\n            tpGS.gsap.set([_.proxy, _.follower], {x: startOffset, y: startOffset});\r\n\r\n            if(_.infinity){\r\n                // adds space to next slides\r\n                for(var i = _.focused; i < _.arr.length; i++){\r\n                    if(i !== _.focused) totalWidth += _.space;\r\n\r\n                    if(_.orientation === \"h\") tpGS.gsap.set(_.arr[i].elem, {x: totalWidth + startOffset});\r\n                    else tpGS.gsap.set(_.arr[i].elem, {y: totalWidth + startOffset});\r\n                    _.arr[i].posX = totalWidth + startOffset;\r\n                    _.arr[i][_.translate] = totalWidth + startOffset;\r\n                    totalWidth += _.arr[i][_.length];\r\n                }\r\n\r\n                var lastPosX = startOffset;\r\n\r\n                // adds space to previous slides\r\n                for(var i = _.focused - 1; i >= 0; i--){\r\n                    lastPosX -= _.arr[i][_.length] + _.space;\r\n                    _.arr[i].posX = lastPosX;\r\n                    _.arr[i][_.translate] = lastPosX;\r\n                    if(_.orientation === \"h\") tpGS.gsap.set(_.arr[i].elem, {x: lastPosX});\r\n                    else tpGS.gsap.set(_.arr[i].elem, {y: lastPosX});\r\n                    totalWidth += _.arr[i][_.length] + _.space;\r\n                }\r\n                tpGS.gsap.set([_.proxy, _.follower], {x: _.arr[_.focused].posX, y: _.arr[_.focused].posX});\r\n            } else{\r\n                var shift = 0;\r\n                for(var i = 0; i < _.arr.length; i++){\r\n                    if(i>0)totalWidth += _.space;\r\n                    if(i == _.focused) shift += totalWidth;\r\n                    _.arr[i].posX = totalWidth + startOffset;\r\n                    _.arr[i][_.translate] = totalWidth + startOffset;\r\n                    if(_.orientation === \"h\") tpGS.gsap.set(_.arr[i].elem, {x: totalWidth + startOffset});\r\n                    else tpGS.gsap.set(_.arr[i].elem, {y: totalWidth + startOffset});\r\n                    totalWidth += _.arr[i][_.length];\r\n                }\r\n                tpGS.gsap.set([_.proxy, _.follower], {x: startOffset - shift, y: startOffset - shift});\r\n                if(_.orientation === \"h\") tpGS.gsap.set([_R[id].slides], {x:  \"-=\" + shift});\r\n                else tpGS.gsap.set([_R[id].slides], {y:  \"-=\" + shift});\r\n\r\n                for(var i = 0; i < _.arr.length; i++){\r\n                    _.arr[i].posX -= shift;\r\n                    _.arr[i][_.translate] -= shift;\r\n                }\r\n\r\n            }\r\n            _.startOffset = tempOffset;\r\n            _R.swapCarouselSlides(id, true);\r\n            if(_.infinity) {\r\n                _.draggable.applyBounds({\r\n                    minX: -Infinity,\r\n                    maxX: Infinity\r\n                });\r\n            } else if(!_.infinity && _.snap){\r\n                _.draggable.applyBounds({\r\n                    minX: -(_.startOffset + totalWidth),\r\n                    maxX: _.startOffset\r\n                });\r\n            } else if(!_.infinity && !_.snap){\r\n                _.draggable.applyBounds({\r\n                    minX: (_.wrapwidth - totalWidth),\r\n                    maxX: 0\r\n                });\r\n            }\r\n            _.lastActiveSlide = _.activeSlide;\r\n            _.totalWidth = totalWidth;\r\n            _.lastTotalWidth = totalWidth;\r\n            if(_.spin !== 'off'){\r\n                var w = _[_.slide_length];\r\n\r\n                var base = w/2;\r\n                _.spinAngle = Math.max(Math.min(_.spinAngle, 360/_.arr.length), -360/_.arr.length);\r\n\r\n                var hype = base/Math.sin((_.spinAngle/2) * Math.PI/180)\r\n                _.spinR = (Math.sqrt(hype * hype - base * base)  + _.space ) * Math.sign(_.spinAngle);\r\n\r\n                if(_.spin === '2d' && _.orientation === 'h') _.spinR += (_.spinAngle <= 0 ? 0 : 1) * (_R[id].sliderLayout === 'fullscreen' ? _.wrapheight : _.slide_height);\r\n                else if(_.spin === '2d') _.spinR += (_.spinAngle <= 0 ? 0 : 1) * (_R[id].sliderLayout === 'fullscreen' ? _.wrapwidth : _.slide_width);\r\n            }\r\n\r\n            for(var i = 0; i < _.trackArr.length; i++){\r\n                for(var j = 0; j < _.arr.length; j++){\r\n                    if(_.trackArr[i].elem === _.arr[j].elem){\r\n                        _.trackArr[i].width = _.arr[j].width;\r\n                        _.trackArr[i].height = _.arr[j].height;\r\n                    }\r\n                }\r\n            }\r\n            _.oldfocused = _.focused;\r\n            _R.applyDistanceEffect(id);\r\n        },\r\n\r\n        updateSlideWidth: function(id, index){\r\n            var _ = _R[id].carousel;\r\n            if(_.justify){\r\n                for(var i = 0; i < _R[id].slides.length; i++){\r\n                    if(_R[id].slides[i] === _.arr[index].elem){\r\n                        _.arr[index][_.length] = _[_.slide_dims][i];\r\n                    }\r\n                }\r\n            } else {\r\n                _.arr[index][_.length] = _[_.slide_length];\r\n            }\r\n        },\r\n        swapCarouselSlides: function(id){\r\n            var _ = _R[id].carousel;\r\n            var recheck = true;\r\n            if(!_.infinity || _.totalWidth < _[_.wraplength]) return;\r\n            // swap slide positions if visible canvas needs slides\r\n            var lastSwap;\r\n            while(recheck){\r\n\r\n                var swapToLeft = parseFloat(_.arr[0][_.translate]) > 0 || (_.arr[0].progress !== undefined && _.arr[0].progress <= 1 && !(_.arr[_.arr.length - 1].progress <= 1));\r\n                var swapToRight = parseFloat(_.arr[_.arr.length - 1][_.translate]) < _[_.wraplength] - _.arr[_.arr.length - 1][_.length] ||\r\n                (_.arr[_.arr.length - 1].progress !== undefined && _.arr[_.arr.length - 1].progress <= 1 && !(_.arr[0].progress <= 1));\r\n\r\n                if(swapToLeft){\r\n                    var lastPosX = parseFloat(_.arr[0][_.translate]) - _.space;\r\n                    var val = _.arr.pop();\r\n                    _.arr.unshift(val);\r\n\r\n                    if(lastSwap === val) recheck = false;\r\n                    lastSwap = val;\r\n                    _.arr[0].posX = _.arr[0][_.translate] = lastPosX - _.arr[0][_.length];\r\n                    _R.getCarActiveSlide(id);\r\n                } else if(swapToRight){\r\n\r\n                    var lastPosX = parseFloat(_.arr[_.arr.length - 1][_.translate]) + _.space;\r\n                    var val = _.arr.shift();\r\n                    _.arr.push(val);\r\n                    if(lastSwap === val) recheck = false;\r\n                    lastSwap = val;\r\n                    _.arr[_.arr.length - 1].posX = _.arr[_.arr.length - 1][_.translate] = lastPosX + _.arr[_.arr.length - 2][_.length];\r\n                    _R.getCarActiveSlide(id);\r\n                } else recheck = false;\r\n            }\r\n        },\r\n\r\n        onThrowComplete: function(id){\r\n            var _ = _R[id].carousel;\r\n            if (_R[id].sliderType===\"carousel\" && !_.fadein) {\r\n                tpGS.gsap.to(_R[id].canvas,1,{scale:1,opacity:1});\r\n                _.fadein=true;\r\n            }\r\n            _R.getCarActiveSlide(id, true);\r\n            var focused = _.arr[_.activeSlide];\r\n            for(var i = 0; i < _R[id].slides.length; i++){\r\n                if(_R[id].slides[i] === focused.elem){\r\n\r\n                    _.focused = parseFloat(i);\r\n                    if(_.focused === _.oldfocused) break;\r\n                    _R[id].pr_next_key = (_.focused).toString();\r\n                    if(!_.animInList.includes((_.oldfocused).toString())) _.animInList.push((_.oldfocused).toString());\r\n                    if(_.showLayersAllTime !== \"all\"){\r\n                        while(_.animInList.length >= 1){\r\n                            var oldFocusedIndex = _.animInList.pop();\r\n                            if (_.focused!=oldFocusedIndex) _R.removeTheLayers(jQuery(_R[id].slides[oldFocusedIndex]),id);\r\n                        }\r\n                    }\r\n\r\n                    _R.callingNewSlide(id, _R[id].slides[i].getAttribute('data-key'),true, true);\r\n                    _R[id].c.trigger('restarttimer');\r\n                    _R[id].c.trigger(\"revolution.nextslide.waiting\");\r\n                    triggerCarouselChange(id);\r\n                    if (_.focused!=_.oldfocused) {\r\n                        if(_.showLayersAllTime !== \"all\"){\r\n                            if(!_.animInList.includes((_.focused).toString())) _.animInList.push((_.focused).toString());\r\n                            _R.animateTheLayers({slide:_.focused, id:id, mode: \"start\"});\r\n                            _R.animateTheLayers({slide:'individual', id:id, mode:(!_R[id].carousel.allLayersStarted ? \"start\" : \"rebuild\")});\r\n                        }\r\n                    }\r\n                    for (var nbgi in _R[id].sbgs) {\r\n\r\n                        if (!_R[id].sbgs.hasOwnProperty(nbgi) || _R[id].sbgs[nbgi].bgvid===undefined || _R[id].sbgs[nbgi].bgvid.length===0) continue;\r\n                        if (\"\"+_R[id].sbgs[nbgi].skeyindex===\"\"+_.focused)\r\n                            _R.playBGVideo(id,_R.gA(_R[id].pr_next_slide[0],\"key\"));\r\n                        else\r\n                            _R.stopBGVideo(id,_R[id].sbgs[nbgi].key);\r\n                    }\r\n                    _.oldfocused = _.focused;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            _.draggable[_.deltaT] = 0;\r\n            _R[id].c.trigger('restarttimer');\r\n        },\r\n\r\n        calculateSnap: function(id, target){\r\n            var _ = _R[id].carousel;\r\n\r\n            tpGS.gsap.killTweensOf(_.proxy, _.translate);\r\n\r\n            var delta = _.orientation === \"v\" ? target - _.draggable.endY : target - _.draggable.endX;\r\n            var overshoot = true;\r\n            var direction;\r\n            var traveled = _.orientation === \"v\" ? Math.abs(_.draggable.endY - _.draggable.startY) : Math.abs(_.draggable.endX - _.draggable.startX)\r\n\r\n            _.focusedPreSnap = _.focused;\r\n            if(_.snap){\r\n                direction = _.direction = _.draggable[_.deltaT] >= 0 ? 'right' : 'left';\r\n                var nsInfo = _R.getNextSlide(id, delta, direction, true, traveled < 300);\r\n\r\n                delta = nsInfo.delta;\r\n                overshoot = nsInfo.overshoot;\r\n                _.target = nsInfo.target;\r\n\r\n            } else _.target = target;\r\n\r\n\r\n\r\n            if(!_.infinity && !_.snap || (!_.infinity && _.orientation === \"v\")){\r\n                if(_.target <= (_[_.wraplength] - _.totalWidth)) _.target = (_[_.wraplength] - _.totalWidth);\r\n                else if(_.target >= 0 && !_.snap) _.target = 0;\r\n            }\r\n            _.swiped = true;\r\n            if(_.overshoot && overshoot) {\r\n                tpGS.gsap.to(_, {duration: _.snap ? 0.3 : 0.5, lerpSpeed: 0.8});\r\n                overshoot = Math.min(_.draggable[_.deltaT] === 0 ? Math.abs(delta)/20 : Math.abs(_.draggable[_.deltaT])/2, _[_.wraplength]/4) * Math.sign(delta);\r\n\r\n                var time = Math.abs(overshoot/100);\r\n                _.time = Math.min(Math.max(time/10, _.speed/1000 * 0.6), _.speed/1000);\r\n\r\n                _.tween = tpGS.gsap.timeline({\r\n                    onComplete: function(){\r\n                        _R.snapCompleted(id);\r\n                    }\r\n                })\r\n                _.tween.to(_.proxy, {\r\n                    x: _.target + overshoot,\r\n                    y: _.target + overshoot,\r\n                    duration: _.time,\r\n                    ease: 'power2.out'\r\n                })\r\n                .to(_.proxy, {\r\n                    x: _.target,\r\n                    y: _.target,\r\n                    duration: Math.min(_.time * 2, 0.6),\r\n                    ease: (_.easing.replace('.inOut', '.out').replace('.in', '.out'))\r\n                }, 'overshoot')\r\n                .to(_, {duration: Math.min(_.time * 2, 0.6), lerpSpeed: 1\r\n                }, 'overshoot');\r\n            } else{\r\n                time = Math.abs(delta/100);\r\n                _.time = Math.min(Math.max(time/10, _.speed/1000 * 0.6), _.speed/1000);\r\n\r\n                _.tween = tpGS.gsap.to(_.proxy, {\r\n                    x: _.target,\r\n                    y: _.target,\r\n                    duration: _.time,\r\n                    ease: (_.easing.replace('.inOut', '.out').replace('.in', '.out')),\r\n                    onComplete: function(){\r\n                        _R.snapCompleted(id);\r\n                    }\r\n                });\r\n                tpGS.gsap.to(_, {duration: _.time, lerpSpeed: 1});\r\n            }\r\n\r\n        },\r\n\r\n        carLerpHandler: function(id, skip){\r\n            var _ = _R[id].carousel;\r\n            if(skip !== \"skip\") _.lerp = requestAnimationFrame(_.lerpHandler);\r\n            var t = parseFloat(_.proxy._gsap[_.translate]);\r\n            var f = parseFloat(_.follower._gsap[_.translate]);\r\n            var df = f + (t-f) * _.lerpSpeed;\r\n            var dx = df - f;\r\n\r\n            tpGS.gsap.set(_R[id].canvas, {\r\n                skewX: _.skewX * Math.max(-1, Math.min(1, dx/100)),\r\n                skewY: _.skewY * Math.max(-1, Math.min(1, dx/100))\r\n            });\r\n\r\n            if(_.orientation === \"h\"){\r\n                tpGS.gsap.set(_.follower, {x: \"+=\" + dx});\r\n                tpGS.gsap.set(_.arr, {x: \"+=\" + dx});\r\n            } else {\r\n                tpGS.gsap.set(_.follower, {y: \"+=\" + dx});\r\n                tpGS.gsap.set(_.arr, {y: \"+=\" + dx});\r\n            }\r\n\r\n            _R.swapCarouselSlides(id);\r\n            _R.applyDistanceEffect(id);\r\n        },\r\n\r\n        snapCompleted: function(id){\r\n            var _ = _R[id].carousel;\r\n            _.lerp = cancelAnimationFrame(_.lerp);\r\n            _.swiped = false;\r\n            tpGS.gsap.set(_.follower, {\r\n                x:  _.proxy._gsap[_.translate],\r\n                y:  _.proxy._gsap[_.translate]\r\n            });\r\n            _R.onThrowComplete(id);\r\n        },\r\n\r\n        applyDistanceEffect: function(id){\r\n            var _ = _R[id].carousel;\r\n            var shortest = Infinity;\r\n            var loaded = 0;\r\n            var closest = 0;\r\n            if(_.lastSlideProgress === undefined) _.lastSlideProgress = 1;\r\n            var tempOffset = _.startOffset;\r\n            _.startOffsetCache = _.startOffset;\r\n            if(_.tempAlign === undefined) _.tempAlign = _.align;\r\n            if(_.orientation === \"v\" && !_.infinity && !_.justify) {\r\n                tempOffset = _.startOffset + (_[_.wraplength] - _[_.slide_length] - _.startOffset) * (1 - _.lastSlideProgress);\r\n            }\r\n            for(var i in _.arr){\r\n                var d = (parseFloat(_.arr[i][_.translate]) - tempOffset);\r\n                if(_.infinity) d %= _.totalWidth;\r\n                if(Math.abs(d) < shortest){\r\n                    for(var j = 0; j < _R[id].slides.length; j++){\r\n                        if(_R[id].slides[j] ===_.arr[i].elem) {\r\n                            closest = j;\r\n                            _.closestArr = i;\r\n                        }\r\n                    }\r\n                    shortest = Math.abs(d);\r\n                }\r\n\r\n                if(_.arr[i].loaded) loaded++;\r\n\r\n\r\n                if(!_.infinity && !_.snap){\r\n                    if(_.activeSlide === 0) {d = parseFloat(_.arr[i][_.translate]);}\r\n                    else if(_.activeSlide === _.arr.length - 1) d = (parseFloat(_.arr[i][_.translate]) - (_[_.wraplength] - _.arr[i][_.length]));\r\n                }\r\n\r\n                var sign = Math.sign(d);\r\n                var progress = _.arr[i].progress = Math.abs(d)/(_[_.slide_length] + _.space);\r\n                if(_.orientation === \"v\" && !_.infinity && i == _.slideamount -1){\r\n                    if(progress <= (_.direction === \"left\" ? 0.9 : 0.1) && !_.vertAlignBottom){\r\n                        tpGS.gsap.to(_, {lastSlideProgress: 0,duration: 0.2});\r\n                        _.vertAlignDefault = false;\r\n                        _.vertAlignBottom = true;\r\n                        _.tempAlign = \"end\";\r\n                        updateEdgeCalculation(id, \"end\");\r\n                    } else if(progress > (_.direction === \"left\" ? 0.9 : 0.1) && !_.vertAlignDefault){\r\n                        tpGS.gsap.to(_, {lastSlideProgress: 1, duration: 0.2});\r\n                        _.vertAlignDefault = true;\r\n                        _.vertAlignBottom = false;\r\n                        _.tempAlign = _.align;\r\n                        updateEdgeCalculation(id, _.align);\r\n                    }\r\n                }\r\n\r\n\r\n                _.arr[i].sign = sign;\r\n\r\n                var pv = _.arr[i].progress;\r\n                pv = pv/Math.ceil(_.pDiv) * (_.tempAlign === 'center' ? 1 : _.tempAlign === 'start' ? sign : -sign);\r\n\r\n                var p = Math.min(_.arr[i].progress, 1)/1;\r\n                var zIndex = 100 - 5 * Math.round(_.arr[i].progress);\r\n                var obj = {};\r\n                if(!_.justify && _.spin !== 'off'){\r\n\r\n                    obj[_.translate] = tempOffset;\r\n                    if(_.spin === '2d') {\r\n                        obj.rotation = _.spinAngle * progress * (_.orientation === 'h' ? sign : -sign);\r\n                        if(_.orientation === 'h') obj.transformOrigin = 'center ' + _.spinR + 'px 0';\r\n                        else obj.transformOrigin = _.spinR + 'px center 0';\r\n                    } else {\r\n                        if(_.orientation === 'h'){\r\n                            obj.rotationY = _.spinAngle * _.arr[i].progress * -sign;\r\n                        } else {\r\n                            obj.rotationX = _.spinAngle * _.arr[i].progress * sign;\r\n                        }\r\n                        obj.transformOrigin = 'center center ' + _.spinR + 'px';\r\n                    }\r\n                } else if(_.minScale === 0 || _.justify) obj[_.translate] = _.arr[i][_.translate];\r\n                else {\r\n                    var scale = 1 - (_.vary_scale ? pv : p) * (1 - _.minScale);\r\n                    var translateOffset = _.offsetScale ? _.arr[i].sign * (_[_.slide_length] + _.space - (_[_.slide_length] + _.space) * scale)/2 * _.arr[i].progress\r\n                            :_.arr[i].sign * (_[_.slide_length] - _[_.slide_length] * scale)/2 * _.arr[i].progress;\r\n                    obj[_.translate] = _.arr[i][_.translate] - translateOffset;\r\n                    if(window.isSafari11) obj.z = (1-scale) * -150;\r\n                    obj.scale = scale;\r\n                }\r\n\r\n                obj.opacity = 1;\r\n                if(!_.justify){\r\n                    if(_.maxRotation !== 0) obj.rotationY = _.maxRotation * (_.vary_rotation ? pv : p) * -sign;\r\n                    obj.opacity = 1 + ((_.maxOpacity - 1) * (_.vary_fade ? pv : p));\r\n                    if(pv > _.edgeRatio) obj.opacity = _.oRange(pv);\r\n                    else if(pv < 0) obj.opacity = _.oRangeMin(pv);\r\n                    else if(_.maxOpacity === 1) obj.opacity = 1;\r\n                }\r\n\r\n                obj.zIndex = zIndex;\r\n                if(obj.opacity > 0 ) {\r\n                    obj.visibility = \"visible\";\r\n                    tpGS.gsap.set(_.arr[i].elem, obj);\r\n                } else {\r\n                    tpGS.gsap.set(_.arr[i].elem, {\r\n                        visibility: \"hidden\",\r\n                        opacity: obj.opacity\r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n            if(closest !== _.closest) {\r\n                _.closest = closest;\r\n                if(loaded !== _.arr.length) _R.loadVisibleCarouselItems(id,true, _.closest);\r\n\r\n                if(_.draggable.isPressed){\r\n                    _.focused = _.closest;\r\n                    _R[id].pr_next_key = (_.focused).toString();\r\n                    _.oldfocused = _.oldfocused===undefined ? 0 : _.oldfocused;\r\n                    if (_R[id].carousel.allLayersStarted) _R.updateCarouselRows(id); else _R.carouselRowAdjustment(_,id,_.focused);\r\n\r\n                    if(_.showLayersAllTime !== \"all\"){\r\n                        if(!_.animInList.includes((_.oldfocused).toString())) _.animInList.push((_.oldfocused).toString());\r\n                        while(_.animInList.length >= 1){\r\n                            var oldFocusedIndex = _.animInList.pop();\r\n                            if (_.focused!=oldFocusedIndex) _R.removeTheLayers(jQuery(_R[id].slides[oldFocusedIndex]),id);\r\n                        }\r\n                    }\r\n\r\n                    if (_.focused!=_.oldfocused) {\r\n                        if(_.showLayersAllTime !== \"all\"){\r\n                            if(!_.animInList.includes((_.focused).toString())) _.animInList.push((_.focused).toString());\r\n                            _R.animateTheLayers({slide:_.focused, id:id, mode: \"start\"});\r\n                            _R.animateTheLayers({slide:'individual', id:id, mode:(!_R[id].carousel.allLayersStarted ? \"start\" : \"rebuild\")});\r\n                        }\r\n                        triggerCarouselChange(id, true);\r\n                        _.oldfocused = _.focused;\r\n                    }\r\n\r\n                    _R[id].c.trigger(\"revolution.nextslide.waiting\");\r\n                }\r\n\r\n                for (var nbgi in _R[id].sbgs) {\r\n\r\n                    if (!_R[id].sbgs.hasOwnProperty(nbgi) || _R[id].sbgs[nbgi].bgvid===undefined || _R[id].sbgs[nbgi].bgvid.length===0) continue;\r\n                    if (\"\"+_R[id].sbgs[nbgi].skeyindex===\"\"+_.focused) _R.playBGVideo(id,_R.gA(_R[id].pr_next_slide[0],\"key\"));\r\n                    else {\r\n                        _R.stopBGVideo(id,_R[id].sbgs[nbgi].key);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        getCarActiveSlide: function(id){\r\n            var _ = _R[id].carousel;\r\n            var shortestDistance = 999999;\r\n            var focused;\r\n            var index = 0;\r\n\r\n            for(var i in _.arr){\r\n                if(!_.arr.hasOwnProperty(i)) continue;\r\n                var dist;\r\n                if(_R[id].carousel.align === 'center'){\r\n                    dist = Math.abs((parseFloat(_.arr[i][_.translate]) - (_[_.wraplength] - _.arr[i][_.length])/2));\r\n                } else if(_R[id].carousel.align === 'start'){\r\n                    dist = Math.abs((parseFloat(_.arr[i][_.translate])));\r\n                } else {\r\n                    dist = Math.abs((parseFloat(_.arr[i][_.translate]) - (_[_.wraplength] - _.arr[i][_.length])));\r\n                }\r\n\r\n                if(_.vertAlignBottom) dist = Math.abs((parseFloat(_.arr[i][_.translate]) - (_[_.wraplength] - _.arr[i][_.length])));\r\n\r\n                if(dist < shortestDistance) {\r\n                    focused = _.arr[i];\r\n                    shortestDistance = dist;\r\n                    index = i;\r\n                }\r\n            }\r\n\r\n            index = parseInt(index);\r\n\r\n            _.activeSlide = index;\r\n            return focused;\r\n        },\r\n\r\n        loadVisibleCarouselItems : function(id,forceload, closest) {\r\n            var _ = _R[id].carousel;\r\n            var ar =[];\r\n            var focused = closest ? _.closest : _.focused;\r\n            _.focused = parseInt(focused,0);\r\n            _.focused = _R.isNumeric(focused) ? focused : 0;\r\n            for (var i=0;i<Math.ceil(_R[id].carousel.maxVisibleItems/2);i++) {\r\n                var n = _R[id].carousel.align ===\"end\" ? focused-i : focused + i,\r\n                    b = _R[id].carousel.align ===\"center\" ? focused-i : _R[id].carousel.align ===\"start\" ? _R[id].carousel.maxVisibleItems + n - 1: n - _R[id].carousel.maxVisibleItems+1;\r\n\r\n                n = n>=_R[id].slideamount ? 0 + (n-_R[id].slideamount) : n;\r\n                b = b>=_R[id].slideamount ? 0 + (b-_R[id].slideamount) : b;\r\n                n = n<0 ? _R[id].slideamount +n : n;\r\n                b = b<0 ? _R[id].slideamount +b : b;\r\n\r\n                ar.push(_R[id].slides[n]);\r\n                if (n!==b) ar.push(_R[id].slides[b]);\r\n\r\n                if(_.arr)for(var j = 0; j < _.arr.length; j++){\r\n                    if(_R[id].slides[n] === _.arr[j].elem) {\r\n                        _.arr[j].loaded = true;\r\n                    }\r\n                    if(_R[id].slides[b] === _.arr[j].elem) _.arr[j].loaded = true;\r\n                }\r\n            }\r\n\r\n\r\n            if (forceload) {\r\n                _R.loadImages(ar,id,1);\r\n                _R.waitForCurrentImages(ar,id);\r\n            }\r\n            return ar;\r\n        },\r\n\r\n        // ORGANISE THE CAROUSEL ELEMENTS IN POSITION AND TRANSFORMS\r\n        organiseCarousel : function(id,direction,setmaind,unli,noanim) {\r\n\r\n            var _ = _R[id].carousel;\r\n\r\n            // SECOND RUN FOR NEGATIVE ADJUSTMENETS\r\n            if (_R[id].slides)\r\n            for (var i=0;i<_R[id].slides.length;i++) {\r\n                var\ttr = { width : _.justify===true ? _.slide_widths[i] : _.slide_width};\r\n\r\n                if(_.spin === 'off') tr.transformOrigin = \"50% \"+(_.orientation === \"h\" ? _.vertical_align : \"center\");\r\n                tr.force3D = true;\r\n                tr.transformStyle = _R[id].parallax.type!=\"3D\" && _R[id].parallax.type!=\"3d\" ? \"flat\" : \"preserve-3d\";\r\n\r\n                if (noanim!==true) {\r\n                    tpGS.gsap.set(_R[id].slides[i],tr);\r\n\r\n                }\r\n            };\r\n\r\n        },\r\n        updateCarouselRows : function(id) {\r\n            if (_R[id].sliderType === \"carousel\") for ( var si=0;si<_R[id].slideamount;si++) _R.carouselRowAdjustment(_R[id].carousel,id,si);\r\n        },\r\n        carouselRowAdjustment : function(_,id,f) {\r\n            if (_.slidesWithRowAdjustions!==undefined && _.slidesWithRowAdjustions[f]===undefined) {_.slidesWithRowAdjustions[f] = true;_R.getRowHeights(id,f);_R.putMiddleZoneInPosition(id,f);}\r\n        },\r\n\r\n        getNextSlide: function(id, delta, direction, isThrow, goNext){\r\n            var _ = _R[id].carousel;\r\n            var trackIndex;\r\n            var overshoot = true;\r\n            var tempDelta = 0;\r\n            var sameSlide = false;\r\n            var prevDelta = delta;\r\n            var oDelta = delta;\r\n            if(_.trackIndex === undefined){\r\n                for(var i = 0; i < _.trackArr.length; i++){\r\n                    if(_.arr[_.activeSlide].elem === _.trackArr[i].elem){\r\n                        trackIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n            } else trackIndex = _.trackIndex;\r\n\r\n            if(direction === undefined) sameSlide = true;\r\n            var breakLoop = false;\r\n            while((_.snap || !isThrow) && !sameSlide){\r\n\r\n                if(breakLoop || (isThrow && Math.abs(tempDelta) >= Math.abs(delta)) || (delta === undefined && _R[id].slides[_.focused] === _.trackArr[trackIndex].elem)){\r\n                    delta = tempDelta;\r\n                    break;\r\n                }\r\n                prevDelta = tempDelta\r\n                var nextStep =_R.getNext(id, direction, tempDelta, trackIndex, isThrow === undefined);\r\n                breakLoop = nextStep.breakLoop;\r\n                if(!breakLoop) {\r\n                    tempDelta = nextStep.tempDelta;\r\n                    trackIndex = nextStep.trackIndex;\r\n                }\r\n            }\r\n\r\n            var target = _.lastPos + delta;\r\n            if(isThrow && _.focusedOnPress != _.focusedPreSnap) {\r\n                target = Math.abs((oDelta + _.lastPos) - target) <= Math.abs((oDelta + _.lastPos) - (prevDelta + _.lastPos)) ? target : prevDelta + _.lastPos;\r\n            }\r\n            if(sameSlide){\r\n                target = _.lastPos;\r\n                delta = -_.arr[_.closestArr][_.translate];\r\n            }\r\n            return {target: target, overshoot: overshoot, delta: delta, trackIndex: trackIndex};\r\n        },\r\n\r\n        getNext: function(id, direction, tempDelta, trackIndex, isNav){\r\n            var _ = _R[id].carousel\r\n            var sign = direction === 'right' ? 1 : -1;\r\n            var breakLoop = false;\r\n\r\n            if(_.align === 'start' && direction === 'left') tempDelta += (_.trackArr[trackIndex][_.length] + _.space) * sign;\r\n            else if(_.align === 'center') tempDelta += (_.trackArr[trackIndex][_.length] + _.space)/2 * sign;\r\n            else if(_.align === 'end' && direction === \"right\") tempDelta += (_.trackArr[trackIndex][_.length] + _.space) * sign;\r\n\r\n            if(direction === 'right') {\r\n                trackIndex--;\r\n                if(trackIndex < 0) {\r\n                    trackIndex = _.infinity ? _.trackArr.length - 1 : trackIndex + 1;\r\n                    if(!_.infinity) breakLoop = true;\r\n                }\r\n            } else {\r\n                trackIndex++;\r\n                if(trackIndex >= _.trackArr.length) {\r\n                    trackIndex = _.infinity ? 0 : trackIndex - 1;\r\n                    if(!_.infinity) breakLoop = true;\r\n                }\r\n            }\r\n            if(!breakLoop){\r\n                if(_.align === 'start' && direction === 'right') tempDelta += (_.trackArr[trackIndex][_.length] + _.space) * sign;\r\n                if(_.align === 'center') tempDelta += (_.trackArr[trackIndex][_.length] + _.space)/2 * sign;\r\n                else if(_.align === 'end' && direction === \"left\") tempDelta += (_.trackArr[trackIndex][_.length] + _.space) * sign;\r\n            }\r\n\r\n            return {tempDelta: tempDelta, trackIndex: trackIndex, breakLoop: breakLoop}\r\n        },\r\n\r\n        getCarDir: function(id, o, n){\r\n            var _ = _R[id].carousel;\r\n            var d = n - o;\r\n            var dir = 'right';\r\n            _.sameSlide = false;\r\n            var stepL = 0;\r\n            var stepR = 0;\r\n            if(_.infinity) {\r\n\r\n                var i = o;\r\n                while(i != n) {stepR += 1;i++; i = i >= _.slideamount ? 0 : i}\r\n                i = o;\r\n                while(i != n) {stepL += 1;i--; i = i < 0 ? _.slideamount - 1 : i}\r\n                dir = stepR <= stepL ? \"left\" : \"right\";\r\n            } else if(!_.infinity) {\r\n                dir = n - o >= 0 ? 'left' : 'right';\r\n                stepR = Math.abs(n - o);\r\n                if(d === 0) {\r\n                    dir = \"right\";\r\n                    _.sameSlide = true;\r\n                }\r\n            }\r\n            _.steps = stepR <= stepL ? stepR : stepL;\r\n            _.direction = dir;\r\n            return dir;\r\n        },\r\n\r\n        getLastPos: function(id){\r\n            var _ = _R[id].carousel;\r\n\r\n            if(!_.trackArr) return;\r\n\r\n            var posOffset = 0;\r\n            var offset = 0;\r\n\r\n            for(var i = 0; i < _.trackArr.length; i++){\r\n                if(_R[id].slides[_.closest] === _.trackArr[i].elem) _.trackIndex = i;\r\n                if(_R[id].slides[_.closest] === _.arr[i].elem) {\r\n                    posOffset = _.arr[i][_.translate];\r\n\r\n                    if(_.align === 'center') offset = (_[_.wraplength] - _.arr[i][_.length])/2;\r\n                    if(_.align === 'end') offset = (_[_.wraplength] - _.arr[i][_.length]);\r\n                    _.lastOffset = offset;\r\n                }\r\n            }\r\n            _.lastPos = parseFloat(_.proxy._gsap[_.translate]) - posOffset - (parseFloat(_.proxy._gsap[_.translate]) - parseFloat(_.follower._gsap[_.translate]));\r\n            _.lastPos += offset;\r\n        },\r\n\r\n        swipeAnimate : function(obj) {\r\n            var _ = _R[obj.id].carousel;\r\n            var id = obj.id;\r\n            _R.getLastPos(id);\r\n\r\n            if(!_.arr || !_.arr[_.closestArr]) return;\r\n            if(_.arr[_.closestArr].elem == _R[obj.id].slides[_.focused]) return;\r\n\r\n\r\n            var direction = _R.getCarDir(id, _.trackIndex, _.focused);\r\n            var ns =_R.getNextSlide(obj.id, undefined, direction, false);\r\n            _.target = ns.target;\r\n\r\n            if(!_.infinity && !_.snap || (!_.infinity && _.orientation === \"v\")){\r\n                if(_.target <= (_[_.wraplength] - _.totalWidth)) _.target = (_[_.wraplength] - _.totalWidth);\r\n                else if(_.target >= 0 && !_.snap) _.target = 0;\r\n            }\r\n\r\n            _.lerpSpeed = 1;\r\n            if(_.tween && _.tween.kill) {_.tween.kill(); delete _.tween;}\r\n            _.tween = tpGS.gsap.to(_.proxy, {\r\n                x: _.target,\r\n                y: _.target,\r\n                ease: _.easing,\r\n                duration: _.speed/1000 + (_.steps >= 2 ? (_.steps - 1) * _.speed/2000 : 0),\r\n                onComplete: function(){\r\n                    _.lerp = cancelAnimationFrame(_.lerp);\r\n                    _R.carLerpHandler(id, \"skip\");\r\n                    _.activeSlide = _.closestArr;\r\n                    _R.snapCompleted(id);\r\n                }\r\n            });\r\n            _.lerp = cancelAnimationFrame(_.lerp)\r\n            if(!_.lerp)_.lerp = requestAnimationFrame(_.lerpHandler);\r\n\r\n        },\r\n        defineCarouselElements : function(id) {\r\n            var _ = _R[id].carousel;\r\n            _.infbackup = _.infinity;\r\n            _.maxVisiblebackup = _.maxVisibleItems;\r\n\r\n            // SET DEFAULT OFFSETS TO 0\r\n            _.slide_offset = \"none\";\r\n            _.slide_offset = 0;\r\n            _.cached_slide_offset = 0;\r\n\r\n            // SET UL REFERENCE\r\n            _.wrap = jQuery(_R[id].canvas[0].parentNode);\r\n\r\n\r\n            // CHANGE PERSPECTIVE IF PARALLAX 3D SET\r\n            if (_.maxRotation!==0) if (_R[id].parallax.type===\"3D\" || _R[id].parallax.type===\"3d\") tpGS.gsap.set(_.wrap,{perspective:\"1600px\",transformStyle:\"preserve-3d\"});\r\n        },\r\n        setCarouselDefaults : function(id,quickmode, skip) {\r\n\r\n            var _=_R[id].carousel;\r\n\r\n            _.stretchCache = _.stretchCache===undefined ? _.stretch : _.stretchCache;\r\n            _.stretch = _R[id].infullscreenmode ? true : _.stretchCache;\r\n\r\n            // DEFAULT LI WIDTH SHOULD HAVE THE SAME WIDTH OF TH id WIDTH\r\n            _.slide_width = Math.round(_.stretch!==true && _.orientation!=='v' ? _R[id].gridwidth[_R[id].level]*(_R[id].CM.w===0 ? 1 : _R[id].CM.w) : _R[id].canv.width);\r\n            _.slide_height = Math.round(_.stretch!==true ? _R[id].infullscreenmode ? _R.getWinH(id) - _R.getFullscreenOffsets(id) : _R[id].gridheight[_R[id].level]*(_R[id].CM.w===0 ? 1 : _R[id].CM.w) : _R[id].canv.height);\r\n\r\n            // TODO Krisztian, we will most likely need to move this logic somewhere else and check of any side effects\r\n            /*if(_.orientation === \"v\"){\r\n                _R[id].module.height = _.slide_height;\r\n                _R[id].canv.height = _.slide_height;\r\n\r\n                if(_.align !== \"start\") tpGS.gsap.set(_R[id].canvas, {top: (_R[id].height - _R[id].canv.height)/(_.align === \"center\" ? 2 : 1)});\r\n            }*/\r\n\r\n            _.ratio = _.slide_width / _.slide_height;\r\n\r\n            // CALCULATE CAROUSEL WIDTH\r\n            _.len = _R[id].slides.length;\r\n            _.maxwidth = _R[id].slideamount*_.slide_width;\r\n            _.maxheight = _R[id].slideamount*_.slide_height;\r\n            if (_.justify!=true && _.maxVisiblebackup>_.len) _.maxVisibleItems = (_.len%2) ? _.len : _.len+1;\r\n\r\n\r\n            // SET MAXIMUM CAROUSEL WARPPER WIDTH (SHOULD BE AN ODD NUMBER)\r\n            _.wrapwidth = (_.maxVisibleItems * _.slide_width) + ((_.maxVisibleItems - 1) * _.space);\r\n            _.wrapheight = (_.maxVisibleItems * _.slide_height) + ((_.maxVisibleItems - 1) * _.space);\r\n            _.wrapwidth = _R[id].sliderLayout!=\"auto\" ? _.wrapwidth>_R[id].canv.width ? _R[id].canv.width : _.wrapwidth : _.wrapwidth>_R[id].module.width ? (_R[id].module.width !== 0 ? _R[id].module.width : _R[id].canv.width) : _.wrapwidth;\r\n            _.wrapheight = _R[id].sliderLayout!=\"auto\" ? _.wrapheight>_R[id].canv.height ? _R[id].canv.height : _.wrapheight : _.wrapheight>_R[id].module.height ? (_R[id].module.height !== 0 ? _R[id].module.height : _R[id].canv.height) : _.wrapheight;\r\n\r\n            if (_.justify===true) {\r\n                _.slide_height = Math.round(_R[id].sliderLayout===\"fullscreen\" ? _R[id].module.height : _R[id].gridheight[_R[id].level]);\r\n                _.slide_widths = [];\r\n                _.slide_heights = [];\r\n                _.slide_widthsCache = \t_.slide_widthsCache===undefined ? [] :_.slide_widthsCache;\r\n                _.slide_heightsCache = \t_.slide_heightsCache===undefined ? [] :_.slide_heightsCache;\r\n                _.maxwidth = 0;\r\n                for (var i=0;i<_.len;i++) {\r\n                    if (!_R[id].slides.hasOwnProperty(i)) continue;\r\n                    var ir  = _R.gA(_R[id].slides[i],'iratio');\r\n                    ir = ir===undefined || ir===0 || ir===null ? _.ratio : ir;\r\n                    ir = parseFloat(ir);\r\n                        _.slide_widths[i] = Math.round(_.slide_height * ir);\r\n                        _.slide_heights[i] = Math.round(_.slide_height);\r\n                    if (_.justifyMaxWidth!==false) _.slide_widths[i] = Math.min(_.wrapwidth,_.slide_widths[i]);\r\n                    if (_.justifyMaxWidth!==false) _.slide_heights[i] = Math.min(_.wrapheight,_.slide_heights[i]);\r\n                    if (_.slide_widths[i]!==_.slide_widthsCache[i]) {\r\n                        _.slide_widthsCache[i] = _.slide_widths[i];\r\n                            if (quickmode!==true) tpGS.gsap.set(_R[id].slides[i],{width:_.slide_widths[i]}); // KRIKI TO DO!!\r\n                    }\r\n                    if (_.slide_heights[i]!==_.slide_heightsCache[i]) {\r\n                        _.slide_heightsCache[i] = _.slide_heights[i];\r\n                            if (quickmode!==true) tpGS.gsap.set(_R[id].slides[i],{height:_.slide_heights[i]}); // KRIKI TO DO!!\r\n                    }\r\n                    _.maxwidth += _.slide_widths[i] +_.space;\r\n                    _.maxheight += _.slide_heights[i] +_.space;\r\n                }\r\n            }\r\n\r\n\r\n            // INFINITY MODIFICATIONS\r\n            _.infinity = _.wrapwidth >=_.maxwidth ? false : _.infbackup;\r\n            if(_.forceBAlign && _.slide_height < _.wrapheight * 0.6 && _.wrapwidth <_.maxwidth) _.infinity = true;\r\n            else if(_.forceBAlign) _.infinity = false;\r\n\r\n            if (_.quickmode!==true) {\r\n                // SET POSITION OF WRAP CONTAINER\r\n                _.wrapoffset = _.horizontal_align===\"center\" ? (_R[id].canv.width-_R[id].outNavDims.right - _R[id].outNavDims.left - _.wrapwidth)/2 : 0;\r\n                _.wrapoffset = _R[id].sliderLayout!=\"auto\" && _R[id].outernav ? 0 : _.wrapoffset < _R[id].outNavDims.left ? _R[id].outNavDims.left : _.wrapoffset;\r\n\r\n                var ovf = ((_R[id].parallax.type==\"3D\" || _R[id].parallax.type==\"3d\")) ? \"visible\" : \"hidden\",\r\n                    obj = _.horizontal_align===\"right\" ? {left:\"auto\",right:_.wrapoffset+\"px\", width:_.wrapwidth, overflow:ovf} : _.horizontal_align===\"left\"  || _.wrapwidth<_R.winW? {right:\"auto\",left:_.wrapoffset+\"px\", width:_.wrapwidth, overflow:ovf} : {right:\"auto\",left:\"auto\", width:\"100%\", overflow:ovf}\r\n                //Fixed an issue where fullwidth sliders did no go fullwdith if it is not set to 100% width.\r\n                if (_.cacheWrapObj===undefined || obj.left!==_.cacheWrapObj.left || obj.right!==_.cacheWrapObj.right || obj.width!==_.cacheWrapObj.width) {\r\n                    window.requestAnimationFrame(function() {\r\n                        tpGS.gsap.set(_.wrap,obj);\r\n                        // reset left property on canvas because when carousel is created,\r\n                        // _R[id].navOutterOffsets.left value is still incorrect\r\n                        if(_R[id].carousel.wrapoffset > 0) tpGS.gsap.set(_R[id].canvas, {left: 0});\r\n                    });\r\n                    _.cacheWrapObj = jQuery.extend(true,{},obj);\r\n                }\r\n\r\n                // INNER OFFSET FOR RTL\r\n                _.inneroffset = _.horizontal_align===\"right\" ? _.wrapwidth - _.slide_width : 0;\r\n\r\n                // THE SCREEN WIDTH/2\r\n                _.windhalf = _R[id].sliderLayout===\"auto\" ? _R[id].module.width/2 : _R.winW/2;\r\n            }\r\n            if(!(_.lastWrapwidth === _.wrapwidth && _.lastWrapheight === _.wrapheight))window.requestAnimationFrame(function() {\r\n                _R.positionCarousel(id);\r\n            });\r\n        }\r\n    });\r\n\r\n    /**************************************************\r\n        -\tCAROUSEL FUNCTIONS   -\r\n    ***************************************************/\r\n\r\n    var getOffset = function(id,ix) {\r\n        var _ = _R[id].carousel;\r\n        return _.horizontal_align===\"center\" ?  (_.windhalf - _.slide_widths[ix]/2) - _.slidepositions[ix] :  _.horizontal_align===\"left\" ? 0-_.slidepositions[ix] : (_.wrapwidth-_.slide_widths[ix]) - _.slidepositions[ix];\r\n    },\r\n\r\n    circ = function(p) {return p<1 ? Math.sqrt(1 - (p = p - 1) * p) : Math.sqrt(p);},\r\n\r\n    triggerCarouselChange = function(id, useNextKey) {\r\n        var _ = _R[id].carousel\r\n        var nextSlide = useNextKey && _R[id].slides[_R[id].pr_next_key] ? jQuery(_R[id].slides[_R[id].pr_next_key]) : _R[id].pr_next_slide;\r\n        _R[id].c.trigger('revolution.slide.carouselchange', {\r\n            slider:id,\r\n            slideIndex : parseInt(_R[id].pr_active_key,0)+1,\r\n            slideLIIndex : _R[id].pr_active_key,\r\n            slide : nextSlide,\r\n            currentslide : nextSlide,\r\n            prevSlideIndex : _R[id].pr_lastshown_key!==undefined ? parseInt(_R[id].pr_lastshown_key,0)+1 : false,\r\n            prevSlideLIIndex : _R[id].pr_lastshown_key!==undefined ? parseInt(_R[id].pr_lastshown_key,0) : false,\r\n            prevSlide : _.oldfocused!==undefined ? _R[id].slides[_.oldfocused] : false\r\n        });\r\n    },\r\n\r\n    updateEdgeCalculation = function(id, align){\r\n        var _ = _R[id].carousel;\r\n        if(id === undefined || _ === undefined) return\r\n        _.pDiv = align === 'center' ? _.maxVisibleItems/2 : _.maxVisibleItems;\r\n        _.edgeRatio = Math.floor(_.pDiv - (align === 'center' ? 0 : 1))/Math.ceil(_.pDiv);\r\n        if(_.maxVisibleItems === 1) _.edgeRatio = 1;\r\n        _.oEdge = _.maxOpacity === 1 ? 1 : _.vary_fade ? 1 + (_.maxOpacity - 1) * _.edgeRatio : _.maxOpacity;\r\n        _.oEdge = _.maxVisibleItems === 1 ? _.maxOpacity : _.oEdge;\r\n        _.oRange = _.maxVisibleItems > 1 ? tpGS.gsap.utils.mapRange(_.edgeRatio, 1, _.oEdge,  0) : tpGS.gsap.utils.mapRange(1, 1.1, _.oEdge,  0);\r\n        _.oRangeMin = tpGS.gsap.utils.mapRange(-1/_.maxVisibleItems, -1.1/_.maxVisibleItems, 1,  0);\r\n    },\r\n\r\n    initCarArrays = function(id){\r\n        var _ = _R[id].carousel;\r\n        if(id === undefined || _ === undefined) return\r\n\r\n        tpGS.gsap.set([_.proxy, _.follower], {x: '+=0', y: '+=0'});\r\n        _.arr = [];\r\n        _.trackArr = [];\r\n\r\n        for(var i = 0; i < _R[id].slides.length; i++){\r\n            _.arr.push({elem:_R[id].slides[i]});\r\n            _.trackArr.push({elem:_R[id].slides[i]});\r\n        }\r\n    },\r\n\r\n    // DIRECTION CHECK\r\n    dircheck = function(d,b) {return d===null || jQuery.isEmptyObject(d) ? b : d === undefined ?  \"right\" : d;},\r\n    breduc = function(a,m) {return Math.abs(a)>Math.abs(m) ? a>0 ? a - Math.abs(Math.floor(a/(m))*(m)) : a + Math.abs(Math.floor(a/(m))*(m)) : a;},\r\n\r\n    // CAROUSEL INFINITY MODE, DOWN OR UP ANIMATION\r\n    getBestDirection = function(a,b,max) {\r\n        var dira = b-a,\r\n            dirb = (b-max) - a;\r\n        dira = breduc(dira,max);\r\n        dirb = breduc(dirb,max);\r\n        return Math.abs(dira)>Math.abs(dirb) ? dirb : dira;\r\n    }\r\n\r\n    //Support Defer and Async and Footer Loads\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.carousel = {loaded:true, version:version};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n    })(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.video.js":"/********************************************\r\n * REVOLUTION EXTENSION - VIDEO FUNCTIONS\r\n * @date: 01.06.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n\t\"use strict\";\r\n\tvar version = \"6.5.25\";\r\n\r\njQuery.fn.revolution = jQuery.fn.revolution || {};\r\nvar _R = jQuery.fn.revolution;\r\n\r\n///////////////////////////////////////////\r\n// \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n///////////////////////////////////////////\r\njQuery.extend(true,_R, {\r\n\r\n\tpreLoadAudio : function(li,id) {\r\n\t\t_R[id].videos = _R[id].videos===undefined ? {} : _R[id].videos; //Audios are also Video MP Files\r\n\t\tli.find('.rs-layer-audio').each(function() {\r\n\t\t\tvar _nc = jQuery(this),\r\n\t\t\t\t_ = _R[id].videos[_nc[0].id] = _R[id].videos[_nc[0].id]===undefined ? readVideoDatas(_nc.data(),\"audio\",_R.gA(li[0],\"key\")) : _R[id].videos[_nc[0].id],\r\n\t\t\t\tobj = {};\r\n\r\n\t\t\tif (_nc.find('audio').length===0) {\r\n\t\t\t\tobj.src = _.mp4 !=undefined ? _.mp4  : '';\r\n\t\t\t\tobj.pre = _.pload || '';\r\n\r\n\t\t\t\tthis.id = this.id===undefined || this.id===\"\" ? _nc.attr('audio-layer-'+Math.round(Math.random()*199999)) : this.id;\r\n\t\t\t\tobj.id = this.id;\r\n\t\t\t\t//obj.status = \"prepared\";\r\n\t\t\t\t//obj.start = Date.now();\r\n\t\t\t\t//obj.waittime = _.ploadwait!==undefined ? _.ploadwait*1000 : 5000;\r\n\t\t\t\t//if (obj.pre==\"auto\" || obj.pre==\"canplaythrough\" || obj.pre==\"canplay\" || obj.pre==\"progress\") {\r\n\t\t\t\t\tif (_R[id].audioqueue===undefined) _R[id].audioqueue = [];\r\n\t\t\t\t\t_R[id].audioqueue.push(obj);\r\n\t\t\t\t\t_R.manageVideoLayer(_nc,id,_R.gA(li[0],\"key\"),true);\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tpreLoadAudioDone : function(_nc,id,event) {\r\n\t\tvar _ = _R[id].videos[_nc[0].id];\r\n\t\tif (_R[id].audioqueue && _R[id].audioqueue.length>0)\r\n\t\t\tjQuery.each(_R[id].audioqueue,function(i,obj) {\r\n\t\t\t\tif (_.mp4 === obj.src && (obj.pre === event || obj.pre===\"auto\")) obj.status = \"loaded\";\r\n\t\t\t});\r\n\t},\r\n\r\n\tcheckfullscreenEnabled : function(id) {\r\n\t\tif (window['fullScreen'] !== undefined) return window.fullScreen;\r\n\t\tif (document.fullscreen !==undefined) return document.fullscreen;\r\n\t\tif (document.mozFullScreen!==undefined) return document.mozFullScreen;\r\n\t\tif (document.webkitIsFullScreen!==undefined) return document.webkitIsFullScreen;\r\n\t\tvar h = (_R.isWebkit() && /Apple Computer/.test(navigator.vendor)) ? 42 : 5;\r\n\t\treturn screen.width == _R.winW && Math.abs(screen.height - _R.getWinH(id)) < h;\r\n\t},\r\n\r\n\tshowVideo : function(video) {\r\n\t\ttpGS.gsap.to(video,0.3,{opacity:1,display:\"block\",ease:\"power3.inOut\"});\r\n\t},\r\n\r\n\tresetVideo : function(_nc,id,mode) {\r\n\t\tif (mode===\"updateAndResize\") return;\r\n\t\tvar _ = _R[id].videos[_nc[0].id];\r\n\t\tif (_.cRS === \"resetVideo\") return;\r\n\t\t_.cRS = \"resetVideo\";\r\n\t\tswitch (_.type) {\r\n\t\t\tcase \"youtube\":\r\n\r\n\t\t\t\tif (_.rwd && _.player!=undefined && _.player.seekTo!==undefined ) {\r\n\t\t\t\t\t_.player.seekTo(_.ssec==-1 ? 0 : _.ssec);\r\n\t\t\t\t\t_.player.pauseVideo();\r\n\t\t\t\t}\r\n\t\t\t\tif (!_.bgvideo && mode!==\"preset\" && _.jsposter.length==0) _R.showVideo(_nc.find('iframe'));\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"vimeo\":\r\n\t\t\t\tif (_.vimeoplayer!==undefined && _.rwd && ((_.ssec!==0  && _.ssec!==-1) || (_.bgvideo || _.jsposter.length>0))) {\r\n\t\t\t\t\t_.vimeoplayer.setCurrentTime(_.ssec==-1 ? 0 : _.ssec);\r\n\t\t\t\t\t_.vimeoplayer.pause();\r\n\t\t\t\t}\r\n\t\t\t\tif (_.jsposter.length==0 && !_.bgvideo && mode!==\"preset\") _R.showVideo(_nc.find('iframe'));\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"html5\":\r\n\t\t\t\tif (_R.ISM && _.notonmobile) return false;\r\n\t\t\t\tif (!_.bgvideo) _R.showVideo(_.jvideo);\r\n\t\t\t\tif (_.rwd && _.cSS!==\"playing\" && !isNaN(_.video.duration)) {\r\n\t\t\t\t\t_.justReseted = true;\r\n\t\t\t\t\t_.video.currentTime=_.ssec == -1 ? 0 : _.ssec;\r\n\t\t\t\t}\r\n\t\t\t\tif (_.volume==\"mute\" || _R.lastToggleState(_nc.videomutetoggledby) || _R[id].globalmute===true) _.video.muted = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\tMute : function(_nc,id,m) {\r\n\t\tvar muted = false,\r\n\t\t\t_ = _R[id].videos[_nc[0].id];\r\n\t\tswitch (_.type) {\r\n\t\t\tcase \"youtube\":\r\n\t\t\t\tif (_.player) {\r\n\t\t\t\t\tif (m===true) _.player.mute();\r\n\t\t\t\t\tif (m===false) ytVolume(_,parseInt(_.volcache,0));\r\n\t\t\t\t\tmuted = _.player.isMuted();\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase \"vimeo\":\r\n\t\t\t\tif (!_.volcachecheck) {\r\n\t\t\t\t\t_.volcache = _.volcache>1 ? _.volcache/100 : _.volcache;\r\n\t\t\t\t\t_.volcachecheck = true;\r\n\t\t\t\t}\r\n\t\t\t\t_.volume = m===true ? \"mute\" : m===false ? _.volcache : _.volume;\r\n\t\t\t\tif (m!==undefined && _.vimeoplayer!=undefined) vimeoVolume(_,(m===true ? 0 : _.volcache));\r\n\t\t\t\tmuted= _.volume==\"mute\" || _.volume===0;\r\n\t\t\tbreak;\r\n\t\t\tcase \"html5\":\r\n\t\t\t\tif (!_.volcachecheck) {\r\n\t\t\t\t\t_.volcache = _.volcache>1 ? _.volcache/100 : _.volcache;\r\n\t\t\t\t\t_.volcachecheck = true;\r\n\t\t\t\t}\r\n\t\t\t\t_.video.volume = _.volcache;\r\n\t\t\t\tif (m!==undefined && _.video) _.video.muted = m;\r\n\t\t\t\tmuted = _.video!==undefined ? _.video.muted : muted;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (m===undefined) return muted;\r\n\t},\r\n\r\n\tstopVideo : function(_nc,id,force) {\r\n\t\tif (_R[id]===undefined || _R[id]===undefined) return;\r\n\t\tvar _ = _R[id].videos[_nc[0].id];\r\n\t\tif (_===undefined) return;\r\n\t\tif (_.cRS===\"stopVideo\" && _.cSS===\"paused\") return;\r\n\t\t_.cRS = \"stopVideo\";\r\n\t\tif (!_R[id].leaveViewPortBasedStop) _R[id].lastplayedvideos = [];\r\n\t\t_R[id].leaveViewPortBasedStop = false;\r\n\t\tswitch (_.type) {\r\n\t\t\tcase \"youtube\":\r\n\t\t\t\tif (_.player!==undefined && _.player.getPlayerState()!==2 && _.player.getPlayerState()!==5) {\r\n\t\t\t\t\t_.player.pauseVideo();\r\n\t\t\t\t\tif (force!==undefined) posterOrVideo(id,_,\"hide\")\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase \"vimeo\":\r\n\t\t\t\tif (_.vimeoplayer!==undefined) {\r\n\t\t\t\t\t_.vimeoplayer.pause();\r\n\t\t\t\t\tif (force!==undefined) posterOrVideo(id,_,\"hide\")\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase \"html5\":\r\n\t\t\tif (_.video) {\r\n\t\t\t\t_.video.pause();\r\n\t\t\t\tif(_R.ISM) setPlayPauseOpacity(_, 1);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\tplayVideo : function(_nc,id,force) {\r\n\t\tvar _ = _R[id].videos[_nc[0].id];\r\n\t\tclearTimeout(_.videoplaywait);\r\n\t\tif (_.cRS===\"playVideo\" && _.cSS===\"playing\") return;\r\n\t\t_.cRS = \"playVideo\";\r\n\t\tswitch (_.type) {\r\n\t\t\tcase \"youtube\":\r\n\t\t\t\tif (_nc.find('iframe').length==0) {\r\n\t\t\t\t\t_nc.append(_.videomarkup);\r\n\t\t\t\t\taddVideoListener(_nc,id,true);\r\n\t\t\t\t} else\r\n\t\t\t\tif (_.player!==undefined && _.player.playVideo!=undefined) {\r\n\r\n\t\t\t\t\t\tvar ct = _.player.getCurrentTime();\r\n\t\t\t\t\t\tif (_.nseTriggered) {\r\n\t\t\t\t\t\t\tct=-1;\r\n\t\t\t\t\t\t\t_.nseTriggered = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (_.ssec!=-1 && _.ssec>ct) {\r\n\t\t\t\t\t\t\t_.player.seekTo(_.ssec);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tplayYouTube(_);\r\n\t\t\t\t} else\r\n\t\t\t\t_.videoplaywait = setTimeout(function() { _R.playVideo(_nc,id); },50);\r\n\t\t\tbreak;\r\n\t\t\tcase \"vimeo\":\r\n\t\t\t\tif (_nc.find('iframe').length==0) {\r\n\t\t\t\t\tdelete _.vimeoplayer;\r\n\t\t\t\t\t_nc.append(_.videomarkup);\r\n\t\t\t\t\taddVideoListener(_nc,id,true);\r\n\t\t\t\t} else\r\n\t\t\t\tif (_nc.hasClass(\"rs-apiready\")) {\r\n\r\n\t\t\t\t\t_.vimeoplayer = _.vimeoplayer==undefined ? new Vimeo.Player(_nc.find('iframe').attr(\"id\")) : _.vimeoplayer;\r\n\t\t\t\t\tif (!_.vimeoplayer.getPaused())\r\n\t\t\t\t\t\t_.videoplaywait = setTimeout(function() { _R.playVideo(_nc,id);},50);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvar ct = _.currenttime===undefined ? 0 : _.currenttime;\r\n\t\t\t\t\t\tif (_.nseTriggered) {\r\n\t\t\t\t\t\t\tct=-1;\r\n\t\t\t\t\t\t\t_.nseTriggered = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (_.ssec!=-1 && _.ssec>ct) _.vimeoplayer.setCurrentTime(_.ssec);\r\n\t\t\t\t\t\tif (_.volume==\"mute\" || _.volume===0 || _R.lastToggleState(_nc.data('videomutetoggledby')) || _R[id].globalmute===true) {_.volumetoken=true;_.vimeoplayer.setMuted(true);}\r\n\t\t\t\t\t\t//if (_R[id].sliderType!==\"carousel\" || !_.bgvideo) tpGS.gsap.set(_nc, { display: \"block\", opacity: 0 });\r\n\t\t\t\t\t\tplayVimeo(_);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\t_.videoplaywait = setTimeout(function() { _R.playVideo(_nc,id);},50);\r\n\t\t\tbreak;\r\n\t\t\tcase \"html5\":\r\n\t\t\t\tif (!_.metaloaded)\r\n\t\t\t\t\taddEvent(_.video,'loadedmetadata',function(_nc) {\r\n\t\t\t\t\t\t// playVideo(_nc,id); // before 6.4.0\r\n\t\t\t\t\t\t_R.playVideo(_nc,id);\r\n\t\t\t\t\t}(_nc));\r\n\t\t\t\telse {\r\n\t\t\t\t\t// is the media ready to play?\r\n\t\t\t\t\tvar mediaNotReady = \"\"+_.video.duration===\"NaN\" || _.video.readyState<4;\r\n\r\n\t\t\t\t\t// if not ready to play and not iOS Audio...\r\n\t\t\t\t\tif (mediaNotReady && !force) {\r\n\r\n\t\t\t\t\t\tif(!_.loadRequested) {\r\n\t\t\t\t\t\t\t_.video.load();\r\n\t\t\t\t\t\t\t_.loadRequested = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsetTimeout(function() { _R.playVideo(_nc,id); },50);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if iOS Audio this will always run\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvar ct = _.video.currentTime;\r\n\t\t\t\t\t\tif (_.nseTriggered) {\r\n\t\t\t\t\t\t\tct=-1;\r\n\t\t\t\t\t\t\t_.nseTriggered = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (_.ssec!=-1 && _.ssec>ct && (_.ssec<_.video.duration)) _.video.currentTime = _.ssec;\r\n\r\n\t\t\t\t\t\tplayHTML5(_, undefined, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\r\n\tisVideoPlaying : function(_nc,id) {\r\n\t\tvar ret = false;\r\n\t\tif (_R[id].playingvideos != undefined) {\r\n\t\t\tjQuery.each(_R[id].playingvideos,function(i,nc) {\r\n\t\t\t\tif (_nc.attr('id') == nc.attr('id')) ret = true;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tremoveMediaFromList : function(_nc,id) {\r\n\t\tremVidfromList(_nc,id);\r\n\t},\r\n\r\n\tprepareCoveredVideo : function(id) {\r\n\t\tclearTimeout(_R[id].resizePrepareCoverVideolistener);\r\n\t\tvar w = _R[id].sliderType===\"carousel\" ? _R[id].carousel.justify ? _R[id].carousel.slide_widths===undefined ? undefined : _R[id].carousel.slide_widths[_R[id].carousel.focused] : _R[id].carousel.slide_width : _R[id].canv.width,\r\n\t\t\th = _R[id].sliderType===\"carousel\" ? _R[id].carousel.slide_height : _R[id].canv.height;\r\n\t\tif (w===0 || h===0 || w===undefined || h===undefined) {\r\n\t\t\t_R[id].resizePrepareCoverVideolistener = setTimeout(function() {_R.prepareCoveredVideo(id);},100);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Go Through all Known Videos, and Pick VIMEO Videos wenn they set as BG Videos and/or Force Cover Videos\r\n\t\tfor (var i in _R[id].videos) {\r\n\r\n\t\t\tvar _ = _R[id].videos[i];\r\n\t\t\tif (_.jvideo===undefined) continue;\r\n\t\t\tif (!(_.bgvideo || _.jvideo.parent().hasClass('rs-fsv') || (_R.closestNode(_.video, 'RS-LAYER') && _R.closestNode(_.video, 'RS-LAYER').classList.contains('rs-fsv')))) continue;\r\n\r\n\t\t\tif (_.type===\"html5\" && _.jvideo!==undefined) tpGS.gsap.set(_.jvideo,{width:w});\r\n\t\t\tif ((_R[id].activeRSSlide!==undefined && _.slideid!==_R.gA(_R[id].slides[_R[id].activeRSSlide],\"key\")) && (_R[id].pr_next_slide!==undefined && _.slideid!==_R.gA(_R[id].pr_next_slide[0],\"key\"))) continue;\r\n\t\t\t_.vd =  _.ratio.split(':').length>1 ? _.ratio.split(':')[0] / _.ratio.split(':')[1]  : 1;\r\n\t\t\tvar od = w / h,\r\n\t\t\t\tnvh = (_.vd * od)*100,\r\n\t\t\t\tnvw = (_.vd/od)*100;\r\n\t\t\tvar vidSizeObj;\r\n\t\t\tif (_R.get_browser()===\"Edge\" || _R.get_browser()===\"IE\") {\r\n\t\t\t\tif (od>_.vd)\r\n\t\t\t\t\tvidSizeObj = {minWidth:\"100%\", height:nvh+\"%\", x:\"-50%\", y:\"-50%\", top:\"50%\",left:\"50%\",position:\"absolute\"};\r\n\t\t\t\telse\r\n\t\t\t\t\tvidSizeObj = {minHeight:\"100%\", width:nvw+\"%\", x:\"-50%\", y:\"-50%\", top:\"50%\",left:\"50%\",position:\"absolute\"};\r\n\t\t\t} else {\r\n\t\t\t\t//BG Vimeo Video should fit in Carousels with both dimension 100%\r\n\t\t\t\tif (_.bgvideo && _.vimeoid!==undefined && _R[id].sliderType==\"carousel\") {\r\n\t\t\t\t\tnvh = 100;\r\n\t\t\t\t\tnvw = 100;\r\n\t\t\t\t}\r\n\t\t\t\tif (od>_.vd)\r\n\t\t\t\t\tvidSizeObj = {height:(_.fitCover ? 100 : nvh)+\"%\", width:\"100%\", top: _.fitCover ? 0 : -(nvh-100)/2+\"%\",left:\"0px\",position:\"absolute\"};\r\n\t\t\t\telse\r\n\t\t\t\t\tvidSizeObj = {width:(_.fitCover ? 100 : nvw)+\"%\", height:\"100%\", left: _.fitCover ? 0 : -(nvw-100)/2+\"%\",top:\"0px\",position:\"absolute\"};\r\n\t\t\t}\r\n\r\n\t\t\tif(_.vimeoid !== undefined || _.ytid !== undefined) {vidSizeObj.maxWidth = 'none'; vidSizeObj.maxHeight = 'none';}\r\n\t\t\ttpGS.gsap.set(_.jvideo, vidSizeObj);\r\n\t\t}\r\n\t},\r\n\r\n\tcheckVideoApis : function(_nc,id) {\r\n\r\n\t\tvar httpprefix = location.protocol === 'https:' ? \"https\" : \"http\";\r\n\t\tif (!_R[id].youtubeapineeded) {\r\n\t\t\tvar yiframe = _nc.find('iframe');\r\n\t\t\tif ((_nc.data('ytid')!=undefined  || yiframe.length>0 && yiframe.attr('src') && yiframe.attr('src').toLowerCase().indexOf('youtube')>0)) _R[id].youtubeapineeded = true;\r\n\t\t\tif (_R[id].youtubeapineeded && !window.rs_addedyt) {\r\n\t\t\t\t_R[id].youtubestarttime = Date.now();\r\n\t\t\t\twindow.rs_addedyt=true;\r\n\t\t\t\tvar s = document.createElement(\"script\"),\r\n\t\t\t\t\tbefore = _R.getByTag(document,\"script\")[0],\r\n\t\t\t\t\tloadit = true;\r\n\t\t\t\ts.src = \"https://www.youtube.com/iframe_api\";\r\n\r\n\t\t\t\tjQuery('head').find('*').each(function(){\r\n\t\t\t\t\tif (jQuery(this).attr('src') == \"https://www.youtube.com/iframe_api\")\r\n\t\t\t\t\t   loadit = false;\r\n\t\t\t\t});\r\n\t\t\t\tif (loadit) before.parentNode.insertBefore(s, before);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!_R[id].vimeoapineeded) {\r\n\t\t\tvar viframe = _nc.find('iframe');\r\n\t\t\tif ((_nc.data('vimeoid')!=undefined || viframe.length>0 && viframe.attr('src') && viframe.attr('src').toLowerCase().indexOf('vimeo')>0)) _R[id].vimeoapineeded = true;\r\n\t\t  \tif (_R[id].vimeoapineeded && !window.rs_addedvim) {\r\n\t\t\t\t_R[id].vimeostarttime = Date.now();\r\n\t\t\t\twindow.rs_addedvim=true;\r\n\t\t\t\tvar loadit = true;\r\n                if (loadit) {\r\n                    var _isMinified = true,\r\n                        vimeoPlayerUrl = 'https://player.vimeo.com/api/player.js';\r\n                    jQuery.each(document.getElementsByTagName('script'), function(key, item) {\r\n                        if (item.src.length != 0 && item.src.indexOf('.min.js') == -1 && item.src.indexOf(document.location.host) != -1 ) {\r\n                            _isMinified = false;\r\n                        }\r\n                    });\r\n                    require([_isMinified ? 'vimeoPlayer' : vimeoPlayerUrl], function(vimeoPlayer) {\r\n                        loadit = false;\r\n                        window['Vimeo'] = {Player: vimeoPlayer};\r\n                    });\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tmanageVideoLayer : function(_nc,id,slideid,force) {\r\n\r\n\t\t_R[id].videos = _R[id].videos===undefined ? {} : _R[id].videos;\r\n\r\n\t\tif (_R[id].videos[_nc[0].id]!==undefined && force!==true) return;\r\n\t\tvar _ = _R[id].videos[_nc[0].id] = _R[id].videos[_nc[0].id]===undefined ? readVideoDatas(_nc.data(),undefined,slideid) : _R[id].videos[_nc[0].id];\r\n\r\n\t\t_.audio = _.audio===undefined ? false : _.audio;\r\n\r\n\t\t//ON MOBILE FALLBACK IF FORCED\r\n\t\tif (_R.ISM && _.opom) {\r\n\t\t\tif (_nc.find('rs-poster').length==0) _nc.append('<rs-poster class=\"noSwipe\" style=\"background-image:url('+_.poster+');\"></rs-poster>');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t_.jsposter = _nc.find('rs-poster');\r\n\t\t_.id = _nc[0].id;\r\n\r\n\t\t_.pload = _.pload === \"auto\" || _.pload === \"canplay\" || _.pload === \"canplaythrough\" || _.pload === \"progress\" ? \"auto\" : _.pload;\r\n\t\t_.type = (_.mp4!=undefined || _.webm!=undefined) ? \"html5\" : (_.ytid!=undefined && String(_.ytid).length>1) ? \"youtube\" : (_.vimeoid!=undefined && String(_.vimeoid).length>1) ? \"vimeo\" : \"none\";\r\n\t\t_.newtype = (_.type==\"html5\" && _nc.find(_.audio ? \"audio\" : \"video\").length==0) ? \"html5\" : (_.type==\"youtube\" && _nc.find('iframe').length==0) ? \"youtube\" : (_.type==\"vimeo\" && _nc.find('iframe').length==0) ? \"vimeo\" : \"none\";\r\n\t\t_.extras = \"\";\r\n\r\n\t\t_.posterMarkup = _.posterMarkup===undefined ? \"\" : _.posterMarkup;\r\n\r\n\t\t// PREPARE TIMER BEHAVIOUR BASED ON AUTO PLAYED VIDEOS IN SLIDES\r\n\t\tif (!_.audio && _.aplay == \"1sttime\" && _.pausetimer && _.bgvideo) _R.sA(_nc.closest('rs-slide')[0],\"rspausetimeronce\",1);\r\n\t\tif (!_.audio && _.bgvideo && _.pausetimer && (_.aplay==true || _.aplay==\"true\" || _.aplay == \"no1sttime\"))  _R.sA(_nc.closest('rs-slide')[0],\"rspausetimeralways\",1);\r\n\t\tif (_.noInt) _nc.find(\"*\").addClass(\"rs-nointeraction\");\r\n\t\tif (_.poster!=undefined && _.poster.length>2 && !(_R.ISM && _.npom)) if (_.jsposter.length==0) _.posterMarkup += ('<rs-poster class=\"noSwipe\" style=\"background-image:url('+_.poster+');\"></rs-poster>');\r\n\t\tvar posternotyetadded = true;\r\n\r\n\t\t_.cSS = \"created\";  // Current Set State\r\n\t\t_.cRS = \"created\";\t// Current Requested State\r\n\r\n\t\t// ADD HTML5 VIDEO IF NEEDED\r\n\t\tswitch (_.newtype) {\r\n\t\t\tcase \"html5\":\r\n\t\t\t\tif (window.isSafari11==true) _R[id].slideHasIframe = true;\r\n\t\t\t\tif (_.audio) _nc.addClass(\"rs-audio\");\r\n\t\t\t\t_.tag = _.audio ? \"audio\" : \"video\";\r\n\t\t\t\tvar _funcs = _.tag===\"video\" && (_R.is_mobile() || _R.isSafari11()) ? (_.aplay && _.aplay !== \"no1sttime\") || _.aplay===\"true\" ? 'muted playsinline autoplay' : _.inline ? ' playsinline' : '' : '',\r\n\t\t\t\t\tapptxt = '<div class=\"html5vid rs_html5vidbasicstyles '+(_.afs===false ? \"hidefullscreen\" : \"\")+'\">',\r\n\t\t\t\t\tcrossOrigin = (_.bgvideo && /^([\\w]+\\:)?\\/\\//.test(_.mp4) && (_.mp4.indexOf(location.host) === -1 || _.mp4.indexOf(\".\" + location.host) !== -1)) && _.crossOriginVideo ? ' crossOrigin=\"anonymous\" ' : '';\r\n\t\t\t\t\tapptxt += '<'+_.tag+' '+_funcs+' '+(_.controls && _.controls!==\"none\" ? ' controls':'') + crossOrigin +(_.bgvideo && _funcs.indexOf('autoplay')==-1 ? ' autoplay' : '')+(_.bgvideo && _funcs.indexOf('muted')==-1 ? ' muted' : '') +' style=\"'+(_R.get_browser()!==\"Edge\" ? (_.fitCover ? 'object-fit:cover;background-size:cover;' : '') + 'opacity:0;width:100%; height:100%' : '') +'\" class=\"\" '+(_.loop ? 'loop' : '')+' preload=\"'+_.pload+'\">';\r\n\t\t\t\tif (_.tag === 'video' && _.webm!=undefined && _R.get_browser().toLowerCase()==\"firefox\") apptxt = apptxt + '<source src=\"'+_.webm+'\" type=\"video/webm\" />';\r\n\t\t\t\tif (_.mp4!=undefined) apptxt = apptxt + '<source src=\"'+_.mp4+'\" type=\"'+ (_.tag===\"video\" ? 'video/mp4' : _.mp4.toLowerCase().indexOf('m4a')>0 ? 'audio/x-m4a' : 'audio/mpeg')+'\" />';\r\n\t\t\t\tif (_.ogv!=undefined) apptxt = apptxt + '<source src=\"'+_.mp4+'\" type=\"'+_.tag+'/ogg\" />';\r\n\t\t\t\tapptxt += '</'+_.tag+'></div>';\r\n\t\t\t\tapptxt += _.posterMarkup;\r\n\r\n\r\n\t\t\t\tif (((!_.controls || _.audio) || (_.poster !== undefined)) && !_.bgvideo) apptxt += '<div class=\"tp-video-play-button\"><i class=\"revicon-right-dir\"></i><span class=\"tp-revstop\">&nbsp;</span></div>';\r\n\t\t\t\t_.videomarkup = apptxt;\r\n\t\t\t\tposternotyetadded = false;\r\n\t\t\t\tif (!(_R.ISM && _.notonmobile) && !_R.isIE(8)) _nc.append(apptxt);\r\n\r\n\t\t\t\t// ADD HTML5 VIDEO CONTAINER\r\n\t\t\t\t_.jvideo = _nc.find(_.tag);\r\n\t\t\t\t_.video = _.jvideo[0];\r\n\t\t\t\t_.html5vid = _.jvideo.parent();\r\n\r\n\t\t\t\t//Start Listeners\r\n\t\t\t\taddEvent(_.video,'canplay',function(_nc) {\r\n\t\t\t\t\thtmlvideoevents(_nc,id);\r\n\t\t\t\t\t_R.resetVideo(_nc,id);\r\n\t\t\t\t}(_nc));\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"youtube\":\r\n\t\t\t\t_R[id].slideHasIframe = true;\r\n\t\t\t\tif (!_.controls || _.controls===\"none\") {\r\n\t\t\t \t\t_.vatr = _.vatr.replace(\"controls=1\",\"controls=0\");\r\n\t\t\t \t\tif (_.vatr.toLowerCase().indexOf('controls')==-1) _.vatr = _.vatr+\"&controls=0\";\r\n\t\t\t \t}\r\n\t\t\t \tif (_.inline || _nc[0].tagName===\"RS-BGVIDEO\") _.vatr = _.vatr + \"&playsinline=1\";\r\n\r\n\t\t\t \tif (_.ssec!=-1) _.vatr+=\"&start=\"+_.ssec;\r\n\t\t\t \tif (_.esec!=-1) _.vatr+=\"&end=\"+_.esec;\r\n\t\t\t \tvar orig = _.vatr.split('origin=https://');\r\n\t\t\t \t_.vatrnew = orig.length>1 ? orig[0]+'origin=https://' + ((self.location.href.match(/www/gi) && !orig[1].match(/www/gi)) ? \"www.\"+orig[1] : orig[1]) : _.vatr;\r\n\t\t\t \t_.videomarkup = '<iframe allow=\"autoplay; '+(_.afs===true ? \"fullscreen\" : \"\")+'\" type=\"text/html\" src=\"https://www.youtube-nocookie.com/embed/'+_.ytid+'?'+_.vatrnew+'\" '+(_.afs===true ? \"allowfullscreen\" : \"\")+' width=\"100%\" height=\"100%\" class=\"intrinsic-ignore\" style=\"opacity:0;visibility:visible;width:100%;height:100%\"></iframe>';\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"vimeo\":\r\n\r\n\t\t\t\t_R[id].slideHasIframe = true;\r\n\t\t\t\tif (!_.controls || _.controls===\"none\") {\r\n\t\t\t \t\t_.vatr = _.vatr.replace(\"background=1\",\"background=0\");\r\n\t\t\t \t\tif (_.vatr.toLowerCase().indexOf('background')==-1) _.vatr = _.vatr+\"&background=0\";\r\n\t\t\t \t} else {\r\n\t\t\t \t\t_.vatr = _.vatr.replace(\"background=0\",\"background=1\");\r\n\t\t\t \t\tif (_.vatr.toLowerCase().indexOf('background')==-1) _.vatr = _.vatr+\"&background=1\";\r\n\t\t\t \t}\r\n\r\n\t\t\t\t_.vatr = 'autoplay='+(_.aplay===true ? 1 : 0)+'&'+_.vatr;\r\n\t\t\t\tif (_.bgvideo) _.prePlayForaWhile = true;\r\n\t\t\t\tif (_R.ISM && _.aplay===true) _.vatr = 'muted=1&'+_.vatr;\r\n\t\t\t\tif (_.loop) _.vatr = 'loop=1&'+_.vatr;\r\n\t\t\t\t_.videomarkup = '<iframe  allow=\"autoplay; '+(_.afs===true ? \"fullscreen\" : \"\")+'\" src=\"https://player.vimeo.com/video/'+_.vimeoid+'?'+_.vatr+'\" '+(_.afs===true ? \"webkitallowfullscreen mozallowfullscreen allowfullscreen\" : \"\")+' width=\"100%\" height=\"100%\" class=\"intrinsic-ignore\" style=\"opacity:0;visibility:visible;width:100%;height:100%\"></iframe>';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\r\n\t\tif (_.poster!=undefined && _.poster.length>2 && !(_R.ISM && _.npom)) { // PLAY VIDEO ON CLICK ON POSTER\r\n\t\t\tif (posternotyetadded) if (_nc.find('rs-poster').length==0) _nc.append(_.posterMarkup);\r\n\t\t\tif (_nc.find('iframe').length==0) {\r\n\t\t\t\t_.jsposter = _nc.find('rs-poster');\r\n\t\t\t\t_.jsposter.on('click',function() {\r\n\t\t\t\t\t_R.playVideo(_nc,id, true);\r\n\t\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\t\tif (_.notonmobile) return false;\r\n\t\t\t\t\t\ttpGS.gsap.to(_.jsposter,0.3,{opacity:0,visibility:\"hidden\",force3D:\"auto\",ease:\"power3.inOut\"});\r\n\t\t\t\t\t\t_R.showVideo(_nc.find('iframe'));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif  (_R.ISM && _.notonmobile) return false;\r\n\t\t\tif (_nc.find('iframe').length==0 && (_.type==\"youtube\" || _.type==\"vimeo\")) {\r\n\t\t\t\tdelete _.vimeoplayer;\r\n\t\t\t\t_nc.append(_.videomarkup);\r\n\t\t\t\taddVideoListener(_nc,id,_.newtype===\"vimeo\" && _.bgvideo ? true : false,true);\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// ADD DOTTED OVERLAY IF NEEDED\r\n\t\tif (_.doverlay !==\"none\" && _.doverlay!==undefined) {\r\n\t\t\tvar url = _R.createOverlay(id,_.doverlay,_.doverlaysize,{0:_.doverlaycolora, 1:_.doverlaycolorb});\r\n\t\t\tif (_.bgvideo && _nc.closest('rs-sbg-wrap').find('rs-dotted').length!=1) _nc.closest('rs-sbg-wrap').append('<rs-dotted style=\"background-image:'+url+'\"></rs-dotted>');\r\n\t\t\telse if (!_.bgvideo && _nc.find('rs-dotted').length!=1) _nc.append('<rs-dotted style=\"background-image:'+url+'\"></rs-dotted>');\r\n\t\t}\r\n\r\n\t\t// Dont Show BG Videos until it really called by\r\n\t\tif (_.bgvideo) {\r\n\t\t\tif(_.type !== \"youtube\" && _.type !== \"vimeo\")_nc[0].style.display = \"none\";\r\n\t\t\t_nc[0].style.zIndex = 0;\r\n\t\t\ttpGS.gsap.set(_nc.find('video, iframe'),{opacity:0});\r\n\t\t}\r\n\r\n\t}\r\n});\r\n\r\nfunction getStartSec(st) {\r\n\treturn st == undefined ? -1 :_R.isNumeric(st) ? st : st.split(\":\").length>1 ? parseInt(st.split(\":\")[0],0)*60 + parseInt(st.split(\":\")[1],0) : st;\r\n};\r\n\r\nvar addEvent = function(element, eventName, callback) {\r\n\tif (element.addEventListener)\r\n\t\telement.addEventListener(eventName, callback, {capture:false,passive:true});\r\n\telse\r\n\t\telement.attachEvent(eventName, callback, {capture:false,passive:true});\r\n},\r\n\r\npushVideoData = function(p,t,d) {\r\n\tvar a = {};\r\n\ta.video = p;\r\n\ta.type = t;\r\n\ta.settings = d;\r\n\treturn a;\r\n},\r\n\r\ncallPrepareCoveredVideo = function(id,_nc) {\r\n\tvar _ = _R[id].videos[_nc[0].id];\r\n\t// CARE ABOUT ASPECT RATIO\r\n\tif (_.bgvideo || _nc.hasClass('rs-fsv')) {\r\n\t\tif (_.ratio===undefined || _.ratio.split(\":\").length<=1) _.ratio = \"16:9\";\r\n\t\trequestAnimationFrame(function() {_R.prepareCoveredVideo(id);});\r\n\t}\r\n},\r\n\r\n// SET VOLUME OF THE VIMEO\r\nvimeoVolume = function(_,p) {\r\n\tvar v = _.vimeoplayer;\r\n\tv.getPaused().then(function(paused) {\r\n\t\t_.volumetoken = true;\r\n\t\tvar isplaying = !paused,\r\n\t\t\tpromise = v.setVolume(p);\r\n\r\n\t\tif (promise!==undefined) {\r\n\t\t\tpromise.then(function(e) {\r\n\t\t\t\tv.getPaused().then(function(paused) {\r\n\t\t\t\t\tif (isplaying === paused) {\r\n\t\t\t\t\t\t_.volume = \"mute\";\r\n\t\t\t\t\t\tv.getMuted().then(function(muted){\r\n\t\t\t\t\t\t\tif(!muted){\r\n\t\t\t\t\t\t\t\t_.volumetoken = true;\r\n\t\t\t\t\t\t\t\tv.setMuted(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tv.play();\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(function(e) {\r\n\t\t\t\t\tconsole.log(\"Get Paused Function Failed for Vimeo Volume Changes Inside the Promise\");\r\n\t\t\t\t});\r\n\t\t\t}).catch(function(e) {\r\n\t\t\t\tif (isplaying) {\r\n\t\t\t\t\t_.volume = \"mute\";\r\n\t\t\t\t\t_.volumetoken = true;\r\n\t\t\t\t\tv.setMuted(true);\r\n\t\t\t\t\tv.play();\r\n\t\t\t\t};\r\n\t\t\t\tif(_R.ISM) setPlayPauseOpacity(_, 0);\r\n\t\t\t});\r\n\t\t}\r\n\t}).catch(function(){\r\n\t\tconsole.log(\"Get Paused Function Failed for Vimeo Volume Changes\");\r\n\t});\r\n},\r\n\r\n// SET YOUTUBE VOLUME\r\nytVolume = function(_,p) {\r\n\tvar wasplaying = _.player.getPlayerState();\r\n\r\n\tif (p===\"mute\")\r\n\t\t_.player.mute();\r\n\telse {\r\n\t\t_.player.unMute();\r\n\t\t_.player.setVolume(p);\r\n\t}\r\n\r\n\tsetTimeout(function() {\r\n\t\tif (wasplaying===1 && _.player.getPlayerState()!==1) {\r\n\t\t\t_.player.mute();\r\n\t\t\t_.player.playVideo();\r\n\t\t}\r\n\t},39);\r\n},\r\n\r\n// ERROR HANDLING FOR VIDEOS BY CALLING\r\n\r\nplayHTML5 = function(_,r,id) {\r\n\tif (_.cRS!==\"playVideo\") return;\r\n\tvar promise = _.video.play();\r\n\r\n\tif (promise!==undefined) promise.then( function(e) {\r\n\t\tif(_.twaudio === true && _R[id].globalmute!==true){\r\n\t\t\t_.twaudio = false;\r\n\t\t\tif(_R.clickedOnce){\r\n\t\t\t\t_.video.volume = _.volcache;\r\n\t\t\t\t_.volume = _.volcache;\r\n\t\t\t\t_.video.muted = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}).catch(function(e) {\r\n\t\t_.video.pause();\r\n\t\tif (r!==true) playHTML5(_,true, id);\r\n\r\n\t});\r\n\tif(_R.ISM) setPlayPauseOpacity(_, 0);\r\n},\r\n\r\nplayVimeo = function(_) {\r\n\tif (_.cRS!==\"playVideo\") return;\r\n\tvar promise = _.vimeoplayer.play();\r\n\tif (promise!==undefined) promise.then( function(e) {}).catch(function(e) {\r\n\t\t_.vimeoplayer.volumetoken=true;\r\n\t\t_.vimeoplayer.setMuted(true);\r\n\t\t_.vimeoplayer.play();\r\n\t});\r\n},\r\n\r\nplayYouTube = function(_) {\r\n\tif (_.cRS!==\"playVideo\") return;\r\n\t_.player.playVideo();\r\n},\r\n\r\nposterOrVideo = function(id,_,force,fspeed) {\r\n\r\n\tclearTimeout(_.repeatedPosterCalls);\r\n\r\n\t_.repeatedPosterCalls = setTimeout(function() {\r\n\t\tif (force===\"show\" || (_.cSS===\"playing\" && _.VideoIsVisible!==true)) {\r\n\t\t\tif (_.showhideposter!==undefined) _.showhideposter.pause();\r\n\t\t\t_.showhideposter = tpGS.gsap.timeline();\r\n\t\t\tif (_.jsposter.length>0) _.showhideposter.add(tpGS.gsap.to(_.jsposter,0.3,{zIndex:5,autoAlpha:0, force3D:\"auto\",ease:\"power3.inOut\"}),0);\r\n\t\t\tif (_.jvideo.length>0)  _.showhideposter.add(tpGS.gsap.to(_.jvideo,(fspeed!==undefined ? fspeed : 0.001),{opacity:1,display:\"block\",ease:_.jsposter.length>0 ? \"power3.inOut\" : \"power3.out\"}),0);\r\n\t\t\t_.VideoIsVisible = true;\r\n\t\t}\r\n\t\telse if (force===\"hide\" || (_.cSS===\"paused\" && _R.checkfullscreenEnabled(id)!=true && _.jsposter.length>0 && _.VideoIsVisible!==false && _.seeking!==true)) {\r\n\t\t\tif (_.showhideposter!==undefined) _.showhideposter.pause();\r\n\t\t\t_.showhideposter = tpGS.gsap.timeline();\r\n\t\t\tif (_.jsposter.length>0) _.showhideposter.add(tpGS.gsap.to(_.jsposter,0.3,{zIndex:5,autoAlpha:1,force3D:\"auto\",ease:\"power3.inOut\"}),0);\r\n\t\t\tif (_.jvideo.length>0) _.showhideposter.add(tpGS.gsap.to(_.jvideo,(fspeed!==undefined ? fspeed : 0.001),{opacity:0,ease:_.jsposter.length>0 ? \"power3.inOut\" : \"power3.out\"}),0.3);\r\n\t\t\tif (_.bgvideo && _.nBG!==undefined && _.nBG.loadobj!==undefined) _.nBG.video= _.nBG.loadobj.img;\r\n\t\t\t_.VideoIsVisible = false;\r\n\t\t}\r\n\t},force!==undefined ? 0 : 100);\r\n},\r\n\r\nvimeoPlayerPlayEvent = function(_,_nc,id) {\r\n\t_.cSS = \"playing\";\r\n\t_.vimeostarted = true;\r\n\t_.nextslidecalled = false;\r\n\t_.jsposter = _.jsposter===undefined || _.jsposter.length===0 ? _nc.find('rs-poster') : _.jsposter;\r\n\t_.jvideo = _nc.find('iframe');\r\n\t_R[id].c.trigger('revolution.slide.onvideoplay',pushVideoData(_.vimeoplayer,\"vimeo\",_));\r\n\t_R[id].stopByVideo=_.pausetimer;\r\n\taddVidtoList(_nc,id);\r\n\tif (_.volume==\"mute\" || _.volume===0 || _R.lastToggleState(_nc.data('videomutetoggledby')) || _R[id].globalmute===true) {_.volumetoken=true;_.vimeoplayer.setMuted(true);} else vimeoVolume(_,parseInt(_.volcache,0)/100 || 0.75);\r\n\t_R.toggleState(_.videotoggledby);\r\n},\r\n\r\naddVideoListener = function(_nc,id,startnow,seek) {\r\n\tvar _=\t_R[id].videos[_nc[0].id],\r\n\t\tframeID = \"iframe\"+Math.round(Math.random()*100000+1);\r\n\t_.jvideo = _nc.find('iframe');\r\n\r\n\tcallPrepareCoveredVideo(id,_nc);\r\n\r\n\t_.jvideo.attr('id',frameID);\r\n\t_.startvideonow = startnow;\r\n\r\n\tif (_.videolistenerexist) {\r\n\t\tif (startnow)\r\n\t\t\tswitch (_.type) {\r\n\t\t\t\tcase \"youtube\":\t_R.playVideo(_nc,id);\tif (_.ssec!=-1) _.player.seekTo(_.ssec);break;\r\n\t\t\t\tcase \"vimeo\": _R.playVideo(_nc,id);\tif (_.ssec!=-1) _.vimeoplayer.seekTo(_.ssec);break;\r\n\t\t\t}\r\n\t\treturn;\r\n\t}\r\n\tswitch (_.type) {\r\n\t\t// YOUTUBE LISTENER\r\n\t\tcase \"youtube\":\r\n\t\t\tif (typeof YT==='undefined' || YT.Player===undefined) {\r\n\t\t\t\t_R.checkVideoApis(_nc,id);\r\n\t\t\t\tsetTimeout(function() { addVideoListener(_nc,id,startnow,seek);},50);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_.player = new YT.Player(frameID, {\r\n\t\t\t\tevents: {\r\n\t\t\t\t\t'onStateChange': function(event) {\r\n\r\n\t\t\t\t\t\t\tif (event.data == YT.PlayerState.PLAYING) {\r\n\t\t\t\t\t\t\t\t_.cSS = \"playing\";\r\n\t\t\t\t\t\t\t\t_R[id].onceVideoPlayed = true;\r\n\t\t\t\t\t\t\t\tif(_.player.isMuted() === false)_.volume = _.volcache = _.player.getVolume();\r\n\t\t\t\t\t\t\t\tif (_.volume==\"mute\" || _.volume===0 || _R.lastToggleState(_nc.data('videomutetoggledby')) || _R[id].globalmute===true) _.player.mute();\r\n\t\t\t\t\t\t\t\telse ytVolume(_,parseInt(_.volcache,0) || 75);\r\n\t\t\t\t\t\t\t\t_R[id].stopByVideo=true;\r\n\t\t\t\t\t\t\t\taddVidtoList(_nc,id);\r\n\t\t\t\t\t\t\t\tif (_.pausetimer) _R[id].c.trigger('stoptimer'); else _R[id].stopByVideo=false;\r\n\t\t\t\t\t\t\t\t_R[id].c.trigger('revolution.slide.onvideoplay',pushVideoData(_.player,\"youtube\",_));\r\n\t\t\t\t\t\t\t\t_R.toggleState(_.videotoggledby);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_.cSS = \"paused\";\r\n\t\t\t\t\t\t\t\tif (event.data==0 && _.loop) {\r\n\t\t\t\t\t\t\t\t\tif (_.ssec!=-1) _.player.seekTo(_.ssec);\r\n\t\t\t\t\t\t\t\t\t_R.playVideo(_nc,id);\r\n\t\t\t\t\t\t\t\t\t_R.toggleState(_.videotoggledby);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif ((event.data!=-1 && event.data!=3)) {\r\n\t\t\t\t\t\t\t\t\t_R[id].stopByVideo=false;\r\n\t\t\t\t\t\t\t\t\t_R[id].tonpause = false;\r\n\t\t\t\t\t\t\t\t\tremVidfromList(_nc,id);\r\n\t\t\t\t\t\t\t\t\t_R[id].c.trigger('starttimer');\r\n\t\t\t\t\t\t\t\t\t_R[id].c.trigger('revolution.slide.onvideostop',pushVideoData(_.player,\"youtube\",_));\r\n\t\t\t\t\t\t\t\t\tif (_R[id].videoIsPlaying==undefined || _R[id].videoIsPlaying.attr(\"id\") == _nc.attr(\"id\")) _R.unToggleState(_.videotoggledby);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (event.data==0 && _.nse) {\r\n\t\t\t\t\t\t\t\t\texitFullscreen();\r\n\t\t\t\t\t\t\t\t\t_.nseTriggered = true;\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revnext();\r\n\t\t\t\t\t\t\t\t\tremVidfromList(_nc,id);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tremVidfromList(_nc,id);\r\n\t\t\t\t\t\t\t\t\t_R[id].stopByVideo=false;\r\n\r\n\t\t\t\t\t\t\t\t\tif (event.data===3 || (_.lasteventdata==-1 || _.lasteventdata==3 || _.lasteventdata===undefined) && (event.data==-1 || event.data==3)) {\r\n\t\t\t\t\t\t\t\t\t\t//Can be ignored\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t_R[id].c.trigger('starttimer');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_R[id].c.trigger('revolution.slide.onvideostop',pushVideoData(_.player,\"youtube\",_));\r\n\t\t\t\t\t\t\t\t\tif (_R[id].videoIsPlaying==undefined || _R[id].videoIsPlaying.attr(\"id\") == _nc.attr(\"id\"))\t_R.unToggleState(_.videotoggledby);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclearTimeout(_.postOrVideoTimer);\r\n\t\t\t\t\t\t\tif (event.data===3) return;\r\n\t\t\t\t\t\t\t_.postOrVideoTimer = setTimeout(function() {\r\n\t\t\t\t\t\t\t\tposterOrVideo(id,_);\r\n\t\t\t\t\t\t\t},(((_.lasteventdata===1 && event.data===2) || (_.lasteventdata===2 && event.data!==3)) ? 1000 : 0))\r\n\r\n\r\n\t\t\t\t\t\t\t_.lasteventdata = event.data;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t'onReady': function(event) {\r\n\t\t\t\t\t\tvar playerMuted,\r\n\t\t\t\t\t\t\tisVideoMobile = _R.is_mobile(),\r\n\t\t\t\t\t\t\tisVideoLayer = _nc.hasClass('rs-layer-video');\r\n\t\t\t\t\t\t_.ready = true;\r\n\r\n\t\t\t\t\t\tif ((isVideoMobile || _R.isSafari11() && !(isVideoMobile && isVideoLayer)) && (_nc[0].tagName===\"RS-BGVIDEO\" || (isVideoLayer && (_.aplay===true || _.aplay===\"true\")))) {\r\n\r\n\t\t\t\t\t\t\tplayerMuted = true;\r\n\t\t\t\t\t\t\t_.player.setVolume(0);\r\n\t\t\t\t\t\t\t_.volume = \"mute\";\r\n\t\t\t\t\t\t\t_.player.mute();\r\n\t\t\t\t\t\t\tclearTimeout(_nc.data('mobilevideotimr'));\r\n\t\t\t\t\t\t\tif (_.player.getPlayerState()===2 || _.player.getPlayerState()===-1) _nc.data('mobilevideotimr', setTimeout(function() { _R.playVideo(_nc,id);}, 500));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(!playerMuted && _.volume==\"mute\") {\r\n\t\t\t\t\t\t\t_.player.setVolume(0);\r\n\t\t\t\t\t\t\t_.player.mute();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_nc.addClass(\"rs-apiready\");\r\n\t\t\t\t\t\tif (_.speed!=undefined || _.speed!==1) event.target.setPlaybackRate(parseFloat(_.speed));\r\n\r\n\t\t\t\t\t\t// PLAY VIDEO IF THUMBNAIL HAS BEEN CLICKED\r\n\t\t\t\t\t\t_.jsposter.off(\"click\");\r\n\t\t\t\t\t\t_.jsposter.on('click',function() {\r\n\t\t\t\t\t\t\t//if (!_R.ISM)\r\n\t\t\t\t\t\t\t\t_R.playVideo(_nc,id,true);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (_.startvideonow) {\r\n\t\t\t\t\t\t\t_R.playVideo(_nc,id);\r\n\t\t\t\t\t\t\tif (_.ssec!=-1) _.player.seekTo(_.ssec);\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tif (seek) posterOrVideo(id,_,'show',0.2);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t_.videolistenerexist = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tbreak;\r\n\r\n\t\t// VIMEO LISTENER\r\n\t\tcase \"vimeo\":\r\n\t\t\tif (typeof Vimeo==='undefined' || Vimeo.Player===undefined) {\r\n\t\t\t\t_R.checkVideoApis(_nc,id);\r\n\t\t\t\tsetTimeout(function() { addVideoListener(_nc,id,startnow,seek);},50);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar isrc = _.jvideo.attr('src'),\r\n\t\t\t\tqueryParameters = {}, queryString = isrc,\r\n\t\t\t\tre = /([^&=]+)=([^&]*)/g, m;\r\n\t\t\t// Creates a map with the query string parameters\r\n\t\t\twhile (m = re.exec(queryString)) queryParameters[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);\r\n\r\n\t\t\tif (queryParameters['player_id']!=undefined)\r\n\t\t\t\tisrc = isrc.replace(queryParameters['player_id'],frameID);\r\n\t\t\telse\r\n\t\t\t\tisrc=isrc+\"&player_id=\"+frameID;\r\n\r\n\t\t\tisrc = isrc.replace(/&api=0|&api=1/g, '');\r\n\r\n\t\t\tvar isVideoMobile = _R.is_mobile(),\r\n\t\t\t\tdeviceCheck = isVideoMobile || _R.isSafari11(),\r\n\t\t\t\tisVideoBg = _nc[0].tagName===\"RS-BGVIDEO\";\r\n\r\n\t\t\tif(deviceCheck && isVideoBg) isrc += '&background=1';\r\n\t\t\t_.jvideo.attr('src',isrc);\r\n\r\n\t\t\t_.vimeoplayer = _.vimeoplayer===undefined || _.vimeoplayer===false ? new Vimeo.Player(frameID) : _.vimeoplayer;\r\n\r\n\t\t\tif(deviceCheck) {\r\n\t\t\t\tvar toMute;\r\n\t\t\t\tif(isVideoBg)\r\n\t\t\t\t\ttoMute = true;\r\n\t\t\t\telse if(_.aplay || _.aplay===\"true\") {\r\n\t\t\t\t\t//if(isVideoMobile) _.aplay = false;  // Removed Line to allow Auto Play also on further loops.\r\n\t\t\t\t\ttoMute = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(toMute) {\r\n\t\t\t\t\t_.volumetoken=true;\r\n\t\t\t\t\t_.vimeoplayer.setMuted(true);\r\n\t\t\t\t\t_.volume = \"mute\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_.vimeoplayer.on('play', function(data) {\r\n\t\t\t\t_R[id].onceVideoPlayed = true;\r\n\t\t\t\t_.cSS = \"playing\";\r\n\t\t\t\tif (!_.vimeostarted) vimeoPlayerPlayEvent(_,_nc,id);\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// Read out the Real Aspect Ratio from Vimeo Video\r\n\t\t\t_.vimeoplayer.on('loaded',function(data) {\r\n\r\n\t\t\t\tvar newas = {};\r\n\t\t\t\t_.vimeoplayer.getVideoWidth().then( function(width) {\r\n\t\t\t\t\tnewas.width = width;\r\n\t\t\t\t\tif (newas.width!==undefined && newas.height!==undefined) {\r\n\t\t\t\t\t\t_.ratio = newas.width+\":\"+newas.height;\r\n\t\t\t\t\t\t_.vimeoplayerloaded = true;\r\n\t\t\t\t\t\tcallPrepareCoveredVideo(id,_nc);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t_.vimeoplayer.getVideoHeight().then( function(height) {\r\n\t\t\t\t\tnewas.height = height;\r\n\t\t\t\t\tif (newas.width!==undefined && newas.height!==undefined) {\r\n\t\t\t\t\t\t_.ratio = newas.width+\":\"+newas.height;\r\n\t\t\t\t\t\t_.vimeoplayerloaded = true;\r\n\t\t\t\t\t\tcallPrepareCoveredVideo(id,_nc);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (_.startvideonow) {\r\n\t\t\t\t\tif (_.volume===\"mute\") {_.volumetoken=true;_.vimeoplayer.setMuted(true);}\r\n\t\t\t\t\t_R.playVideo(_nc,id);\r\n\t\t\t\t\tif (_.ssec!=-1) _.vimeoplayer.setCurrentTime(_.ssec);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (seek) posterOrVideo(id,_,'show',0.2);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_nc.addClass(\"rs-apiready\");\r\n\r\n\t\t\t_.vimeoplayer.on('volumechange',function(data) {\r\n\t\t\t\tif (_.volumetoken) _.volume = data.volume;\r\n\t\t\t\t_.volumetoken = false;\r\n\t\t\t});\r\n\r\n\t\t\t_.vimeoplayer.on('timeupdate',function(data) {\r\n\t\t\t\tposterOrVideo(id,_);\r\n\t\t\t\tif (!_.vimeostarted && data.percent!==0 && (_R[id].activeRSSlide===undefined || _.slideid===_R.gA(_R[id].slides[_R[id].activeRSSlide],\"key\"))) vimeoPlayerPlayEvent(_,_nc,id);\r\n\t\t\t\tif (_.pausetimer && _R[id].sliderstatus==\"playing\") {\r\n\t\t\t\t\t_R[id].stopByVideo = true;\r\n\t\t\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\t\t}\r\n\t\t\t\t_.currenttime = data.seconds;\r\n\r\n\t\t\t\tif (_.esec!=0 && _.esec!==-1 && _.esec<data.seconds && _.nextslidecalled!==true) {\r\n\t\t\t\t\tif (_.loop) {\r\n\t\t\t\t\t\t_R.playVideo(_nc,id);\r\n\t\t\t\t\t\t_.vimeoplayer.setCurrentTime(_.ssec!==-1 ? _.ssec : 0);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (_.nse) {\r\n\t\t\t\t\t\t\t_.nseTriggered = true;\r\n\t\t\t\t\t\t\t_.nextslidecalled = true;\r\n\t\t\t\t\t\t\t_R[id].c.revnext();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_.vimeoplayer.pause();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (_.prePlayForaWhile)\t_.vimeoplayer.pause();\r\n\t\t\t});\r\n\r\n\t\t\t_.vimeoplayer.on('ended', function(data) {\r\n\t\t\t\t\t_.cSS = \"paused\";\r\n\t\t\t\t\tposterOrVideo(id,_);\r\n\t\t\t\t\t_.vimeostarted = false;\r\n\t\t\t\t\tremVidfromList(_nc,id);\r\n\t\t\t\t\t_R[id].stopByVideo=false;\r\n\t\t\t\t\t_R[id].c.trigger('starttimer');\r\n\t\t\t\t\t_R[id].c.trigger('revolution.slide.onvideostop',pushVideoData(_.vimeoplayer,\"vimeo\",_));\r\n\t\t\t\t\tif (_.nse) {\r\n\t\t\t\t\t\t_.nseTriggered = true;\r\n\t\t\t\t\t\t_R[id].c.revnext();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_R[id].videoIsPlaying==undefined || _R[id].videoIsPlaying.attr(\"id\") == _nc.attr(\"id\")) _R.unToggleState(_.videotoggledby);\r\n\r\n\t\t\t});\r\n\r\n\t\t\t_.vimeoplayer.on('pause', function(data) {\r\n\r\n\t\t\t\t\t_.vimeostarted = false;\r\n\t\t\t\t\t_.cSS = \"paused\";\r\n\t\t\t\t\tposterOrVideo(id,_);\r\n\t\t\t\t\t_R[id].stopByVideo = false;\r\n\t\t\t\t\t_R[id].tonpause = false;\r\n\r\n\t\t\t\t\tremVidfromList(_nc,id);\r\n\t\t\t\t\t_R[id].c.trigger('starttimer');\r\n\t\t\t\t\t_R[id].c.trigger('revolution.slide.onvideostop',pushVideoData(_.vimeoplayer,\"vimeo\",_));\r\n\t\t\t\t\tif (_R[id].videoIsPlaying==undefined || _R[id].videoIsPlaying.attr(\"id\") == _nc.attr(\"id\")) _R.unToggleState(_.videotoggledby);\r\n\r\n\t\t\t});\r\n\r\n\t\t\t_.jsposter.off(\"click\");\r\n\t\t\t_.jsposter.on('click',function() {\r\n\t\t\t\t if (!_R.ISM) {\r\n\t\t\t\t\t_R.playVideo(_nc,id,true);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t }\r\n\t\t\t});\r\n\r\n\t\t\t_.videolistenerexist = true;\r\n\t\tbreak;\r\n\t}\r\n},\r\n\r\n\r\nexitFullscreen = function() {\r\n  if(document.exitFullscreen && document.fullscreen) {\r\n\tdocument.exitFullscreen();\r\n  } else if(document.mozCancelFullScreen && document.mozFullScreen) {\r\n\tdocument.mozCancelFullScreen();\r\n  } else if(document.webkitExitFullscreen && document.webkitIsFullScreen) {\r\n\tdocument.webkitExitFullscreen();\r\n  }\r\n},\r\n\r\nhtmlvideoevents = function(_nc,id,startnow) {\r\n\tvar _ = _R[id].videos[_nc[0].id];\r\n\r\n\tif (_R.ISM && _.notonmobile) return false;\r\n\t_.metaloaded = true;\r\n\r\n\t//Prrepare Shadow Canvas if Needed\r\n\tif (_.newtype===\"html5\" && _.bgvideo) {\r\n\t\t_.nBG = _R[id].sbgs[_nc[0].dataset.key];\r\n\t\tif (_.nBG.shadowCanvas===undefined) {\r\n\t\t\t_.nBG.shadowCanvas = document.createElement('canvas');\r\n\t\t\t_.nBG.shadowCTX = _.nBG.shadowCanvas.getContext('2d');\r\n\t\t\t_.nBG.shadowCanvas.style.background = \"transparent\";\r\n\t\t\t_.nBG.shadowCanvas.style.opacity = 1;\r\n\t\t}\r\n\t\t_.nBG.isHTML5 = true;\r\n\t\t_.nBG.video= _.nBG.loadobj!==undefined && _.nBG.loadobj.img!==undefined ? _.nBG.loadobj.img : _.video;\r\n\t\t_.nBG.drawVideoCanvasImagesRecall = false;\r\n\t}\r\n\r\n\t//PLAY, STOP VIDEO ON CLICK OF PLAY, POSTER ELEMENTS\r\n\tif (((!_.controls || _.audio) || _.poster !== undefined) && !_.noInt) {\r\n\t\tif (_nc.find('.tp-video-play-button').length==0 && !_R.ISM) _nc.append('<div class=\"tp-video-play-button\"><i class=\"revicon-right-dir\"></i><span class=\"tp-revstop\">&nbsp;</span></div>');\r\n\t\tvar selector = 'video, rs-poster, .tp-video-play-button';\r\n\t\tif(_.poster !== undefined && _.controls) selector = '.tp-video-play-button';\r\n\t\t_nc.find(selector).on('click',function() {\r\n\t\t\tif (_.loop===false && _.esec>0 && _.esec<=_.video.currentTime) \treturn;\r\n\t\t\tif (_nc.hasClass(\"videoisplaying\")) _R.stopVideo(_nc,id); else _R.playVideo(_nc,id,true);\r\n\t\t});\r\n\t}\r\n\r\n\t// PRESET FULLCOVER VIDEOS ON DEMAND\r\n\tif (_nc.hasClass('rs-fsv') || _.bgvideo)  {\r\n\t\tif (_.bgvideo || _nc.hasClass('rs-fsv')) {\r\n\t\t\t_.html5vid.addClass(\"fullcoveredvideo\");\r\n\t\t\tif (_.ratio===undefined || _.ratio.split(':').length==1) _.ratio = \"16:9\";\r\n\t\t\t_R.prepareCoveredVideo(id);\r\n\t\t}\r\n\t\telse _.html5vid.addClass(\"rs-fsv\");\r\n\t}\r\n\r\n\r\n\taddEvent(_.video,\"canplaythrough\", function() { _R.preLoadAudioDone(_nc,id,\"canplaythrough\");});\r\n\taddEvent(_.video,\"canplay\", function() {_R.preLoadAudioDone(_nc,id,\"canplay\");});\r\n\taddEvent(_.video,\"progress\", function() {_R.preLoadAudioDone(_nc,id,\"progress\");});\r\n\taddEvent(_.video,\"pause\", function() {\r\n\t\tif(_R.ISM) setPlayPauseOpacity(_, 1);\r\n\t});\r\n\r\n\r\n\t// Update the seek bar as the video plays\r\n\r\n\taddEvent(_.video,\"timeupdate\", function(a) {\r\n\t\t// Canvas Draw Fix until no Video Frame loaded\r\n\t\tthis.BGrendered = true;\r\n\t\tposterOrVideo(id,_);\r\n\t\tif (_.esec===-1 && _.loop && window.isSafari11==true) _.esec = _.video.duration-0.075;\r\n\t\tif (_.lastCurrentTime!==undefined) _.fps = _.video.currentTime-_.lastCurrentTime; else _.fps = 0.10;\r\n\t\t_.lastCurrentTime = _.video.currentTime;\r\n\t\tif (_.esec!=0 && _.esec!=-1 && _.esec<_.video.currentTime && !_.nextslidecalled) {\r\n\t\t\tif (_.loop) {\r\n\t\t\t\tplayHTML5(_, undefined, id);\r\n\t\t\t\t_.video.currentTime = _.ssec===-1 ? 0.5 : _.ssec;\r\n\t\t\t} else {\r\n\t\t\t\tif (_.nse) {\r\n\t\t\t\t\t_.nseTriggered = true;\r\n\t\t\t\t\t_.nextslidecalled = true;\r\n\t\t\t\t\t_R[id].jcnah = true;\r\n\t\t\t\t\t_R[id].c.revnext();\r\n\t\t\t\t\tsetTimeout(function() {_R[id].jcnah = false;},1000);\r\n\t\t\t\t}\r\n\t\t\t\t_.video.pause();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// VIDEO EVENT LISTENER FOR \"PLAY\"\r\n\taddEvent(_.video,\"play\",function() {\r\n\t\t_.cSS = \"playing\";\r\n\t\tposterOrVideo(id,_);\r\n\t\t//Prrepare Shadow Canvas if Needed\r\n\t\tif (_.bgvideo) {\r\n\t\t\t_.nBG.drawVideoCanvasImagesRecall = true;\r\n\t\t\t_.nBG.videoisplaying = true;\r\n\t\t\t_.nBG.video = _.video;\r\n\t\t\t_R.updateVideoFrames(id,_.nBG);\r\n\t\t}\r\n\t\t_R[id].onceVideoPlayed = true;\r\n\t\t_.nextslidecalled = false;\r\n\t\t_.volume = _.volume!=undefined && _.volume!=\"mute\" ? parseFloat(_.volcache) : _.volume;\r\n\t\t_.volcache = _.volcache!=undefined && _.volcache!=\"mute\" ? parseFloat(_.volcache) : _.volcache;\r\n\t\tif (!_R.is_mobile()) {\r\n\t\t\tif (_R[id].globalmute===true) _.video.muted = true; else _.video.muted = _.volume==\"mute\" ? true : false;\r\n\t\t\t_.volcache = _R.isNumeric(_.volcache) && _.volcache>1 ? _.volcache/100 : _.volcache;\r\n\t\t\tif (_.volume==\"mute\") _.video.muted=true;\r\n\t\t\telse if (_.volcache!=undefined) _.video.volume = _.volcache;\r\n\t\t}\r\n\r\n\t\t_nc.addClass(\"videoisplaying\");\r\n\r\n\t\taddVidtoList(_nc,id);\r\n\t\tclearTimeout(_.showCoverSoon)\r\n\r\n\t\tif (_.pausetimer!==true || _.tag==\"audio\") {\r\n\t\t\t_R[id].stopByVideo = false;\r\n\t\t\t_R[id].c.trigger('revolution.slide.onvideostop',pushVideoData(_.video,\"html5\",_));\r\n\t\t} else {\r\n\t\t\t_R[id].stopByVideo = true;\r\n\t\t\t_R[id].c.trigger('revolution.slide.onvideoplay',pushVideoData(_.video,\"html5\",_));\r\n\t\t}\r\n\r\n\t\tif (_.pausetimer && _R[id].sliderstatus==\"playing\") {\r\n\t\t\t_R[id].stopByVideo = true;\r\n\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t}\r\n\r\n\t\t_R.toggleState(_.videotoggledby);\r\n\t});\r\n\r\n\taddEvent(_.video,\"seeked\",function() {_.seeking = false; });\r\n\taddEvent(_.video,\"seeking\",function() {_.seeking = true; });\r\n\r\n\t// VIDEO EVENT LISTENER FOR \"PAUSE\"\r\n\taddEvent(_.video,\"pause\",function(e) {\r\n\r\n\t\t_.cSS = \"paused\";\r\n\t\tposterOrVideo(id,_);\r\n\t\t_nc.removeClass(\"videoisplaying\");\r\n\t\tif (_.bgvideo) {\r\n\t\t\t_.nBG.drawVideoCanvasImagesRecall = false;\r\n\t\t\t_.nBG.videoisplaying = false;\r\n\t\t}\r\n\t\t_R[id].stopByVideo = false;\r\n\t\tremVidfromList(_nc,id);\r\n\t\tif (_.tag!=\"audio\")  _R[id].c.trigger('starttimer');\r\n\t\t_R[id].c.trigger('revolution.slide.onvideostop',pushVideoData(_.video,\"html5\",_));\r\n\r\n\t\tif (_R[id].videoIsPlaying==undefined || _R[id].videoIsPlaying.attr(\"id\") == _nc.attr(\"id\")) _R.unToggleState(_.videotoggledby);\r\n\t});\r\n\r\n\t// VIDEO EVENT LISTENER FOR \"END\"\r\n\taddEvent(_.video,\"ended\",function() {\r\n\t\t_.cSS = \"paused\";\r\n\t\texitFullscreen();\r\n\t\tposterOrVideo(id,_);\r\n\t\tremVidfromList(_nc,id);\r\n\t\t_R[id].stopByVideo = false;\r\n\t\tremVidfromList(_nc,id);\r\n\t\tif (_.tag!=\"audio\") _R[id].c.trigger('starttimer');\r\n\t\t_R[id].c.trigger('revolution.slide.onvideostop',pushVideoData(_.video,\"html5\",_nc.data()));\r\n\r\n\t\tif (_.nse && _.video.currentTime>0) {\r\n\t\t\tif (!_R[id].jcnah==true) {\r\n\t\t\t\t_.nseTriggered = true;\r\n\t\t\t\t_R[id].c.revnext();\r\n\t\t\t\t_R[id].jcnah = true;\r\n\t\t\t}\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_R[id].jcnah = false;\r\n\t\t\t},1500)\r\n\t\t}\r\n\t\t_nc.removeClass(\"videoisplaying\");\r\n\t\tif (_.bgvideo) {\r\n\t\t\t_.nBG.drawVideoCanvasImagesRecall = false;\r\n\t\t\t_.nBG.videoisplaying = false;\r\n\t\t}\r\n\t\tif (_R[id].inviewport===true || _R[id].inviewport===undefined) _R[id].lastplayedvideos = [];\r\n\t});\r\n\r\n\taddEvent(_.video, 'volumechange', function(){\r\n\t\tif(_.video.muted) _.volume = 'mute';\r\n\t\telse _.volume = _.volcache = _.video.volume;\r\n\t});\r\n},\r\n\r\nctfs = function(_) { return _===\"t\" || _===true || _===\"true\" ? true : _===\"f\" || _===false || _===\"false\" ? false : _;},\r\n\r\n// TRANSFER SHORTENED DATA VALUES\r\nreadVideoDatas = function(_,type,slideid) {\r\n\t_.audio = type===\"audio\";\r\n\tvar o = _.video===undefined ? [] : _.video.split(\";\"),\r\n\t\tr = {\r\n\t\t\tvolume: _.audio ? 1 : \"mute\",\t//volume\r\n\t\t\tpload:\"auto\", \t//preload\r\n\t\t\tratio:\"16:9\",\t//aspectratio\r\n\t\t\tloop:true,\t//loop\r\n\t\t\taplay:'true',\t//autplay\r\n\t\t\tfitCover: true,\r\n\t\t\tafs:true,\t\t//allowFullscreen\r\n\t\t\tcontrols:false,\t//videocontrol\r\n\t\t\tnse:true,\t\t//nextslideatend\r\n\t\t\tnpom:false,\t\t//noposteronmobile\r\n\t\t\topom:false,\t\t//Only Poster on Mobile\r\n\t\t\tinline:true, \t//inline\r\n\t\t\tnotonmobile:false, //disablevideoonmobile\r\n\t\t\tstart:-1,\t\t//videostartat\r\n\t\t\tend:-1,\t\t\t//videoendat\r\n\t\t\tdoverlay:\"none\", //dottedoverlay\r\n\t\t\tdoverlaysize:1, //Dotted Overlay Size\r\n\t\t\tdoverlaycolora :\"transparent\", //Dotted Overlay Color A\r\n\t\t\tdoverlaycolorb :\"#000000\", //Dotted Overlay Color B\r\n\t\t\tscop:false,\t\t//showcoveronpause\r\n\t\t\trwd:true,\t\t//forcerewind\r\n\t\t\tspeed:1, \t\t//speed / speed\r\n\t\t\tploadwait:5,  \t// Preload Wait\r\n\t\t\tstopAV:_.bgvideo===1 ? false : true, \t// Stop All Videos\r\n\t\t\tnoInt:false, \t// Stop All Videos\r\n\t\t\tvolcache : 75, // Basic Volume\r\n\t\t\tcrossOriginVideo: false\r\n\t\t}\r\n\tfor (var u in o) {\r\n\t\tif (!o.hasOwnProperty(u)) continue;\r\n\t\tvar s = o[u].split(\":\");\r\n\t\tswitch(s[0]) {\r\n\t\t\tcase \"v\": r.volume = s[1];break;\r\n\t\t\tcase \"twa\": r.twaudio = s[1];break;\r\n\t\t\tcase \"vd\": r.volcache = s[1];break;\r\n\t\t\tcase \"p\": r.pload = s[1];break;\r\n\t\t\tcase \"ar\": r.ratio = s[1] + (s[2]!==undefined ? \":\"+s[2] : \"\");break;\r\n\t\t\tcase \"ap\": r.aplay = ctfs(s[1]);break;\r\n\t\t\tcase \"vfc\": r.fitCover = ctfs(s[1]); break;\r\n\r\n\t\t\tcase \"afs\": r.afs = ctfs(s[1]);break;\r\n\t\t\tcase \"vc\": r.controls = s[1];break;\r\n\t\t\tcase \"nse\": r.nse = ctfs(s[1]);break;\r\n\t\t\tcase \"npom\": r.npom = ctfs(s[1]);break;\r\n\t\t\tcase \"opom\": r.opom = ctfs(s[1]);break;\r\n\t\t\tcase \"t\": r.vtype = s[1];break;\r\n\t\t\tcase \"inl\": r.inline = ctfs(s[1]);break;\r\n\t\t\tcase \"nomo\": r.notonmobile = ctfs(s[1]);break;\r\n\t\t\tcase \"sta\": r.start = s[1]+ (s[2]!==undefined ? \":\"+s[2] : \"\");break;\r\n\t\t\tcase \"end\": r.end = s[1] + (s[2]!==undefined ? \":\"+s[2] : \"\");break;\r\n\t\t\tcase \"do\": r.doverlay = s[1];break;\r\n\t\t\tcase \"dos\": r.doverlaysize = s[1];break;\r\n\t\t\tcase \"doca\": r.doverlaycolora = s[1];break;\r\n\t\t\tcase \"docb\": r.doverlaycolorb = s[1];break;\r\n\t\t\tcase \"scop\": r.scop = ctfs(s[1]);break;\r\n\t\t\tcase \"rwd\": r.rwd = ctfs(s[1]);break;\r\n\t\t\tcase \"sp\": r.speed = s[1];break;\r\n\t\t\tcase \"vw\": r.ploadwait = parseInt(s[1],0) || 5;break;\r\n\t\t\tcase \"sav\": r.stopAV = ctfs(s[1]);break;\r\n\t\t\tcase \"noint\": r.noInt = ctfs(s[1]);break;\r\n\t\t\tcase \"l\": r.loopcache = s[1]; r.loop = s[1]===\"loop\" || s[1]===\"loopandnoslidestop\" ? true : s[1]===\"none\" ? false : ctfs(s[1]);break;\r\n\t\t\tcase \"ptimer\": r.pausetimer = ctfs(s[1]);break;\r\n\t\t\tcase \"sat\": r.waitToSlideTrans = ctfs(s[1]);break;\r\n\t\t\tcase \"crossOriginVideo\" : r.crossOriginVideo = ctfs(s[1]); break;\r\n\t\t}\r\n\t}\r\n\r\n\tif (_.mp4 ==undefined && _.webm == undefined) r.fitCover = false;\r\n\tif (_.bgvideo!==undefined) r.bgvideo = _.bgvideo;\r\n\r\n\tif (r.noInt) r.controls = false;\r\n\tif (_.mp4!==undefined) r.mp4 = _.mp4;\r\n\tif (_.videomp4!==undefined) r.mp4 = _.videomp4;\r\n\tif (_.ytid!==undefined) r.ytid = _.ytid;\r\n\tif (_.ogv!==undefined) r.ogv = _.ogv;\r\n\tif (_.webm!==undefined) r.webm = _.webm;\r\n\tif (_.vimeoid!==undefined) r.vimeoid = _.vimeoid;\r\n\tif (_.vatr!==undefined) r.vatr = _.vatr;\r\n\tif (_.videoattributes!==undefined) r.vatr = _.videoattributes;\r\n\tif (_.poster!==undefined) r.poster = _.poster;\r\n\tr.slideid = slideid;\r\n\r\n\tr.aplay = r.aplay===\"true\" ? true : r.aplay;\r\n\r\n\tif (r.bgvideo===1) r.volume=\"mute\";\r\n\r\n\tr.ssec = getStartSec(r.start);\r\n\tr.esec = getStartSec(r.end);\r\n\r\n\t//INTRODUCING loop and pausetimer\r\n\tr.pausetimer = r.pausetimer===undefined ? r.loopcache!==\"loopandnoslidestop\" : r.pausetimer;\r\n\tr.inColumn = _._incolumn;\r\n\tr.audio = _.audio;\r\n\r\n\r\n\tif ((r.loop===true || r.loop===\"true\") && (r.nse===true || r.nse===\"true\")) r.loop = false;\r\n\r\n\treturn r;\r\n},\r\n\r\naddVidtoList = function(_nc,id) {\r\n\t_R[id].playingvideos = _R[id].playingvideos===undefined ? new Array() : _R[id].playingvideos;\r\n\t// STOP OTHER VIDEOS\r\n\tif (_R[id].videos[_nc[0].id].stopAV) {\r\n\t\tif (_R[id].playingvideos !== undefined && _R[id].playingvideos.length>0) {\r\n\t\t\t_R[id].lastplayedvideos = jQuery.extend(true,[],_R[id].playingvideos);\r\n\t\t\tfor (var i in _R[id].playingvideos) if (_R[id].playingvideos.hasOwnProperty(i)) _R.stopVideo(_R[id].playingvideos[i],id);\r\n\t\t}\r\n\t}\r\n\t_R[id].playingvideos.push(_nc);\r\n\t_R[id].videoIsPlaying = _nc;\r\n},\r\n\r\nremVidfromList = function(_nc,id) {\r\n\tif (_R[id]===undefined || _R[id]===undefined) return;\r\n\tif (_R[id].playingvideos != undefined && jQuery.inArray(_nc,_R[id].playingvideos)>=0)\r\n\t\t_R[id].playingvideos.splice(jQuery.inArray(_nc,_R[id].playingvideos),1);\r\n},\r\n\r\nsetPlayPauseOpacity = function(_, opacity){\r\n\tif(_ === undefined) return;\r\n\tif(opacity === undefined) opacity = 0;\r\n\tif (_R.ISM && !_.bgvideo) {\r\n\t\tif(_.playPauseBtnTween && _.playPauseBtnTween.kill) _.playPauseBtnTween.kill();\r\n\r\n\t\tvar l = _R.closestNode(_.video, 'RS-LAYER');\r\n\t\tvar delay = !_.controls ? 0 : 1;\r\n\t\tvar duration =  !_.controls ? 0.3 : 0;\r\n\t\tif (_.controls && _.poster && opacity === 0) {\r\n\t\t\tduration = 0;\r\n\t\t\tdelay = 0;\r\n\t\t}\r\n\t\tif(l){\r\n\t\t\t_.playPauseBtnTween = tpGS.gsap.to(l.querySelector('.tp-video-play-button'), {duration: duration, delay: delay, opacity: opacity});\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\twindow.RS_MODULES = window.RS_MODULES || {};\r\n\twindow.RS_MODULES.video = {loaded:true, version:version};\r\n\tif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.main.js":"/*!\r\n\r\n  - Slider Revolution JavaScript Plugin -\r\n\r\n..........................xXXXXX.................\r\n................. xXXXXX..xXXXXX..xXXXXX.........\r\n..................xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.........,xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.........,xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.........,xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.....................xxxxxxxxxxxxxxxxxxx.........\r\n.....................xxxxxxxxxxxxxxxxxxx.........\r\n.....................xxxxxxxxxxxxxxxxxxx.........\r\n\r\n\t\t\t   DATE: 2022-10-06\r\n\t@author: Krisztian Horvath, ThemePunch OHG.\r\n\r\nINTRODUCING GIT\r\nUPDATES AND DOCS AT:\r\nhttps://www.themepunch.com/support-center\r\n\r\nGET LICENSE AT:\r\nhttps://www.themepunch.com/links/slider_revolution_wordpress_regular_license\r\n\r\nLICENSE:\r\nCopyright (c) 2009-2019, ThemePunch. All rights reserved.\r\nThis work is subject to the terms at https://www.themepunch.com/links/slider_revolution_wordpress_regular_license (Regular / Extended)\r\n\r\n*/\r\n//test\r\n(function(jQuery, undefined) {\r\n\t\"use strict\";\r\n\r\n\tvar version = \"Slider Revolution 6.6.0\";\r\n\r\n\twindow.RSANYID = window.RSANYID === undefined ? [] : window.RSANYID;\r\n\twindow.RSANYID_sliderID = window.RSANYID_sliderID === undefined ? [] : window.RSANYID_sliderID;\r\n\r\n\tjQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\tvar _R = jQuery.fn.revolution;\r\n\r\n\tjQuery.fn.revolutionInit = function(options) {\r\n\r\n\t\treturn this.each(function() {\r\n\r\n\r\n\t\t\t_R.ISM = _R.ISM || _R.is_mobile();\r\n\t\t\t// REMOVE P TAG FIXES FOR WORDPRESS\r\n\t\t\tvar pwpfix = document.getElementsByClassName('rs-p-wp-fix');\r\n\t\t\twhile (pwpfix[0]) pwpfix[0].parentNode.removeChild(pwpfix[0]);\r\n\t\t\tif (this.id !== undefined) {\r\n\t\t\t\t_R[id] = { anyid: [] };\r\n\t\t\t\tthis.id = _R.revCheckIDS(id, this, true);\r\n\t\t\t} else this.id = \"rs_module_\" + Math.round(Math.random() * 10000000);\r\n\r\n\t\t\tvar id = this.id,\r\n\t\t\t\texp = _R.clone(options);\r\n\t\t\t_R[id] = getModuleDefaults(options);\r\n\t\t\t_R[id].ignoreHeightChange = _R.ISM && _R[id].sliderLayout === \"fullscreen\" && _R[id].ignoreHeightChange;\r\n\t\t\t_R[id].option_export = exp;\r\n\t\t\t_R[id].anyid = [];\r\n\t\t\t_R[id]._Lshortcuts = {};\r\n\t\t\t_R[id].computedStyle = {};\r\n\t\t\t_R[id].c = jQuery(this);\r\n\t\t\t_R[id].cpar = _R[id].c.parent();\r\n\t\t\t_R[id].canvas = _R[id].c.find('rs-slides');\r\n\t\t\t_R[id].caches = { calcResponsiveLayersList: [], contWidthManager: {}, middleHeights:{} };\r\n\t\t\t_R[id].sbgs = {};\r\n\t\t\twindow.RSBrowser = window.RSBrowser === undefined ? _R.get_browser() : window.RSBrowser;\r\n\t\t\t_R.setIsIOS();\r\n\t\t\t_R.setIsChrome8889();\r\n\t\t\tif(_R.useBackdrop === undefined) _R.checkBackdrop();\r\n\t\t\t_R[id].noDetach = _R[id].BUG_ie_clipPath = window.RSBrowser === \"Edge\" || window.RSBrowser === \"IE\";\r\n\r\n\t\t\t_R.getByTag = getTagSelector();\r\n\r\n\t\t\t// BASIC SETTINGS\r\n\t\t\t_R[id].indexhelper = 0;\r\n\t\t\t_R[id].fullScreenOffsetResult = 0;\r\n\t\t\t_R[id].level = 0;\r\n\t\t\t_R[id].rtl = jQuery('body').hasClass(\"rtl\") || document.dir==\"rtl\";\r\n\t\t\t_R[id]._L = _R[id]._L === undefined ? {} : _R[id]._L;\r\n\t\t\t_R[id].emptyObject = \"{}\";\r\n\t\t\t_R[id].dimensionReCheck = {};\r\n\r\n\t\t\tif (_R.globalListener === undefined) _R.pageHandler(id);\r\n\r\n\t\t\tif (_R[id].stopAfterLoops != undefined && _R[id].stopAfterLoops > -1)\r\n\t\t\t\t_R[id].looptogo = _R[id].stopAfterLoops;\r\n\t\t\telse\r\n\t\t\t\t_R[id].looptogo = \"disabled\";\r\n\r\n\t\t\t//DEBUG\r\n\t\t\twindow.T = _R[id];\r\n\r\n\t\t\t// FALLBACKS\r\n\t\t\t_R[id].BUG_safari_clipPath = _R.get_browser() === \"Safari\" && _R.get_browser_version() > \"12\";\r\n\r\n\t\t\t// Prepare maxHeight\r\n\t\t\t_R[id].minHeight = _R[id].sliderLayout === \"fullwidth\" || _R[id].sliderType === \"carousel\" ? 0 : _R[id].minHeight != undefined && _R[id].minHeight !== \"\" ? parseInt(_R[id].minHeight, 0) : 0;\r\n\t\t\t_R[id].minHeight = _R[id].minHeight === undefined ? 0 : _R[id].minHeight;\r\n\r\n\t\t\t_R[id].isEdge = _R.get_browser() === \"Edge\";\r\n\r\n\t\t\t//Prepare Min Height\r\n\t\t\tupdateStartHeights(id);\r\n\t\t\t_R.updateVisibleArea(id);\r\n\t\t\tcheckBlockSpaces(id);\r\n\r\n\t\t\tif (!_R.mesuredScrollBarDone) _R.mesureScrollBar();\r\n\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t// If Fullscreen Slidr has Offset Size containers, need to reduce height at very early timepoint\r\n\t\t\t\tif (_R[id].sliderLayout === \"fullscreen\") {\r\n\t\t\t\t\tvar foffset = _R.getFullscreenOffsets(id);\r\n\t\t\t\t\tif (foffset !== 0) _R[id].cpar.height(_R.getWinH(id) - foffset);\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].cpar[0].style.visibility = \"visible\";\r\n\r\n\t\t\t});\r\n\r\n\t\t\t//REMOVE SLIDES IF SLIDER IS HERO\r\n\t\t\tif (_R[id].sliderType == \"hero\") _R[id].c.find('rs-slide').each(function(i) { if (i > 0) jQuery(this).remove(); });\r\n\r\n\t\t\t// NAVIGATION EXTENSTION\r\n\t\t\t_R[id].navigation.use = _R[id].sliderType !== \"hero\" && (_R[id].sliderType == \"carousel\" || _R[id].navigation.keyboardNavigation || _R[id].navigation.mouseScrollNavigation == \"on\" || _R[id].navigation.mouseScrollNavigation == \"carousel\" || _R[id].navigation.touch.touchenabled || _R[id].navigation.arrows.enable || _R[id].navigation.bullets.enable || _R[id].navigation.thumbnails.enable || _R[id].navigation.tabs.enable);\r\n\r\n\t\t\t// LAYERANIM, VIDEOS, ACTIONS EXTENSIONS\r\n\t\t\t_R[id].c.find('rs-bgvideo').each(function() { if (this.tagName === \"RS-BGVIDEO\" && (this.id === undefined || this.id === \"\")) this.id = \"rs-bg-video-\" + Math.round(Math.random() * 1000000); });\r\n\r\n\t\t\ttpGS.force3D = \"auto\";\r\n\r\n\t\t\t// CHECK IF MODAL HAS BEEN INITIALISED ALREADY\r\n\t\t\tif (_R[id].modal.useAsModal === true && _R.RS_prioList.indexOf(id) === -1) {\r\n\t\t\t\t_R.RS_toInit[id] = false;\r\n\t\t\t\t_R.RS_prioList.push(id);\r\n\t\t\t}\r\n\r\n\t\t\t// CHECK IF SLIDER WAS ALREADY KILLED BEFORE\r\n\t\t\tif (_R.RS_killedlist !== undefined && _R.RS_killedlist.indexOf(id) !== -1) {\r\n\t\t\t\t_R.RS_toInit[id] = false;\r\n\t\t\t\t_R.RS_prioList.push(id);\r\n\t\t\t}\r\n\r\n\t\t\t// CHECK IF SLIDER HAS BEED CALLED AFTER GLOBAL LISTENER AND IS NOT YET ON THE LIST\r\n\t\t\tif (_R.RS_prioListFirstInit === true && _R[id].modal.useAsModal !== true && _R.RS_prioList.indexOf(id) === -1) {\r\n\t\t\t\t_R.RS_toInit[id] = false;\r\n\t\t\t\t_R.RS_prioList.push(id);\r\n\t\t\t}\r\n\t\t\t_R.initNextRevslider(id);\r\n\r\n\t\t\t//_R.observeRemoved(id);\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\tvar _R = window.RS_F;\r\n\r\n\r\n\r\n\tjQuery.fn.extend({\r\n\r\n\t\tgetRSJASONOptions: function(id) { console.log(JSON.stringify(_R[id].option_export)); },\r\n\r\n\t\t//Get All Loaded Version\r\n\t\tgetRSVersion: function(silent) {\r\n\t\t\tvar v = window.SliderRevolutionVersion,\r\n\t\t\t\tt, m;\r\n\t\t\tif (!silent) {\r\n\t\t\t\tt = m = \"---------------------------------------------------------\\n\";\r\n\t\t\t\tt += \"    Currently Loaded Slider Revolution & SR Modules :\\n\" + m;\r\n\t\t\t\tfor (var key in v)\r\n\t\t\t\t\tif (v.hasOwnProperty(key)) t += (v[key].alias + \": \" + v[key].ver) + \"\\n\";\r\n\t\t\t\tt += m;\r\n\t\t\t}\r\n\t\t\treturn silent ? v : t;\r\n\t\t},\r\n\r\n\r\n\t\t// Remove a Slide from the Slider\r\n\t\trevremoveslide: function(sindex) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar id = this.id;\r\n\t\t\t\t// REDUCE THE CURRENT ID\r\n\t\t\t\tif (sindex < 0 || sindex > _R[id].slideamount) return;\r\n\r\n\t\t\t\tif (_R[id] && _R[id].slides.length > 0) {\r\n\t\t\t\t\tif (sindex > 0 || sindex <= _R[id].slides.length) {\r\n\t\t\t\t\t\tvar ref = _R.gA(_R[id].slides[sindex], 'key');\r\n\t\t\t\t\t\t_R[id].slideamount = _R[id].slideamount - 1;\r\n\t\t\t\t\t\t_R[id].realslideamount = _R[id].realslideamount - 1;\r\n\t\t\t\t\t\tremoveNavWithLiref('rs-bullet', ref, id);\r\n\t\t\t\t\t\tremoveNavWithLiref('rs-tab', ref, id);\r\n\t\t\t\t\t\tremoveNavWithLiref('rs-thumb', ref, id);\r\n\t\t\t\t\t\tjQuery(_R[id].slides[sindex]).remove();\r\n\t\t\t\t\t\t_R[id].thumbs = removeArray(_R[id].thumbs, sindex);\r\n\t\t\t\t\t\tif (_R.updateNavIndexes) _R.updateNavIndexes(id);\r\n\t\t\t\t\t\tif (sindex <= _R[id].pr_active_key) _R[id].pr_active_key = _R[id].pr_active_key - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t// Add a New Call Back to some Module\r\n\t\trevaddcallback: function(callback) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id]) {\r\n\t\t\t\t\tif (_R[this.id].callBackArray === undefined)\r\n\t\t\t\t\t\t_R[this.id].callBackArray = [];\r\n\t\t\t\t\t_R[this.id].callBackArray.push(callback);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Get Current Parallax Proc\r\n\t\trevgetparallaxproc: function() {\r\n\t\t\tif (_R[this[0].id]) return _R[this[0].id].scrollproc;\r\n\t\t},\r\n\r\n\t\t// ENABLE DEBUG MODE\r\n\t\trevdebugmode: function() {\r\n\t\t\treturn;\r\n\t\t},\r\n\r\n\t\t// METHODE SCROLL\r\n\t\trevscroll: function(oy) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar c = jQuery(this);\r\n\t\t\t\tjQuery('body,html').animate({ scrollTop: (c.offset().top + (c.height()) - oy) + \"px\" }, { duration: 400 });\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE PAUSE\r\n\t\trevredraw: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tcontainerResized(this.id, undefined, true);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE GoToFrame\r\n\t\t//Trigger a Frame from Script outside of RS\r\n\t\trevGoToFrame:function(_) {\r\n\t\t\tif (_.layerid==undefined || _.frame==undefined) return;\r\n\t\t\tif (this==undefined || this==null) return;\r\n\t\t\t _.moduleid = this[0].id;\r\n\t\t\t_.targetlayer = jQuery('#'+_.layerid);\r\n\t\t\tif (_.targetlayer==undefined || _.targetlayer.length==0) return;\r\n\t\t\tvar pars = {layer:_.targetlayer, frame:_.frame, mode:\"trigger\", id:_.moduleid};\r\n\t\t\tif (_.children===true) {\r\n\t\t\t\tpars.updateChildren = true;\r\n\t\t\t\tpars.fastforward = true;\r\n\t\t\t}\r\n\t\t\tif (_R.renderLayerAnimation) _R.renderLayerAnimation(pars);\r\n\r\n\t\t},\r\n\t\t// METHODE PAUSE\r\n\t\trevkill: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (this==undefined || this==null) return;\r\n\t\t\t\tvar id = this.id;\r\n\r\n\t\t\t\t_R[id].c.data('conthover', 1);\r\n\t\t\t\t_R[id].c.data('conthoverchanged', 1);\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onpause');\r\n\t\t\t\t_R[id].tonpause = true;\r\n\t\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\t\t_R[id].sliderisrunning = false;\r\n\r\n\r\n\t\t\t\tvar resizid = \"updateContainerSizes.\" + _R[id].c.attr('id');\r\n\t\t\t\t_R.window.off(resizid);\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c.find('*'), false);\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c, false);\r\n\t\t\t\t_R[id].c.off('hover, mouseover, mouseenter,mouseleave, resize');\r\n\t\t\t\t_R[id].c.find('*').each(function() {\r\n\t\t\t\t\tvar el = jQuery(this);\r\n\r\n\t\t\t\t\tel.off('on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer');\r\n\t\t\t\t\tel.data('mySplitText', null);\r\n\t\t\t\t\tel.data('ctl', null);\r\n\t\t\t\t\tif (el.data('tween') != undefined) el.data('tween').kill();\r\n\t\t\t\t\tif (el.data('pztl') != undefined) el.data('pztl').kill();\r\n\t\t\t\t\tif (el.data('timeline_out') != undefined) el.data('timeline_out').kill();\r\n\t\t\t\t\tif (el.data('timeline') != undefined) el.data('timeline').kill();\r\n\t\t\t\t\tel.remove();\r\n\t\t\t\t\tel.empty();\r\n\t\t\t\t\tel = null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c.find('*'), false);\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c, false);\r\n\t\t\t\t_R[id].progressC.remove();\r\n\t\t\t\ttry { _R[id].c.closest('.rev_slider_wrapper').detach(); } catch (e) {}\r\n\t\t\t\ttry { _R[id].c.closest('rs-fullwidth-wrap').remove(); } catch (e) {}\r\n\t\t\t\ttry { _R[id].c.closest('rs-module-wrap').remove(); } catch (e) {}\r\n\t\t\t\ttry { _R[id].c.remove(); } catch (e) {}\r\n\r\n\t\t\t\t_R[id].cpar.detach();\r\n\t\t\t\t_R[id].c.html('');\r\n\t\t\t\t_R[id].c = null;\r\n\t\t\t\twindow[_R[id].revapi] = undefined;\r\n\t\t\t\tdelete _R[id];\r\n\r\n\t\t\t\tdelete _R.RS_swapList[id];\r\n\t\t\t\tdelete _R.slidersToScroll[id];\r\n\t\t\t\tdelete _R.RS_toInit[id];\r\n\t\t\t\tif (_R.nextSlider == id) delete _R.nextSlider;\r\n\r\n\r\n\t\t\t\t//Remove Slider from the PrioList and reset Preparations\r\n\t\t\t\t_R.RS_prioList.splice(_R.RS_prioList.indexOf(id), 1);\r\n\t\t\t\t//_R.RS_toInit[id] = false;\r\n\t\t\t\t//Put Slider on the Killed List, so it can be reinitialised later again if needed\r\n\t\t\t\t_R.RS_killedlist = _R.RS_killedlist === undefined ? [] : _R.RS_killedlist;\r\n\t\t\t\tif (_R.RS_killedlist.indexOf(id) === -1) _R.RS_killedlist.push(id);\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t// METHODE PAUSE\r\n\t\trevpause: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar c = jQuery(this);\r\n\t\t\t\tif (c != undefined && c.length > 0 && jQuery('body').find('#' + c.attr('id')).length > 0) {\r\n\t\t\t\t\tc.data('conthover', 1);\r\n\t\t\t\t\tc.data('conthoverchanged', 1);\r\n\t\t\t\t\tc.trigger('revolution.slide.onpause');\r\n\t\t\t\t\t_R[this.id].tonpause = true;\r\n\t\t\t\t\tc.trigger('stoptimer');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE RESUME\r\n\t\trevresume: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id] !== undefined) {\r\n\t\t\t\t\tvar c = jQuery(this);\r\n\t\t\t\t\tc.data('conthover', 0);\r\n\t\t\t\t\tc.data('conthoverchanged', 1);\r\n\t\t\t\t\tc.trigger('revolution.slide.onresume');\r\n\t\t\t\t\t_R[this.id].tonpause = false;\r\n\t\t\t\t\tc.trigger('starttimer');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\trevmodal: function(o) {\r\n\t\t\tvar $this = this instanceof jQuery ? this[0] : this,\r\n\t\t\t\tid = $this.id;\r\n\t\t\tif (_R[$this.id] !== undefined) _R.revModal(id, o);\r\n\t\t},\r\n\r\n\r\n\r\n\t\trevstart: function() {\r\n\t\t\t// \"this\" is a jQuery Object here\r\n\t\t\tvar $this = this instanceof jQuery ? this[0] : this;\r\n\r\n\t\t\tif (_R[$this.id] === undefined) {\r\n\t\t\t\tconsole.log(\"Slider is Not Existing\");\r\n\t\t\t\treturn false;\r\n\t\t\t} else\r\n\t\t\tif (!_R[$this.id].sliderisrunning && _R[$this.id].initEnded !== true) { //Double Check if we really can start the slider !\r\n\t\t\t\t_R[$this.id].c = jQuery($this);\r\n\t\t\t\t_R[$this.id].canvas = _R[$this.id].c.find('rs-slides');\r\n\t\t\t\trunSlider($this.id);\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"Slider Is Running Already\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// METHODE NEXT\r\n\t\trevnext: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\t// CATCH THE CONTAINER\r\n\t\t\t\tif (_R[this.id] !== undefined) _R.callingNewSlide(this.id, 1, _R[this.id].sliderType === \"carousel\");\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE RESUME\r\n\t\trevprev: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\t// CATCH THE CONTAINER\r\n\t\t\t\tif (_R[this.id] !== undefined) _R.callingNewSlide(this.id, -1, _R[this.id].sliderType === \"carousel\");\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE LENGTH\r\n\t\trevmaxslide: function() {\r\n\t\t\t// CATCH THE CONTAINER\r\n\t\t\treturn jQuery(this).find('rs-slide').length;\r\n\t\t},\r\n\r\n\r\n\t\t// METHODE CURRENT\r\n\t\trevcurrentslide: function() {\r\n\t\t\t// CATCH THE CONTAINER\r\n\t\t\tif (_R[jQuery(this)[0].id] !== undefined) return parseInt(_R[jQuery(this)[0].id].pr_active_key, 0) + 1;\r\n\t\t},\r\n\r\n\t\t// METHODE CURRENT\r\n\t\trevlastslide: function() {\r\n\t\t\t// CATCH THE CONTAINER\r\n\t\t\treturn jQuery(this).find('rs-slide').length;\r\n\t\t},\r\n\r\n\r\n\t\t// METHODE JUMP TO SLIDE\r\n\t\trevshowslide: function(slide) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id] !== undefined && slide !== undefined) _R.callingNewSlide(this.id, \"to\" + (slide - 1));\r\n\t\t\t});\r\n\t\t},\r\n\t\trevcallslidewithid: function(slide) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id] !== undefined) _R.callingNewSlide(this.id, slide, _R[this.id].sliderType === \"carousel\");\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t});\r\n\r\n\r\n\t//////////////////////////////////////////////////////////////\r\n\t// -\tREVOLUTION FUNCTION EXTENSIONS FOR GLOBAL USAGE  -  //\r\n\t//////////////////////////////////////////////////////////////\r\n\t_R = jQuery.fn.revolution;\r\n\r\n\tjQuery.extend(true, _R, {\r\n\t\tisNumeric: function(n) {\r\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t\t},\r\n\t\ttrim: function(t) {\r\n\t\t\treturn t !== undefined && t !== null && typeof t == \"string\" ? t.trim() : t;\r\n\t\t},\r\n\r\n\t\tsetCookie: function(cname, cvalue, exdays) {\r\n\t\t\tvar d = new Date();\r\n\t\t\td.setTime(d.getTime() + (exdays * 60 * 60 * 1000));\r\n\t\t\tvar expires = \"expires=\" + d.toUTCString();\r\n\t\t\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n\t\t},\r\n\r\n\t\tgetCookie: function(cname) {\r\n\t\t\tvar name = cname + \"=\";\r\n\t\t\tvar ca = document.cookie.split(';');\r\n\t\t\tfor (var i = 0; i < ca.length; i++) {\r\n\t\t\t\tvar c = ca[i];\r\n\t\t\t\twhile (c.charAt(0) == ' ') {\r\n\t\t\t\t\tc = c.substring(1);\r\n\t\t\t\t}\r\n\t\t\t\tif (c.indexOf(name) == 0) {\r\n\t\t\t\t\treturn decodeURIComponent(c.substring(name.length, c.length));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\tmesureScrollBar: function() {\r\n\t\t\t_R.mesuredScrollBarDone = true;\r\n\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t// Create the measurement node\r\n\t\t\t\tvar scrollDiv = document.createElement(\"div\");\r\n\t\t\t\tscrollDiv.className = \"RSscrollbar-measure\";\r\n\t\t\t\tdocument.body.appendChild(scrollDiv);\r\n\r\n\t\t\t\t// Get the scrollbar width\r\n\t\t\t\t_R.mesuredScrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n\r\n\r\n\t\t\t\t// Delete the DIV\r\n\t\t\t\tdocument.body.removeChild(scrollDiv);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmobileTimedHeightCheck : function() {\r\n\t\t\trequestAnimationFrame(function() { _R.mobileTimedHeightCheck();})\r\n\t\t\t_R.mobileHeights.now = Date.now();\r\n\t\t\t_R.mobileHeights.elapsed = _R.mobileHeights.now - _R.mobileHeights.then;\r\n\r\n\t\t\t// if enough time has elapsed, draw the next frame\r\n\t\t\tif (_R.mobileHeights.elapsed > _R.mobileHeights.fpsInterval) {\r\n\t\t\t\t_R.mobileHeights.then = _R.mobileHeights.now - (_R.mobileHeights.elapsed % _R.mobileHeights.fpsInterval);\r\n\t\t\t\t_R.getWindowDimension();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpageHandler: function(id) {\r\n\t\t\t_R.globalListener = true;\r\n\t\t\t_R.window = jQuery(window);\r\n\t\t\t_R.document = jQuery(document);\r\n\t\t\t_R.RS_toInit = {};\r\n\t\t\t_R.RS_prioList = [];\r\n\t\t\t_R.RS_swapping = [];\r\n\t\t\t_R.RS_swapList = {};\r\n\t\t\tif (window.isSafari11 === undefined) window.isSafari11 = _R.isSafari11();\r\n\r\n\t\t\tif (_R.ISM) {\r\n\t\t\t\twindow.addEventListener(\"orientationchange\", function() {\r\n\t\t\t\t\t_R.getWindowDimension(false, true);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_R.getWindowDimension(true, true);\r\n\t\t\t\t\t}, 400)\r\n\t\t\t\t});\r\n\t\t\t\twindow.addEventListener(\"resize\", _R.getWindowDimension);\r\n\t\t\t\ttpGS.gsap.delayedCall(3, function(){\r\n\t\t\t\t\twindow.removeEventListener(\"resize\", _R.getWindowDimension);\r\n\t\t\t\t});\r\n\t\t\t\t// Checking Heights all time\r\n\t\t\t\t_R.mobileHeights = {\r\n\t\t\t\t\tfpsInterval : 500,\r\n\t\t\t\t\tthen : Date.now(),\r\n\t\t\t\t}\r\n\t\t\t\tif (!_R[id].ignoreHeightChange && !_R.mobileHeights.checking) {\r\n\t\t\t\t\t_R.mobileHeights.checking = true;\r\n\t\t\t\t\t_R.mobileTimedHeightCheck();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// removed old touchscreen check as sliders were not resizing on touchscreen desktops\r\n\t\t\t\twindow.addEventListener(\"resize\", _R.getWindowDimension);\r\n\t\t\t}\r\n\r\n\t\t\t_R.getWindowDimension(false);\r\n\t\t\t_R.stickySupported = false;\r\n\r\n\t\t\tif (window.RSBrowser !== \"IE\") _R.stickySupported = true;\r\n\r\n\t\t\t_R.checkParrentOverflows(id);\r\n\r\n\t\t\tvar rsmodules = _R.getByTag(document, 'RS-MODULE');\r\n\t\t\tfor (var i in rsmodules)\r\n\t\t\t\tif (rsmodules.hasOwnProperty(i)) {\r\n\t\t\t\t\t_R.RS_toInit[rsmodules[i].id] = false;\r\n\t\t\t\t\t_R.RS_prioList.push(rsmodules[i].id);\r\n\t\t\t\t}\r\n\t\t\t_R.nextSlider = id;\r\n\t\t\t_R.RS_prioListFirstInit = true;\r\n\r\n\t\t\t_R.document.one('click', function(){ _R.clickedOnce = true; });\r\n\r\n\t\t\tdocument.addEventListener('visibilitychange', visibilityHandler);\r\n\r\n\t\t\tif (_R.hasNavClickListener === undefined) {\r\n\t\t\t\t_R.document.on((_R.is_mobile() ? 'touchstart' : 'mouseenter'), '.tparrows, .tp-bullets, .tp-bullet, .tp-tab, .tp-thumb, .tp-thumbs, .tp-tabs, .tp-rightarrow, .tp-leftarrow', function(e) {\r\n\t\t\t\t\tthis.classList.add('rs-touchhover');\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_R.document.on((_R.is_mobile() ? 'touchend' : 'mouseleave'), '.tparrows, .tp-bullets, .tp-bullet, .tp-tab, .tp-thumb, .tp-tabs,  .tp-rightarrow, .tp-leftarrow', function(e) {\r\n\t\t\t\t\tvar el = this;\r\n\t\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\t\tel.classList.remove('rs-touchhover');\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t_R.hasNavClickListener = true;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tdestroyCanvas: function(canvas) {\r\n\t\t\tif (!canvas) return;\r\n\t\t\tcanvas.width = canvas.height = 0;\r\n\t\t\tcanvas.remove();\r\n\t\t\tcanvas = null;\r\n\t\t},\r\n\r\n\t\tcheckParrentOverflows: function(id) {\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tvar element = _R[id].cpar[0];\r\n\t\t\t\twhile (element.parentNode && _R.stickySupported !== false) {\r\n\t\t\t\t\tif (element.tagName !== \"RS-MODULE-WRAP\" && element.tagName !== \"RS-FULLWIDTH-WRAP\" && element.tagName !== \"RS-MODULE-WRAP\" && element.className.indexOf(\"wp-block-themepunch-revslider\") === -1) {\r\n\t\t\t\t\t\tvar s = window.getComputedStyle(element);\r\n\t\t\t\t\t\t_R.stickySupported = s.overflow !== \"hidden\" && s.overflowX !== \"hidden\" && s.overflowY !== \"hidden\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telement = element.parentNode;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tobserveRemoved : function(id) {\r\n\t\t\tvar x = new MutationObserver(function (e) {\r\n\t\t\t\ttry{if (!document.body.contains(e[0].target)) _R[id].c.revkill();} catch(e) {};\r\n\t\t\t});\r\n\r\n\t\t\tx.observe(_R[id].cpar[0], { childList: true });\r\n\t\t},\r\n\r\n\t\tinitNextRevslider: function(id) {\r\n\t\t\tif (_R.RS_prioList[0] === id && _R.RS_toInit[id] === false) {\r\n\t\t\t\t_R.RS_toInit[id] = \"waiting\";\r\n\t\t\t\tinitSlider(id);\r\n\t\t\t\tsetTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\t} else\r\n\t\t\tif (_R.RS_prioList[0] === id && _R.RS_toInit[id] === \"waiting\") setTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\telse\r\n\t\t\tif (_R.RS_prioList[0] === id && _R.RS_toInit[id] === true) {\r\n\t\t\t\t_R.RS_prioList.shift();\r\n\t\t\t\tif (_R.RS_prioList.length !== 0) setTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\t} else\r\n\t\t\tif (_R.RS_prioList[0] !== id && _R.RS_toInit[id] === false) setTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\telse\r\n\t\t\tif (_R.RS_prioList.length === 0 && _R.RS_toInit[id] === true) initSlider(id);\r\n\r\n\t\t},\r\n\r\n\t\tscrollTicker: function(id) {\r\n\t\t\tif (_R.scrollTickerAdded != true) {\r\n\t\t\t\t_R.slidersToScroll = [];\r\n\t\t\t\t_R.scrollTickerAdded = true;\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\ttpGS.gsap.ticker.fps(150);\r\n\t\t\t\t\ttpGS.gsap.ticker.add(function() {\r\n\t\t\t\t\t\t_R.generalObserver();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else\r\n\t\t\t\t\tdocument.addEventListener('scroll', function(e) {\r\n\t\t\t\t\t\tif (_R.scrollRaF === undefined) _R.scrollRaF = requestAnimationFrame(_R.generalObserver.bind(this, true));\r\n\t\t\t\t\t}, { passive: true });\r\n\t\t\t}\r\n\t\t\t_R.slidersToScroll.push(id);\r\n\t\t\t_R.generalObserver(_R.ISM);\r\n\t\t},\r\n\r\n\t\tgeneralObserver: function(fromMouse, ignoreLayers) {\r\n\t\t\tif (_R.scrollRaF) _R.scrollRaF = cancelAnimationFrame(_R.scrollRaF);\r\n\t\t\t_R.lastwindowheight = _R.lastwindowheight || _R.winH;\r\n\t\t\t_R.scrollY = window.scrollY;\r\n\t\t\tfor (var i in _R.slidersToScroll) {\r\n\t\t\t\tif (!_R.slidersToScroll.hasOwnProperty(i)) continue;\r\n\t\t\t\t_R.scrollHandling(_R.slidersToScroll[i], fromMouse, undefined, ignoreLayers);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twrapObserver: {\r\n\t\t\ttargets: [],\r\n\t\t\tinit: function(callback) {\r\n\t\t\t\tvar limit = 1,\r\n\t\t\t\t\tlastCall = 0,\r\n\t\t\t\t\tcount = 0,\r\n\t\t\t\t\tobserve = observeTargets.bind(_R.wrapObserver);\r\n\t\t\t\tobserveTargets();\r\n\r\n\t\t\t\tfunction observeTargets() {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\trequestAnimationFrame(observe);\r\n\t\t\t\t\tif (count - lastCall < 30 / limit) return;\r\n\t\t\t\t\tlastCall = count;\r\n\t\t\t\t\tfor (var i = 0; i < _R.wrapObserver.targets.length; i++) {\r\n\t\t\t\t\t\tif (!_R.wrapObserver.targets.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\tvar target = _R.wrapObserver.targets[i],\r\n\t\t\t\t\t\tbox = target.elem.getBoundingClientRect();\r\n\r\n\t\t\t\t\t\tif ((target.lw !== box.width || target.lh !== box.height) && box.width !== 0) {\r\n\t\t\t\t\t\t\tif (target.callback) {\r\n\t\t\t\t\t\t\t\ttarget.callback.pause();\r\n\t\t\t\t\t\t\t\ttarget.callback.kill();\r\n\t\t\t\t\t\t\t\ttarget.callback = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttarget.callback = tpGS.gsap.to({}, { duration: 0.2, onComplete: callback.bind(window, target.elem, target.id) });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttarget.lw = box.width;\r\n\t\t\t\t\t\ttarget.lh = box.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tobserve: function(elem, id) {\r\n\t\t\t\tvar elem = elem.getBoundingClientRect ? elem : elem[0].getBoundingClientRect ? elem[0] : \"\";\r\n\t\t\t\tif (elem === \"\") return;\r\n\t\t\t\tvar box = elem.getBoundingClientRect();\r\n\t\t\t\t_R.wrapObserver.targets.push({\r\n\t\t\t\t\telem: elem,\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tlw: box.width,\r\n\t\t\t\t\tlh: box.height\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tenterViewPort: function(id, force) {\r\n\r\n\t\t\t// START FIRST SLIDE IF NOT YET STARTED AND VP ENTERED\r\n\t\t\tif (_R[id].started !== true) {\r\n\t\t\t\t_R[id].started = true;\r\n\t\t\t\t_R.lazyLoadAllSlides(id);\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.firstrun');\r\n\t\t\t\t// START THE SLIDER\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tswapSlide(id);\r\n\t\t\t\t\tif (_R[id].sliderType !== \"hero\" && _R.manageNavigation && _R[id].navigation.use && _R[id].navigation.createNavigationDone === true) _R.manageNavigation(id);\r\n\t\t\t\t\t// START COUNTDOWN\r\n\t\t\t\t\tif (_R[id].slideamount > 1) countDown(id);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tif (_R[id] === undefined) return;\r\n\t\t\t\t\t\t_R[id].revolutionSlideOnLoaded = true;\r\n\t\t\t\t\t\t_R[id].c.trigger('revolution.slide.onloaded');\r\n\t\t\t\t\t\t_R.calcScrollToId();\r\n\t\t\t\t\t}, 50);\r\n\t\t\t\t}, _R[id].startDelay);\r\n\t\t\t\t_R[id].startDelay = 0;\r\n\t\t\t\twindow.requestAnimationFrame(function() { hideSliderUnder(id); });\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// START COUNTER IF VP ENTERED, AND COUNTDOWN WAS NOT ON YET\r\n\t\t\t\tif (_R[id].waitForCountDown) {\r\n\t\t\t\t\tcountDown(id);\r\n\t\t\t\t\t_R[id].waitForCountDown = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (_R[id].sliderlaststatus == \"playing\" || _R[id].sliderlaststatus == undefined) _R[id].c.trigger(\"starttimer\");\r\n\t\t\t\tif (_R[id].lastplayedvideos != undefined && _R[id].lastplayedvideos.length > 0)\r\n\t\t\t\t\tjQuery.each(_R[id].lastplayedvideos, function(i, _nc) {\r\n\t\t\t\t\t\t_R.playVideo(_nc, id);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tleaveViewPort: function(id) {\r\n\t\t\t_R[id].sliderlaststatus = _R[id].sliderstatus;\r\n\t\t\t_R[id].c.trigger(\"stoptimer\");\r\n\t\t\tif (_R[id].playingvideos != undefined && _R[id].playingvideos.length > 0) {\r\n\t\t\t\t_R[id].lastplayedvideos = jQuery.extend(true, [], _R[id].playingvideos);\r\n\t\t\t\tif (_R[id].playingvideos)\r\n\t\t\t\t\tjQuery.each(_R[id].playingvideos, function(i, _nc) {\r\n\t\t\t\t\t\t_R[id].leaveViewPortBasedStop = true;\r\n\t\t\t\t\t\tif (_R.stopVideo) _R.stopVideo(_nc, id);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tscrollHandling: function(id, fromMouse, speedoverwrite, ignorelayers) {\r\n\t\t\tif (_R[id] === undefined) return;\r\n\r\n\t\t\t//if (_R.lastscrolltop==_R.scrollY && !_R[id].duringslidechange && !fromMouse) return false;\r\n\r\n\t\t\tvar b = _R[id].topc !== undefined ? _R[id].topc[0].getBoundingClientRect() : _R[id].canv.height === 0 ? _R[id].cpar[0].getBoundingClientRect() : _R[id].c[0].getBoundingClientRect(),\r\n\t\t\t\trealwheight = _R.ISM ? window.innerHeight : _R.lastwindowheight;\r\n\t\t\tb.hheight = b.height === 0 ? _R[id].canv.height === 0 ? _R[id].module.height : _R[id].canv.height : b.height;\r\n\r\n\r\n\t\t\t_R[id].scrollproc = b.top < 0 || (b.hheight >realwheight && b.top <realwheight) ? b.top / b.hheight :\r\n\t\t\t\t\t\t\t\tb.bottom >realwheight ? (b.bottom -realwheight) / b.hheight :\r\n\t\t\t\t\t\t\t\t0;\r\n\r\n\t\t\tvar area = Math.max(0, 1 - Math.abs(_R[id].scrollproc));\r\n\r\n\t\t\tif (_R[id].viewPort.enable) {\r\n\t\t\t\t// enter / leave Viewport\r\n\t\t\t\tif ((_R[id].viewPort.vaType[_R[id].level] === \"%\" && (_R[id].viewPort.visible_area[_R[id].level] <= area || (area > 0 && area <= 1 && _R[id].sbtimeline.fixed))) ||\r\n\t\t\t\t\t(_R[id].viewPort.vaType[_R[id].level] === \"px\" && (\r\n\t\t\t\t\t\t(b.top <= 0 && b.bottom >= _R.lastwindowheight) ||\r\n\t\t\t\t\t\t(b.top >= 0 && b.bottom <= _R.lastwindowheight) ||\r\n\t\t\t\t\t\t(b.top >= 0 && b.top < _R.lastwindowheight - _R[id].viewPort.visible_area[_R[id].level]) ||\r\n\t\t\t\t\t\t(b.bottom >= _R[id].viewPort.visible_area[_R[id].level] && b.bottom < _R.lastwindowheight)))) {\r\n\t\t\t\t\tif (!_R[id].inviewport) {\r\n\t\t\t\t\t\t_R[id].inviewport = true;\r\n\t\t\t\t\t\t_R.enterViewPort(id, true);\r\n\t\t\t\t\t\t_R[id].c.trigger('enterviewport');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R[id].inviewport) {\r\n\t\t\t\t\t\t_R[id].inviewport = false;\r\n\t\t\t\t\t\t_R.leaveViewPort(id);\r\n\t\t\t\t\t\t_R[id].c.trigger('leftviewport');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// NOT VISIBLE, NO MORE CHECK NEEDED\r\n\t\t\tif (!_R[id].inviewport) {\r\n\t\t\t\tif (_R.stickySupported !== true && _R[id].fixedScrollOnState !== false) {\r\n\t\t\t\t\t_R[id].topc.removeClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, { top: 0, y:0 });\r\n\t\t\t\t\t_R[id].fixedScrollOnState = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (_R.callBackHandling) _R.callBackHandling(id, \"parallax\", \"start\");\r\n\t\t\trequestAnimationFrame(function() { if (_R[id].sliderLayout === \"fullscreen\") _R.getFullscreenOffsets(id); });\r\n\t\t\t_R.parallaxProcesses(id, b, ignorelayers, speedoverwrite);\r\n\t\t\tif (_R.callBackHandling) _R.callBackHandling(id, \"parallax\", \"end\");\r\n\t\t},\r\n\t\tclone: function(inObject, deep) {\r\n\t\t\tif (deep === undefined && inObject === undefined) return {};\r\n\r\n\t\t\tfunction cloneIt(obj, deep) {\r\n\t\t\t\tvar outObject = Array.isArray(obj) ? [] : {};\r\n\t\t\t\tfor (var key in obj) {\r\n\t\t\t\t\tif (!obj.hasOwnProperty(key)) continue;\r\n\t\t\t\t\tif (obj[key] !== undefined && typeof obj[key] === \"object\" && deep) {\r\n\t\t\t\t\t\toutObject[key] = cloneIt(obj[key], true);\r\n\t\t\t\t\t} else if (obj[key] !== undefined) {\r\n\t\t\t\t\t\toutObject[key] = obj[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn outObject;\r\n\t\t\t}\r\n\t\t\treturn cloneIt(inObject, deep);\r\n\t\t},\r\n\r\n\t\tclosest: function(el, fn) {\r\n\t\t\treturn el && (fn(el) ? el : _R.closest(el.parentNode, fn));\r\n\t\t},\r\n\t\tclosestNode: function(el, node) {\r\n\t\t\treturn _R.closest(el, function(el) {\r\n\t\t\t\treturn el.nodeName === node;\r\n\t\t\t});\r\n\t\t},\r\n\t\tclosestClass: function(el, cs) {\r\n\t\t\treturn _R.closest(el, function(el) {\r\n\t\t\t\treturn (' ' + el.className + ' ').indexOf(' ' + cs + ' ') >= 0;\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetWinH: function(id) {\r\n\t\t\treturn _R[id].ignoreHeightChange ? _R.mobileWinH : _R.winH;\r\n\t\t},\r\n\r\n\t\tgetWindowDimension: function(e, oriChanged) {\r\n\t\t\tif (e === false) {\r\n\t\t\t\t_R.rAfScrollbar = \"skip\";\r\n\t\t\t\t_R.winWAll = _R.ISM && window.visualViewport ? document.documentElement.clientWidth : window.innerWidth;\r\n\t\t\t\t_R.winWSbar = document.documentElement.clientWidth;\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\t_R.zoom = oriChanged ? 1 : _R.winWSbar / _R.winWAll;\r\n\r\n\t\t\t\t\t_R.winW = _R.zoom !== 1 ? _R.winWSbar * _R.zoom : Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = _R.zoom !== 1 ? window.innerHeight * _R.zoom : window.innerHeight;\r\n\t\t\t\t\tif (oriChanged && window.visualViewport) {\r\n\t\t\t\t\t\t_R.winH *= window.visualViewport.scale;\r\n\t\t\t\t\t\t_R.winWAll *= window.visualViewport.scale;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_R.scrollBarWidth = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// MODAL SCROLLBAR CHECK !!\r\n\t\t\t\t\tif (_R.isModalOpen && _R.openModalId !== undefined && _R[_R.openModalId] !== undefined && _R[_R.openModalId].canv.height > _R.winH) {\r\n\t\t\t\t\t\t_R.scrollBarWidth = _R.mesuredScrollbarWidth;\r\n\t\t\t\t\t} else _R.scrollBarWidth = _R.winWAll - _R.winWSbar;\r\n\t\t\t\t\t_R.winW = Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = window.innerHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R.ISM && _R.winH > 125)\r\n\t\t\t\t\tif (_R.lastwindowheight !== undefined && Math.abs(_R.lastwindowheight - _R.winH) < 125) _R.mobileWinH = _R.lastwindowheight;\r\n\t\t\t\t\telse _R.mobileWinH = _R.winH;\r\n\t\t\t} else\r\n\t\t\t\tclearTimeout(_R.windowDimenstionDelay);\r\n\t\t\t_R.windowDimenstionDelay = setTimeout(function() {\r\n\t\t\t\t_R.rAfScrollbar = undefined;\r\n\t\t\t\t_R.winWAll = _R.ISM && window.visualViewport ? document.documentElement.clientWidth : window.innerWidth;\r\n\t\t\t\t_R.winWSbar = document.documentElement.clientWidth;\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\t_R.zoom = oriChanged ? 1 : _R.winWSbar / _R.winWAll;\r\n\t\t\t\t\t_R.RS_px_ratio = window.devicePixelRatio || window.screen.availWidth / document.documentElement.clientWidth;\r\n\t\t\t\t\t_R.winW = _R.zoom !== 1 ? _R.winWSbar * _R.zoom : Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = _R.zoom !== 1 ? window.innerHeight * _R.zoom : window.innerHeight;\r\n\t\t\t\t\tif (oriChanged && window.visualViewport) {\r\n\t\t\t\t\t\t_R.winH *= window.visualViewport.scale;\r\n\t\t\t\t\t\t_R.winWAll *= window.visualViewport.scale;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_R.scrollBarWidth = 0;\r\n\t\t\t\t\tif (oriChanged) tpGS.gsap.delayedCall(0.1, function() { _R.getWindowDimension() });\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// MODAL SCROLLBAR CHECK !!\r\n\t\t\t\t\tif (_R.isModalOpen && _R.openModalId !== undefined && _R[_R.openModalId] !== undefined && _R[_R.openModalId].canv.height > _R.winH) {\r\n\t\t\t\t\t\t_R.scrollBarWidth = _R.mesuredScrollbarWidth;\r\n\t\t\t\t\t} else _R.scrollBarWidth = _R.winWAll - _R.winWSbar;\r\n\t\t\t\t\t_R.winW = Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = window.innerHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R.ISM && _R.winH > 125)\r\n\t\t\t\t\tif (_R.lastwindowheight !== undefined && Math.abs(_R.lastwindowheight - _R.winH) < 125) _R.mobileWinH = _R.lastwindowheight;\r\n\t\t\t\t\telse _R.mobileWinH = _R.winH;\r\n\t\t\t\tif (e !== false) _R.document.trigger('updateContainerSizes');\r\n\t\t\t}, 100);\r\n\t\t},\r\n\r\n\t\taC: function(e, c) {\r\n\t\t\tif (!e) return;\r\n\t\t\tif (e.classList && e.classList.add) {\r\n\t\t\t\te.classList.add(\"\" + c);\r\n\t\t\t} else {\r\n\t\t\t\t// only needed for pre-Edge IE\r\n\t\t\t\tjQuery(e).addClass(c);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trC: function(e, c) {\r\n\t\t\tif (!e) return;\r\n\t\t\tif (e.classList && e.classList.remove) {\r\n\t\t\t\te.classList.remove(\"\" + c);\r\n\t\t\t} else {\r\n\t\t\t\t// only needed for pre-Edge IE\r\n\t\t\t\tjQuery(e).removeClass(c);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsA: function(e, a, v) {\r\n\t\t\tif (e && e.setAttribute) {\r\n\t\t\t\te.setAttribute('data-' + a, v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgA: function(e, a, d) {\r\n\t\t\treturn e === undefined ? undefined : (e.hasAttribute && e.hasAttribute('data-' + a) && e.getAttribute('data-' + a) !== undefined && e.getAttribute('data-' + a) !== null) ? e.getAttribute('data-' + a) : d !== undefined ? d : undefined;\r\n\t\t},\r\n\r\n\t\trA: function(e, a) {\r\n\t\t\tif (e && e.removeAttribute) {\r\n\t\t\t\te.removeAttribute('data-' + a);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tiWA: function(id, slide) {\r\n\t\t\treturn _R[id].justifyCarousel ? slide === \"static\" ? _R[id].carousel.wrapwidth : _R[id].carousel.slide_widths[slide !== undefined ? slide : _R[id].carousel.focused] : _R[id].gridwidth[_R[id].level];\r\n\t\t},\r\n\t\tiHE: function(id, slide) {\r\n\t\t\treturn _R[id].useFullScreenHeight ? _R[id].canv.height : Math.max(_R[id].currentRowsHeight, _R[id].gridheight[_R[id].level]);\r\n\t\t},\r\n\t\tupdateFixedScrollTimes: function(id) {\r\n\t\t\tif (_R[id].sbtimeline.set === true && _R[id].sbtimeline.fixed === true && _R[id].sliderLayout !== \"auto\") {\r\n\t\t\t\t_R[id].sbtimeline.rest = _R[id].duration - _R[id].sbtimeline.fixEnd;\r\n\t\t\t\t_R[id].sbtimeline.time = _R[id].duration - (_R[id].sbtimeline.fixStart + _R[id].sbtimeline.rest);\r\n\t\t\t\t_R[id].sbtimeline.extended = _R[id].sbtimeline.time / 10;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\taddSafariFix: function(id) {\r\n\t\t\tif (window.isSafari11 !== true) return;\r\n\t\t\tif (_R[id].safari3dFix !== true) {\r\n\t\t\t\t_R[id].safari3dFix = true;\r\n\t\t\t\t_R[id].c[0].className += \" safarifix\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topenModalAPI: function(modal, modalslide, url, cover, id, event) {\r\n\t\t\t// RS_60_MODALS - > Stores the loaded and once opened MODALS\r\n\t\t\t// RS_60_MODAL_API_CALLS -> Stores the MODALS to Load\r\n\r\n\r\n\t\t\tif ((window.RS_60_MODALS === undefined || jQuery.inArray(modal, window.RS_60_MODALS) == -1) && (window.RS_60_MODAL_API_CALLS === undefined || jQuery.inArray(modal, window.RS_60_MODAL_API_CALLS) == -1)) {\r\n\r\n\t\t\t\t// DONT LOAD TWICE THE SAME MODAL !\r\n\t\t\t\twindow.RS_60_MODAL_API_CALLS = window.RS_60_MODAL_API_CALLS || [];\r\n\t\t\t\twindow.RS_60_MODAL_API_CALLS.push(modal);\r\n\t\t\t\t//SHOW MODAL COVER\r\n                if(event === undefined) event = {};\r\n                if(event.alias === undefined) event.alias = modal;\r\n\t\t\t\tif (cover) _R.showModalCover(id, event, \"show\");\r\n\r\n\t\t\t\t// GET SLIDER PER AJAX\r\n                var data = { action: 'revslider_ajax_call_front', client_action: 'get_slider_html', alias: modal, usage: \"modal\", form_key: window.parent.FORM_KEY };\r\n                jQuery.ajax({\r\n\t\t\t\t\ttype: 'post',\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: function(ret, textStatus, XMLHttpRequest) {\r\n\r\n\t\t\t\t\t\tif (ret !== null && ret.success == true) {\r\n\t\t\t\t\t\t\tvar i;\r\n\t\t\t\t\t\t\tid = id==undefined ? ret.htmlid : id;\r\n\t\t\t\t\t\t\t// AFTER LOAD UPDATE THE GENERAL WAITING LIST, MAYBE ADDON NEED TO BE LOADED AS WELL\r\n\t\t\t\t\t\t\tif (ret.waiting !== undefined)\r\n\t\t\t\t\t\t\t\tfor (i in ret.waiting)\r\n\t\t\t\t\t\t\t\t\tif (ret.waiting.hasOwnProperty(i) && jQuery.inArray(ret.waiting[i], RS_MODULES.waiting) == -1) {\r\n\t\t\t\t\t\t\t\t\t\tRS_MODULES.waiting.push(ret.waiting[i]);\r\n\t\t\t\t\t\t\t\t\t\twindow.RS_MODULES.minimal = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// ADD SCRIPTS TO LOAD\r\n\t\t\t\t\t\t\tif (ret.toload !== undefined) {\r\n\t\t\t\t\t\t\t\tvar scripts = \"\";\r\n\t\t\t\t\t\t\t\tRS_MODULES = RS_MODULES || {};\r\n\t\t\t\t\t\t\t\tRS_MODULES.requestedScripts = [];\r\n\t\t\t\t\t\t\t\tfor (i in ret.toload) {\r\n\t\t\t\t\t\t\t\t\tif (!ret.toload.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\t\t\t\tif (RS_MODULES == undefined || RS_MODULES[i] == undefined || RS_MODULES[i].loaded !== true) {\r\n\t\t\t\t\t\t\t\t\t\t// ADD SCRIPT IN HEADER\r\n\t\t\t\t\t\t\t\t\t\tif (jQuery.inArray(i, RS_MODULES.requestedScripts) === -1) {\r\n\t\t\t\t\t\t\t\t\t\t\tRS_MODULES.requestedScripts.push(i);\r\n\t\t\t\t\t\t\t\t\t\t\tscripts += ret.toload[i];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (scripts !== \"\") jQuery('body').append(scripts);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// ADD MARKUP, CSS and INIT SCRIPT TO THE DOM\r\n\t\t\t\t\t\t\tif (RS_MODULES===undefined || RS_MODULES.modules[ret.htmlid]==undefined) jQuery('body').append(ret.data);\r\n\r\n\t\t\t\t\t\t\tif (cover) _R.showModalCover(id, event, \"hide\");\r\n\r\n\t\t\t\t\t\t\t// CHECK IF MODAL API LISTENER ADDED ALREADY, IF SO, OPEN MODAL, OTHER WAY UNTIL MODAL OPEN API FUNCTION EXTST\r\n\t\t\t\t\t\t\tif (_R[modal] !== undefined && _R[modal].openModalApiListener)\r\n\t\t\t\t\t\t\t\tjQuery.fn.revolution.document.trigger('RS_OPENMODAL_' + modal, modalslide);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tjQuery(document).on('RS_MODALOPENLISTENER_' + modal, function() { //WAIT for a kick back and start first after that\r\n\t\t\t\t\t\t\t\t\tjQuery.fn.revolution.document.trigger('RS_OPENMODAL_' + modal, modalslide);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (cover) _R.showModalCover(id, event, \"hide\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(e) {\r\n\t\t\t\t\t\tif (cover) _R.showModalCover(id, event, \"hide\");\r\n\t\t\t\t\t\tconsole.log(\"Modal Can not be Loaded\");\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else\r\n\t\t\tif (jQuery.inArray(modal, window.RS_60_MODALS) >= 0) jQuery.fn.revolution.document.trigger('RS_OPENMODAL_' + modal, modalslide);\r\n\t\t},\r\n\r\n\t\tshowModalCover: function(id, _, mode) {\r\n\t\t\tswitch (mode) {\r\n\t\t\t\tcase \"show\":\r\n\t\t\t\t\tvar spinner;\r\n\t\t\t\t\tif (_.spin !== undefined && _.spin !== \"off\") spinner = _R.buildSpinner(id, \"spinner\" + _.spin, _.spinc, \"modalspinner\");\r\n\t\t\t\t\tif (_.bg !== undefined && _.bg !== false && _.bg !== \"false\" && _.bg !== \"transparent\") {\r\n\t\t\t\t\t\tvar m = jQuery('<rs-modal-cover data-alias=\"' + _.alias + '\" data-rid=\"' + id + '\" id=\"' + id + '_modal_bg\" style=\"display:none;opacity:0;background:' + _.bg + '\"></rs-modal-cover>');\r\n\t\t\t\t\t\tjQuery('body').append(m);\r\n\t\t\t\t\t\t_.speed = parseFloat(_.speed);\r\n\t\t\t\t\t\t_.speed = _.speed > 200 ? _.speed / 1000 : _.speed;\r\n\t\t\t\t\t\t_.speed = Math.max(Math.min(3, _.speed), 0.3);\r\n\t\t\t\t\t\ttpGS.gsap.to(m, _.speed, { display: \"block\", opacity: 1, ease: \"power3.inOut\" });\r\n\t\t\t\t\t\t_R.isModalOpen = true;\r\n\t\t\t\t\t\tif (spinner !== undefined) m.append(spinner);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (spinner !== undefined) _R[id].c.append(spinner);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"hide\":\r\n\t\t\t\t\tvar m = jQuery('rs-modal-cover[data-alias=\"' + _.alias + '\"] .modalspinner');\r\n\t\t\t\t\tif (m !== undefined && m.length > 0)\r\n\t\t\t\t\t\tm.remove();\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (id !== undefined) _R[id].c.find('.modalspinner').remove();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trevModal: function(id, _) {\r\n\r\n\t\t\tif (id === undefined || _R[id] === undefined) return;\r\n\t\t\tif (_R[id].modal.closeProtection === \"clicked\") return;\r\n\t\t\tif (_R[id].modal.closeProtection === true) {\r\n\t\t\t\t_R[id].modal.closeProtection === \"clicked\";\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t_R[id].modal.closeProtection = false;\r\n\t\t\t\t\t_R.revModal(id, _);\r\n\t\t\t\t}, 750);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_R[id].modal.lastModalCall =_.mode;\r\n\r\n\t\t\tswitch (_.mode) {\r\n\t\t\t\tcase \"show\":\r\n\t\t\t\t\tif (_R[id].modal.isLive === true) return;\r\n\t\t\t\t\tif (_R.anyModalclosing === true) return;\r\n\r\n\t\t\t\t\t_R.document.trigger('RS_MODALOPENED');\t//TO TRIGGER ANYTHING WHAT LISTENING ON ANY MODAL OPENED\r\n\r\n\t\t\t\t\t_R[id].modal.isLive = true;\r\n\t\t\t\t\t_.slide = _.slide === undefined ? \"to0\" : _.slide;\r\n\t\t\t\t\tif (_R[id].modal.bodyclass !== undefined && _R[id].modal.bodyclass.length >= 0) document.body.classList.add(_R[id].modal.bodyclass);\r\n\t\t\t\t\t_R[id].modal.bg.attr('data-rid', id);\r\n\r\n\t\t\t\t\ttpGS.gsap.to(_R[id].modal.bg, _R[id].modal.coverSpeed, { display: \"block\", opacity: 1, ease: \"power3.inOut\" });\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].modal.c, { display: (_R[id].sliderLayout === \"auto\" ? \"inline-block\" : \"block\"), opacity: 0 });\r\n\t\t\t\t\t_R[id].cpar.removeClass(\"hideallscrollbars\");\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, { display: \"block\", opacity: 1 });\r\n\t\t\t\t\tvar u = { a: 0 }\r\n\t\t\t\t\t_R.isModalOpen = true;\r\n\t\t\t\t\t_R[id].clearModalBG = true;\r\n\t\t\t\t\tif (_R[id].sliderType === 'carousel' && _R[id].pr_active_bg !== undefined && _R[id].pr_active_bg.length > 0) tpGS.gsap.to(_R[id].pr_active_bg, 0.5, { opacity: 1 });\r\n\t\t\t\t\ttpGS.gsap.fromTo(u, _R[id].modal.coverSpeed / 5, { a: 0 }, {\r\n\t\t\t\t\t\ta: 10,\r\n\t\t\t\t\t\tease: \"power3.inOut\",\r\n\t\t\t\t\t\tonComplete: function() {\r\n\t\t\t\t\t\t\t_R.openModalId = id;\r\n\t\t\t\t\t\t\tif (!_R[id].sliderisrunning) {\r\n\t\t\t\t\t\t\t\tif (_.slide !== \"to0\") _R[id].startWithSlideKey = _.slide;\r\n\t\t\t\t\t\t\t\trunSlider(id);\r\n\t\t\t\t\t\t\t} else _R.callingNewSlide(id, _.slide);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\ttpGS.gsap.fromTo([_R[id].modal.c], 0.01, { opacity: 0 }, { opacity: 1, delay: _R[id].modal.coverSpeed / 4, ease: \"power3.inOut\", onComplete: function() {} });\r\n\t\t\t\t\t\twindow.overscrollhistory = document.body.style.overflow;\r\n\t\t\t\t\t\tif (!_R[id].modal.allowPageScroll) document.body.style.overflow = \"hidden\";\r\n\t\t\t\t\t\tif(_R[id].sliderLayout === 'fullscreen') _R.getWindowDimension();\r\n\t\t\t\t\t}, 250);\r\n\t\t\t\t\tif(_R[id].sliderLayout !== 'fullscreen') _R.getWindowDimension();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"close\":\r\n\t\t\t\t\tif (_R.anyModalclosing === true) return;\r\n\t\t\t\t\t_R.anyModalclosing = true;\r\n\t\t\t\t\t_R.openModalId = undefined;\r\n\t\t\t\t\thideSlide(id);\r\n\t\t\t\t\tdocument.body.style.overflow = window.overscrollhistory;\r\n\t\t\t\t\t_R[id].cpar.addClass(\"hideallscrollbars\");\r\n\t\t\t\t\tif (_R[id].modal.bodyclass !== undefined && _R[id].modal.bodyclass.length >= 0) document.body.classList.remove(_R[id].modal.bodyclass);\r\n\t\t\t\t\ttpGS.gsap.to(_R[id].modal.bg, _R[id].modal.coverSpeed, { display: \"none\", opacity: 0, ease: \"power3.inOut\" });\r\n\t\t\t\t\ttpGS.gsap.to(_R[id].modal.c, _R[id].modal.coverSpeed / 6.5, {\r\n\t\t\t\t\t\tdisplay: \"none\",\r\n\t\t\t\t\t\tdelay: _R[id].modal.coverSpeed / 4,\r\n\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\tonComplete: function() {\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, { display: \"none\", opacity: 0 });\r\n\t\t\t\t\t\t\t_R.document.trigger(\"revolution.all.resize\");\r\n\t\t\t\t\t\t\t_R.document.trigger(\"revolution.modal.close\", [_R[id].modal]); // JM - 30.04.21 - for Newsletter Block\r\n\t\t\t\t\t\t\t_R.getWindowDimension();\r\n\t\t\t\t\t\t\t_R.isModalOpen = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_R[id].modal.closeProtection = true;\r\n\t\t\t\t\tclearTimeout(_R[id].modal.closeTimer);\r\n\t\t\t\t\t_R[id].modal.closeTimer = setTimeout(function() {\r\n\t\t\t\t\t\t_R.anyModalclosing = false;\r\n\t\t\t\t\t\t_R[id].modal.isLive = false;\r\n\t\t\t\t\t\t_R[id].modal.closeProtection = false;\r\n\t\t\t\t\t}, Math.max(750, _R[id].modal.coverSpeed * 1020));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"init\":\r\n\r\n\t\t\t\t\twindow.RS_60_MODALS = window.RS_60_MODALS === undefined ? [] : window.RS_60_MODALS;\r\n\t\t\t\t\tif (jQuery.inArray(_R[id].modal.alias, window.RS_60_MODALS) === -1) window.RS_60_MODALS.push(_R[id].modal.alias);\r\n\t\t\t\t\tif (_R[id].modal.listener === undefined) {\r\n\t\t\t\t\t\t_R[id].modal.c = jQuery('#' + id + '_modal');\r\n\t\t\t\t\t\tif (_R[id].modal.cover === false || _R[id].modal.cover === \"false\") _R[id].modal.coverColor = \"transparent\";\r\n\t\t\t\t\t\t_R[id].modal.bg = jQuery('rs-modal-cover[data-alias=\"' + _R[id].modal.alias + '\"]');\r\n\t\t\t\t\t\tif (_R[id].modal.bg === undefined || _R[id].modal.bg.length === 0) {\r\n\t\t\t\t\t\t\t_R[id].modal.bg = jQuery('<rs-modal-cover style=\"display:none;opacity:0;background:' + _R[id].modal.coverColor + '\" data-rid=\"' + id + '\" id=\"' + id + '_modal_bg\"></rs-modal-cover>');\r\n\r\n\t\t\t\t\t\t\tif (_R[id].sliderLayout === \"auto\" && _R[id].modal.cover)\r\n\t\t\t\t\t\t\t\tjQuery('body').append(_R[id].modal.bg);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t_R[id].modal.c.append(_R[id].modal.bg);\r\n\t\t\t\t\t\t} else _R[id].modal.bg.attr('data-rid', id);\r\n\r\n\t\t\t\t\t\t_R[id].modal.c[0].className += \"rs-modal-\" + _R[id].sliderLayout;\r\n\t\t\t\t\t\t_R[id].modal.calibration = {\r\n\t\t\t\t\t\t\tleft: (_R[id].sliderLayout === \"auto\" ? _R[id].modal.horizontal === \"center\" ? \"50%\" : _R[id].modal.horizontal === \"left\" ? \"0px\" : \"auto\" : \"0px\"),\r\n\t\t\t\t\t\t\tright: (_R[id].sliderLayout === \"auto\" ? _R[id].modal.horizontal === \"center\" ? \"auto\" : _R[id].modal.horizontal === \"left\" ? \"auto\" : \"0px\" : \"0px\"),\r\n\t\t\t\t\t\t\ttop: (_R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullwidth\" ? _R[id].modal.vertical === \"middle\" ? \"50%\" : _R[id].modal.vertical === \"top\" ? \"0px\" : \"auto\" : \"0px\"),\r\n\t\t\t\t\t\t\tbottom: (_R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullwidth\" ? _R[id].modal.vertical === \"middle\" ? \"auto\" : _R[id].modal.vertical === \"top\" ? \"auto\" : \"0px\" : \"0px\"),\r\n\t\t\t\t\t\t\ty: (_R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullwidth\" ? _R[id].modal.vertical === \"middle\" ? \"-50%\" : 0 : 0),\r\n\t\t\t\t\t\t\tx: (_R[id].sliderLayout === \"auto\" ? _R[id].modal.horizontal === \"center\" ? \"-50%\" : 0 : 0)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (_R[id].modal.calibration.y === \"-50%\") _R[id].modal.calibration.filter = \"blur(0px)\";\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].modal.c, _R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullscreen\" ? jQuery.extend(true, _R[id].modal.calibration, { opacity: 0, display: \"none\" }) : { opacity: 0, display: \"none\" });\r\n\t\t\t\t\t\tif (_R[id].sliderLayout === \"fullwidth\") tpGS.gsap.set(_R[id].modal.c.find('rs-module-wrap'), _R[id].modal.calibration);\r\n\r\n\r\n\t\t\t\t\t\t// Listen to Open Modal (i.e due API)\r\n\t\t\t\t\t\t_R.document.on('RS_OPENMODAL_' + _R[id].modal.alias, function(e, s) {\r\n\t\t\t\t\t\t\t_R[id].initEnded = true;\r\n\t\t\t\t\t\t\t_R.revModal(id, { mode: \"show\", slide: s });\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Kick back and set up API Based Initialisation\r\n\t\t\t\t\t\t_R[_R[id].modal.alias] = _R[_R[id].modal.alias] || {};\r\n\t\t\t\t\t\t_R[_R[id].modal.alias].openModalApiListener = true;\r\n\t\t\t\t\t\t_R.document.trigger('RS_MODALOPENLISTENER_' + _R[id].modal.alias);\r\n\r\n\r\n\t\t\t\t\t\t_R.document.on('click', 'rs-modal-cover', function() { _R.revModal(_R.gA(this, 'rid'), { mode: \"close\" }); });\r\n\t\t\t\t\t\t_R[id].modal.listener = true;\r\n\r\n\t\t\t\t\t\t// INIT TRIGGER LISTENERS\r\n\t\t\t\t\t\tif (_R[id].modal.trigger !== undefined) {\r\n\t\t\t\t\t\t\tvar trs = _R[id].modal.trigger.split(\";\"),\r\n\t\t\t\t\t\t\t\tu, s;\r\n\t\t\t\t\t\t\t_R[id].modal.trigger = {};\r\n\t\t\t\t\t\t\tfor (u in trs) {\r\n\t\t\t\t\t\t\t\tif (!trs.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\t\ts = trs[u].split(\":\");\r\n\t\t\t\t\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.time = parseInt(s[1], 0);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"s\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.scroll = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"so\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.scrollo = parseInt(s[1], 0);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"e\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.event = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"ha\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.hash = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"co\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.cookie = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// CHECK 1 TIME PER SESSION OPTION\r\n\t\t\t\t\t\t\tvar canrun = true;\r\n\t\t\t\t\t\t\tif (_R[id].modal.trigger.cookie !== undefined)\r\n\t\t\t\t\t\t\t\tcanrun = _R.getCookie(_R[id].modal.alias + '_modal_one_time') !== 'true';\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tif (_R.getCookie(_R[id].modal.alias + '_modal_one_time') == 'true') _R.setCookie(_R[id].modal.alias + '_modal_one_time', false, 10);\r\n\r\n\r\n\t\t\t\t\t\t\t// IF NO ISSUE, WE CAN CALL PARTS\r\n\t\t\t\t\t\t\tif (canrun) {\r\n\t\t\t\t\t\t\t\t// START POPUP AFTER TIME \"x\"\r\n\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.time !== undefined && _R[id].modal.trigger.time !== 0) {\r\n\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.cookie !== undefined) _R.setCookie(_R[id].modal.alias + '_modal_one_time', true, _R[id].modal.trigger.cookie);\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function() { _R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias); }, _R[id].modal.trigger.time);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// START POP UP AFTER SCROLL OFFSET / ELEMENT\r\n\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.scrollo !== undefined || _R[id].modal.trigger.scroll !== undefined) {\r\n\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.scroll !== undefined && jQuery(_R[id].modal.trigger.scroll)[0] !== undefined) _R[id].modal.trigger.scroll = jQuery(_R[id].modal.trigger.scroll)[0];\r\n\t\t\t\t\t\t\t\t\tvar startModalOnScrollListener = function() {\r\n\t\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.scroll !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar selement = typeof _R[id].modal.trigger.scroll ==\"string\" ?  document.getElementById(_R[id].modal.trigger.scroll) : \ttypeof _R[id].modal.trigger.scroll ==\"object\" ? _R[id].modal.trigger.scroll : undefined,\r\n\t\t\t\t\t\t\t\t\t\t\trect = selement!==undefined && selement!==null ? _R[id].modal.trigger.scroll.getBoundingClientRect() : undefined;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif ((_R[id].modal.trigger.scroll !== undefined && rect!==undefined && Math.abs((rect.top + (rect.bottom - rect.top) / 2) - _R.getWinH(id) / 2) < 50) || (_R[id].modal.trigger.scrollo !== undefined && Math.abs(_R[id].modal.trigger.scrollo - (_R.scrollY !== undefined ? _R.scrollY : window.scrollY)) < 100)) {\r\n\t\t\t\t\t\t\t\t\t\t\t_R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias);\r\n\t\t\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.cookie !== undefined) _R.setCookie(_R[id].modal.alias + '_modal_one_time', true, _R[id].modal.trigger.cookie);\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.removeEventListener('scroll', startModalOnScrollListener);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tdocument.addEventListener('scroll', startModalOnScrollListener, { id: id, passive: true });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// START POP UP ON EVENT\r\n\t\t\t\t\t\t\tif (_R[id].modal.trigger.event !== undefined) _R.document.on(_R[id].modal.trigger.event, function() { _R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias); });\r\n\r\n\t\t\t\t\t\t\t// IF HASH DEPENDENT\r\n\t\t\t\t\t\t\tif (_R[id].modal.trigger.hash == 't' && window.location.hash.substring(1) == _R[id].modal.alias) _R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsmartConvertDivs: function(a) {\r\n\t\t\tvar ret = \"\";\r\n\t\t\tif (typeof a === \"string\" && a.indexOf(\"#\") >= 0) {\r\n\t\t\t\tvar b = a.split(\",\"),\r\n\t\t\t\t\tl = b.length - 1;\r\n\t\t\t\tfor (var j in b) if (b.hasOwnProperty(j)) {\r\n\t\t\t\t\tif (typeof b[j] === \"string\" && b[j][0] === \"#\")\r\n\t\t\t\t\t\tret = ret + ((b[j][1] / b[j][3])) * 100 + \"%\" + (j < l ? \",\" : \"\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tret = ret + b[j] + (j < l ? \",\" : \"\");\r\n\t\t\t\t}\r\n\t\t\t} else ret = a;\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\trevToResp: function(_, dim, def, div) {\r\n\t\t\t_ = _ === undefined ? def : _;\r\n\t\t\tif (_ === undefined) return;\r\n\t\t\tdiv = div === undefined ? \",\" : div;\r\n\t\t\tif (!(typeof _ === 'boolean' || (typeof _ == \"object\" && !Array.isArray(_)))) {\r\n\t\t\t\ttry { _ = _.replace(/[[\\]]/g, '').replace(/\\'/g, '').split(div); } catch (e) {}\r\n\t\t\t\t_ = Array.isArray(_) ? _ : [_];\r\n\t\t\t\twhile (_.length < dim) _[_.length] = _[_.length - 1];\r\n\t\t\t}\r\n\t\t\treturn _;\r\n\t\t},\r\n\r\n\r\n\t\t// LOAD THE IMAGES OF THE PREDEFINED CONTAINER\r\n\t\tloadImages: function(container, id, prio, staticlayer) {\r\n\r\n\t\t\tif (container === undefined || container.length === 0) return;\r\n\t\t\tvar containers = [];\r\n\r\n\t\t\tif (Array.isArray(container)) {\r\n\t\t\t\tfor (var i in container) {\r\n\t\t\t\t\tif (!container.hasOwnProperty(i) || container[i] === undefined) continue;\r\n\t\t\t\t\tcontainers.push(container[i]);\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\tcontainers.push(container);\r\n\r\n\t\t\tfor (var j in containers) {\r\n\t\t\t\tif (!containers.hasOwnProperty(j)) continue;\r\n\r\n\t\t\t\tvar imgs = containers[j].querySelectorAll('img, rs-sbg, .rs-svg'),\r\n\t\t\t\t\tbgs = _R[id].lazyOnBg ? containers[j].querySelectorAll('rs-bg-elem, rs-column, rs-layer') : [];\r\n\r\n\t\t\t\tfor (var i in imgs) {\r\n\t\t\t\t\tif (!imgs.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t// SMUSH PROTECTION\r\n\t\t\t\t\tif (imgs[i] !== undefined && imgs[i].dataset !== undefined && imgs[i].dataset.src !== undefined && imgs[i].dataset.src.indexOf('dummy.png') >= 0 && imgs[i].src.indexOf(\"data\") >= 0) delete imgs[i].dataset.src;\r\n\t\t\t\t\tvar lazy = deliverLazy(imgs[i], undefined, id),\r\n\t\t\t\t\t\tsrc = lazy !== undefined ? lazy : _R.gA(imgs[i], \"svg_src\") != undefined ? _R.gA(imgs[i], \"svg_src\") : imgs[i].src === undefined ? jQuery(imgs[i]).data('src') : imgs[i].src,\r\n\t\t\t\t\t\ttype = _R.gA(imgs[i], \"svg_src\") != undefined ? \"svg\" : \"img\";\r\n\t\t\t\t\t//_R[id].loadqueue.filter(x=>x.src === src)\r\n\t\t\t\t\tif (src !== undefined && _R[id].loadqueue !== undefined && _R[id].loadqueue.filter(function(x) { return x.src === src; }).length == 0) _R[id].loadqueue.push({ src: src, img: imgs[i], index: i, starttoload: Date.now(), type: type || \"img\", prio: prio, progress: (imgs[i].complete && src === imgs[i].src) ? \"loaded\" : \"prepared\", static: staticlayer, width: (imgs[i].complete && src === imgs[i].src ? imgs[i].width : undefined), height: (imgs[i].complete && src === imgs[i].src) ? imgs[i].height : undefined });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Change Lazy Load images in Backgrounds\r\n\t\t\t\tfor (var i in bgs) {\r\n\t\t\t\t\tif (!bgs.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (bgs[i] !== undefined && bgs[i].dataset !== undefined && bgs[i].dataset.bglazy !== undefined && bgs[i].style.backgroundImage.indexOf('dummy.png') >= 0) bgs[i].style.backgroundImage = 'url(\"'+bgs[i].dataset.bglazy+'\")';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (bgs[i] !== undefined && bgs[i].dataset !== undefined && bgs[i].dataset.bglazy !== undefined && bgs[i].style.backgroundImage.indexOf('dummy.png') >= 0) bgs[i].style.backgroundImage = 'url(\"'+bgs[i].dataset.bglazy+'\")';\r\n\t\t\t}\r\n\r\n\t\t\tif (!_R[id].cparBgChecked && _R[id].cpar[0] !== undefined && _R[id].cpar[0].dataset !== undefined && _R[id].cpar[0].dataset.bglazy !== undefined && _R[id].cpar[0].style.backgroundImage.indexOf('dummy.png') >= 0) {\r\n\t\t\t\t_R[id].cparBgChecked = true;\r\n\t\t\t\t_R[id].cpar[0].style.backgroundImage = 'url(\"'+_R[id].cpar[0].dataset.bglazy+'\")';\r\n\t\t\t}\r\n\t\t\tprogressImageLoad(id);\r\n\t\t},\r\n\r\n\t\t// WAIT PROGRESS TILL THE PREDEFINED CONTAINER HAS ALL IMAGES LOADED INSIDE\r\n\t\twaitForCurrentImages: function(container, id, callback) {\r\n\r\n\t\t\tif (container === undefined || container.length === 0 || _R[id] === undefined) return;\r\n\t\t\tvar waitforload = false,\r\n\t\t\t\tcontainers = [];\r\n\r\n\t\t\tif (Array.isArray(container)) {\r\n\t\t\t\tfor (var i in container)\r\n\t\t\t\t\tif (container.hasOwnProperty(i) && container[i] !== undefined) containers.push(container[i]);\r\n\t\t\t} else\r\n\t\t\t\tcontainers.push(container);\r\n\r\n\r\n\r\n\t\t\tfor (var j in containers) {\r\n\r\n\t\t\t\tif (!containers.hasOwnProperty(j)) continue;\r\n\t\t\t\tvar imgs = containers[j].querySelectorAll('img, rs-sbg, .rs-svg');\r\n\r\n\t\t\t\tfor (i in imgs) {\r\n\r\n\t\t\t\t\tif (!imgs.hasOwnProperty(i) || i === \"length\") continue;\r\n\t\t\t\t\tif (imgs[i].className.indexOf(\"rs-pzimg\") >= 0) continue;\r\n\r\n\r\n\t\t\t\t\tvar data = jQuery(imgs[i]).data(),\r\n\t\t\t\t\t\tlazy = deliverLazy(imgs[i], undefined, id);\r\n\r\n\r\n\t\t\t\t\tvar src = lazy !== undefined ? lazy : _R.gA(imgs[i], \"svg_src\") != undefined ? _R.gA(imgs[i], \"svg_src\") : imgs[i].src === undefined ? data.src : imgs[i].src,\r\n\t\t\t\t\t\tloadobj = _R.getLoadObj(id, src);\r\n\r\n\r\n\t\t\t\t\t_R.sA(imgs[i], 'src-rs-ref', src);\r\n\r\n\r\n\t\t\t\t\t// IF ELEMENTS IS NOT LOADED YET, AND IT IS NOW LOADED\r\n\t\t\t\t\tif (data.loaded === undefined && loadobj !== undefined && loadobj.progress && loadobj.progress == \"loaded\") {\r\n\t\t\t\t\t\tif (loadobj.type == \"img\") {\r\n\t\t\t\t\t\t\tif (imgs[i].src.slice(imgs[i].src.length - 10) !== loadobj.src.slice(loadobj.src.length - 10)) imgs[i].src = loadobj.src;\r\n\t\t\t\t\t\t\tif (data.slidebgimage) {\r\n\t\t\t\t\t\t\t\tif ((loadobj.src.indexOf('images/transparent.png') == -1 && loadobj.src.indexOf('assets/transparent.png') == -1 && loadobj.src.indexOf('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=') == -1) || data.bgcolor === undefined) {\r\n\t\t\t\t\t\t\t\t\t//imgs[i].style.backgroundImage = 'url(\"'+loadobj.src+'\")';\r\n\t\t\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\tif (data.bgcolor !== undefined && data.bgcolor !== \"transparent\") {\r\n\t\t\t\t\t\t\t\t\tloadobj.bgColor = true;\r\n\t\t\t\t\t\t\t\t\tloadobj.useBGColor = true;\r\n\t\t\t\t\t\t\t\t\t//imgs[i].style.background = data.bgcolor;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t_R.sA(containers[j], \"owidth\", loadobj.width);\r\n\t\t\t\t\t\t\t\t_R.sA(containers[j], \"oheight\", loadobj.height);\r\n\r\n\t\t\t\t\t\t\t\tvar bgwrap = _R.getByTag(containers[j], \"RS-SBG-WRAP\"),\r\n\t\t\t\t\t\t\t\t\tkey = _R.gA(containers[j], 'key');\r\n\r\n\t\t\t\t\t\t\t\t_R[id].sbgs[key].loadobj = loadobj;\r\n\r\n\t\t\t\t\t\t\t\tif (bgwrap.length > 0) {\r\n\t\t\t\t\t\t\t\t\t_R.sA(bgwrap[0], \"owidth\", loadobj.width);\r\n\t\t\t\t\t\t\t\t\t_R.sA(bgwrap[0], \"oheight\", loadobj.height);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t//PREPARE KEN BURNS ON LOADED SLIDES\r\n\t\t\t\t\t\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\t\t\t\t\t\tvar bg = jQuery(bgwrap),\r\n\t\t\t\t\t\t\t\t\t\t_skeyindex = _R.getSlideIndex(id, key);\r\n\t\t\t\t\t\t\t\t\tif ((_R[id].carousel.justify && _R[id].carousel.slide_widths === undefined) || _R[id].carousel.slide_width === undefined) _R.setCarouselDefaults(id, true);\r\n\t\t\t\t\t\t\t\t\tif (bg.data('panzoom') !== undefined && (_R[id].panzoomTLs === undefined || _R[id].panzoomTLs[_skeyindex] === undefined)) _R.startPanZoom(bg, id, 0, _skeyindex, 'prepare', key);\r\n\r\n\t\t\t\t\t\t\t\t\t//Use Poster for HTML5 Videos also at Start\r\n\t\t\t\t\t\t\t\t\tif (_R[id].sbgs[key].isHTML5 && !_R[id].sbgs[key].videoisplaying) _R[id].sbgs[key].video = _R[id].sbgs[key].loadobj.img;\r\n\r\n\t\t\t\t\t\t\t\t\tif (containers[j].getAttribute('data-iratio') !== undefined && !containers[j].getAttribute('data-iratio') && loadobj.img && loadobj.img.naturalWidth) {\r\n\t\t\t\t\t\t\t\t\t\tcontainers[j].setAttribute('data-iratio', loadobj.img.naturalWidth / loadobj.img.naturalHeight);\r\n\t\t\t\t\t\t\t\t\t\t_R.setCarouselDefaults(id, \"redraw\", true);\r\n\t\t\t\t\t\t\t\t\t\tif (_R[id].carousel.ocfirsttun === true) _R.organiseCarousel(id, \"right\", true, false, false);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_R.updateSlideBGs(id, key, _R[id].sbgs[key]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (loadobj.type == \"svg\" && loadobj.progress == \"loaded\") imgs[i].innerHTML = loadobj.innerHTML;\r\n\t\t\t\t\t\tdata.loaded = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (loadobj && loadobj.progress && loadobj.progress.match(/inprogress|inload|prepared/g))\r\n\t\t\t\t\t\tif (!loadobj.error && Date.now() - loadobj.starttoload < 15000) waitforload = true;\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tloadobj.progress = \"failed\";\r\n\t\t\t\t\t\t\tif (!loadobj.reported_img) {\r\n\t\t\t\t\t\t\t\tloadobj.reported_img = true;\r\n\t\t\t\t\t\t\t\tconsole.log(src + \"  Could not be loaded !\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t// WAIT FOR VIDEO API'S\r\n\t\t\t\t\tif (_R[id].youtubeapineeded == true && (!window.YT || YT.Player == undefined)) waitforload = vidWarning(\"youtube\", id);\r\n\t\t\t\t\tif (_R[id].vimeoapineeded == true && !window.Vimeo) waitforload = vidWarning(\"vimeo\", id);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t/*if (!_R.ISM && _R[id].audioqueue && _R[id].audioqueue.length > 0) {\r\n\t\t\t\tjQuery.each(_R[id].audioqueue, function(i, obj) {\r\n\t\t\t\t\tif (obj.status && obj.status === \"prepared\")\r\n\t\t\t\t\t\tif (Date.now() - obj.start < obj.waittime)\r\n\t\t\t\t\t\t\twaitforload = true;\r\n\t\t\t\t});\r\n\t\t\t}*/\r\n\r\n\t\t\tjQuery.each(_R[id].loadqueue, function(i, o) {\r\n\t\t\t\tif (o.static === true && ((o.progress != \"loaded\" && o.progress !== \"done\") || o.progress === \"failed\")) {\r\n\t\t\t\t\tif (o.progress == \"failed\" && !o.reported) o.reported = simWarn(o.src, o.error);\r\n\t\t\t\t\telse if (!o.error && Date.now() - o.starttoload < 5000) waitforload = true;\r\n\t\t\t\t\telse if (!o.reported) o.reported = simWarn(o.src, o.error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tif (waitforload) tpGS.gsap.delayedCall(0.02, _R.waitForCurrentImages, [container, id, callback]);\r\n\t\t\telse if (callback !== undefined) tpGS.gsap.delayedCall(0.0001, callback);\r\n\t\t},\r\n\r\n\t\tupdateVisibleArea: function(id) {\r\n\t\t\t_R[id].viewPort.visible_area = _R.revToResp(_R[id].viewPort.visible_area, _R[id].rle, \"0px\");\r\n\t\t\t_R[id].viewPort.vaType = new Array(4);\r\n\t\t\tfor (var i in _R[id].viewPort.visible_area) {\r\n\t\t\t\tif (!_R[id].viewPort.visible_area.hasOwnProperty(i)) continue;\r\n\t\t\t\tif(_R[id].viewPort.local === false && _R[id].viewPort.global === true){\r\n\r\n\t\t\t\t\t_R[id].viewPort.vaType[i] = _R[id].viewPort.globalDist.indexOf(\"%\") >= 0 ? \"%\" : \"px\";\r\n\t\t\t\t\t_R[id].viewPort.visible_area[i] = parseInt(_R[id].viewPort.globalDist);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R.isNumeric(_R[id].viewPort.visible_area[i])) _R[id].viewPort.visible_area[i] += \"%\";\r\n\r\n\t\t\t\t\tif (_R[id].viewPort.visible_area[i] !== undefined) _R[id].viewPort.vaType[i] = _R[id].viewPort.visible_area[i].indexOf(\"%\") >= 0 ? \"%\" : \"px\";\r\n\t\t\t\t\t_R[id].viewPort.visible_area[i] = parseInt(_R[id].viewPort.visible_area[i], 0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_R[id].viewPort.visible_area[i] = _R[id].viewPort.vaType[i] == \"%\" ? _R[id].viewPort.visible_area[i] / 100 : _R[id].viewPort.visible_area[i];\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tobserveFonts: function(font, callback, _try) {\r\n\t\t\t_try = _try === undefined ? 0 : _try;\r\n\t\t\tif (_R.fonts === undefined) {\r\n\t\t\t\t_R.fonts = {};\r\n\t\t\t\t_R.monoWidth = getFontWidth('monospace');\r\n\t\t\t\t_R.sansWidth = getFontWidth('sans-serif');\r\n\t\t\t\t_R.serifWidth = getFontWidth('serif');\r\n\t\t\t}\r\n\t\t\t_try++;\r\n\r\n\t\t\tvar cache = _R.fonts[font];\r\n\t\t\tif (_R.fonts[font] !== true) _R.fonts[font] = _R.monoWidth !== getFontWidth(font + ',monospace') || _R.sansWidth !== getFontWidth(font + ',sans-serif') || _R.serifWidth !== getFontWidth(font + ',serif');\r\n\t\t\tif (_try === 100 || ((cache === false || cache === undefined) && _R.fonts[font] === true)) {\r\n\t\t\t\tgetFontWidth(font + ',monospace', true);\r\n\t\t\t\tgetFontWidth(font + ',sans-serif', true);\r\n\t\t\t\tgetFontWidth(font + ',serif', true);\r\n\t\t\t\tcallback();\r\n\t\t\t} else setTimeout(function() { _R.observeFonts(font, callback, _try) }, 19);\r\n\t\t},\r\n\r\n\r\n\t\tgetversion: function() { return version; },\r\n\r\n\t\tcurrentSlideIndex: function(id) { return _R[id].pr_active_key; },\r\n\r\n\t\t//\t-\tIS IOS VERSION OLDER THAN 5 ??\r\n\t\tiOSVersion: function() {\r\n\t\t\tif ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || (navigator.userAgent.match(/iPad/i))) return navigator.userAgent.match(/OS 4_\\d like Mac OS X/i);\r\n\t\t\telse return false;\r\n\t\t},\r\n\r\n\t\tsetIsIOS: function() {\r\n\t\t\t_R.isiPhone = /iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n\t\t\t_R.isIOS = (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) || (navigator.platform === \"MacIntel\" && typeof navigator.standalone !== \"undefined\");\r\n\t\t},\r\n\r\n\t\tsetIsChrome8889: function() {\r\n\t\t\t_R.isChrome8889 = _R.isChrome8889 === undefined ? navigator.userAgent.indexOf(\"Chrome/88\") >= 0 || navigator.userAgent.indexOf(\"Chrome/89\") >= 0 : _R.isChrome8889;\r\n\t\t},\r\n\r\n\t\t//\t-\tCHECK IF BROWSER IS IE\t\t-\r\n\t\tisIE: function() {\r\n\t\t\tif (_R.isIERes === undefined) {\r\n\t\t\t\tvar $div = jQuery('<div style=\"display:none;\"/>').appendTo(jQuery('body'));\r\n\t\t\t\t$div.html('<!--[if IE 8]><a>&nbsp;</a><![endif]-->');\r\n\t\t\t\t_R.isIERes = $div.find('a').length;\r\n\t\t\t\t$div.remove();\r\n\t\t\t}\r\n\t\t\treturn _R.isIERes;\r\n\t\t},\r\n\r\n\t\t// \t-\tIS MOBILE ??\r\n\t\tis_mobile: function() {\r\n\t\t\tvar agents = ['android', 'webos', 'iphone', 'ipad', 'blackberry', 'Android', 'webos', 'iPod', 'iPhone', 'iPad', 'Blackberry', 'BlackBerry'],\r\n\t\t\t\tismobile = false;\r\n\t\t\tif (window.orientation !== undefined) ismobile = true;\r\n\t\t\telse\r\n\t\t\t\tfor (var i in agents)\r\n\t\t\t\t\tif (agents.hasOwnProperty(i)) ismobile = ismobile || (navigator.userAgent.split(agents[i]).length > 1) ? true : ismobile;\r\n\r\n\t\t\tif (ismobile && document.body && document.body.className.indexOf('rs-ISM') === -1) document.body.className += ' rs-ISM';\r\n\r\n\t\t\treturn ismobile;\r\n\t\t},\r\n\r\n\t\tis_android: function() {\r\n\t\t\tvar agents = ['android', 'Android'],\r\n\t\t\t\tisandroid = false;\r\n\t\t\tfor (var i in agents)\r\n\t\t\t\tif (agents.hasOwnProperty(i)) isandroid = isandroid || (navigator.userAgent.split(agents[i]).length > 1) ? true : isandroid;\r\n\t\t\treturn isandroid;\r\n\t\t},\r\n\r\n\t\t// -  CALL BACK HANDLINGS - //\r\n\t\tcallBackHandling: function(id, type, position) {\r\n\t\t\tif (_R[id].callBackArray)\r\n\t\t\t\tjQuery.each(_R[id].callBackArray, function(i, c) {\r\n\t\t\t\t\tif (c)\r\n\t\t\t\t\t\tif (c.inmodule && c.inmodule === type)\r\n\t\t\t\t\t\t\tif (c.atposition && c.atposition === position)\r\n\t\t\t\t\t\t\t\tif (c.callback) c.callback.call();\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tget_browser: function() {\r\n\t\t\tvar ua = navigator.userAgent,\r\n\t\t\t\ttem, M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n\t\t\tif (/trident/i.test(M[1])) {\r\n\t\t\t\ttem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n\t\t\t\treturn 'IE';\r\n\t\t\t}\r\n\t\t\tif (M[1] === 'Chrome') {\r\n\t\t\t\ttem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/);\r\n\t\t\t\tif (tem != null) return tem[1].replace('OPR', 'Opera');\r\n\t\t\t}\r\n\t\t\tM = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\r\n\t\t\tif ((tem = ua.match(/version\\/(\\d+)/i)) != null)\r\n\t\t\t\tM.splice(1, 1, tem[1]);\r\n\t\t\treturn M[0];\r\n\t\t},\r\n\r\n\t\tget_browser_version: function() {\r\n\t\t\tvar N = navigator.appName,\r\n\t\t\t\tua = navigator.userAgent,\r\n\t\t\t\ttem,\r\n\t\t\t\tM = ua.match(/(edge|opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\r\n\t\t\tif (M && (tem = ua.match(/version\\/([\\.\\d]+)/i)) != null) M[2] = tem[1];\r\n\t\t\tM = M ? [M[1], M[2]] : [N, navigator.appVersion, '-?'];\r\n\t\t\treturn M[1];\r\n\t\t},\r\n\r\n\t\tisFaceBook: function() {\r\n\t\t\tif (_R.isFaceBookApp == undefined) {\r\n\t\t\t\t_R.isFaceBookApp = navigator.userAgent || navigator.vendor || window.opera;\r\n\t\t\t\t_R.isFaceBookApp = (_R.isFaceBookApp.indexOf(\"FBAN\") > -1) || (_R.isFaceBookApp.indexOf(\"FBAV\") > -1);\r\n\t\t\t}\r\n\t\t\treturn _R.isFaceBookApp;\r\n\t\t},\r\n\r\n\t\tisFirefox: function(id) {\r\n            if ( ! id)\r\n                return _R.get_browser() === \"Firefox\";\r\n\t\t\t_R[id].isFirefox = _R[id].isFirefox === undefined ? _R.get_browser() === \"Firefox\" : _R[id].isFirefox;\r\n\t\t\t_R.isFF = _R[id].isFirefox;\r\n\t\t\treturn _R[id].isFirefox;\r\n\t\t},\r\n\r\n\t\tisSafari11: function() {\r\n\t\t\treturn _R.trim(_R.get_browser().toLowerCase()) === 'safari' && parseFloat(_R.get_browser_version()) >= 11;\r\n\t\t},\r\n\r\n\t\tisWebkit: function() {\r\n\t\t\tvar browser = /(webkit)[ \\/]([\\w.]+)/.exec((navigator.userAgent).toLowerCase());\r\n\t\t\treturn browser && browser[1] && browser[1] === \"webkit\";\r\n\t\t},\r\n\r\n\t\tisIE11: function() {\r\n\t\t\t_R.IE11 = _R.IE11 === undefined ? !!navigator.userAgent.match(/Trident.*rv\\:11\\./) : _R.IE11;\r\n\t\t\treturn _R.IE11;\r\n\t\t},\r\n\r\n\t\tcheckBackdrop: function(){\r\n\t\t\tvar el = document.createElement('div');\r\n\t\t\tel.style.cssText = '-webkit-backdrop-filter: blur(2px)';\r\n\t\t\tvar test1 = (el.style.length != 0);\r\n\r\n\t\t\tvar test2 = (\r\n\t\t\t\tdocument.documentMode === undefined //non-IE browsers, including ancient IEs\r\n\t\t\t\t|| document.documentMode > 9 //IE compatibility moe\r\n\t\t\t);\r\n\r\n\t\t\tif(!(test1 && test2)) {\r\n\t\t\t\tel.style.cssText = 'backdrop-filter: blur(2px)';\r\n\t\t\t\ttest1 = (el.style.length != 0);\r\n\t\t\t}\r\n\t\t\tel = null;\r\n\r\n\t\t\t_R.useBackdrop = test1 && test2;\r\n\t\t},\r\n\r\n\t\tdeepLink: function(id, deeplink) {\r\n\t\t\tif (deeplink === undefined) return;\r\n\r\n\t\t\tvar st = 'slide',\r\n\t\t\t\tslideIndex = parseInt((deeplink.toString().replace(/^slide/, '').replace('-', '')), 10);\r\n\r\n\t\t\t// check custom slide deep link\r\n\t\t\tif (isNaN(slideIndex))\r\n\t\t\t\tfor (var i in _R[id].slides) {\r\n\t\t\t\t\tif (!_R[id].slides.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (_R.gA(_R[id].slides[i], \"deeplink\") === deeplink) {\r\n\t\t\t\t\t\tslideIndex = parseInt(_R.gA(_R[id].slides[i], \"originalindex\"), 10);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// check out of bounds\r\n\t\t\tif (isNaN(slideIndex) || (slideIndex < 1 || slideIndex > _R[id].realslideamount))\r\n\t\t\t\treturn;\r\n\t\t\telse return slideIndex;\r\n\t\t},\r\n\r\n\t\t// GET THE HORIZONTAL OFFSET OF SLIDER BASED ON THE THU`MBNAIL AND TABS LEFT AND RIGHT SIDE\r\n\t\tgetHorizontalOffset: function(container, side) {\r\n\t\t\tvar thumbloff = gWiderOut(container, '.outer-left'),\r\n\t\t\t\tthumbroff = gWiderOut(container, '.outer-right');\r\n\t\t\treturn side == \"left\" ? thumbloff : side == \"right\" ? thumbroff : side == \"all\" ? { left: thumbloff, right: thumbroff, both: thumbloff + thumbroff, inuse: (thumbloff + thumbroff) != 0 } : thumbloff + thumbroff;\r\n\t\t},\r\n\r\n\t\tgetComingSlide: function(id, direction) {\r\n\t\t\tvar aindex = _R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key,\r\n\t\t\t\tret = 0;\r\n\t\t\tret = 0;\r\n\r\n\t\t\t// IF WE ARE ON AN INVISIBLE SLIDE CURRENTLY\r\n\t\t\tif (_R[id].pr_active_slide !== undefined && _R.gA(_R[id].pr_active_slide[0], 'not_in_nav') == 'true') aindex = _R[id].pr_lastshown_key;\r\n\t\t\t// SET NEXT DIRECTION\r\n\t\t\tif (direction !== undefined && _R.isNumeric(direction) || direction !== undefined && direction.match(/to/g)) {\r\n\t\t\t\tif (direction === 1 || direction === -1)\r\n\t\t\t\t\tret = parseInt(aindex, 0) + direction < 0 ? _R[id].slideamount - 1 : parseInt(aindex, 0) + direction >= _R[id].slideamount ? 0 : parseInt(aindex, 0) + direction;\r\n\t\t\t\telse {\r\n\t\t\t\t\tdirection = _R.isNumeric(direction) ? direction : parseInt(direction.split(\"to\")[1], 0);\r\n\t\t\t\t\tret = direction < 0 ? 0 : direction > _R[id].slideamount - 1 ? _R[id].slideamount - 1 : direction;\r\n\t\t\t\t}\r\n\t\t\t} else if (direction)\r\n\t\t\t\tfor (var i in _R[id].slides)\r\n\t\t\t\t\tif (_R[id].slides.hasOwnProperty(i)) ret = _R[id].slides && _R[id].slides[i] && (_R.gA(_R[id].slides[i], 'key') === direction || _R[id].slides[i].id === direction) ? i : ret;\r\n\t\t\treturn { nindex: ret, aindex: aindex };\r\n\t\t},\r\n\r\n\t\t// \t-\tCALLING THE NEW SLIDE \t-\t//\r\n\t\tcallingNewSlide: function(id, direction, ignore, skip) {\r\n\t\t\tvar r = _R.getComingSlide(id, direction);\r\n\r\n\t\t\t_R[id].pr_next_key = r.nindex;\r\n\t\t\t_R[id].sdir = (_R[id].sc_indicator!==\"bullet\" && _R[id].pr_active_key==(_R[id].slideamount-1) && _R[id].pr_next_key==0) ? 0 : _R[id].pr_next_key < _R[id].pr_active_key ? 1 : 0;\r\n\r\n\r\n\t\t\tif (ignore && _R[id].carousel !== undefined) _R[id].carousel.focused = _R[id].pr_next_key;\r\n\r\n\r\n\t\t\tif (!_R[id].ctNavElement) _R[id].c.trigger(\"revolution.nextslide.waiting\");\r\n\t\t\telse _R[id].ctNavElement = false;\r\n\t\t\tif (_R[id].started && (r.aindex === _R[id].pr_next_key && r.aindex === _R[id].pr_lastshown_key) || (_R[id].pr_next_key !== r.aindex && _R[id].pr_next_key != -1 && _R[id].pr_lastshown_key !== undefined)) swapSlide(id, ignore, skip);\r\n\t\t},\r\n\r\n\t\t// FIND SEARCHED IMAGE/SRC IN THE LOAD QUEUE\r\n\t\tgetLoadObj: function(id, src) {\r\n\t\t\tvar ret = _R[id].loadqueue !== undefined && _R[id].loadqueue.filter(function(x) { return x.src === src; })[0];\r\n\t\t\treturn ret === undefined ? { src: src } : ret;\r\n\t\t},\r\n\r\n\r\n\t\t// FIND CURRENT RESOPNSIVE LEVEL\r\n\t\tgetResponsiveLevel: function(id) {\r\n\t\t\tvar curwidth = 9999,\r\n\t\t\t\tlastmaxlevel = 0,\r\n\t\t\t\tlastmaxid = 0,\r\n\t\t\t\tr = 0;\r\n\r\n\t\t\tif (_R[id].responsiveLevels && _R[id].responsiveLevels.length)\r\n\t\t\t\tfor (var i in _R[id].responsiveLevels) {\r\n\t\t\t\t\tif (!_R[id].responsiveLevels.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (_R.winWAll < _R[id].responsiveLevels[i] && (lastmaxlevel == 0 || lastmaxlevel > parseInt(_R[id].responsiveLevels[i]))) {\r\n\t\t\t\t\t\tcurwidth = parseInt(_R[id].responsiveLevels[i]);\r\n\t\t\t\t\t\tr = parseInt(i);\r\n\t\t\t\t\t\tlastmaxlevel = parseInt(_R[id].responsiveLevels[i]);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_R.winWAll > _R[id].responsiveLevels[i] && lastmaxlevel < _R[id].responsiveLevels[i]) {\r\n\t\t\t\t\t\tlastmaxlevel = parseInt(_R[id].responsiveLevels[i]);\r\n\t\t\t\t\t\tlastmaxid = parseInt(i);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\treturn (lastmaxlevel < curwidth) ? lastmaxid : r;\r\n\t\t},\r\n\r\n\t\t// CALCULATE LINEAR RESIZING MULTIPLICATOR\r\n\t\tgetSizeMultpilicator: function(id, upscaling, compareto) {\r\n\t\t\tvar r = { h: 0, w: 0 };\r\n\r\n\t\t\tif (_R[id].justifyCarousel) r.h = r.w = 1;\r\n\t\t\telse {\r\n\r\n\t\t\t\tr.w = (compareto.width / _R[id].gridwidth[_R[id].level]);\r\n\t\t\t\tr.h = (compareto.height / _R[id].gridheight[_R[id].level]);\r\n\r\n\t\t\t\tr.w = isNaN(r.w) ? 1 : r.w;\r\n\t\t\t\tr.h = isNaN(r.h) ? 1 : r.h;\r\n\r\n\t\t\t\t//ALlow to Scale over \"1\" which will upscale elements, positions module wide\r\n\t\t\t\tif (_R[id].enableUpscaling == true) {\r\n\t\t\t\t\tr.h = r.w;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (r.h > r.w) r.h = r.w;\r\n\t\t\t\t\telse r.w = r.h;\r\n\t\t\t\t\tif (r.h > 1 || r.w > 1) {\r\n\t\t\t\t\t\tr.w = 1;\r\n\t\t\t\t\t\tr.h = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\r\n\t\t// UPDATE DIMENSIONS ON ALL IMPORTANT CONTAINERS\r\n\t\tupdateDims: function(id, type) {\r\n\t\t\t// \tBLOCK\r\n\t\t\t// \t\tFW WRAP\r\n\t\t\t// \t\t\tMODULE\r\n\t\t\t//    \t\t\tCANVAS\r\n\t\t\t//       \t\t\tCONTENT\r\n\t\t\t//\r\n\r\n\t\t\tvar _actli = _R[id].pr_processing_key || _R[id].pr_active_key || 0,\r\n\t\t\t\t_oldli = _R[id].pr_active_key || 0,\r\n\t\t\t\tismodal = _R[id].modal !== undefined && _R[id].modal.useAsModal,\r\n\t\t\t\t_W_ = ismodal ? _R.winWAll : _R.winW,\r\n\t\t\t\tsomethingchanged = false;\r\n\r\n\t\t\t_R[id].lastScrollBarWidth = _R.scrollBarWidth;\r\n\t\t\t_R[id].redraw = _R[id].redraw === undefined ? {} : _R[id].redraw;\r\n\t\t\t_R[id].module = _R[id].module === undefined ? {} : _R[id].module;\r\n\t\t\t_R[id].canv = _R[id].canv === undefined ? {} : _R[id].canv;\r\n\t\t\t_R[id].content = _R[id].content === undefined ? {} : _R[id].content;\r\n\r\n\t\t\t_R[id].drawUpdates = { c: {}, cpar: {}, canv: {} };\r\n\r\n\r\n\t\t\t// GET CAROUSEL MARGINS\r\n\t\t\tif (_R[id].sliderType == \"carousel\") _R[id].module.margins = { top: parseInt((_R[id].carousel.padding_top || 0), 0), bottom: parseInt((_R[id].carousel.padding_bottom || 0), 0) };\r\n\t\t\telse _R[id].module.margins = { top: 0, bottom: 0 };\r\n\r\n\t\t\t// GET MODULE PADDINGS\r\n\t\t\tif (_R[id].module.paddings === undefined) _R[id].module.paddings = { top: (parseInt(_R[id].cpar.css(\"paddingTop\"), 0) || 0), bottom: (parseInt(_R[id].cpar.css(\"paddingBottom\"), 0) || 0) };\r\n\r\n\t\t\t// GET BLOCK WRAPPER PADDINGS\r\n\t\t\tif (_R[id].blockSpacing !== undefined) {\r\n\t\t\t\t_R[id].block = {\r\n\t\t\t\t\tbottom: _R[id].blockSpacing.bottom !== undefined ? parseInt(_R[id].blockSpacing.bottom[_R[id].level], 0) : 0,\r\n\t\t\t\t\ttop: _R[id].blockSpacing.top !== undefined ? parseInt(_R[id].blockSpacing.top[_R[id].level], 0) : 0,\r\n\t\t\t\t\tleft: _R[id].blockSpacing.left !== undefined ? parseInt(_R[id].blockSpacing.left[_R[id].level], 0) : 0,\r\n\t\t\t\t\tright: _R[id].blockSpacing.right !== undefined ? parseInt(_R[id].blockSpacing.right[_R[id].level], 0) : 0\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].block.hor = _R[id].block.left + _R[id].block.right;\r\n\t\t\t\t_R[id].block.ver = _R[id].block.top + _R[id].block.bottom;\r\n\t\t\t} else\r\n\t\t\tif (_R[id].block === undefined) _R[id].block = { top: 0, left: 0, right: 0, bottom: 0, hor: 0, ver: 0 }\r\n\r\n\r\n\t\t\t/*UPDATE PADDINGS ON BLOCK*/\r\n\t\t\tif (_R[id].blockSpacing !== undefined) {\r\n\t\t\t\tvar blockobj = {\r\n\t\t\t\t\t\tpaddingLeft: _R[id].block.left,\r\n\t\t\t\t\t\tpaddingRight: _R[id].block.right,\r\n\t\t\t\t\t\tmarginTop: _R[id].block.top,\r\n\t\t\t\t\t\tmarginBottom: _R[id].block.bottom\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstbl = JSON.stringify(blockobj);\r\n\r\n\t\t\t\tif (blockobj !== _R[id].emptyObject && stbl !== _R[id].caches.setsizeBLOCKOBJ) {\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].blockSpacing.block, blockobj);\r\n\t\t\t\t\t_R[id].caches.setsizeBLOCKOBJ = stbl;\r\n\t\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t/* CALCULATE RESPONSIVE LEVEL */\r\n\t\t\t_R[id].levelForced = _R[id].level = _R.getResponsiveLevel(id);\r\n\r\n\t\t\t/* GET ROW HEIGHTS */\r\n\t\t\t_R[id].rowHeights = _R.getRowHeights(id);\r\n\r\n\t\t\t/* CALCULATE MODULE WIDTH */\r\n\t\t\t_R[id].aratio = _R[id].gridheight[_R[id].level] / _R[id].gridwidth[_R[id].level];\r\n\t\t\t_R[id].module.width = _R[id].sliderLayout === \"auto\" || _R[id].disableForceFullWidth == true ?\r\n                (_R[id].cpar.width() === 0 ? _W_ - _R[id].block.hor : _R[id].cpar.width()) : _W_ - _R[id].block.hor;\r\n\r\n\r\n\t\t\t/* CALCULATE OUTER NAVIGATION SIZES */\r\n\t\t\t_R[id].outNavDims = _R.getOuterNavDimension(id);\r\n\r\n\t\t\t/* CALCULATE CANVAS WIDTH */\r\n\t\t\t_R[id].canv.width = _R[id].module.width - _R[id].outNavDims.horizontal - (ismodal ? _R.scrollBarWidth : 0);\r\n\t\t\tif (ismodal && _R[id].sliderLayout === \"auto\") _R[id].canv.width = Math.min(_R[id].gridwidth[_R[id].level], _W_);\r\n\t\t\t/* CALCULAT CANVAS HEIGHT */\r\n\t\t\tif (_R[id].sliderLayout === \"fullscreen\" || _R[id].infullscreenmode) {\r\n\t\t\t\tvar tempHeight = _R.getWinH(id) - (_R[id].modal.useAsModal ===  true ? 0 : _R.getFullscreenOffsets(id));\r\n\t\t\t\t_R[id].canv.height = Math.max(_R[id].rowHeights.cur, Math.max(tempHeight - _R[id].outNavDims.vertical, _R[id].minHeight));\r\n\t\t\t\t/* FIX IF DIFFERENT HEIGHTS OF CURRENT AND LAST SLIDE DIMENSION EXIST BASED ON ROW HEIGHT !! */\r\n\t\t\t\tif (_oldli !== _actli) {\r\n\t\t\t\t\t_R[id].currentSlideHeight = Math.max(_R[id].rowHeights.last, Math.max(tempHeight - _R[id].outNavDims.vertical, _R[id].minHeight));\r\n\t\t\t\t\t_R[id].redraw.maxHeightOld = true;\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].drawUpdates.c.height = \"100%\";\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].canv.height = _R[id].keepBPHeight ? _R[id].gridheight[_R[id].level] : Math.round(_R[id].canv.width * _R[id].aratio);\r\n\t\t\t\t_R[id].canv.height = !_R[id].autoHeight ? Math.min(_R[id].canv.height, _R[id].gridheight[_R[id].level]) : _R[id].canv.height;\r\n\t\t\t\t_R[id].carousel.prevNextVisCalculated =  _R[id].sliderType==\"carousel\" && _R[id].carousel.orientation==\"v\" ? _R[id].carousel.prevNextVisType==\"%\" ? _R[id].canv.height * _R[id].carousel.prevNextVis : _R[id].carousel.prevNextVis  : 0;\r\n\t\t\t\t_R[id].canv.height = Math.max(Math.max(_R[id].rowHeights.cur, _R[id].canv.height), _R[id].minHeight) + _R[id].carousel.prevNextVisCalculated;\r\n\t\t\t\t_R[id].drawUpdates.c.height = _R[id].canv.height;\r\n\t\t\t}\r\n\t\t\tif(_R[id].sliderLayout === 'fullscreen' || _R[id].sliderLayout === 'fullwidth') {\r\n\t\t\t\t_R[id].canv.width -= (_R[id].cpar.outerWidth() - _R[id].cpar.width());\r\n\t\t\t\tif(_R[id].sliderLayout === 'fullscreen') _R[id].canv.height -= (_R[id].cpar.outerHeight() - _R[id].cpar.height());\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].module.height = _R[id].canv.height;\r\n\r\n\r\n\t\t\t//SET REAL BG SIZE HERE\r\n\t\t\t//_R[id].BG = _R[id].sliderType===\"carousel\" ? {width:_R[id].module.width, height:_R[id].module.height} : {width:_R[id].module.width, height:_R[id].module.height};\r\n\r\n\t\t\t//CALCULATE MAX HEIGHT OF CONTENT\r\n\t\t\tif (_R[id].sliderLayout == \"fullwidth\" && !_R[id].fixedOnTop) {\r\n\r\n\t\t\t\t_R[id].drawUpdates.c.maxHeight = _R[id].maxHeight != 0 ? Math.min(_R[id].canv.height, _R[id].maxHeight) : _R[id].canv.height;\r\n\t\t\t\t//_R[id].module.height = _R[id].canv.height = _R[id].drawUpdates.c.maxHeight;\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t/* CALCULATE CONTENT MULTIPLICATORS */\r\n\t\t\t_R[id].CM = _R.getSizeMultpilicator(id, _R[id].enableUpscaling, { width: _R[id].canv.width, height: _R[id].canv.height });\r\n\t\t\t/* CALCULATE CONTENT WIDTH AND HEIGHT */\r\n\t\t\t_R[id].content.width = _R[id].gridwidth[_R[id].level] * _R[id].CM.w;\r\n\t\t\t_R[id].content.height = Math.round(Math.max(_R[id].rowHeights.cur, _R[id].gridheight[_R[id].level] * _R[id].CM.h));\r\n\r\n\t\t\t/* UPDATE REAL CONTAINERS */\r\n\t\t\tvar _h = _R[id].module.margins.top +\r\n\t\t\t\t_R[id].module.margins.bottom +\r\n\t\t\t\t(_R[id].sliderLayout === \"fullscreen\" ? 0 : _R[id].outNavDims.vertical) +\r\n\t\t\t\t_R[id].canv.height +\r\n\t\t\t\t_R[id].module.paddings.top +\r\n\t\t\t\t_R[id].module.paddings.bottom;\r\n\r\n\t\t\t_R[id].drawUpdates.cpar.height = _h;\r\n\t\t\t_R[id].drawUpdates.cpar.width = _R[id].sliderLayout === \"auto\" ? \"auto\" : _R[id].module.width;\r\n\r\n\t\t\tif (_R[id].sliderLayout !== \"auto\" && (_R[id].sliderLayout !== \"fullscreen\" || _R[id].disableForceFullWidth !== true) && _R[id].rsFullWidthWrap !== undefined)\r\n\t\t\t\t_R[id].drawUpdates.cpar.left = 0 - Math.ceil(_R[id].rsFullWidthWrap.offset().left - (_R[id].outNavDims.left + _R[id].block.left));\r\n\t\t\telse\r\n\t\t\tif (_R[id].sliderLayout == \"fullscreen\" && _R[id].disableForceFullWidth == true) _R[id].drawUpdates.cpar.left = 0;\r\n\r\n\r\n\t\t\t// OUTER CONTAINER HEIGHT MUST BE DIFFERENT DUE FIXED SCROLL EFFECT\r\n\t\t\tif (_R[id].sbtimeline.set && _R[id].sbtimeline.fixed) {\r\n\t\t\t\tif (_R[id].sbtimeline.extended === undefined) _R.updateFixedScrollTimes(id);\r\n\t\t\t\t_R[id].forcerHeight = ((2 * _h) + _R[id].sbtimeline.extended);\r\n\t\t\t\tif (_R[id].sbtimeline.pullc && _R[id].rsFullWidthWrap!==undefined && _R[id].rsFullWidthWrap[0]!==null)\r\n\t\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\t\tvar pullcMargin = _R[id].rsFullWidthWrapMarginBottom + (-1*_R[id].forcerHeight);\r\n\t\t\t\t\t\t// sometimes pullcMargin is NaN\r\n\t\t\t\t\t\t_R[id].rsFullWidthWrap[0].style.marginBottom = (isNaN(pullcMargin) ? _R[id].rsFullWidthBottomMarginPush : _R[id].rsFullWidthBottomMarginPush + pullcMargin) + \"px\";\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tif(_R[id].rsFullWidthWrap!==undefined && _R[id].rsFullWidthWrap[0]!==null && _R[id].sliderLayout == \"fullscreen\"){\r\n\t\t\t\t\t_R[id].rsFullWidthBottomMarginPush = _R.getFullscreenOffsets(id)\r\n\t\t\t\t\t_R[id].rsFullWidthWrap[0].style.marginBottom = _R[id].rsFullWidthBottomMarginPush + \"px\"\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].forcerHeight = _h;\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (_R[id].forcerHeight !== _R[id].caches.setsizeForcerHeight && _R[id].forcer !== undefined) {\r\n\t\t\t\t_R[id].caches.setsizeForcerHeight = _R[id].forcerHeight;\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.forcer = true;\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t/* SET CONTENT POSITION AND WIDTH */\r\n\t\t\t_R[id].drawUpdates.c.width = _R[id].canv.width;\r\n\t\t\tif (_R[id].sliderLayout === \"auto\") _R[id].drawUpdates.c.left = _R[id].outNavDims.left;\r\n\r\n\t\t\t/* SET DIMENSION ON RS-MODULE CONTAINER */\r\n\t\t\tif (_R[id].drawUpdates.c !== _R[id].emptyObject && JSON.stringify(_R[id].drawUpdates.c) !== _R[id].caches.setsizeCOBJ) {\r\n\t\t\t\t_R[id].caches.setsizeCOBJ = JSON.stringify(_R[id].drawUpdates.c);\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.c = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* SET DIMS ON RS-MODULE-WRAP CONTAINER */\r\n\t\t\tif (_R[id].drawUpdates.cpar !== _R[id].emptyObject && JSON.stringify(_R[id].drawUpdates.cpar) !== _R[id].caches.setsizeCPAROBJ) {\r\n\t\t\t\t_R[id].caches.setsizeCPAROBJ = JSON.stringify(_R[id].drawUpdates.cpar);\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.cpar = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* UPDATE MODAL CONTAINER AND CANVAS WIDTH */\r\n\t\t\tif (ismodal && _R[id].sliderLayout === \"auto\" && _R[id].caches.canWidth !== _R[id].canv.width) {\r\n\t\t\t\t_R[id].caches.canWidth = _R[id].canv.width;\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.modalcanvas = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* UPDATE STATIC LAYER POSITIONS */\r\n\t\t\tif (_R[id].slayers && _R[id].slayers.length > 0 && _R[id].outNavDims.left !== _R[id].caches.outNavDimsLeft && (_R[id].sliderLayout != \"fullwidth\" && _R[id].sliderLayout != \"fullscreen\")) {\r\n\t\t\t\t_R[id].caches.outNavDimsLeft = _R[id].outNavDims.left;\r\n\t\t\t\t_R[id].redraw.slayers = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* FINETUNING OF MODAL WINDOWS */\r\n\t\t\tif (ismodal && _R[id].modal.calibration !== undefined && _R[id].modal.vertical === \"middle\") {\r\n\t\t\t\t_R[id].modal.calibration.top = _R.getWinH(id) < _h ? \"0%\" : \"50%\";\r\n\t\t\t\t_R[id].modal.calibration.y = _R.getWinH(id) < _h ? \"0px\" : \"-50%\";\r\n\t\t\t\tif (_R[id].sliderLayout === \"fullwidth\") {\r\n\t\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t\t_R[id].redraw.modulewrap = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* CALCULATE GRID OFFSETS FOR PROGRESS BAR */\r\n\t\t\t_R[id].gridOffsetWidth = (_R[id].module.width - _R[id].gridwidth[_R[id].level]) / 2;\r\n\t\t\t//_R[id].gridOffsetHeight = (_R[id].module.height - _R[id].gridheight[_R[id].level])/2;\r\n\t\t\t_R[id].gridOffsetHeight = (_R[id].module.height - _R[id].content.height) / 2;\r\n\r\n\r\n\t\t\t// FALLBACKS AND CACHES (ADDONS OR SIMILAR)\r\n\t\t\t_R[id].caches.curRowsHeight = _R[id].currentRowsHeight = _R[id].rowHeights.cur;\r\n\t\t\t_R[id].caches.moduleWidth = _R[id].width = _R[id].module.width;\r\n\t\t\t_R[id].caches.moduleHeight = _R[id].height = _R[id].module.height;\r\n\t\t\t_R[id].caches.canWidth = _R[id].conw = _R[id].canv.width;\r\n\t\t\t_R[id].caches.canHeight = _R[id].conh = _R[id].canv.height;\r\n\t\t\t_R[id].bw = _R[id].CM.w;\r\n\t\t\t_R[id].bh = _R[id].CM.h;\r\n\t\t\t_R[id].caches.outNavDimsLeft = _R[id].outNavDims.left;\r\n\r\n\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tif (_R[id].redraw.forcer) tpGS.gsap.set(_R[id].forcer, { height: _R[id].forcerHeight });\r\n\t\t\t\tif (_R[id].redraw.c) tpGS.gsap.set(_R[id].c, _R[id].drawUpdates.c);\r\n\t\t\t\tif (_R[id].redraw.cpar) tpGS.gsap.set(_R[id].cpar, _R[id].drawUpdates.cpar);\r\n                if (_R[id].redraw.modalcanvas && _R[id]!==undefined) {\r\n                    if (_R[id].modal!==undefined && _R[id].modal.c!==undefined) tpGS.gsap.set(_R[id].modal.c, { width: _R[id].canv.width });\r\n                    if ( _R[id].canvas!==undefined) tpGS.gsap.set(_R[id].canvas, { width: _R[id].canv.width });\r\n                }\r\n                if (_R[id].redraw.maxHeightOld) _R[id].slides[_oldli].style.maxHeight = _R[id].currentSlideHeight !== _R[id].canv.height ? _R[id].currentSlideHeight + \"px\" : \"none\";\r\n\t\t\t\tif (_R[id].redraw.slayers) tpGS.gsap.set(_R[id].slayers, { left: _R[id].outNavDims.left });\r\n\t\t\t\tif (_R[id].redraw.modulewrap && _R[id].modal.c != undefined) tpGS.gsap.set(_R[id].modal.c.find('rs-module-wrap'), _R[id].modal.calibration);\r\n\t\t\t\t//1ST TIME START NAVIGATION BUILDER\r\n\t\t\t\tif (_R[id].navigation.initialised !== true && type === \"prepared\") {\r\n\t\t\t\t\tif (_R[id].sliderType !== \"hero\" && _R.createNavigation && _R[id].navigation.use && _R[id].navigation.createNavigationDone !== true) _R.createNavigation(id);\r\n\t\t\t\t\tif (_R.resizeThumbsTabs && _R.resizeThumbsTabs && _R[id].navigation.use) _R.resizeThumbsTabs(id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//IF PROGRESSBAR DRAWN, BUT NOT YET POSITIONED WELL\r\n\t\t\t\tif (_R[id].rebuildProgressBar) buildProgressBar(id);\r\n\t\t\t\t_R.putRowsInPosition(id);\r\n\r\n\t\t\t\t_R[id].redraw = {};\r\n\t\t\t});\r\n\r\n\t\t\tvar layersNeedUpdate = _R[id].inviewport && ((_R[id].heightInLayers !== undefined && _R[id].module.height !== _R[id].heightInLayers) ||\r\n\t\t\t\t(_R[id].widthInLayers !== undefined && _R[id].module.width !== _R[id].widthInLayers));\r\n\r\n\r\n\t\t\tif (type !== \"ignore\" && layersNeedUpdate) {\r\n\t\t\t\t_R[id].heightInLayers = undefined;\r\n\t\t\t\t_R[id].widthInLayers = undefined;\r\n\t\t\t\tif (_R[id].sliderType !== 'carousel') {\r\n\t\t\t\t\tif (_R[id].pr_next_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_next_key, id: id, mode: \"rebuild\", caller: \"swapSlideProgress_1\" });\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_R[id].pr_processing_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_processing_key, id: id, mode: \"rebuild\", caller: \"swapSlideProgress_2\" });\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_R[id].pr_active_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_active_key, id: id, mode: \"rebuild\", caller: \"swapSlideProgress_3\" });\r\n\t\t\t\t}\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\t// CALL PROCESSES (LATER REWRITE ON EVENT BASED !?)\r\n\t\t\tif (somethingchanged && type !== \"ignore\") _R.requestLayerUpdates(id, \"enterstage\");\r\n\t\t\tif (_R[id].module.height !== _R[id].module.lastHeight) {\r\n\t\t\t\t_R[id].module.lastHeight = _R[id].module.height;\r\n\r\n\t\t\t\t//window.requestAnimationFrame(function() {containerResized(id,undefined,false);});\r\n\t\t\t\twindow.requestAnimationFrame(function() { if (!(window.innerHeight === screen.height || Math.round(window.innerHeight * window.devicePixelRatio) === screen.height)) containerResized(id, undefined, false); });\r\n\t\t\t}\r\n\r\n\t\t\t// Force recalculate if scrollbar width has changed during calculation\r\n\t\t\ttpGS.gsap.delayedCall(0.1, function() {\r\n\r\n\t\t\t\tif (_R[id].lastScrollBarWidth !== _R.scrollBarWidth) {\r\n\t\t\t\t\t_R.updateDims(id, 'ignore');\r\n\t\t\t\t\tcontainerResized(id);\r\n\t\t\t\t} else if (!_R.isModalOpen && _R.scrollBarWidth !== window.innerWidth - document.documentElement.clientWidth) {\r\n\t\t\t\t\tif (_R.rAfScrollbar === undefined) _R.rAfScrollbar = requestAnimationFrame(function() {\r\n\t\t\t\t\t\t_R.rAfScrollbar = undefined;\r\n\t\t\t\t\t\t_R.getWindowDimension(id, false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn somethingchanged;\r\n\t\t},\r\n\r\n\t\tputMiddleZoneInPosition : function(id, a) {\r\n\r\n\t\t\tif (!(_R[id].middleZones==undefined || _R[id].middleZones[a]==undefined || _R[id].rowMiddleHeights==undefined || _R[id].rowMiddleHeights[a]==undefined) && (_R[id].caches.middleHeights[a]!==_R[id].rowMiddleHeights[a] || _R[id].caches.lastModuleHeight!==_R[id].module.height)) {\r\n\t\t\t\ttpGS.gsap.set(_R[id].middleZones[a],{top:Math.round(_R[id].module.height/2-_R[id].rowMiddleHeights[a]/2)});\r\n\t\t\t\t_R[id].caches.middleHeights[a]=_R[id].rowMiddleHeights[a];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tputRowsInPosition : function(id) {\r\n\t\t\tvar a = _R[id].activeRSSlide || 0,\r\n\t\t\t\tb = _R[id].pr_processing_key;\r\n\r\n\t\t\t//Current Slide Middle Zone\r\n\t\t\t_R.putMiddleZoneInPosition(id,a);\r\n\t\t\t//Coming Slide Middle Zone\r\n\t\t\tif (a!==b && b!==undefined) _R.putMiddleZoneInPosition(id,b);\r\n\r\n\t\t\t//STATIC Slide Rows\r\n\t\t\tif (!(_R[id].smiddleZones==undefined || _R[id].rowMiddleHeights==undefined || _R[id].rowMiddleHeights.static==undefined) && (_R[id].caches.middleHeights.static!==_R[id].rowMiddleHeights.static || _R[id].caches.lastModuleHeight!==_R[id].module.height)) {\r\n\t\t\t\ttpGS.gsap.set(_R[id].smiddleZones[0],{top:Math.round(_R[id].module.height/2-_R[id].rowMiddleHeights.static/2)});\r\n\t\t\t\t_R[id].caches.middleHeights.static=_R[id].rowMiddleHeights.static;\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].caches.lastModuleHeight=_R[id].module.height;\r\n\r\n\t\t},\r\n\r\n\t\tgetSlideIndex: function(id, key) {\r\n\t\t\tvar fnd = false;\r\n\t\t\tfor (var i in _R[id].slides)\r\n\t\t\t\tif (!_R[id].slides.hasOwnProperty(i) || fnd !== false) continue;\r\n\t\t\t\telse fnd = _R.gA(_R[id].slides[i], 'key') === key ? i : fnd;\r\n\t\t\treturn fnd === false ? 0 : fnd;\r\n\t\t},\r\n\r\n\t\tloadUpcomingContent: function(id) {\r\n\r\n\t\t\tif (_R[id].lazyType == \"smart\") {\r\n\t\t\t\tvar list = [],\r\n\t\t\t\t\tix = parseInt(_R.getSlideIndex(id, _R.gA(_R[id].pr_next_slide[0], 'key')), 0),\r\n\t\t\t\t\tpx = (ix - 1 < 0 ? _R[id].realslideamount - 1 : ix - 1),\r\n\t\t\t\t\tnx = (ix + 1 == _R[id].realslideamount ? 0 : ix + 1);\r\n\r\n\t\t\t\tif (px !== ix) list.push(_R[id].slides[px]);\r\n\t\t\t\tif (nx !== ix) list.push(_R[id].slides[nx]);\r\n\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t_R.loadImages(list, id, 2);\r\n\t\t\t\t\t_R.waitForCurrentImages(list, id, function() {});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlazyLoadAllSlides : function(id) {\r\n\t\t\tif (_R[id].lazyType == \"all\" && _R[id].lazyLoad_AllDone!==true && ((_R[id].viewPort.enable && _R[id].inviewport) || !_R[id].viewPort.enable)) {\r\n\t\t\t\tfor (var i in _R[id].slides) {\r\n\t\t\t\t\tif (!_R[id].slides.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t_R.loadImages(_R[id].slides[i], id, i);\r\n\t\t\t\t\t_R.waitForCurrentImages(_R[id].slides[i], id, function() {});\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].lazyLoad_AllDone = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetFullscreenOffsets: function(id) {\r\n\t\t\tvar r = 0;\r\n\t\t\tif (_R[id].fullScreenOffsetContainer != undefined) {\r\n\t\t\t\tvar ocs = (\"\" + _R[id].fullScreenOffsetContainer).split(\",\");\r\n\t\t\t\tfor (var i in ocs)\r\n\t\t\t\t\tif (ocs.hasOwnProperty(i)) r += (jQuery(ocs[i]).outerHeight(true) || 0);\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[id].fullScreenOffset != undefined) {\r\n\t\t\t\tif (!_R.isNumeric(_R[id].fullScreenOffset) && _R[id].fullScreenOffset.split(\"%\").length > 1) r += ((_R.getWinH(id)) * parseInt(_R[id].fullScreenOffset, 0) / 100);\r\n\t\t\t\telse\r\n\t\t\t\tif (_R.isNumeric(parseInt(_R[id].fullScreenOffset, 0))) r += (parseInt(_R[id].fullScreenOffset, 0) || 0);\r\n\t\t\t}\r\n\t\t\t_R[id].fullScreenOffsetResult = r;\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\tunToggleState: function(a) {\r\n\t\t\tif (a !== undefined)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) try { document.getElementById(a[i]).classList.remove(\"rs-tc-active\"); } catch (e) {}\r\n\t\t},\r\n\r\n\t\ttoggleState: function(a) {\r\n\t\t\tif (a !== undefined)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) try { document.getElementById(a[i]).classList.add(\"rs-tc-active\"); } catch (e) {}\r\n\t\t},\r\n\t\tswaptoggleState: function(a) {\r\n\r\n\t\t\tif (a != undefined && a.length > 0)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\t\t\tvar el = document.getElementById(a[i]);\r\n\t\t\t\t\tif (_R.gA(el, \"toggletimestamp\") !== undefined && ((new Date().getTime() - _R.gA(el, \"toggletimestamp\")) < 250)) return;\r\n\t\t\t\t\t_R.sA(el, \"toggletimestamp\", new Date().getTime());\r\n\t\t\t\t\tif (el !== null) {\r\n\t\t\t\t\t\tif (el.className.indexOf(\"rs-tc-active\") >= 0)\r\n\t\t\t\t\t\t\tel.classList.remove(\"rs-tc-active\");\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tel.classList.add(\"rs-tc-active\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tlastToggleState: function(a) {\r\n\t\t\tvar re;\r\n\t\t\tif (a !== undefined)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\t\t\tvar el = document.getElementById(a[i]);\r\n\t\t\t\t\tre = re === true || (el !== null && el.className.indexOf(\"rs-tc-active\") >= 0) ? true : re;\r\n\t\t\t\t}\r\n\t\t\treturn re;\r\n\t\t},\r\n\t\trevCheckIDS: function(id, item) {\r\n\t\t\tif (_R.gA(item, \"idcheck\") === undefined) {\r\n\t\t\t\tvar cache = item.id,\r\n\t\t\t\t\tinGlobal = jQuery.inArray(item.id, window.RSANYID),\r\n\t\t\t\t\tinLocal = -1;\r\n\t\t\t\tif (inGlobal !== -1) {\r\n\t\t\t\t\tinLocal = jQuery.inArray(item.id, _R[id].anyid);\r\n\t\t\t\t\tif (window.RSANYID_sliderID[inGlobal] !== id || inLocal !== -1) {\r\n\t\t\t\t\t\titem.id = item.id + \"_\" + Math.round(Math.random() * 9999);\r\n\t\t\t\t\t\tconsole.log(\"Warning - ID:\" + cache + \" exists already. New Runtime ID:\" + item.id);\r\n\t\t\t\t\t\tinGlobal = inLocal = -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (inLocal === -1) _R[id].anyid.push(item.id);\r\n\t\t\t\tif (inGlobal === -1) {\r\n\t\t\t\t\twindow.RSANYID.push(item.id);\r\n\t\t\t\t\twindow.RSANYID_sliderID.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_R.sA(item, \"idcheck\", true);\r\n\t\t\treturn item.id;\r\n\t\t},\r\n\r\n\r\n\r\n\t\tbuildSpinner: function(id, spinner, color, eclass) {\r\n\r\n\t\t\tvar container;\r\n\t\t\tif (spinner === \"off\") return;\r\n\t\t\teclass = eclass === undefined ? \"\" : eclass;\r\n\t\t\tcolor = color === undefined ? '#ffffff' : color;\r\n\t\t\tvar spinnerType = parseInt(spinner.replace('spinner', ''), 10);\r\n\r\n\t\t\tif (isNaN(spinnerType) || spinnerType < 6) {\r\n\t\t\t\tvar a = 'style=\"background-color:' + color + '\"',\r\n\t\t\t\t\tems = (eclass !== undefined && (spinnerType === 1 || spinnerType == 2)) ? a : '',\r\n\t\t\t\t\teds = (eclass !== undefined && (spinnerType === 3 || spinnerType == 4)) ? a : '';\r\n\t\t\t\tcontainer = jQuery('<rs-loader ' + ems + ' class=\"' + spinner + ' ' + eclass + '\"><div ' + eds + ' class=\"dot1\"></div><div ' + eds + ' class=\"dot2\"></div><div ' + eds + ' class=\"bounce1\"></div><div ' + eds + ' class=\"bounce2\"></div><div ' + eds + ' class=\"bounce3\"></div></rs-loader>');\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// new spinners\r\n\t\t\t\tvar spinHtml = '<div class=\"rs-spinner-inner\"';\r\n\r\n\t\t\t\tif (spinnerType === 7) {\r\n\t\t\t\t\tvar clr;\r\n\t\t\t\t\tif (color.search('#') !== -1) {\r\n\t\t\t\t\t\tclr = color.replace('#', '');\r\n\t\t\t\t\t\tclr = 'rgba(' + parseInt(clr.substring(0, 2), 16) + ', ' + parseInt(clr.substring(2, 4), 16) + ', ' + parseInt(clr.substring(4, 6), 16) + ', ';\r\n\t\t\t\t\t} else if (color.search('rgb') !== -1) {\r\n\t\t\t\t\t\tclr = color.substring(color.indexOf('(') + 1, color.lastIndexOf(')')).split(',');\r\n\t\t\t\t\t\tif (clr.length > 2) clr = 'rgba(' + clr[0].trim() + ', ' + clr[1].trim() + ', ' + clr[2].trim() + ', ';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (clr && typeof clr === 'string') spinHtml += ' style=\"border-top-color: ' + clr + '0.65); border-bottom-color: ' + clr + '0.15); border-left-color: ' + clr + '0.65); border-right-color: ' + clr + '0.15)\"';\r\n\t\t\t\t} else if (spinnerType === 12) {\r\n\t\t\t\t\tspinHtml += ' style=\"background:' + color + '\"';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspinHtml += '>';\r\n\t\t\t\tvar numSpans = [10, 0, 4, 2, 5, 9, 0, 4, 4, 2],\r\n\t\t\t\t\ttotalSpans = numSpans[spinnerType - 6];\r\n\r\n\t\t\t\tfor (var its = 0; its < totalSpans; its++) {\r\n\t\t\t\t\tif (its > 0) spinHtml += ' ';\r\n\t\t\t\t\tspinHtml += '<span style=\"background:' + color + '\"></span>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspinHtml += '</div>';\r\n\t\t\t\tcontainer = jQuery('<rs-loader class=\"' + spinner + ' ' + eclass + '\">' + spinHtml + '</div></rs-loader>');\r\n\t\t\t}\r\n\t\t\treturn container;\r\n\t\t},\r\n\r\n\t\taddStaticLayerTo: function(id, where, layer) {\r\n\t\t\tif (_R[id].slayers.length < 2) {\r\n\t\t\t\tvar container = document.createElement('rs-static-layers');\r\n\t\t\t\tcontainer.className = \"rs-stl-\" + where;\r\n\t\t\t\tcontainer.appendChild(layer[0]);\r\n\t\t\t\t_R[id].c[0].appendChild(container);\r\n\t\t\t\t_R[id].slayers.push(container);\r\n\t\t\t} else\r\n\t\t\t\t_R[id].slayers[1].appendChild(layer[0]);\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\r\n\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\tvar getTagSelector = function() {\r\n\t\tif (_R.isIE11()) {\r\n\t\t\treturn function(target, query) {\r\n\t\t\t\treturn target.querySelectorAll(query);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn function(target, query) {\r\n\t\t\t\treturn target.getElementsByTagName(query);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar updateStartHeights = function(id) {\r\n\r\n\t\t_R[id].responsiveLevels = _R.revToResp(_R[id].responsiveLevels, _R[id].rle);\r\n\t\t_R[id].visibilityLevels = _R.revToResp(_R[id].visibilityLevels, _R[id].rle);\r\n\t\t_R[id].responsiveLevels[0] = 9999;\r\n\t\t_R[id].rle = _R[id].responsiveLevels.length || 1;\r\n\t\t_R[id].gridwidth = _R.revToResp(_R[id].gridwidth, _R[id].rle);\r\n\t\t_R[id].gridheight = _R.revToResp(_R[id].gridheight, _R[id].rle);\r\n\r\n\r\n\t\tif (_R[id].editorheight !== undefined) _R[id].editorheight = _R.revToResp(_R[id].editorheight, _R[id].rle);\r\n\t\t_R.updateDims(id);\r\n\r\n\t\t//var newh = Math.max(_R[id].minHeight,_R[id].gridheight[_R[id].level] * _R[id].CM.w);\r\n\t\t//if (_R[id].editorheight!==undefined) newh = Math.max(newh,_R[id].editorheight[_R[id].level] * _R[id].CM.w);\r\n\r\n\t\t/*if (_R[id].cpar!==undefined && _R[id].cpar[0].offsetHeight<newh)\r\n\t\t\ttpGS.gsap.set([_R[id].cpar,_R[id].c],{height:newh});\r\n\t\telse\r\n\t\t\ttpGS.gsap.set(_R[id].c,{height:newh});*/\r\n\r\n\r\n\t};\r\n\r\n\r\n\tvar removeArray = function(arr, i) {\r\n\t\tvar newarr = [];\r\n\t\tjQuery.each(arr, function(a, b) {\r\n\t\t\tif (a != i) newarr.push(b);\r\n\t\t});\r\n\t\treturn newarr;\r\n\t};\r\n\r\n\tvar removeNavWithLiref = function(a, ref, id) {\r\n\t\t_R[id].c.find(a).each(function() {\r\n\t\t\tvar a = jQuery(this);\r\n\t\t\tif (a.data('key') === ref) a.remove();\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t///////////////////////////////////\r\n\t//   -  WAIT FOR SCRIPT LOADS  - //\r\n\t///////////////////////////////////\r\n\tvar getFontWidth = function(fontFamily, remove) {\r\n\t\tif (_R[\"rsfont_\" + fontFamily] == undefined) {\r\n\t\t\t_R[\"rsfont_\" + fontFamily] = document.createElement('span');\r\n\t\t\t_R[\"rsfont_\" + fontFamily].innerHTML = Array(100).join('wi');\r\n\t\t\t_R[\"rsfont_\" + fontFamily].style.cssText = [\r\n\t\t\t\t'position:absolute',\r\n\t\t\t\t'width:auto',\r\n\t\t\t\t'font-size:128px',\r\n\t\t\t\t'left:-99999px'\r\n\t\t\t].join(' !important;');\r\n\t\t\t_R[\"rsfont_\" + fontFamily].style.fontFamily = fontFamily;\r\n\t\t\tdocument.body.appendChild(_R[\"rsfont_\" + fontFamily]);\r\n\t\t}\r\n\t\tif (remove === undefined) return _R[\"rsfont_\" + fontFamily].clientWidth;\r\n\t\telse document.body.removeChild(_R[\"rsfont_\" + fontFamily]);\r\n\t};\r\n\r\n\r\n\r\n\r\n\t//////////////////////////////////////////\r\n\t//\t-\tINITIALISATION OF OPTIONS \t-\t//\r\n\t//////////////////////////////////////////\r\n\r\n\tvar gWiderOut = function(c, cl) {\r\n\t\tvar r = 0;\r\n\t\tc.find(cl).each(function() {\r\n\t\t\tvar a = jQuery(this);\r\n\t\t\tif (!a.hasClass(\"tp-forcenotvisible\") && r < a.outerWidth())\r\n\t\t\t\tr = a.outerWidth();\r\n\t\t});\r\n\r\n\t\treturn r;\r\n\t};\r\n\r\n\t//////////////////////////////////////////\r\n\t//\t-\tINITIALISATION OF SLIDER\t-\t//\r\n\t//////////////////////////////////////////\r\n\tvar initSlider = function(id) {\r\n\r\n\t\tif (id === undefined || _R[id] === undefined || _R[id].c === undefined) return false;\r\n\r\n\t\t// CHECK FOR ALTERNATIVE IMAGE, AND IFRAM EXIST, AND WE ARE IN IE8, MOBILE, DRAW IT SIMPLE\r\n\t\tif (_R[id].cpar !== undefined && _R[id].cpar.data('aimg') != undefined && ((_R[id].cpar.data('aie8') == \"enabled\" && _R.isIE(8)) || (_R[id].cpar.data('amobile') == \"enabled\" && _R.ISM))) {\r\n\t\t\t_R[id].c.html('<img class=\"tp-slider-alternative-image\" src=\"' + _R[id].cpar.data('aimg') + '\">');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// CHECK IF FIREFOX 13 IS ON WAY.. IT HAS A STRANGE BUG, CSS ANIMATE SHOULD NOT BE USED\r\n\t\twindow._rs_firefox13 = false;\r\n\t\twindow._rs_firefox = _R.isFirefox();\r\n\t\twindow._rs_ie = window._rs_ie === undefined ? !jQuery.support.opacity : window._rs_ie;\r\n\t\twindow._rs_ie9 = window._rs_ie9 === undefined ? (document.documentMode == 9) : window._rs_ie9;\r\n\r\n\t\t// CHECK THE jQUERY VERSION\r\n\t\tvar version = jQuery.fn.jquery.split('.'),\r\n\t\t\tversionTop = parseFloat(version[0]),\r\n\t\t\tversionMinor = parseFloat(version[1]);\r\n\t\tif (versionTop == 1 && versionMinor < 7) _R[id].c.html('<div style=\"text-align:center; padding:40px 0px; font-size:20px; color:#992222;\"> The Current Version of jQuery:' + version + ' <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>');\r\n\t\tif (versionTop > 1) window._rs_ie = false;\r\n\r\n\t\t_R[id].realslideamount = _R[id].slideamount = 0;\r\n\r\n\t\tvar rss = _R.getByTag(_R[id].canvas[0], \"RS-SLIDE\"),\r\n\t\t\tslidestoremove = [];\r\n\t\t_R[id].notInNav = [];\r\n\r\n\r\n\t\t_R[id].slides = [];\r\n\r\n\t\t// Remove Not Needed Slides for Mobile Devices AND Index Current Slides\r\n\t\tfor (var i in rss) {\r\n\t\t\tif (!rss.hasOwnProperty(i)) continue;\r\n\t\t\tif (_R.gA(rss[i], \"hsom\") == \"on\" && _R.ISM) slidestoremove.push(rss[i]);\r\n\t\t\telse {\r\n\t\t\t\tif (_R.gA(rss[i], \"invisible\") || _R.gA(rss[i], \"invisible\") == true) _R[id].notInNav.push(rss[i]);\r\n\t\t\t\telse {\r\n\t\t\t\t\t_R[id].slides.push(rss[i]);\r\n\t\t\t\t\t_R[id].slideamount++;\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].realslideamount++;\r\n\t\t\t\t_R.sA(rss[i], \"originalindex\", _R[id].realslideamount);\r\n\t\t\t\t_R.sA(rss[i], \"origindex\", _R[id].realslideamount - 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i in slidestoremove)\r\n\t\t\tif (slidestoremove.hasOwnProperty(i)) slidestoremove[i].remove();\r\n\r\n\t\tfor (i in _R[id].notInNav)\r\n\t\t\tif (_R[id].notInNav.hasOwnProperty(i)) {\r\n\t\t\t\t_R.sA(_R[id].notInNav[i], 'not_in_nav', true);\r\n\t\t\t\t_R[id].canvas[0].appendChild(_R[id].notInNav[i]);\r\n\t\t\t}\r\n\r\n\t\t_R[id].canvas.css({ visibility: \"visible\" });\r\n\t\t_R[id].slayers = _R[id].c.find('rs-static-layers');\r\n\t\tif(_R[id].slayers[0] && _R[id].slayers.className && _R[id].slayers[0].className.indexOf('rs-stl-visible') !== -1) _R[id].c.addClass('rs-stl-visible');\r\n\t\tif (_R[id].slayers.length > 0) _R.sA(_R[id].slayers[0], 'key', 'staticlayers');\r\n\t\tif (_R[id].modal.useAsModal === true) {\r\n\t\t\t_R[id].cpar.wrap('<rs-modal id=\"' + (_R[id].c[0].id + \"_modal\") + '\"></rs-modal>');\r\n\t\t\t_R[id].modal.c = jQuery(_R.closestNode(_R[id].cpar[0], 'RS-MODAL')) /*_R[id].cpar.closest('rs-modal')*/ ;\r\n\t\t\t_R[id].modal.c.appendTo(jQuery('body'));\r\n\t\t\tif (_R[id].modal !== undefined && _R[id].modal.alias !== undefined) _R.revModal(id, { mode: \"init\" });\r\n\t\t}\r\n\t\tif (_R[id].waitForInit == true || _R[id].modal.useAsModal == true) {\r\n\t\t\tif (_R.RS_toInit !== undefined) _R.RS_toInit[id] = true;\r\n\t\t\t_R[id].c.trigger('revolution.slide.waitingforinit');\r\n\t\t\t_R[id].waitingForInit = true;\r\n\t\t\treturn;\r\n\t\t} else window.requestAnimationFrame(function() {\r\n\t\t\trunSlider(id);\r\n\t\t});\r\n\t\t// Some Addon Decides at which point the Slider Process is based on the following Variable\r\n\t\t_R[id].initEnded = true;\r\n\t};\r\n\r\n\tvar ofsc = function() {\r\n\t\tjQuery(\"body\").data('rs-fullScreenMode', !jQuery(\"body\").data('rs-fullScreenMode'));\r\n\t\tif (jQuery(\"body\").data('rs-fullScreenMode')) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_R.window.trigger(\"resize\");\r\n\t\t\t}, 200);\r\n\t\t}\r\n\t};\r\n\r\n\tvar deliverLazy = function(e, def, id) {\r\n\t\treturn _R.gA(e, \"lazyload\") !== undefined ? _R.gA(e, \"lazyload\") : // INTERNAL LAZY LOADING\r\n\t\t\t_R[id].lazyloaddata !== undefined && _R[id].lazyloaddata.length > 0 && _R.gA(e, _R[id].lazyloaddata) !== undefined ? _R.gA(e, _R[id].lazyloaddata) : // CUSTOM DATA\r\n\t\t\t_R.gA(e, \"lazy-src\") !== undefined ? _R.gA(e, \"lazy-src\") : //WP ROCKET\r\n\t\t\t_R.gA(e, \"lazy-wpfc-original-src\") !== undefined ? _R.gA(e, \"lazy-wpfc-original-src\") : //WP Fastes Cache Premium\r\n\t\t\t_R.gA(e, \"lazy\") !== undefined ? _R.gA(e, \"lazy\") : // LAZY\r\n\t\t\tdef; // DEFAULT\r\n\t}\r\n\r\n\tvar  getParentLevel = function(nc,l) {\r\n\t\t\t\t\t\treturn l==0 ? jQuery(nc) : l==1 ? jQuery(nc.parentNode) : l==2 ? jQuery(nc.parentNode.parentNode) : l==3 ? jQuery(nc.parentNode.parentNode.parentNode) : l==4 ? jQuery(nc.parentNode.parentNode.parentNode.parentNode) : jQuery(nc.parentNode.parentNode.parentNode.parentNode.parentNode)\r\n\t\t\t\t\t}\r\n\r\n\r\n\tvar runSlider = function(id) {\r\n\t\tif (_R[id] === undefined) return;\r\n\r\n\t\t_R[id].sliderisrunning = true;\r\n\r\n\t\t// REMOVE SLIDER MODULE FOR A WHILE\r\n\t\tif (_R[id].noDetach !== true) _R[id].c.detach();\r\n\r\n\t\tvar fli = _R[id].canvas.find('rs-slide:first-child');\r\n\t\t// RANDOMIZE THE SLIDER SHUFFLE MODE\r\n\t\tif (_R[id].shuffle) {\r\n\t\t\tvar fsa = _R.gA(fli[0], \"firstanim\");\r\n\t\t\tfor (var u = 0; u < _R[id].slideamount; u++) _R[id].canvas.find('rs-slide:eq(' + Math.round(Math.random() * _R[id].slideamount) + ')').prependTo(_R[id].canvas);\r\n\t\t\t_R.sA(_R[id].canvas.find('rs-slide:first-child')[0], \"firstanim\", fsa);\r\n\t\t}\r\n\r\n\t\t// COLLECT ALL LI INTO AN ARRAY\r\n\t\t_R[id].slides = _R.getByTag(_R[id].canvas[0], \"RS-SLIDE\");\r\n\t\t_R[id].thumbs = new Array(_R[id].slides.length);\r\n\t\t_R[id].slots = 1;\r\n\t\t_R[id].firststart = 1;\r\n\t\t_R[id].loadqueue = [];\r\n\t\t_R[id].syncload = 0;\r\n\r\n\t\tvar aindex = 0,\r\n\t\t\tcarborder = _R[id].sliderType === \"carousel\" && _R[id].carousel.border_radius !== undefined ? parseInt(_R[id].carousel.border_radius, 0) : 0;\r\n\r\n\t\tif(_R[id].sliderType !== \"carousel\") tpGS.gsap.set(_R[id].slides, {display: 'none'});\r\n\t\tif(_R[id].sliderType !== \"carousel\") tpGS.gsap.set(fli, {display: 'block'});\r\n\r\n\t\tfor (var index in _R[id].slides) {\r\n\t\t\tif (!_R[id].slides.hasOwnProperty(index) || index === \"length\") continue;\r\n\r\n\t\t\tvar slide = _R[id].slides[index],\r\n\t\t\t\timg = _R.getByTag(slide, 'IMG')[0];\r\n\r\n\t\t\tif (_R.gA(slide, \"key\") === undefined) _R.sA(slide, \"key\", 'rs-' + Math.round(Math.random() * 999999));\r\n\r\n\t\t\tvar obj = { params: Array(12), id: _R.gA(slide, \"key\"), src: _R.gA(slide, \"thumb\") !== undefined ? _R.gA(slide, \"thumb\") : deliverLazy(img, img !== undefined ? img.src : undefined, id) };\r\n\t\t\tif (_R.gA(slide, \"title\") === undefined) _R.sA(slide, \"title\", \"\");\r\n\t\t\tif (_R.gA(slide, \"description\") === undefined) _R.sA(slide, \"description\", \"\");\r\n\t\t\tobj.params[0] = { from: RegExp(\"\\\\{\\\\{title\\\\}\\\\}\", \"g\"), to: _R.gA(slide, \"title\") };\r\n\t\t\tobj.params[1] = { from: RegExp(\"\\\\{\\\\{description\\\\}\\\\}\", \"g\"), to: _R.gA(slide, \"description\") };\r\n\t\t\tfor (var i = 1; i <= 10; i++)\r\n\t\t\t\tif (_R.gA(slide, \"p\" + i) !== undefined)\r\n\t\t\t\t\tobj.params[i + 1] = { from: RegExp(\"\\\\{\\\\{param\" + i + \"\\\\}\\\\}\", \"g\"), to: _R.gA(slide, \"p\" + i) };\r\n\t\t\t\telse\r\n\t\t\t\t\tobj.params[i + 1] = { from: RegExp(\"\\\\{\\\\{param\" + i + \"\\\\}\\\\}\", \"g\"), to: \"\" };\r\n\r\n\r\n\t\t\t_R[id].thumbs[aindex] = jQuery.extend({}, true, obj);\r\n\r\n\t\t\tif (carborder > 0) tpGS.gsap.set(slide, { borderRadius: carborder + \"px\" });\r\n\r\n\t\t\t// IF LINK ON SLIDE EXISTS, NEED TO CREATE A PROPER LAYER FOR IT.\r\n\t\t\tif (_R.gA(slide, \"link\") != undefined || _R.gA(slide, \"linktoslide\") !== undefined) {\r\n\r\n\t\t\t\tvar rlink = _R.gA(slide, \"link\"),\r\n\t\t\t\t\tlink =  rlink!== undefined ? rlink : \"slide\",\r\n\t\t\t\t\tlinktoslide = link != \"slide\" ? \"no\" : _R.gA(slide, \"linktoslide\"),\r\n\t\t\t\t\tseoz = _R.gA(slide, \"seoz\"),\r\n\t\t\t\t\ttag = _R.gA(slide, \"tag\");\r\n\r\n\t\t\t\tif (linktoslide != undefined && linktoslide != \"no\" && linktoslide != \"next\" && linktoslide != \"prev\") {\r\n\t\t\t\t\tfor (var ris in _R[id].slides) {\r\n\t\t\t\t\t\tif (!_R[id].slides.hasOwnProperty(ris)) continue;\r\n\t\t\t\t\t\tif (parseInt(_R.gA(_R[id].slides[ris], \"origindex\"), 0) + 1 == _R.gA(slide, \"linktoslide\")) linktoslide = _R.gA(_R[id].slides[ris], \"key\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (link==\"slide\" || tag!=\"a\")\r\n\t\t\t\t\tjQuery(slide).prepend('<rs-layer class=\"rs-layer slidelink\" id=\"rs_slidelink_' + Math.round(Math.random() * 100000) + '\" data-zindex=\"' + (seoz === \"back\" ? 0 : seoz === \"front\" ? 95 : seoz !== undefined ? parseInt(seoz, 0) : 100) + '\" dataxy=\"x:c;y:c\" data-dim=\"w:100%;h:100%\" data-basealign=\"slide\"' +\r\n\t\t\t\t\t\t(linktoslide == \"no\" ? link != \"slide\" && !_R.ISM ? \"  data-actions=\\'\" + 'o:click;a:simplelink;target:' + (_R.gA(slide, \"target\") || \"_self\") + ';url:' + link + ';' + \"\\'\" : \"\" : \"  data-actions=\\'\" + (linktoslide === \"scroll_under\" ? 'o:click;a:scrollbelow;offset:100px;' : linktoslide === \"prev\" ? 'o:click;a:jumptoslide;slide:prev;d:0.2;' : linktoslide === \"next\" ? 'o:click;a:jumptoslide;slide:next;d:0.2;' : 'o:click;a:jumptoslide;slide:' + linktoslide + ';d:0.2;') + \"\\'\") +\r\n\t\t\t\t\t\t\" data-frame_1='e:power3.inOut;st:100;sp:100' data-frame_999='e:power3.inOut;o:0;st:w;sp:100'>\" +\r\n\t\t\t\t\t\t(_R.ISM ? \"<a \" + (link != \"slide\" ? (_R.gA(slide, \"target\") === \"_blank\" ? 'rel=\"noopener\" ' : '') + 'target=\"' + (_R.gA(slide, \"target\") || \"_self\") + '\" href=\"' + link + '\"' : '') + \"><span></span></a>\" : \"\") +\r\n\t\t\t\t\t\t\"</rs-layer>\");\r\n\t\t\t\telse\r\n\t\t\t\t\tjQuery(slide).prepend('<a class=\"rs-layer slidelink\" id=\"rs_slidelink_' + Math.round(Math.random() * 100000) + '\" data-zindex=\"' + (seoz === \"back\" ? 0 : seoz === \"front\" ? 95 : seoz !== undefined ? parseInt(seoz, 0) : 100) + '\" dataxy=\"x:c;y:c\" data-dim=\"w:100%;h:100%\" data-basealign=\"slide\" href=\"'+link+'\" target=\"' + (_R.gA(slide, \"target\") || \"_self\") + '\" rel=\"noopener\" data-frame_1=\"e:power3.inOut;st:100;sp:100\" data-frame_999=\"e:power3.inOut;o:0;st:w;sp:100\"><span></span></a>');\r\n\t\t\t}\r\n\t\t\taindex++;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// SIMPLIFY ANIMATIONS ON OLD IOS AND IE8 IF NEEDED\r\n\t\tif (_R[id].simplifyAll && (_R.isIE(8) || _R.iOSVersion())) {\r\n\t\t\t_R[id].c.find('.rs-layer').each(function() {\r\n\t\t\t\tvar tc = jQuery(this);\r\n\t\t\t\ttc.removeClass(\"customin customout\").addClass(\"fadein fadeout\");\r\n\t\t\t\ttc.data('splitin', \"\");\r\n\t\t\t\ttc.data('speed', 400);\r\n\t\t\t});\r\n\t\t\t_R[id].c.find('rs-slide').each(function() {\r\n\t\t\t\tvar li = jQuery(this);\r\n\t\t\t\tli.data('transition', \"fade\");\r\n\t\t\t\tli.data('masterspeed', 500);\r\n\t\t\t\tli.data('slotamount', 1);\r\n\t\t\t\tvar img = li.find('.rev-slidebg') || li.find('>img').first();\r\n\r\n\t\t\t\timg.data('panzoom', null);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twindow._rs_desktop = window._rs_desktop === undefined ? !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i) : window._rs_desktop;\r\n\r\n\t\t// SOME _R[id]IONS WHICH SHOULD CLOSE OUT SOME OTHER SETTINGS\r\n\t\t_R[id].autoHeight = _R[id].sliderLayout == \"fullscreen\" ? true : _R[id].autoHeight;\r\n\r\n\t\tif (_R[id].sliderLayout == \"fullwidth\" && !_R[id].autoHeight && (_R[id].sliderType!==\"carousel\" || _R[id].carousel.orientation!==\"v\")) {\r\n\t\t\t_R[id].c.css({ maxHeight: _R[id].gridheight[_R[id].level] + \"px\" });\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// BUILD A FORCE FULLWIDTH CONTAINER, TO SPAN THE FULL SLIDER TO THE FULL WIDTH OF BROWSER\r\n\t\tif (_R[id].sliderLayout != \"auto\" && _R.closestNode(_R[id].c[0], 'RS-FULLWIDTH-WRAP') === null /*_R[id].c.closest('rs-fullwidth-wrap').length==0*/ && (_R[id].sliderLayout !== \"fullscreen\" || _R[id].disableForceFullWidth != true)) {\r\n\t\t\tvar mt = _R[id].cpar[0].style.marginTop,\r\n\t\t\t\tmb = _R[id].cpar[0].style.marginBottom;\r\n\r\n\t\t\t_R[id].rsFullWidthWrapMarginBottom = parseInt(mb,0);\r\n\r\n\t\t\tmt = mt === undefined || mt === \"\" ? \"\" : \"margin-top:\" + mt + \";\";\r\n\t\t\tmb = mb === undefined || mb === \"\" ? \"\" : \"margin-bottom:\" + mb + \";\";\r\n\t\t\t_R[id].rsFullWidthWrap = _R[id].topc = jQuery('<rs-fullwidth-wrap id=\"' + (_R[id].c[0].id + \"_forcefullwidth\") + '\" style=\"' + mt + mb + '\"></rs-fullwidth-wrap>');\r\n\r\n\t\t\t_R[id].forcer = jQuery('<rs-fw-forcer style=\"height:' + (_R[id].forcerHeight === undefined ? _R[id].cpar.height() : _R[id].forcerHeight) + 'px\"></rs-fw-forcer>');\r\n\t\t\t_R[id].topc.append(_R[id].forcer);\r\n\t\t\t_R[id].topc.insertBefore(_R[id].cpar);\r\n\t\t\t_R[id].cpar.detach();\r\n\t\t\t_R[id].cpar.css({ marginTop: \"0px\", marginBottom: \"0px\", position: 'absolute' });\r\n\t\t\t_R[id].cpar.prependTo(_R[id].topc);\r\n\t\t} else\r\n\t\t\t_R[id].topc = _R[id].cpar;\r\n\r\n\r\n\r\n\t\t// MENU MODE AND SIMILIAR FUN\r\n\t\tif (_R[id].forceOverflow) _R[id].topc[0].classList.add(\"rs-forceoverflow\");\r\n\t\telse if (_R[id].parallax.type === '3D') _R[id].topc[0].classList.add(\"rs-parallax-hidden-of\");\r\n\t\tif (_R[id].sliderType === \"carousel\" && _R[id].overflowHidden !== true) _R[id].c.css({ overflow: \"visible\" });\r\n\t\tif (_R[id].maxHeight !== 0) tpGS.gsap.set([_R[id].cpar, _R[id].c, _R[id].topc], { maxHeight: _R[id].maxHeight + \"px\" });\r\n\t\tif (_R[id].fixedOnTop) tpGS.gsap.set(_R[id].blockSpacing !== undefined && _R[id].blockSpacing.block !== undefined ? _R[id].blockSpacing.block : _R[id].topc, { position: \"fixed\", top: \"0px\", left: \"0px\", pointerEvents: \"none\", zIndex: 5000 });\r\n\r\n\r\n\r\n\t\t// SHADOW ADD ONS\r\n\t\tif (_R[id].shadow !== undefined && _R[id].shadow > 0) _R[id].cpar.addClass('tp-shadow' + _R[id].shadow).append('<div class=\"tp-shadowcover\" style=\"background-color:' + _R[id].cpar.css('backgroundColor') + ';background-image:' + _R[id].cpar.css('backgroundImage') + '\"></div>');\r\n\r\n\t\t// ESTIMATE THE CURRENT WINDOWS RANGE INDEX\r\n\t\t_R.updateDims(id, \"prepared\");\r\n\r\n\t\t// Observe Wrapper Dimension changes\r\n\t\tif (_R.observeWraps === undefined) _R.observeWraps = new _R.wrapObserver.init(function(elem, id) {\r\n\t\t\tcontainerResized(id, undefined, true);\r\n\t\t});\r\n\r\n\t\t// IF THE CONTAINER IS NOT YET INITIALISED, LETS GO FOR IT\r\n\t\tif (!_R[id].c.hasClass(\"revslider-initialised\")) {\r\n\r\n\t\t\t// MARK THAT THE CONTAINER IS INITIALISED WITH SLIDER REVOLUTION ALREADY\r\n\t\t\t_R[id].c[0].classList.add(\"revslider-initialised\");\r\n\r\n\t\t\t// WE DONT HAVE ANY ID YET ? WE NEED ONE ! LETS GIVE ONE RANDOMLY FOR RUNTIME\r\n\t\t\t_R[id].c[0].id = _R[id].c[0].id === undefined ? \"revslider-\" + Math.round(Math.random() * 1000 + 5) : _R[id].c[0].id;\r\n\t\t\t_R.revCheckIDS(id, _R[id].c[0]);\r\n\r\n\t\t\t_R[id].origcd = parseInt(_R[id].duration, 0);\r\n\r\n\r\n\t\t\t//PREPARING FADE IN/OUT PARALLAX\r\n\t\t\t_R[id].scrolleffect._L = [];\r\n\t\t\t_R[id].sbas = _R[id].sbas === undefined ? {} : _R[id].sbas;\r\n\t\t\t_R[id].layers = _R[id].layers || {};\r\n\t\t\t_R[id].sortedLayers = _R[id].sortedLayers || {};\r\n\r\n\r\n\t\t\tvar elements = _R[id].c[0].querySelectorAll('rs-layer, rs-row, rs-column, rs-group,  rs-bgvideo, .rs-layer');\r\n\r\n\t\t\t/*_R[id].c.find('rs-layer, rs-row, rs-column, rs-group,  rs-bgvideo, .rs-layer').each(function() {*/\r\n\t\t\tfor (var _eli_ in elements) {\r\n\t\t\t\tif (!elements.hasOwnProperty(_eli_)) continue;\r\n\t\t\t\t//Remove Elements if they are for Gyroscope Permission added\r\n\t\t\t\tif (!_R.ISM && elements[_eli_].classList.contains('iospermaccwait')) elements[_eli_].remove();\r\n\t\t\t\tvar _nc = jQuery(elements[_eli_]),\r\n\t\t\t\t\t_ = _nc.data(),\r\n\t\t\t\t\ts, v;\r\n\t\t\t\t_.startclasses = elements[_eli_].className;\r\n\t\t\t\t_.startclasses = _.startclasses === undefined || _.startclasses === null ? \"\" : _.startclasses;\r\n\t\t\t\t_.animationonscroll = _R[id].sbtimeline.set ? _R[id].sbtimeline.layers : false;\r\n\t\t\t\t_.animationonscroll = _.animationonscroll === true || _.animationonscroll == 'true' ? true : false;\r\n\t\t\t\t_.filteronscroll = _R[id].scrolleffect.set ? _R[id].scrolleffect.layers : false;\r\n\t\t\t\t_.pxundermask = _.startclasses.indexOf('rs-pxmask') >= 0 && _R[id].parallax.type !== 'off' && _.startclasses.indexOf('rs-pxl-') >= 0;\r\n\t\t\t\t_.noPevents = _.startclasses.indexOf('rs-noevents') >= 0;\r\n\r\n\t\t\t\t//CATCH SCROLLEFFECT AND TIMELINE SCROLL BASE\r\n\t\t\t\tif (_.sba) {\r\n\t\t\t\t\ts = _.sba.split(\";\");\r\n\t\t\t\t\tfor (var i in s) {\r\n\t\t\t\t\t\tif (!s.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\tv = s[i].split(\":\");\r\n\t\t\t\t\t\tif (v[0] == \"t\") { _.animationonscroll = v[1]; if (v[1] == \"false\") _.animOnScrollForceDisable = true; }\r\n\t\t\t\t\t\tif (v[0] == \"e\") _.filteronscroll = v[1];\r\n\t\t\t\t\t\tif (v[0] == \"so\") _.scrollBasedOffset = parseInt(v[1]) / 1000;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (_.animationonscroll == \"true\" || _.animationonscroll == true) {\r\n\t\t\t\t\t_.startclasses += \" rs-sba\";\r\n\t\t\t\t\t_nc[0].className += \" rs-sba\";\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tif (_.startclasses.indexOf(\"rs-layer-static\") >= 0 && _R.handleStaticLayers) _R.handleStaticLayers(_nc, id);\r\n\t\t\t\tif (_nc[0].tagName !== \"RS-BGVIDEO\") {\r\n\t\t\t\t\t_nc[0].classList.add(\"rs-layer\");\r\n\t\t\t\t\tif (_.type === \"column\") {\r\n\t\t\t\t\t\t_.columnwidth = \"33.33%\";\r\n\t\t\t\t\t\t_.verticalalign = \"top\";\r\n\t\t\t\t\t\tif (_.column !== undefined) {\r\n\t\t\t\t\t\t\ts = _.column.split(\";\");\r\n\t\t\t\t\t\t\tfor (var ci in s) {\r\n\t\t\t\t\t\t\t\tif (!s.hasOwnProperty(ci)) continue;\r\n\t\t\t\t\t\t\t\tv = s[ci].split(\":\");\r\n\t\t\t\t\t\t\t\tif (v[0] === \"w\") _.columnwidth = v[1];\r\n\t\t\t\t\t\t\t\tif (v[0] === \"a\") _.verticalalign = v[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.type === \"group\") {\r\n\t\t\t\t\t\t_.verticalalign = \"top\";\r\n\t\t\t\t\t\tif (_.column !== undefined) {\r\n\t\t\t\t\t\t\ts = _.column.split(\";\");\r\n\t\t\t\t\t\t\tfor (var ci in s) {\r\n\t\t\t\t\t\t\t\tif (!s.hasOwnProperty(ci)) continue;\r\n\t\t\t\t\t\t\t\tv = s[ci].split(\":\");\r\n\t\t\t\t\t\t\t\tif (v[0] === \"a\") _.verticalalign = v[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// PREPARE LAYERS AND WRAP THEM WITH PARALLAX, LOOP, MASK HELP CONTAINERS\r\n\t\t\t\t\tvar ec = _.startclasses.indexOf(\"slidelink\") >= 0 ? \"z-index:\" + _.zindex + \";width:100% !important;height:100% !important;\" : \"\",\r\n\t\t\t\t\t\tspecec = _.type !== \"column\" && _.type !== \"group\" ? \"\" : _.verticalalign === undefined ? \" vertical-align:top;\" : \" vertical-align:\" + _.verticalalign + \";\",\r\n\t\t\t\t\t\t_pos = _.type === \"row\" || _.type === \"column\" || _.pos===\"r\" ? \"position:relative;\" : \"position:absolute;\",\r\n\t\t\t\t\t\tpreclas = \"\",\r\n\t\t\t\t\t\tpretag = _.type === \"row\" ? \"rs-row-wrap\" : _.type === \"column\" ? \"rs-column-wrap\" : _.type === \"group\" ? \"rs-group-wrap\" : \"rs-layer-wrap\",\r\n\t\t\t\t\t\tdmode = \"\",\r\n\t\t\t\t\t\tpreid = \"\",\r\n\t\t\t\t\t\tpevents = _.noPevents ? ';pointer-events:none' : ';pointer-events:none';\r\n\t\t\t\t\tif (_.type === \"row\" || _.type === \"column\" || _.type === \"group\") {\r\n\t\t\t\t\t\t_nc[0].classList.remove(\"tp-resizeme\");\r\n\t\t\t\t\t\tif (_.type === \"column\") {\r\n\t\t\t\t\t\t\t_.width = \"auto\";\r\n\t\t\t\t\t\t\t_nc[0].group = \"row\";\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_nc, { width: 'auto' });\r\n\t\t\t\t\t\t\t_.filteronscroll = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdmode = \"display:\" + (_nc[0].style.display === \"inline-block\" ? \"inline-block\" : \"block\") + \";\";\r\n\t\t\t\t\t\tif (_R.closestNode(_nc[0], 'RS-COLUMN') !== null /*nc.closest('rs-column').length>0*/ ) {\r\n\t\t\t\t\t\t\t_nc[0].group = \"column\";\r\n\r\n\t\t\t\t\t\t\t_.filteronscroll = false;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (_R.closestNode(_nc[0], 'RS-GROUP-WRAP') !== null /*_nc.closest('rs-group-wrap').length>0*/ ) {\r\n\t\t\t\t\t\t\t_nc[0].group = \"group\";\r\n\t\t\t\t\t\t\t_.filteronscroll = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.wrpcls !== undefined) preclas = preclas + \" \" + _.wrpcls;\r\n\t\t\t\t\tif (_.wrpid !== undefined) preid = 'id=\"' + _.wrpid + '\"';\r\n\r\n\t\t\t\t\t//Solution for Live Demo Pages & Older Templates with direct parent/parent solutions\r\n\t\t\t\t\t_.thFixed = (_.wrpcls!==undefined && _.wrpcls.includes(\"th-fixed\")) || (_.startclasses!==undefined && _.startclasses.includes(\"ddd_mousebox\"));\r\n\t\t\t\t\t_.reqWrp = {loop :  _R[id].rtl==true || _.thFixed || _.loop_0!==undefined || _.loop_999!==undefined ? true : false,\r\n\t\t\t\t\t\t\t\tlevel : { m:0, lp: 0, p:0}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_.reqWrp.mask = _.reqWrp.loop || _R[id].rtl==true ||  _.pxundermask || _.thFixed || _.btrans!==undefined || (_.frame_hover!==undefined && _.frame_hover.includes('m:t')) ||  _.clip!==undefined ||  _.sba!==undefined ||  _.frame_0_sfx !== undefined || _.frame_1_sfx !== undefined || _.frame_999_sfx !== undefined || _.frame_0_mask !== undefined ||  _.frame_1_mask !== undefined  || _.frame_2_mask !== undefined ||  _.frame_3_mask !== undefined ||  _.frame_4_mask !== undefined ||  _.frame_999_mask !== undefined ? true : false;\r\n\t\t\t\t\t_.reqWrp.level.m = _.pxundermask ? 2 :  _.reqWrp.mask ? 1 : 0;\r\n\t\t\t\t\t_.reqWrp.level.lp = _.reqWrp.level.m + (_.reqWrp.loop ? 1 : 0);\r\n\t\t\t\t\t_.reqWrp.level.p = _.reqWrp.level.lp + 1;\r\n\r\n\t\t\t\t\t//WRAP LAYER\r\n\t\t\t\t\t_nc.wrap('<' + pretag + ' ' + preid + ' class=\"rs-parallax-wrap ' + preclas + '\" style=\"' + specec + ' ' + ec + _pos + dmode + '' + pevents + '\">' +\r\n\t\t\t\t\t\t(_.reqWrp.loop ? '<rs-loop-wrap style=\"' + ec + _pos + dmode + '\">' : '') +\r\n\t\t\t\t\t\t(_.reqWrp.mask ? '<rs-mask-wrap style=\"' + ec + _pos + dmode + '\">' : '') +\r\n\t\t\t\t\t\t(_.pxundermask ? '<rs-px-mask></rs-px-mask>' : '') +\r\n\t\t\t\t\t\t(_.reqWrp.mask ? '</rs-mask-wrap>' : '') +\r\n\t\t\t\t\t\t(_.reqWrp.loop ? '</rs-loop-wrap>' : '') +\r\n\t\t\t\t\t\t'</' + pretag + '>');\r\n\r\n\r\n\r\n\t\t\t\t\t// ONLY ADD LAYERS TO FADEOUT DYNAMIC LIST WHC\r\n\r\n\t\t\t\t\tif (_.filteronscroll === true || _.filteronscroll == 'true') _R[id].scrolleffect._L.push(_nc.parent());\r\n\r\n\t\t\t\t\t_nc[0].id = _nc[0].id === undefined ? 'layer-' + Math.round(Math.random() * 999999999) : _nc[0].id;\r\n\t\t\t\t\t_R.revCheckIDS(id, _nc[0]);\r\n\r\n\r\n\r\n\t\t\t\t\t// CACHE PARENT ELEMENTS\r\n\r\n\t\t\t\t\t_R[id]._Lshortcuts[_nc[0].id] = {\r\n\t\t\t\t\t\tp:  getParentLevel(_nc[0], _.reqWrp.level.p),\r\n\t\t\t\t\t\tlp:  getParentLevel(_nc[0], _.reqWrp.level.lp),\r\n\t\t\t\t\t\tm: getParentLevel(_nc[0], _.reqWrp.level.m),\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t// Add BG for Columns\r\n\t\t\t\t\tif (_.type === \"column\" && (_nc[0].style.background!=\"\" || _nc[0].style.backgroundColor!==\"\" || _nc[0].style.backgroundImage!==\"\" || _.border!==undefined)) {\r\n\t\t\t\t\t\t_R[id]._Lshortcuts[_nc[0].id].p.append('<rs-cbg-mask-wrap><rs-column-bg id=\"' + _nc[0].id + '_rs_cbg\"></rs-column-bg></rs-cbg-mask-wrap>');\r\n\t\t\t\t\t\t_.cbgexists = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_.cbgexists = false;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (_.type === \"text\" && _R.getByTag(_nc[0], 'IFRAME').length > 0) {\r\n\t\t\t\t\t\t_R[id].slideHasIframe = true;\r\n\t\t\t\t\t\t_nc[0].classList.add('rs-ii-o'); //inner iframe ok\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//tpGS.gsap.set(_nc,{visibility:\"hidden\"});\r\n\t\t\t\t\tif (_R[id].BUG_safari_clipPath && _.animationonscroll != \"true\" && _.animationonscroll != true) _nc[0].classList.add(\"rs-pelock\");\r\n\r\n\t\t\t\t\tif (_nc[0].dataset.staticz !== undefined && _.type !== \"row\" && _nc[0].group !== \"row\" && _nc[0].group !== \"column\") _R.addStaticLayerTo(id, _nc[0].dataset.staticz, _R[id]._Lshortcuts[_nc[0].id].p);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// INITISLIASE THE EVENTS ON LAYERS\r\n\r\n\t\t\t\tif (_R.gA(_nc[0], \"actions\") && _R.checkActions) _R.checkActions(_nc, id, _R[id]);\r\n\t\t\t\tif (_R.checkVideoApis && (!window.rs_addedvim || !window.rs_addedyt) && (!_R[id].youtubeapineeded || !_R[id].vimeoapineeded)) _R.checkVideoApis(_nc, id);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (_R.checkActions) _R.checkActions(undefined, id);\r\n\r\n\t\t\t// Wait for 1ST Click to play Videos in case they could not be played yet\r\n\t\t\t_R[id].c[0].addEventListener('mousedown', function() {\r\n\t\t\t\tif (_R[id].onceClicked !== true) {\r\n\t\t\t\t\t_R[id].onceClicked = true;\r\n\t\t\t\t\tif (_R[id].onceVideoPlayed !== true && _R[id].activeRSSlide !== undefined && _R[id].slides !== undefined && _R[id].slides[_R[id].activeRSSlide] !== undefined) {\r\n\t\t\t\t\t\tvar nc = jQuery(_R[id].slides[_R[id].activeRSSlide]).find('rs-bgvideo');\r\n\t\t\t\t\t\tif (nc !== undefined && nc !== null && nc.length > 0) _R.playVideo(nc, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t\t_R[id].c[0].addEventListener('mouseenter', function() {\r\n\t\t\t\t_R[id].c.trigger('tp-mouseenter');\r\n\t\t\t\t_R[id].overcontainer = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\t_R[id].c[0].addEventListener('mouseover', function() {\r\n\t\t\t\t_R[id].c.trigger('tp-mouseover');\r\n\t\t\t\t_R[id].overcontainer = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\t_R[id].c[0].addEventListener('mouseleave', function() {\r\n\t\t\t\t_R[id].c.trigger('tp-mouseleft');\r\n\t\t\t\t_R[id].overcontainer = false;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\t// REMOVE ANY VIDEO JS SETTINGS OF THE VIDEO  IF NEEDED  (OLD FALL BACK, AND HELP FOR 3THD PARTY PLUGIN CONFLICTS)\r\n\t\t\t_R[id].c.find('.rs-layer video').each(function(i) {\r\n\t\t\t\tvar v = jQuery(this);\r\n\t\t\t\tv.removeClass(\"video-js vjs-default-skin\");\r\n\t\t\t\tv.attr(\"preload\", \"\");\r\n\t\t\t\tv.css({ display: \"none\" });\r\n\t\t\t});\r\n\r\n\t\t\t//PREPARE LOADINGS ALL IN SEQUENCE\r\n\t\t\t//if (_R[id].sliderType!==\"standard\") _R[id].lazyType = \"all\";\r\n\r\n\t\t\t// PRELOAD STATIC LAYERS\r\n\t\t\t_R[id].rs_static_layer = _R.getByTag(_R[id].c[0], 'RS-STATIC-LAYERS');\r\n\t\t\tif (_R.preLoadAudio && _R[id].rs_static_layer.length > 0) _R.preLoadAudio(jQuery(_R[id].rs_static_layer), id, 1);\r\n\t\t\tif (_R[id].rs_static_layer.length > 0) {\r\n\t\t\t\t_R.loadImages(_R[id].rs_static_layer[0], id, 0, true);\r\n\t\t\t\t_R.waitForCurrentImages(_R[id].rs_static_layer[0], id, function() {\r\n\t\t\t\t\tif (_R[id] === undefined) return;\r\n\t\t\t\t\t_R[id].c.find('rs-static-layers img').each(function() {\r\n\t\t\t\t\t\tthis.src = _R.getLoadObj(id, (_R.gA(this, \"src\") != undefined ? _R.gA(this, \"src\") : this.src)).src;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].rowzones = [];\r\n\t\t\t_R[id].rowzonesHeights = [];\r\n\t\t\t_R[id].topZones = [];\r\n\t\t\t_R[id].middleZones = [];\r\n\t\t\t_R[id].bottomZones = [];\r\n\r\n\t\t\t_R[id].rowMiddleHeights = {};\r\n\r\n\r\n\r\n\r\n\t\t\t// IF DEEPLINK HAS BEEN SET\r\n\t\t\tvar deeplink = _R.deepLink(id, getUrlVars(\"#\")[0]);\r\n\t\t\tif (deeplink !== undefined) {\r\n\t\t\t\t_R[id].startWithSlide = deeplink;\r\n\t\t\t\t_R[id].deepLinkListener = true;\r\n\t\t\t\twindow.addEventListener('hashchange', function() {\r\n\t\t\t\t\tif (_R[id].ignoreDeeplinkChange !== true) {\r\n\t\t\t\t\t\tvar deeplink = _R.deepLink(id, getUrlVars(\"#\")[0]);\r\n\t\t\t\t\t\tif (deeplink !== undefined) _R.callingNewSlide(id, deeplink, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_R[id].ignoreDeeplinkChange = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// PREPARE THE SPINNER\r\n\t\t\t_R[id].loader = _R.buildSpinner(id, _R[id].spinner, _R[id].spinnerclr);\r\n\t\t\t_R[id].loaderVisible = true;\r\n\t\t\t_R[id].c.append(_R[id].loader);\r\n\r\n\t\t\t// PREPARE THE SLIDES\r\n\t\t\tprepareSlides(id);\r\n\r\n\t\t\tif ((_R[id].parallax.type !== \"off\" || _R[id].scrolleffect.set || _R[id].sbtimeline.set) && _R.checkForParallax) _R.checkForParallax(id);\r\n\r\n\t\t\t// INIT BLURFOCUS\r\n\t\t\tif (!_R[id].fallbacks.disableFocusListener && _R[id].fallbacks.disableFocusListener != \"true\" && _R[id].fallbacks.disableFocusListener !== true) {\r\n\t\t\t\t_R[id].c.addClass(\"rev_redraw_on_blurfocus\");\r\n\t\t\t\ttabBlurringCheck();\r\n\t\t\t}\r\n\r\n\t\t\t// MANAGE VIEWPORT SETTINGS\r\n\t\t\tvar _v = _R[id].viewPort;\r\n\t\t\tif (_R[id].navigation.mouseScrollNavigation === \"on\") _v.enable = true;\r\n\r\n\r\n\t\t\t// SET ALL LI AN INDEX AND INIT LAZY LOADING\r\n\t\t\tfor (var i in _R[id].slides) {\r\n\t\t\t\tif (!_R[id].slides.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar li = jQuery(_R[id].slides[i]);\r\n\t\t\t\t_R[id].rowzones[i] = [];\r\n\t\t\t\t_R[id].rowzonesHeights[i] = [];\r\n\t\t\t\t_R[id].topZones[i] = [];\r\n\t\t\t\t_R[id].middleZones[i] = [];\r\n\t\t\t\t_R[id].bottomZones[i] = [];\r\n\t\t\t\tli.find('rs-zone').each(function() {\r\n\t\t\t\t\t_R[id].rowzones[i].push(jQuery(this));\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_top\") >= 0) _R[id].topZones[i].push(this);\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_middle\") >= 0) {_R[id].middleZones[i].push(this);this.dataset.middle=\"true\";}\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_bottom\") >= 0) _R[id].bottomZones[i].push(this);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//LAZY LOAD ALL IMAGES\r\n\t\t\t_R.lazyLoadAllSlides(id);\r\n\r\n\r\n\t\t\t// COLLECT STATIC ROWS, ZONES\r\n\t\t\t_R[id].srowzones = [];\r\n\t\t\t_R[id].smiddleZones = [];\r\n\t\t\tif (_R[id].slayers)\r\n\t\t\t\t_R[id].slayers.find('rs-zone').each(function() {\r\n\t\t\t\t\t_R[id].srowzones.push(jQuery(this));\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_middle\") >= 0) {\r\n\t\t\t\t\t\t_R[id].smiddleZones.push(this);\r\n\t\t\t\t\t\tthis.dataset.middle=\"true\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\tif (_R[id].sliderType === \"carousel\") tpGS.gsap.set(_R[id].canvas, { scale: 1, perspective: 1200, transformStyle: \"flat\", opacity: 0 });\r\n\r\n\t\t\t// APPEND MODULE CONTAINER BACK\r\n\t\t\t_R[id].c.prependTo(_R[id].cpar);\r\n\r\n\t\t\t/******************************\r\n\t\t\t\t-\tFULLSCREEN CHANGE\t-\r\n\t\t\t********************************/\r\n\t\t\t// FULLSCREEN MODE TESTING\r\n\t\t\tjQuery(\"body\").data('rs-fullScreenMode', false);\r\n\t\t\twindow.addEventListener('fullscreenchange', ofsc, { passive: true });\r\n\t\t\twindow.addEventListener('mozfullscreenchange', ofsc, { passive: true });\r\n\t\t\twindow.addEventListener('webkitfullscreenchange', ofsc, { passive: true });\r\n\r\n\t\t\t_R.document.on(\"updateContainerSizes.\" + _R[id].c.attr('id'), function() {\r\n\t\t\t\tif (_R[id] === undefined) return;\r\n\t\t\t\telse if (_R[id].c == undefined) return false;\r\n\t\t\t\tif (_R.updateDims(id, 'ignore'))\r\n\t\t\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t\t\t_R.updateDims(id, 'ignore');\r\n\t\t\t\t\t\t_R[id].fullScreenMode = _R.checkfullscreenEnabled(id);\r\n\t\t\t\t\t\t_R.lastwindowheight = _R.getWinH(id);\r\n\t\t\t\t\t\tcontainerResized(id);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\r\n\t\t\tif (_v.presize) {\r\n\t\t\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[0]);\r\n\t\t\t\t// PRELOAD STATIC LAYERS\r\n\t\t\t\t_R.loadImages(_R[id].pr_next_slide[0], id, 0, true);\r\n\t\t\t\t_R.waitForCurrentImages(_R[id].pr_next_slide.find('.tp-layers'), id, function() { if (_R.animateTheLayers) _R.animateTheLayers({ slide: _R[id].pr_next_key, id: id, mode: \"preset\", caller: \"runSlider\" }); });\r\n\t\t\t}\r\n\r\n\t\t\t//START SLIDER AND/OR SCROLL HANDLER\r\n\t\t\tif (_R[id].parallax.type != \"off\" || _R[id].sbtimeline.set || _v.enable === true) _R.scrollTicker(id);\r\n\t\t\tif (_v.enable !== true) {\r\n\t\t\t\t_R[id].inviewport = true;\r\n\t\t\t\t_R.enterViewPort(id);\r\n\t\t\t}\r\n\r\n\t\t\tif (_R.RS_toInit !== undefined) _R.RS_toInit[id] = true;\r\n\r\n\t\t\t// ADD WRAPPER OBSERVER\r\n\t\t\tif (_R[id].observeWrap && _R.observeWraps) _R.wrapObserver.observe(_R[id].rsFullWidthWrap !== undefined ? _R[id].rsFullWidthWrap[0] : _R[id].cpar[0], id);\r\n\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tvar hideSliderUnder = function(id, resized) {\r\n\t\tif (_R.winW < _R[id].hideSliderAtLimit) {\r\n\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\tif (_R[id].sliderIsHidden !== true) {\r\n\t\t\t\t_R.sA(_R[id].cpar[0], \"displaycache\", _R[id].cpar.css('display') != \"none\" ? _R[id].cpar.css('display') : _R.gA(_R[id].cpar[0], \"displaycache\"));\r\n\t\t\t\t_R[id].cpar.css({ display: \"none\" });\r\n\t\t\t\t_R[id].sliderIsHidden = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif ((_R[id].sliderIsHidden === true || (_R[id].sliderIsHidden === undefined && _R[id].c.is(\":hidden\"))) && resized) {\r\n\t\t\t\t_R[id].cpar[0].style.display = _R.gA(_R[id].cpar[0], \"displaycache\") != undefined && _R.gA(_R[id].cpar[0], \"displaycache\") != \"none\" ? _R.gA(_R[id].cpar[0], \"displaycache\") : \"block\";\r\n\t\t\t\t_R[id].sliderIsHidden = false;\r\n\t\t\t\t_R[id].c.trigger('restarttimer');\r\n\r\n\t\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t\tcontainerResized(id, true);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (_R.hideUnHideNav && _R[id].navigation.use) _R.hideUnHideNav(id);\r\n\t};\r\n\r\n\r\n\t//////////////////////////\r\n\t//\tCONTAINER RESIZED\t//\r\n\t/////////////////////////\r\n\tvar containerResized = function(id, ignoreHideSlideUnder, updateDim) {\r\n\t\tif (_R[id].c === undefined) return false;\r\n\t\t_R[id].dimensionReCheck = {};\r\n\r\n\t\t_R[id].c.trigger('revolution.slide.beforeredraw');\r\n\t\tif (_R[id].infullscreenmode == true) _R[id].minHeight = _R.getWinH(id);\r\n\t\tif (_R.ISM) _R[id].lastMobileHeight = _R.getWinH(id);\r\n\r\n\t\tif (updateDim) _R.updateDims(id);\r\n\t\tif (!_R.resizeThumbsTabs || _R.resizeThumbsTabs(id) === true) {\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\thideSliderUnder(id, ignoreHideSlideUnder !== true);\r\n\t\t\t\tbuildProgressBar(id);\r\n\t\t\t});\r\n\r\n\t\t\tif (_R[id].started) {\r\n\t\t\t\tif (_R[id].sliderType == \"carousel\") {\r\n\t\t\t\t\t_R.prepareCarousel(id);\r\n\t\t\t\t\tfor (var nbgi in _R[id].sbgs)\r\n\t\t\t\t\t\tif (_R[id].sbgs.hasOwnProperty(nbgi) && _R[id].sbgs[nbgi].mDIM !== undefined) {\r\n\t\t\t\t\t\t\t_R.updateSlideBGs(id, _R[id].sbgs[nbgi].key, _R[id].sbgs[nbgi]);\r\n\t\t\t\t\t\t\t//_R.prepareCoveredVideo(id,_R[id].sbgs[nbgi].skeyindex,_R[id].sbgs[nbgi].key)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_R.updateSlideBGs(id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R[id].sliderType === \"carousel\" && ((_R[id].carCheckconW != _R[id].canv.width) || (_R[id].sliderLayout==\"fullscreen\" && _R[id].carCheckconH != _R[id].canv.height))) {\r\n\t\t\t\t\tclearTimeout(_R[id].pcartimer);\r\n\t\t\t\t\tfor (var i in _R[id].sbgs)\r\n\t\t\t\t\t\tif (_R[id].sbgs[i].loadobj !== undefined) _R.updateSlideBGs(id, _R[id].sbgs[i].key, _R[id].sbgs[i]);\r\n\t\t\t\t\tif (_R[id].carousel.orientation==\"v\") tpGS.gsap.set(_R[id].canvas, {height: _R[id].carousel.slide_height});\r\n\t\t\t\t\t//_R[id].pcartimer = setTimeout(function() {\r\n\t\t\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\t\t\t_R.prepareCarousel(id);\r\n\t\t\t\t\t\t\t_R.animateTheLayers({ slide: \"individual\", id: id, mode: \"rebuild\", caller: \"containerResized_1\" });\r\n\t\t\t\t\t\t\t_R[id].carCheckconW = _R[id].canv.width;\r\n\t\t\t\t\t\t\t_R[id].carCheckconH = _R[id].canv.height;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t//}, 100);\r\n\t\t\t\t\t_R[id].lastconw = _R[id].canv.width;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// DOUBLE CALL FOR SOME FUNCTION TO AVOID PORTRAIT/LANDSCAPE ISSUES, AND TO AVOID FULLSCREEN/NORMAL SWAP ISSUES\r\n\t\t\t\tif (_R[id].pr_processing_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_processing_key, id: id, mode: \"rebuild\", caller: \"containerResized_2\" });\r\n\t\t\t\telse if (_R[id].pr_active_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_active_key, id: id, mode: \"rebuild\", caller: \"containerResized_3\" });\r\n\r\n\t\t\t\t//Pan Zoom Calls\r\n\t\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\t\tfor (var i in _R[id].panzoomTLs)\r\n\t\t\t\t\t\tif (_R[id].panzoomTLs.hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\tvar key = _R.gA(_R[id].panzoomBGs[i][0], \"key\");\r\n\t\t\t\t\t\t\t_R.startPanZoom(_R[id].panzoomBGs[i], id, _R[id].panzoomTLs[i].progress(), i, _R[id].panzoomTLs[i].isActive() ? 'play' : 'reset', key);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R[id].pr_active_bg !== undefined && _R[id].pr_active_bg[0] !== undefined) pzrpt(id, _R[id].pr_active_bg, _R[id].pr_active_bg[0].dataset.key);\r\n\t\t\t\t\tif (_R[id].pr_next_bg !== undefined && _R[id].pr_next_bg[0] !== undefined) pzrpt(id, _R[id].pr_next_bg, _R[id].pr_next_bg[0].dataset.key);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclearTimeout(_R[id].mNavigTimeout);\r\n\t\t\t\tif (_R.manageNavigation) _R[id].mNavigTimeout = setTimeout(function() { _R.manageNavigation(id); }, 20);\r\n\t\t\t}\r\n\r\n\t\t\t_R.prepareCoveredVideo(id);\r\n\t\t}\r\n\r\n\t\t_R[id].c.trigger('revolution.slide.afterdraw', [{ id: id }]);\r\n\r\n\t};\r\n\r\n\tvar pzrpt = function(id, a, key) {\r\n\t\tif (_R[id].panzoomTLs === undefined) return;\r\n\t\tvar cid = _R.getSlideIndex(id, key);\r\n\t\t_R.startPanZoom(a, id, (_R[id].panzoomTLs[cid] !== undefined ? _R[id].panzoomTLs[cid].progress() : 0), cid, 'play', key);\r\n\t};\r\n\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t///////////////////////////////////////////////////////////////////////////////       PREPARING / REMOVING\t\t////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\t/////////////////////////////////////////\r\n\t//\t-\tPREPARE THE SLIDES / SLOTS -  //\r\n\t///////////////////////////////////////\r\n\tvar prepareSlides = function(id) {\r\n\t\t//REMOVE CANVAS FROM DOM UNTIL MODIFICATION\r\n\r\n\t\tif (_R[id].noDetach !== true) _R[id].canvas.detach();\r\n\t\tvar overflow = _R.isFaceBook() ? 'visible' : 'hidden';\r\n\r\n\r\n\t\t// PREPARE THE UL CONTAINER TO HAVEING MAX HEIGHT AND HEIGHT FOR ANY SITUATION\r\n\t\tif (_R[id].autoHeight) tpGS.gsap.set([_R[id].c, _R[id].cpar], { maxHeight: 'none' });\r\n\r\n\t\ttpGS.gsap.set(_R[id].canvas, (_R[id].modal !== undefined && _R[id].modal.useAsModal ? { overflow: overflow, width: '100%', height: '100%' } : { overflow: overflow, width: '100%', height: '100%', maxHeight: _R[id].autoHeight ? 'none' : _R[id].cpar.css('maxHeight') }));\r\n\t\t//SET CAROUSEL\r\n\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\tvar carsty = \"margin-top:\" + parseInt((_R[id].carousel.padding_top || 0), 0) + \"px;\";\r\n\t\t\t_R[id].canvas.css({ overflow: \"visible\"}).wrap('<rs-carousel-wrap style=\"' + carsty + '\"></rs-carousel-wrap>');\r\n\t\t\t_R[id].cpar.prepend('<rs-carousel-space></rs-carousel-space>').append('<rs-carousel-space></rs-carousel-space>');\r\n\t\t\t_R.defineCarouselElements(id);\r\n\t\t}\r\n\t\t//Number od Start with should never be smaller then 0 !\r\n\t\t_R[id].startWithSlide = _R[id].startWithSlide === undefined ? undefined : Math.max(1, _R[id].sliderType === \"carousel\" ? parseInt(_R[id].startWithSlide) : parseInt(_R[id].startWithSlide));\r\n\t\t// RESOLVE OVERFLOW HIDDEN OF MAIN CONTAINER\r\n\t\t_R[id].cpar.css({ 'overflow': 'visible' });\r\n\r\n\t\t//SCROLL BASED BG COLLECTION\r\n\t\t_R[id].scrolleffect.bgs = [];\r\n\r\n\r\n\t\tfor (var i = 0; i < _R[id].slides.length; i++) {\r\n\t\t\tvar cli = jQuery(_R[id].slides[i]),\r\n\t\t\t\tkey = _R.gA(cli[0], 'key'),\r\n\t\t\t\timg = cli.find('.rev-slidebg') || cli.find('>img'),\r\n\t\t\t\tB = _R[id].sbgs[key] = getBGValues(img.data(), id),\r\n\t\t\t\tmf = cli.data('mediafilter');\r\n\r\n\t\t\tB.skeyindex = _R.getSlideIndex(id, key);\r\n\t\t\tB.bgvid = cli.find('rs-bgvideo');\r\n\t\t\timg.detach();\r\n\t\t\tB.bgvid.detach();\r\n\r\n\t\t\t//START WITH CORRECT SLIDE\r\n\t\t\tif ((_R[id].startWithSlide != undefined && _R.gA(_R[id].slides[i], \"originalindex\") == _R[id].startWithSlide) || _R[id].startWithSlide === undefined && i == 0) _R[id].pr_next_key = _R[id].carousel.focused = cli.index();\r\n\r\n\t\t\ttpGS.gsap.set(cli, { width: '100%', height: '100%', overflow: overflow });\r\n\t\t\timg.wrap('<rs-sbg-px><rs-sbg-wrap data-key=\"' + key + '\"></rs-sbg-wrap></rs-sbg-px>');\r\n\r\n\t\t\tB.wrap = jQuery(_R.closestNode(img[0], 'RS-SBG-WRAP'));\r\n\t\t\tB.src = img[0].src;\r\n\t\t\tB.lazyload = B.lazyload = deliverLazy(img[0], undefined, id);\r\n\t\t\tB.slidebgimage = true;\r\n\t\t\tB.loadobj = B.loadobj === undefined ? {} : B.loadobj;\r\n\t\t\tB.mediafilter = mf = mf === \"none\" || mf === undefined ? \"\" : mf;\r\n\t\t\tB.sbg = document.createElement('rs-sbg');\r\n\r\n\r\n\r\n\r\n\t\t\tif (_R[id].overlay !== undefined && _R[id].overlay.type != \"none\" && _R[id].overlay.type != undefined) {\r\n\t\t\t\tvar url = _R.createOverlay(id, _R[id].overlay.type, _R[id].overlay.size, { 0: _R[id].overlay.colora, 1: _R[id].overlay.colorb });\r\n\t\t\t\tB.wrap.append('<rs-dotted style=\"background-image:' + url + '\"></rs-dotted>');\r\n\t\t\t}\r\n\r\n\t\t\timg.data('mediafilter', mf);\r\n\t\t\t//mf = img.data('panzoom')!==undefined ? \"\" : mf;\r\n\r\n\r\n\t\t\tB.canvas = document.createElement('canvas');\r\n\t\t\tB.sbg.appendChild(B.canvas);\r\n\t\t\tB.canvas.style.width = \"100%\";\r\n\t\t\tB.canvas.style.height = \"100%\";\r\n\t\t\tB.ctx = B.canvas.getContext('2d');\r\n\r\n\t\t\tif (B.lazyload !== undefined) B.sbg.dataset.lazyload = B.lazyload;\r\n\t\t\tB.sbg.className = mf;\r\n\t\t\tB.sbg.src = B.src;\r\n\t\t\tB.sbg.dataset.bgcolor = B.bgcolor;\r\n\r\n\r\n\t\t\t/*if (!(B.bgcolor!==undefined && B.bgcolor.indexOf('gradient')>=0)) {\r\n\t\t\t\tB.sbg.style.backgroundRepeat = B.bgrepeat;\r\n\t\t\t\tB.sbg.style.backgroundImage = 'url('+B.src+')';\r\n\t\t\t\tB.sbg.style.backgroundSize = B.bgfit;\r\n\t\t\t\tB.sbg.style.backgroundPosition = B.bgposition;\r\n\t\t\t}*/\r\n\t\t\t//if (_R[id].sliderType === \"standard\" || _R[id].sliderType===\"undefined\" ) B.sbg.style.opacity = 0;\r\n\t\t\tB.sbg.style.width = \"100%\";\r\n\t\t\tB.sbg.style.height = \"100%\";\r\n\t\t\tB.key = key;\r\n\t\t\tB.wrap[0].dataset.key = key;\r\n\t\t\tjQuery(B.sbg).data(B);\r\n\t\t\tB.wrap.data(B);\r\n\r\n\t\t\tB.wrap[0].appendChild(B.sbg);\r\n\r\n\t\t\tvar comment = document.createComment(\"Runtime Modification - Img tag is Still Available for SEO Goals in Source - \" + img.get(0).outerHTML);\r\n\t\t\timg.replaceWith(comment);\r\n\t\t\t//img[0].style.display = \"none\";\r\n\r\n\t\t\tif (_R.gA(cli[0], \"sba\") === undefined) _R.sA(cli[0], \"sba\", \"\");\r\n\t\t\tvar _ = {},\r\n\t\t\t\ts = _R.gA(cli[0], \"sba\").split(\";\");\r\n\t\t\tfor (var si in s) {\r\n\t\t\t\tif (!s.hasOwnProperty(si)) continue;\r\n\t\t\t\tvar v = s[si].split(\":\");\r\n\t\t\t\tswitch (v[0]) {\r\n\t\t\t\t\tcase \"f\":\r\n\t\t\t\t\t\t_.f = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t_.b = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"g\":\r\n\t\t\t\t\t\t_.g = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t_.s = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_R.sA(cli[0], \"scroll-based\", (_R[id].sbtimeline.set ? _.s !== undefined ? _.s : false : false))\r\n\r\n\t\t\t//HANDLE BG VIDEOS\r\n\t\t\tif (B.bgvid.length > 0) {\r\n\t\t\t\tB.bgvidid = B.bgvid[0].id;\r\n\t\t\t\tB.animateDirection = \"idle\";\r\n\t\t\t\tB.bgvid.addClass(\"defaultvid\").css({ zIndex: 30 });\r\n\t\t\t\tif (mf !== undefined && mf !== \"\" && mf !== \"none\") B.bgvid.addClass(mf);\r\n\t\t\t\tB.bgvid.appendTo(B.wrap);\r\n\t\t\t\tif (B.parallax != undefined) {\r\n\t\t\t\t\tB.bgvid.data('parallax', B.parallax);\r\n\t\t\t\t\tB.bgvid.data('showcoveronpause', \"on\");\r\n\t\t\t\t\tB.bgvid.data('mediafilter', mf);\r\n\t\t\t\t}\r\n\t\t\t\tB.poster = false;\r\n\t\t\t\tif ((B.src !== undefined && B.src.indexOf('assets/dummy.png') == -1 && B.src.indexOf('assets/transparent.png') == -1) ||\r\n\t\t\t\t\t(B.lazyload !== undefined && B.lazyload.indexOf('assets/transparent.png') == -1 && B.lazyload.indexOf('assets/dummy.png') == -1 && B.lazyload.indexOf('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=') == -1)) B.poster = true;\r\n\r\n\t\t\t\tB.bgvid.data(\"bgvideo\", 1);\r\n\t\t\t\tB.bgvid[0].dataset.key = key;\r\n\t\t\t\t//_R.manageVideoLayer(B.bgvid,id,key);\r\n\r\n\t\t\t\tif (B.bgvid.find('.rs-fullvideo-cover').length == 0) B.bgvid.append('<div class=\"rs-fullvideo-cover\"></div>');\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[id].scrolleffect.set) {\r\n\t\t\t\t_R[id].scrolleffect.bgs.push({\r\n\t\t\t\t\tfade: _.f !== undefined ? _.f : _R[id].scrolleffect.slide ? _R[id].scrolleffect.fade : false,\r\n\t\t\t\t\tblur: _.b !== undefined ? _.b : _R[id].scrolleffect.slide ? _R[id].scrolleffect.blur : false,\r\n\t\t\t\t\tgrayscale: _.g !== undefined ? _.g : _R[id].scrolleffect.slide ? _R[id].scrolleffect.grayscale : false,\r\n\t\t\t\t\tc: B.wrap.wrap('<rs-sbg-effectwrap></rs-sbg-effectwrap>').parent()\r\n\t\t\t\t});\r\n\t\t\t\tcli.prepend(B.wrap.parent().parent());\r\n\t\t\t} else cli.prepend(B.wrap.parent());\r\n\t\t}\r\n\r\n\t\t// Append the Container Again\r\n\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\ttpGS.gsap.set(_R[id].carousel.wrap, { opacity: 0 });\r\n\t\t\t_R[id].c[0].appendChild(_R[id].carousel.wrap[0]);\r\n\t\t} else _R[id].c[0].appendChild(_R[id].canvas[0]);\r\n\r\n\t};\r\n\r\n\t// CONVERT NEW VALUES TO DATA's\r\n\tvar getBGValues = function(_, id) {\r\n\r\n\t\t_.bg = _.bg === undefined ? \"\" : _.bg;\r\n\t\tvar attrs = _.bg.split(\";\"),\r\n\t\t\tbg = { bgposition: \"50% 50%\", bgfit: 'cover', bgrepeat: \"no-repeat\", bgcolor: \"transparent\" };\r\n\t\tfor (var k in attrs) {\r\n\t\t\tif (!attrs.hasOwnProperty(k)) continue;\r\n\t\t\tvar basic = attrs[k].split(\":\"),\r\n\t\t\t\tkey = basic[0],\r\n\t\t\t\tval = basic[1],\r\n\t\t\t\tnk = \"\";\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase \"p\":\r\n\t\t\t\t\tnk = \"bgposition\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"f\":\r\n\t\t\t\t\tnk = \"bgfit\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"r\":\r\n\t\t\t\t\tnk = \"bgrepeat\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"c\":\r\n\t\t\t\t\tnk = \"bgcolor\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (nk !== undefined) bg[nk] = val;\r\n\t\t}\r\n\r\n\t\t// TURN OF KEN BURNS IF WE ARE ON MOBILE AND IT IS WISHED SO\r\n\t\tif (_R[id].fallbacks.panZoomDisableOnMobile && _R.ISM) {\r\n\t\t\tbg.panzoom = undefined;\r\n\t\t\tbg.bgfit = \"cover\";\r\n\t\t\t_.panzoom = undefined;\r\n\t\t}\r\n\r\n\t\treturn jQuery.extend(true, _, bg);\r\n\t};\r\n\r\n\t//\tREMOVE SLOTS\t//\r\n\tvar removeSlots = function(id, where) {\r\n\r\n\t\twhere.find('.slot, .slot-circle-wrapper').each(function() {\r\n\t\t\tjQuery(this).remove();\r\n\t\t});\r\n\t\t_R[id].transition = 0;\r\n\t};\r\n\r\n\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t///////////////////////////////////////////////////////////////////////////////       SLIDE SWAPS\t\t\t////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\t// THE IMAGE IS LOADED, WIDTH, HEIGHT CAN BE SAVED\r\n\tvar cutParams = function(a) {\r\n\t\tvar b = a;\r\n\t\tif (a != undefined && a.length > 0)\r\n\t\t\tb = a.split(\"?\")[0];\r\n\t\treturn b;\r\n\t};\r\n\r\n\tvar cutProtocol = function(a) {\r\n\t\tvar b = a;\r\n\t\tif (a != undefined && a.length > 0)\r\n\t\t\tb = b.replace(document.location.protocol, \"\");\r\n\t\treturn b;\r\n\t}\r\n\r\n\r\n\tvar abstorel = function(base, relative) {\r\n\t\tvar stack = base.split(\"/\"),\r\n\t\t\tparts = relative.split(\"/\");\r\n\t\tstack.pop();\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tif (parts[i] == \".\")\r\n\t\t\t\tcontinue;\r\n\t\t\tif (parts[i] == \"..\")\r\n\t\t\t\tstack.pop();\r\n\t\t\telse\r\n\t\t\t\tstack.push(parts[i]);\r\n\t\t}\r\n\t\treturn stack.join(\"/\");\r\n\t};\r\n\r\n\tvar imgLoaded = function(img, id, progress) {\r\n\t\tif (_R[id] === undefined) return;\r\n\t\t_R[id].syncload--;\r\n\t\tvar REF = _R.gA(img, 'reference');\r\n\t\tfor (var i in _R[id].loadqueue) {\r\n\t\t\tif (!_R[id].loadqueue.hasOwnProperty(i) || _R[id].loadqueue[i].progress === \"loaded\") continue;\r\n\t\t\telse if (REF == _R[id].loadqueue[i].src) {\r\n\t\t\t\t_R[id].loadqueue[i].img = img;\r\n\t\t\t\t_R[id].loadqueue[i].progress = progress;\r\n\t\t\t\t_R[id].loadqueue[i].width = img.naturalWidth;\r\n\t\t\t\t_R[id].loadqueue[i].height = img.naturalHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprogressImageLoad(id);\r\n\t};\r\n\r\n\t// PRELOAD IMAGES 3 PIECES ON ONE GO, CHECK LOAD PRIORITY\r\n\tvar progressImageLoad = function(id) {\r\n\t\tif (_R[id].syncload == 4) return;\r\n\t\tif (_R[id].loadqueue)\r\n\t\t\tjQuery.each(_R[id].loadqueue, function(index, queue) {\r\n\t\t\t\tif (queue.progress == 'prepared') {\r\n\t\t\t\t\tif (_R[id].syncload <= 4) {\r\n\t\t\t\t\t\t_R[id].syncload++;\r\n\t\t\t\t\t\tif (queue.type == \"img\") {\r\n\t\t\t\t\t\t\tvar img = queue.img.tagName == \"IMG\" ? queue.img : new Image();\r\n\t\t\t\t\t\t\t_R.sA(img, \"reference\", queue.src);\r\n\t\t\t\t\t\t\tif (/^([\\w]+\\:)?\\/\\//.test(queue.src) && (queue.src.indexOf(location.host) === -1 || queue.src.indexOf(\".\" + location.host) !== -1) && _R[id].imgCrossOrigin !== \"\" && _R[id].imgCrossOrigin !== undefined) img.crossOrigin = _R[id].imgCrossOrigin;\r\n\t\t\t\t\t\t\timg.onload = function() {\r\n\t\t\t\t\t\t\t\timgLoaded(this, id, \"loaded\");\r\n\t\t\t\t\t\t\t\tqueue.error = false;\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\timg.onerror = function() {\r\n\t\t\t\t\t\t\t\tif(!img.failedOnce){\r\n\t\t\t\t\t\t\t\t\timg.failedOnce = true;\r\n\t\t\t\t\t\t\t\t\tdelete img.crossOrigin;\r\n\t\t\t\t\t\t\t\t\timg.removeAttribute('crossorigin');\r\n\t\t\t\t\t\t\t\t\timg.src = queue.src;\r\n\t\t\t\t\t\t\t\t\timgLoaded(this, id, \"failed\");\r\n\t\t\t\t\t\t\t\t\tqueue.error = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\timg.src = queue.src;\r\n\t\t\t\t\t\t\tqueue.starttoload = Date.now();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tjQuery.get(queue.src, function(data) {\r\n\t\t\t\t\t\t\t\tqueue.innerHTML = new XMLSerializer().serializeToString(data.documentElement);\r\n\t\t\t\t\t\t\t\tqueue.progress = \"loaded\";\r\n\t\t\t\t\t\t\t\t_R[id].syncload--;\r\n\t\t\t\t\t\t\t\tprogressImageLoad(id);\r\n\t\t\t\t\t\t\t}).fail(function() {\r\n\t\t\t\t\t\t\t\tqueue.progress = \"failed\";\r\n\t\t\t\t\t\t\t\t_R[id].syncload--;\r\n\t\t\t\t\t\t\t\tprogressImageLoad(id);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tqueue.progress = \"inload\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\tvar simWarn = function(s, e) {\r\n\t\tconsole.log(\"Static Image \" + s + \"  Could not be loaded in time. Error Exists:\" + e);\r\n\t\treturn true;\r\n\t};\r\n\r\n\tvar vidWarning = function(w, id) {\r\n\r\n\t\tif (Date.now() - _R[id][w + \"starttime\"] > 5000 && _R[id][w + \"warning\"] != true) {\r\n\t\t\t_R[id][w + \"warning\"] = true;\r\n\t\t\tvar txt = w + \" Api Could not be loaded !\";\r\n\t\t\tif (location.protocol === 'https:') txt = txt + \" Please Check and Renew SSL Certificate !\";\r\n\t\t\tconsole.error(txt);\r\n\t\t\t_R[id].c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>' + txt + '</strong></div>');\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\r\n\r\n\t//////////////////////////////////////\r\n\t//\t-\tCALL TO SWAP THE SLIDES -  //\r\n\t/////////////////////////////////////\r\n\tvar hideSlide = function(id) {\r\n\t\tif (_R[id] === undefined) return;\r\n\t\t_R[id].pr_active_slide = jQuery(_R[id].slides[_R[id].pr_active_key]);\r\n\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[_R[id].pr_processing_key]);\r\n\t\t_R[id].pr_active_bg = _R[id].pr_active_slide.find('rs-sbg-wrap');\r\n\t\t_R[id].pr_next_bg = _R[id].pr_next_slide.find('rs-sbg-wrap');\r\n\t\tif (_R[id].pr_active_bg !== undefined && _R[id].pr_active_bg.length > 0) tpGS.gsap.to(_R[id].pr_active_bg, 0.5, { opacity: 0 });\r\n\t\tif (_R[id].pr_next_bg !== undefined && _R[id].pr_next_bg.length > 0) tpGS.gsap.to(_R[id].pr_next_bg, 0.5, { opacity: 0 });\r\n\t\ttpGS.gsap.set(_R[id].pr_active_slide, { zIndex: 18 });\r\n\t\tif (_R[id].pr_next_slide !== undefined && _R[id].pr_next_slide.length > 0) tpGS.gsap.set(_R[id].pr_next_slide, { autoAlpha: 0, zIndex: 20 });\r\n\t\t_R[id].tonpause = false;\r\n\r\n\t\tif (_R[id].pr_active_key !== undefined) _R.removeTheLayers(_R[id].pr_active_slide, id, true);\r\n\t\t_R[id].firststart = 1;\r\n\t\tsetTimeout(function() {\r\n\t\t\tdelete _R[id].pr_active_key;\r\n\t\t\tdelete _R[id].pr_processing_key;\r\n\t\t}, 200);\r\n\t};\r\n\r\n\tvar swapSlide = function(id, ignore, skip) {\r\n\t\tif (_R[id] === undefined) return;\r\n\r\n\r\n\t\tclearTimeout(_R[id].waitWithSwapSlide);\r\n\t\tif (_R[id].pr_processing_key !== undefined && _R[id].firstSlideShown === true) {\r\n\t\t\t_R[id].waitWithSwapSlide = setTimeout(function() { swapSlide(id, ignore); }, 18);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tclearTimeout(_R[id].waitWithSwapSlide);\r\n\r\n\t\t// IF SOME OTHER SLIDE SHOULD BE CALLED INSTEAD AT START\r\n\t\tif (_R[id].startWithSlideKey !== undefined) {\r\n\t\t\t_R[id].pr_next_key = _R.getComingSlide(id, _R[id].startWithSlideKey).nindex;\r\n\t\t\tdelete _R[id].startWithSlideKey;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t_R[id].pr_active_slide = jQuery(_R[id].slides[_R[id].pr_active_key]);\r\n\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[_R[id].pr_next_key]);\r\n\t\tif (_R[id].pr_next_key == _R[id].pr_active_key) return delete _R[id].pr_next_key;\r\n\r\n\t\t//Preload Video\r\n\t\tvar key = _R.gA(_R[id].pr_next_slide[0], \"key\");\r\n\t\tif (_R[id].sbgs[key]!==undefined && _R[id].sbgs[key].bgvid && _R[id].sbgs[key].bgvid.length > 0 && (_R[id].videos == undefined || _R[id].videos[_R[id].sbgs[key].bgvid[0].id] === undefined)) {\r\n\t\t\t_R.manageVideoLayer(_R[id].sbgs[key].bgvid, id, key);\r\n\t\t}\r\n\r\n\r\n\t\t_R[id].pr_processing_key = _R[id].pr_next_key;\r\n\t\t_R[id].pr_cache_pr_next_key = _R[id].pr_next_key;\r\n\t\tdelete _R[id].pr_next_key;\r\n\t\tif (_R[id].pr_next_slide !== undefined && _R[id].pr_next_slide[0] !== undefined && _R.gA(_R[id].pr_next_slide[0], \"hal\") !== undefined)\r\n\t\t\t_R.sA(_R[id].pr_next_slide[0], \"sofacounter\", _R.gA(_R[id].pr_next_slide[0], \"sofacounter\") === undefined ? 1 : parseInt(_R.gA(_R[id].pr_next_slide[0], \"sofacounter\"), 0) + 1);\r\n\r\n\t\t// CHECK IF WE ARE ALREADY AT LAST ITEM TO PLAY IN REAL LOOP SESSION\r\n\t\tif (_R[id].stopLoop && _R[id].pr_processing_key == _R[id].lastslidetoshow - 1) {\r\n\t\t\t_R[id].progressC.css({ 'visibility': 'hidden' });\r\n\t\t\t_R[id].c.trigger('revolution.slide.onstop');\r\n\t\t\t_R[id].noloopanymore = 1;\r\n\t\t}\r\n\r\n\t\t// INCREASE LOOP AMOUNTS\r\n\t\tif (_R[id].pr_next_slide.index() === _R[id].slideamount - 1 && _R[id].looptogo > 0 && _R[id].looptogo !== \"disabled\") {\r\n\t\t\t_R[id].looptogo--;\r\n\t\t\tif (_R[id].looptogo <= 0) _R[id].stopLoop = true;\r\n\t\t}\r\n\r\n\r\n\t\t_R[id].tonpause = true;\r\n\t\t_R[id].slideInSwapTimer = true;\r\n\t\t_R[id].c.trigger('stoptimer');\r\n\r\n\t\tif (_R[id].spinner === \"off\") {\r\n\t\t\tif (_R[id].loader !== undefined && _R[id].loaderVisible === true) {\r\n\t\t\t\t_R[id].loader.css({ display: \"none\" });\r\n\t\t\t\t_R[id].loaderVisible = false;\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\t_R[id].loadertimer = setTimeout(function() {\r\n\t\t\t\tif (_R[id].loader !== undefined && _R[id].loaderVisible !== true) {\r\n\t\t\t\t\t_R[id].loader.css({ display: \"block\" });\r\n\t\t\t\t\t_R[id].loaderVisible = true;\r\n\t\t\t\t}\r\n\t\t\t}, 100);\r\n\r\n\t\tvar waitList = _R[id].sliderType === \"carousel\" && _R[id].lazyType !== \"all\" ? _R.loadVisibleCarouselItems(id) : _R[id].pr_next_slide[0];\r\n\t\t_R.loadImages(waitList, id, 1);\r\n\r\n\t\tif (_R.preLoadAudio) _R.preLoadAudio(_R[id].pr_next_slide, id, 1);\r\n\r\n\r\n\t\t// WAIT FOR SWAP SLIDE PROGRESS\r\n\t\t_R.waitForCurrentImages(waitList, id, function() {\r\n\t\t\t_R[id].firstSlideShown = true;\r\n\r\n\r\n\t\t\t// MANAGE BG VIDEOS\r\n\t\t\t\t_R[id].pr_next_slide.find('rs-bgvideo').each(function() { _R.prepareCoveredVideo(id); });\r\n\r\n\t\t\t_R.loadUpcomingContent(id);\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tswapSlideProgress(_R[id].pr_next_slide.find('rs-sbg'), id, ignore, skip);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t};\r\n\r\n\r\n\r\n\t//////////////////////////////////////\r\n\t//\t-\tPROGRESS SWAP THE SLIDES -  //\r\n\t/////////////////////////////////////\r\n\tvar swapSlideProgress = function(defimg, id, ignoreLayerAnimation, skip) {\r\n\r\n\t\tif (_R[id] === undefined) return;\r\n\r\n\t\t// RESET THE TIMER\r\n\t\tbuildProgressBar(id);\r\n\r\n\t\t_R[id].pr_active_slide = jQuery(_R[id].slides[_R[id].pr_active_key]);\r\n\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[_R[id].pr_processing_key]);\r\n\t\t_R[id].pr_active_bg = _R[id].pr_active_slide.find('rs-sbg-wrap');\r\n\t\t_R[id].pr_next_bg = _R[id].pr_next_slide.find('rs-sbg-wrap');\r\n\t\t_R[id].tonpause = false;\r\n\r\n\t\tclearTimeout(_R[id].loadertimer);\r\n\t\tif (_R[id].loader !== undefined && _R[id].loaderVisible === true) {\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t_R[id].loader.css({ display: \"none\" });\r\n\t\t\t});\r\n\t\t\t_R[id].loaderVisible = false;\r\n\t\t}\r\n\r\n\r\n\t\t// TRIGGER THE ON CHANGE EVENT\r\n\t\t_R[id].onBeforeSwap = {\r\n\t\t\tslider: id,\r\n\t\t\tslideIndex: parseInt(_R[id].pr_active_key, 0) + 1,\r\n\t\t\tslideLIIndex: _R[id].pr_active_key,\r\n\t\t\tnextSlideIndex: parseInt(_R[id].pr_processing_key, 0) + 1,\r\n\t\t\tnextSlideLIIndex: _R[id].pr_processing_key,\r\n\t\t\tnextslide: _R[id].pr_next_slide,\r\n\t\t\tslide: _R[id].pr_active_slide,\r\n\t\t\tcurrentslide: _R[id].pr_active_slide,\r\n\t\t\tprevslide: _R[id].pr_lastshown_key !== undefined ? _R[id].slides[_R[id].pr_lastshown_key] : \"\"\r\n\t\t}\r\n\r\n\t\tif(_R[id].sliderType !== \"carousel\") tpGS.gsap.set(_R[id].pr_next_slide, {display: 'block'});\r\n\t\t_R[id].c.trigger('revolution.slide.onbeforeswap', _R[id].onBeforeSwap);\r\n\t\tvar bgkey = _R.gA(_R[id].pr_active_slide[0], \"key\");\r\n\t\tvar BG = _R[id].sbgs[bgkey];\r\n\t\tif(BG && BG.panzoom && BG.pzAnim){\r\n\t\t\tBG.pzLastFrame = true;\r\n\t\t\t_R.pzDrawShadow(id,BG,BG.pzAnim.start);\r\n\t\t}\r\n\r\n\t\t_R[id].transition = 1;\r\n\t\t_R[id].stopByVideo = false;\r\n\r\n\t\t// IF DELAY HAS BEEN SET VIA THE SLIDE, WE TAKE THE NEW VALUE, OTHER WAY THE OLD ONE...\r\n\t\tif (_R[id].pr_next_slide[0] !== undefined && _R.gA(_R[id].pr_next_slide[0], \"duration\") != undefined && _R.gA(_R[id].pr_next_slide[0], \"duration\") != \"\")\r\n\t\t\t_R[id].duration = parseInt(_R.gA(_R[id].pr_next_slide[0], \"duration\"), 0);\r\n\t\telse\r\n\t\t\t_R[id].duration = _R[id].origcd;\r\n\r\n\t\tif (_R[id].pr_next_slide[0] !== undefined && (_R.gA(_R[id].pr_next_slide[0], \"ssop\") == \"true\" || _R.gA(_R[id].pr_next_slide[0], \"ssop\") === true))\r\n\t\t\t_R[id].ssop = true;\r\n\t\telse\r\n\t\t\t_R[id].ssop = false;\r\n\r\n\r\n\t\t// OUTER CONTAINER HEIGHT MUST BE DIFFERENT DUE FIXED SCROLL EFFECT\r\n\t\tif (_R[id].sbtimeline.set && _R[id].sbtimeline.fixed) _R.updateFixedScrollTimes(id);\r\n\r\n\r\n\t\t_R[id].c.trigger('nulltimer');\r\n\t\t_R[id].sdir = (_R[id].sc_indicator!==\"bullet\" && _R[id].pr_active_key==(_R[id].slideamount-1) && _R[id].pr_processing_key==0) ? 0 : _R[id].pr_processing_key < _R[id].pr_active_key ? 1 : 0;\r\n\r\n\t\tif (_R[id].sc_indicator == \"arrow\") {\r\n\t\t\t/*\r\n\t\t\tif (_R[id].pr_active_key == 0 && _R[id].pr_processing_key == _R[id].slideamount - 1) _R[id].sdir = 1;\r\n\t\t\tif ((_R[id].pr_active_key == _R[id].slideamount - 1) && _R[id].pr_processing_key == 0) _R[id].sdir = 0;*/\r\n\t\t\t_R[id].sdir = _R[id].sc_indicator_dir;\r\n\t\t}\r\n\r\n\r\n\t\t//_R[id].lsdir = _R[id].lsdir === undefined ? _R[id].sdir : _R[id].lsdir;\r\n\t\t_R[id].lsdir = _R[id].sdir;\r\n\r\n\t\t///////////////////////////\r\n\t\t//\tREMOVE THE CAPTIONS //\r\n\t\t///////////////////////////\r\n\t\tif (_R[id].pr_active_key != _R[id].pr_processing_key && _R[id].firststart != 1 && _R[id].sliderType !== \"carousel\")\r\n\t\t\tif (_R.removeTheLayers) _R.removeTheLayers(_R[id].pr_active_slide, id);\r\n\t\tif (_R.gA(_R[id].pr_next_slide[0], 'rspausetimeronce') !== 1 && _R.gA(_R[id].pr_next_slide[0], \"rspausetimeralways\") !== 1)\r\n\t\t\t_R[id].c.trigger('restarttimer');\r\n\t\telse {\r\n\t\t\t_R[id].stopByVideo = true;\r\n\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t}\r\n\r\n\t\t_R.sA(_R[id].pr_next_slide[0], \"rspausetimeronce\", 0);\r\n\t\tif (_R[id].pr_next_slide[0] !== undefined) _R.sA(_R[id].c[0], \"slideactive\", _R.gA(_R[id].pr_next_slide[0], \"key\"));\r\n\r\n\r\n\r\n\t\t// SELECT SLIDER TYPE\r\n\t\tif (_R[id].sliderType == \"carousel\") {\r\n\t\t\t_R[id].mtl = tpGS.gsap.timeline();\r\n\t\t\t_R.prepareCarousel(id);\r\n\t\t\tif (_R[id].carousel.orientation==\"v\") {\r\n\t\t\t\ttpGS.gsap.set(_R[id].canvas, {height: _R[id].carousel.slide_height});\r\n\t\t\t}\r\n\t\t\tletItFree(id, skip);\r\n\t\t\t_R.updateSlideBGs(id);\r\n\t\t\tif (_R[id].carousel.checkFVideo !== true) {\r\n\t\t\t\tvar key = _R.gA(_R[id].pr_next_slide[0], \"key\");\r\n\t\t\t\tif (_R[id].sbgs[key] !== undefined && _R[id].sbgs[key].bgvid !== undefined && _R[id].sbgs[key].bgvid.length !== 0) _R.playBGVideo(id, key);\r\n\t\t\t\t_R[id].carousel.checkFVideo = true;\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].transition = 0;\r\n\t\t} else {\r\n\t\t\t_R[id].pr_lastshown_key = _R[id].pr_lastshown_key === undefined ? _R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key !== undefined ? _R[id].pr_active_key : _R[id].pr_lastshown_key : _R[id].pr_lastshown_key;\r\n\t\t\t_R[id].mtl = tpGS.gsap.timeline({ paused: true, onComplete: function() { letItFree(id); } });\r\n\r\n\r\n\t\t\t//_R[id].mtl.add(tpGS.gsap.set(_R[id].pr_next_bg.find('rs-sbg'),{opacity:0}));\r\n\t\t\t//_R[id].mtl.pause();  Removed Paused here, and added above in timeline. Hopefully things goes well....\r\n\t\t\tif (_R[id].pr_next_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_next_key, id: id, mode: \"preset\", caller: \"swapSlideProgress_1\" });\r\n\t\t\telse\r\n\t\t\tif (_R[id].pr_processing_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_processing_key, id: id, mode: \"preset\", caller: \"swapSlideProgress_2\" });\r\n\t\t\telse\r\n\t\t\tif (_R[id].pr_active_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_active_key, id: id, mode: \"preset\", caller: \"swapSlideProgress_3\" });\r\n\r\n\t\t\tif (_R[id].firststart == 1) {\r\n\t\t\t\tif (_R[id].pr_active_slide[0] !== undefined) tpGS.gsap.set(_R[id].pr_active_slide, { autoAlpha: 0 });\r\n\t\t\t\t_R[id].firststart = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[id].pr_active_slide[0] !== undefined) tpGS.gsap.set(_R[id].pr_active_slide, { zIndex: 18 });\r\n\t\t\tif (_R[id].pr_next_slide[0] !== undefined) tpGS.gsap.set(_R[id].pr_next_slide, { autoAlpha: 0, zIndex: 20 });\r\n\r\n\r\n\t\t\tvar key = _R.gA(_R[id].pr_next_slide[0], \"key\");\r\n\r\n\t\t\t// Alternated Animations\r\n\t\t\tif (_R[id].sbgs[key]!==undefined && _R[id].sbgs[key].alt === undefined) {\r\n\t\t\t\t_R[id].sbgs[key].alt = _R.gA(_R[id].pr_next_slide[0], \"alttrans\") || false;\r\n\t\t\t\t_R[id].sbgs[key].alt = _R[id].sbgs[key].alt !== false ? _R[id].sbgs[key].alt.split(\",\") : false;\r\n\t\t\t\t_R[id].sbgs[key].altIndex = 0;\r\n\t\t\t\t_R[id].sbgs[key].altLen = _R[id].sbgs[key].alt !== false ? _R[id].sbgs[key].alt.length : 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar a = _R[id].firstSlideAnimDone === undefined && _R[id].fanim !== undefined && _R[id].fanim !== false ? 1 :\r\n\t\t\t\t_R[id].sbgs[key].slideanimation === undefined || _R[id].sbgs[key].slideanimationRebuild ? 2 :\r\n\t\t\t\t_R[id].sbgs[key].random !== undefined && _R.SLTR !== undefined ? 3 :\r\n\t\t\t\t_R[id].sbgs[key].altLen > 0 && _R.SLTR !== undefined ? 4 :\r\n\t\t\t\t5;\r\n\r\n\t\t\t_R[id].sbgs[key].slideanimation = _R[id].firstSlideAnimDone === undefined && _R[id].fanim !== undefined && _R[id].fanim !== false ? _R.convertSlideAnimVals(jQuery.extend(true, {}, _R.getSlideAnim_EmptyObject(), _R[id].fanim)) :\r\n                (_R[id].sbgs[key].slideanimation === undefined || _R[id].sbgs[key].slideanimationRebuild) || (_R[id].sbgs[key].altLen > 0 &&  _R[id].sbgs[key].alt[_R[id].sbgs[key].altIndex] == \"default_first_anim\") ? _R.getSlideAnimationObj(id, { anim: _R.gA(_R[id].pr_next_slide[0], \"anim\"), filter: _R.gA(_R[id].pr_next_slide[0], \"filter\"), in: _R.gA(_R[id].pr_next_slide[0], \"in\"), out: _R.gA(_R[id].pr_next_slide[0], \"out\"), d3: _R.gA(_R[id].pr_next_slide[0], \"d3\") }, key) :\r\n                _R[id].sbgs[key].random !== undefined && _R.SLTR !== undefined ? _R.convertSlideAnimVals(jQuery.extend(true, {}, _R.getSlideAnim_EmptyObject(), _R.getAnimObjectByKey(_R.getRandomSlideTrans(_R[id].sbgs[key].random.rndmain, _R[id].sbgs[key].random.rndgrp, _R.SLTR), _R.SLTR))) :\r\n\t\t\t\t_R[id].sbgs[key].altLen > 0 && _R.SLTR !== undefined ? _R.convertSlideAnimVals(jQuery.extend(true, { altAnim: _R[id].sbgs[key].alt[_R[id].sbgs[key].altIndex] }, _R.getSlideAnim_EmptyObject(), _R.getAnimObjectByKey(_R[id].sbgs[key].alt[_R[id].sbgs[key].altIndex], _R.SLTR))) :\r\n\t\t\t\t_R[id].sbgs[key].slideanimation;\r\n\r\n\r\n\t\t\t// Alternate the Animations\r\n\t\t\tif (_R[id].sbgs[key].altLen > 0) {\r\n\t\t\t\tif (_R[id].sbgs[key].firstSlideAnimDone !== undefined) {\r\n\t\t\t\t\t_R[id].sbgs[key].altIndex++;\r\n\t\t\t\t\t_R[id].sbgs[key].altIndex = _R[id].sbgs[key].altIndex >= _R[id].sbgs[key].altLen ? 0 : _R[id].sbgs[key].altIndex;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_R[id].sbgs[key].firstSlideAnimDone = true;\r\n\t\t\t\t\tif (_R.SLTR === undefined && _R.SLTR_loading === undefined) _R.loadSlideAnimLibrary(id);\r\n\t\t\t\t\t//Loop back to and to the first anim\r\n\t\t\t\t\t_R[id].sbgs[key].alt.push('default_first_anim');\r\n\t\t\t\t\t_R[id].sbgs[key].altLen++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t_R[id].sbgs[key].currentState = \"animating\";\r\n\t\t\t_R.animateSlide(id, _R[id].sbgs[key].slideanimation);\r\n\t\t\tif (_R[id].firstSlideAnimDone === undefined && _R[id].fanim !== undefined && _R[id].fanim !== false) _R[id].sbgs[key].slideanimationRebuild = true;\r\n\t\t\t_R[id].firstSlideAnimDone = true;\r\n\r\n\t\t\tif (_R[id].pr_next_bg.data('panzoom') !== undefined) {\r\n\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\tvar key = _R.gA(_R[id].pr_next_slide[0], 'key');\r\n\t\t\t\t\t_R.startPanZoom(_R[id].pr_next_bg, id, 0, _R.getSlideIndex(id, key), 'first', key);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// SHOW FIRST LI && ANIMATE THE CAPTIONS\r\n\t\t\t_R[id].mtl.pause();\r\n\t\t}\r\n\r\n\t\tif (_R.animateTheLayers) {\r\n\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\tif (_R[id].carousel.showLayersAllTime !== false) {\r\n\t\t\t\t\tif (!_R[id].carousel.allLayersStarted)\r\n\t\t\t\t\t\t_R.animateTheLayers({ slide: \"individual\", id: id, mode: \"start\", caller: \"swapSlideProgress_4\" });\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t_R.animateTheLayers({ slide: \"individual\", id: id, mode: \"rebuild\", caller: \"swapSlideProgress_5\" });\r\n\r\n\t\t\t\t\t// ADJUST ROWS IN ALL SLIDES WHEN CAROUSEL AND ALL LAYERS STARTED SET\r\n\t\t\t\t\tif (_R[id].carousel.allLayersStarted==undefined) {\r\n\t\t\t\t\t\t_R.updateCarouselRows(id);\r\n\t\t\t\t\t\t_R[id].carousel.allLayersStarted = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (_R[id].firststart !== 0) _R.animateTheLayers({ slide: 0, id: id, mode: \"start\", caller: \"swapSlideProgress_6\" });\r\n\t\t\t\telse\r\n\t\t\t\tif (ignoreLayerAnimation !== true) _R.animateTheLayers({ slide: (_R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key), id: id, mode: \"start\", caller: \"swapSlideProgress_7\" });\r\n\t\t\t\t_R[id].firststart = 0;\r\n\r\n\t\t\t} else\r\n\t\t\t\t_R.animateTheLayers({ slide: (_R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key), id: id, mode: \"start\", caller: \"swapSlideProgress_8\" });\r\n\t\t} else\r\n\t\tif (_R[id].mtl != undefined) setTimeout(function() { _R[id].mtl.resume(); }, 18);\r\n\r\n\t\tif (_R[id].sliderType !== \"carousel\"){\r\n\t\t\t// with scwDur, slide change duration can be changed from addon\r\n\t\t\t_R[id].scwDur = 0.001;\r\n\t\t\tif(Array.isArray(_R[id].scwCallback) && _R[id].scwCallback.length > 0){\r\n\t\t\t\t_R[id].scwDone = false;\r\n\t\t\t\t_R[id].scwCount = _R[id].scwCallback.length;\r\n\t\t\t\tfor(var i = 0; i < _R[id].scwCallback.length; i++){\r\n\t\t\t\t\t_R[id].scwCallback[i]();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// IF callback fails to execute within 2 seconds then then force change slide\r\n\t\t\t\t// Update scwDur from addon so addon will update custom duration\r\n\t\t\t\t_R[id].scwTimeout = tpGS.gsap.delayedCall(2, function name() {\r\n\t\t\t\t\tif(_R[id].scwCount > 0) {\r\n\t\t\t\t\t\tif(_R[id].scwTween && typeof _R[id].scwTween.kill === 'function'){\r\n\t\t\t\t\t\t\t_R[id].scwTween.kill();\r\n\t\t\t\t\t\t\t_R[id].scwTween = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_R[id].scwTween = tpGS.gsap.to(_R[id].pr_next_slide, { duration: _R[id].scwDur, autoAlpha: 1});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\ttpGS.gsap.to(_R[id].pr_next_slide, { duration: _R[id].scwDur, autoAlpha: 1 });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t};\r\n\r\n\t//////////////////////////\r\n\t//\tMANAGE SLIDE LOOPS\t//\r\n\t//////////////////////////\r\n\tvar manageSlideLoop = function(id) {\r\n\r\n\t\tif (_R[id] === undefined) return;\r\n\t\t_R[id].sloops = _R[id].sloops === undefined ? {} : _R[id].sloops;\r\n\r\n\t\tvar key = _R.gA(_R[id].slides[_R[id].pr_active_key], \"key\"),\r\n\t\t\t_ = _R[id].sloops[key];\r\n\t\tif (_ === undefined) {\r\n\t\t\t_ = { s: 2500, e: 4500, r: 'unlimited' };\r\n\t\t\tvar s = _R.gA(_R[id].slides[_R[id].pr_active_key], \"sloop\").split(\";\");\r\n\t\t\tfor (var i in s) {\r\n\t\t\t\tif (!s.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar tmp = s[i].split(\":\");\r\n\t\t\t\tswitch (tmp[0]) {\r\n\t\t\t\t\tcase \"s\":\r\n\t\t\t\t\t\t_.s = parseInt(tmp[1], 0) / 1000;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"e\":\r\n\t\t\t\t\t\t_.e = parseInt(tmp[1], 0) / 1000;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t_.r = tmp[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_.r = _.r === \"unlimited\" ? -1 : parseInt(_.r, 0);\r\n\t\t\t_R[id].sloops[key] = _;\r\n\t\t\t_.key = key;\r\n\t\t}\r\n\t\t_.ct = { time: _.s };\r\n\t\t_.tl = tpGS.gsap.timeline({});\r\n\r\n\t\t_.timer = tpGS.gsap.fromTo(_.ct, (_.e - _.s), { time: _.s }, {\r\n\t\t\ttime: _.e,\r\n\t\t\tease: \"none\",\r\n\t\t\tonRepeat: function() {\r\n\t\t\t\tfor (var li in _R[id].layers[_.key])\r\n\t\t\t\t\tif (_R[id].layers[_.key].hasOwnProperty(li)) _R[id]._L[li].timeline.play(_.s);\r\n\t\t\t\tvar bt = _R[id].progressC;\r\n\t\t\t\tif (bt !== undefined && bt[0] !== undefined && bt[0].tween !== undefined) bt[0].tween.time(_.s);\r\n\t\t\t},\r\n\t\t\tonUpdate: function() {},\r\n\t\t\tonComplete: function() {\r\n\r\n\t\t\t}\r\n\t\t}).repeat(_.r);\r\n\t\t_.tl.add(_.timer, _.s);\r\n\t\t//Overjump the Offset due the Slide Animation Time for First Start !\r\n\t\t_.tl.time(_R[id].mtldiff);\r\n\t};\r\n\r\n\t//////////////////////////////////////////\r\n\t//\tGIVE FREE THE TRANSITIOSN\t\t\t//\r\n\t//////////////////////////////////////////\r\n\tvar letItFree = function(id) {\r\n\t\tif (_R[id] === undefined) return;\r\n\t\tif (_R.RS_swapList[id] !== \"done\") {\r\n\t\t\t_R.RS_swapList[id] = \"done\";\r\n\t\t\tvar ind = jQuery.inArray(id, _R.RS_swapping);\r\n\t\t\t_R.RS_swapping.splice(ind, 1);\r\n\t\t}\r\n\r\n\t\tif (_R[id].firstSlideAvailable === undefined) {\r\n\t\t\t_R[id].firstSlideAvailable = true;\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tif (_R[id].sliderType !== \"hero\" && _R.createNavigation && _R[id].navigation.use && _R[id].navigation.createNavigationDone !== true) _R.createNavigation(id);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\ttpGS.gsap.to(_R[id].carousel.wrap, 1, { opacity: 1 });\r\n\t\t\t// CAROUSEL SLIDER\r\n\t\t}\r\n\r\n\t\t_R[id].pr_active_key = _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key;\r\n\t\tdelete _R[id].pr_processing_key;\r\n\r\n\t\tif (_R[id].parallax.type == \"scroll\" || _R[id].parallax.type == \"scroll+mouse\" || _R[id].parallax.type == \"mouse+scroll\") {\r\n\t\t\t_R[id].lastscrolltop = -999;\r\n\t\t\t_R.generalObserver(_R.ISM);\r\n\t\t}\r\n\t\t_R[id].mtldiff = _R[id].mtl.time();\r\n\t\tdelete _R[id].mtl;\r\n\r\n\t\tif (_R[id].pr_active_key === undefined) return;\r\n\t\tif (_R.gA(_R[id].slides[_R[id].pr_active_key], \"sloop\") !== undefined) manageSlideLoop(id);\r\n\r\n\t\t// RECORD CURRENT ACTIVE SLIDE GLOBAL, LOCAL\r\n\t\t_R.sA(_R[id].slides[_R[id].activeRSSlide], 'isactiveslide', false);\r\n\t\t_R[id].activeRSSlide = _R[id].pr_active_key;\r\n\t\t_R.sA(_R[id].slides[_R[id].activeRSSlide], 'isactiveslide', true);\r\n\r\n\t\tvar activeKey = _R.gA(_R[id].slides[_R[id].pr_active_key], \"key\"),\r\n\t\t\tprevKey = _R.gA(_R[id].slides[_R[id].pr_lastshown_key], \"key\");\r\n\r\n\t\t_R.sA(_R[id].c[0], \"slideactive\", activeKey);\r\n\r\n\t\tif (prevKey !== undefined && _R[id].panzoomTLs !== undefined && _R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)] !== undefined) {\r\n\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)].timeScale(3);\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)].reverse();\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)].pause();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// CHECK IF THIS REALLY NEEDED !?\r\n\t\tcheckPanzoom(id, activeKey);\r\n\r\n\r\n\t\t// TIRGGER THE ON CHANGE EVENTS\r\n\t\tvar data = {\r\n\t\t\tslider: id,\r\n\t\t\tslideIndex: parseInt(_R[id].pr_active_key, 0) + 1,\r\n\t\t\tslideLIIndex: _R[id].pr_active_key,\r\n\t\t\tslide: _R[id].pr_next_slide,\r\n\t\t\tcurrentslide: _R[id].pr_next_slide,\r\n\t\t\tprevSlideIndex: _R[id].pr_lastshown_key !== undefined ? parseInt(_R[id].pr_lastshown_key, 0) + 1 : false,\r\n\t\t\tprevSlideLIIndex: _R[id].pr_lastshown_key !== undefined ? parseInt(_R[id].pr_lastshown_key, 0) : false,\r\n\t\t\tprevSlide: _R[id].pr_lastshown_key !== undefined ? _R[id].slides[_R[id].pr_lastshown_key] : false\r\n\t\t};\r\n\t\t_R[id].c.trigger('revolution.slide.onchange', data);\r\n\t\t_R[id].c.trigger('revolution.slide.onafterswap', data);\r\n\r\n\t\tif((\"\"+_R[id].pr_lastshown_key !== \"\"+_R[id].pr_active_key) && _R[id].sliderType !== \"carousel\") tpGS.gsap.set(data.prevSlide, {display: 'none', delay: 0.01});\r\n\r\n\t\t//Need to update the current HASH Tag ?\r\n\t\tif (_R[id].deepLinkListener || _R[id].enableDeeplinkHash) {\r\n\t\t\tvar dlink = _R.gA(_R[id].slides[_R[id].pr_active_key], \"deeplink\");\r\n\t\t\tif (dlink !== undefined && dlink.length > 0) {\r\n\t\t\t\t_R[id].ignoreDeeplinkChange = true;\r\n\t\t\t\twindow.location.hash = _R.gA(_R[id].slides[_R[id].pr_active_key], \"deeplink\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t\t_R[id].pr_lastshown_key = _R[id].pr_active_key;\r\n\r\n\t\tif (_R[id].startWithSlide !== undefined && _R[id].startWithSlide !== \"done\" && _R[id].sliderType === \"carousel\") _R[id].firststart = 0;\r\n\r\n\t\t_R[id].duringslidechange = false;\r\n\t\tif (_R[id].pr_active_slide.length > 0 && _R.gA(_R[id].pr_active_slide[0], \"hal\") != 0 && _R.gA(_R[id].pr_active_slide[0], \"hal\") <= _R.gA(_R[id].pr_active_slide[0], \"sofacounter\")) _R[id].c.revremoveslide(_R[id].pr_active_slide.index());\r\n\r\n\r\n\t\tvar _actli = _R[id].pr_processing_key || _R[id].pr_active_key || 0;\r\n\t\tif (_R[id].rowzones != undefined) _actli = _actli > _R[id].rowzones.length ? _R[id].rowzones.length : _actli;\r\n\r\n\t\tif ((_R[id].rowzones != undefined && _R[id].rowzones.length > 0 && _R[id].rowzones[_actli] != undefined && _actli >= 0 && _actli <= _R[id].rowzones.length && _R[id].rowzones[_actli].length > 0) || _R.winH < _R[id].module.height) _R.updateDims(id);\r\n\r\n\t\t//delete _R[id].sc_indicator;\r\n\t\t//delete _R[id].sc_indicator_dir;\r\n\t\tif (_R[id].firstLetItFree === undefined) {\r\n\t\t\t_R.generalObserver(_R.ISM);\r\n\t\t\t_R[id].firstLetItFree = true;\r\n\t\t}\r\n\r\n\t\t_R[id].skipAttachDetach = false;\r\n\r\n\t};\r\n\r\n\t// checks if bg image is loaded because in modals loadobj might be empty\r\n\tvar checkPanzoom = function(id, activeKey){\r\n\t\tif(_R[id].sbgs[activeKey]!==undefined && !_R[id].sbgs[activeKey].loadobj.img){\r\n\t\t\ttpGS.gsap.delayedCall(0.1, function(){ checkPanzoom(id, activeKey); });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (_R[id].pr_next_bg.data('panzoom') !== undefined) {\r\n\t\t\tif (_R[id].panzoomTLs !== undefined && _R[id].panzoomTLs[_R.getSlideIndex(id, activeKey)] !== undefined) {\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, activeKey)].timeScale(1);\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, activeKey)].play();\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_R.startPanZoom(_R[id].pr_next_bg, id, 0, _R.getSlideIndex(id, activeKey), 'play', activeKey);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\t///////////////////////////\r\n\t//\tREMOVE THE LISTENERS //\r\n\t///////////////////////////\r\n\tvar removeAllListeners = function(id) {\r\n\t\t_R[id].c.children().each(function() {\r\n\t\t\ttry { jQuery(this).die('click'); } catch (e) {}\r\n\t\t\ttry { jQuery(this).die('mouseenter'); } catch (e) {}\r\n\t\t\ttry { jQuery(this).die('mouseleave'); } catch (e) {}\r\n\t\t\ttry { jQuery(this).off('hover'); } catch (e) {}\r\n\t\t});\r\n\t\ttry { _R[id].c.die('click', 'mouseenter', 'mouseleave'); } catch (e) {}\r\n\t\tclearInterval(_R[id].cdint);\r\n\t\t_R[id].c = null;\r\n\t};\r\n\r\n\r\n\t///////////////////////////\r\n\t// BUILD THE PROGRESSBAR //\r\n\t///////////////////////////\r\n\tvar buildProgressBar = function(id) {\r\n\t\tvar p = _R[id].progressBar;\r\n\t\t// BUILD 1 TIME THE CONTAINERS\r\n\t\tif (_R[id].progressC === undefined || _R[id].progressC.length == 0) {\r\n\t\t\t_R[id].progressC = jQuery('<rs-progress style=\"visibility:hidden;\"></rs-progress>');\r\n\t\t\tif (p.style === \"horizontal\" || p.style === \"vertical\") {\r\n\t\t\t\t// ALL SLIDES\r\n\t\t\t\tif (p.basedon === \"module\") {\r\n\t\t\t\t\tvar cntx = \"\";\r\n\t\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++) cntx += '<rs-progress-bar></rs-progress-bar>';\r\n\t\t\t\t\tcntx += '<rs-progress-bgs>';\r\n\t\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++) cntx += '<rs-progress-bg></rs-progress-bg>';\r\n\t\t\t\t\tcntx += '</rs-progress-bgs>';\r\n\t\t\t\t\tif (p.gaptype !== \"nogap\")\r\n\t\t\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++) cntx += '<rs-progress-gap></rs-progress-gap>';\r\n\t\t\t\t\t_R[id].progressC[0].innerHTML = cntx;\r\n\t\t\t\t\tif (_R[id].noDetach === true) _R[id].c.append(_R[id].progressC);\r\n\t\t\t\t\t_R[id].progressCBarBGS = _R.getByTag(_R[id].progressC[0], 'RS-PROGRESS-BG');\r\n\t\t\t\t\t_R[id].progressCBarGAPS = _R.getByTag(_R[id].progressC[0], 'RS-PROGRESS-GAP');\r\n\t\t\t\t\tif (p.gaptype !== \"nogap\") tpGS.gsap.set(_R[id].progressCBarGAPS, { backgroundColor: p.gapcolor, zIndex: p.gaptype === \"gapbg\" ? 17 : 27 });\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarBGS, { backgroundColor: p.bgcolor });\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_R[id].progressC[0].innerHTML = '<rs-progress-bar></rs-progress-bar>';\r\n\t\t\t\t\tif (_R[id].noDetach === true) _R[id].c.append(_R[id].progressC);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_R[id].progressCBarInner = _R.getByTag(_R[id].progressC[0], 'RS-PROGRESS-BAR');\r\n\t\t\t\ttpGS.gsap.set(_R[id].progressCBarInner, { background: p.color });\r\n\t\t\t} else {\r\n\t\t\t\t// SINGLE SLIDE\r\n\t\t\t\t_R[id].progressC[0].innerHTML = '<canvas width=\"' + p.radius * 2 + '\" height=\"' + p.radius * 2 + '\" style=\"position:absolute\" class=\"rs-progress-bar\"></canvas>';\r\n\t\t\t\tif (_R[id].noDetach === true) _R[id].c.append(_R[id].progressC);\r\n\t\t\t\t_R[id].progressCBarInner = _R[id].progressC[0].getElementsByClassName('rs-progress-bar')[0];\r\n\t\t\t\t_R[id].progressBCanvas = _R[id].progressCBarInner.getContext('2d');\r\n\t\t\t\t_R[id].progressBar.degree = (_R[id].progressBar.style === \"cw\" ? 360 : 0);\r\n\t\t\t\tdrawCWCCW(id);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// REMOVE AND STLYE, RESIZE RPGORESS CONTAINERS\r\n\t\tif (_R[id].noDetach !== true) _R[id].progressC.detach();\r\n\t\tif (_R[id].progressBar.visibility[_R[id].level] && _R[id].progressBar.disableProgressBar != true) {\r\n\t\t\t// SIZING OF GAPS, BGS, PROGRESS\r\n\t\t\tif (p.style === \"horizontal\" || p.style === \"vertical\") {\r\n\t\t\t\tvar GAP = _R[id].slideamount - 1,\r\n\t\t\t\t\tWNG, WWG;\r\n\t\t\t\tif (p.style === \"horizontal\") {\r\n\t\t\t\t\tvar WNGcalc = (p.alignby === \"grid\" ? _R[id].gridwidth[_R[id].level] : _R[id].module.width);\r\n\t\t\t\t\tWNG = Math.ceil(WNGcalc / _R[id].slideamount),\r\n\t\t\t\t\t\tWWG = Math.ceil(((WNGcalc - (GAP * p.gapsize)) / _R[id].slideamount));\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressC, {\r\n\t\t\t\t\t\tvisibility: \"visible\",\r\n\t\t\t\t\t\ttop: p.vertical === \"top\" ? p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0) : p.vertical === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\t\tbottom: p.vertical === \"top\" || p.vertical === \"center\" ? \"auto\" : p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0),\r\n\t\t\t\t\t\tleft: p.horizontal === \"left\" ? p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\tright: p.horizontal === \"right\" ? p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\ty: p.vertical === \"center\" ? p.y : 0,\r\n\t\t\t\t\t\theight: p.size,\r\n\t\t\t\t\t\tbackgroundColor: p.basedon === \"module\" ? \"transparent\" : p.bgcolor,\r\n\t\t\t\t\t\tmarginTop: p.vertical === \"bottom\" ? 0 : p.vertical === \"top\" ? 0 : parseInt(p.size, 0) / 2,\r\n\t\t\t\t\t\twidth: p.alignby === \"grid\" ? _R[id].gridwidth[_R[id].level] : \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarInner, {\r\n\t\t\t\t\t\tx: p.basedon === \"module\" ? p.gap ? function(index) { return (p.horizontal === \"right\" ? GAP - index : index) * (WWG + p.gapsize) } : function(index) { return (p.horizontal === \"right\" ? GAP - index : index) * WNG } : 0,\r\n\t\t\t\t\t\twidth: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (p.basedon === \"module\") {\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarBGS, {\r\n\t\t\t\t\t\t\tx: p.basedon === \"module\" ? p.gap ? function(index) { return index * (WWG + p.gapsize) } : function(index) { return index * WNG } : 0,\r\n\t\t\t\t\t\t\twidth: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarGAPS, {\r\n\t\t\t\t\t\t\twidth: p.gap ? p.gapsize + \"px\" : 0,\r\n\t\t\t\t\t\t\tx: p.gap ? function(index) { return (index + 1) * (WWG) + (parseInt(p.gapsize, 0) * index) } : 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\tif (p.style === \"vertical\") {\r\n\t\t\t\t\tvar WNGcalc = (p.alignby === \"grid\" ? _R[id].gridheight[_R[id].level] : _R[id].module.height);\r\n\t\t\t\t\tWNG = Math.ceil(WNGcalc / _R[id].slideamount),\r\n\t\t\t\t\t\tWWG = Math.ceil(((WNGcalc - (GAP * p.gapsize)) / _R[id].slideamount));\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressC, {\r\n\t\t\t\t\t\tvisibility: \"visible\",\r\n\t\t\t\t\t\tleft: p.horizontal === \"left\" ? p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0) : p.horizontal === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\t\tright: p.horizontal === \"left\" || p.horizontal === \"center\" ? \"auto\" : p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0),\r\n\t\t\t\t\t\tx: p.horizontal === \"center\" ? p.x : 0,\r\n\t\t\t\t\t\ttop: p.vertical === \"top\" ? p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(_R[id].gridOffsetHeight, 0) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\tbottom: p.vertical === \"bottom\" ? p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(_R[id].gridOffsetHeight, 0) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\twidth: p.size,\r\n\t\t\t\t\t\tmarginLeft: p.horizontal === \"left\" ? 0 : p.horizontal === \"right\" ? 0 : parseInt(p.size, 0) / 2,\r\n\t\t\t\t\t\tbackgroundColor: p.basedon === \"module\" ? \"transparent\" : p.bgcolor,\r\n\t\t\t\t\t\theight: p.alignby === \"grid\" ? _R[id].gridheight[_R[id].level] : \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarInner, {\r\n\t\t\t\t\t\ty: p.basedon === \"module\" ? p.gap ? function(index) { return (p.vertical === \"bottom\" ? GAP - index : index) * (WWG + p.gapsize) } : function(index) { return (p.vertical === \"bottom\" ? GAP - index : index) * WNG } : 0,\r\n\t\t\t\t\t\theight: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (p.basedon === \"module\") {\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarBGS, {\r\n\t\t\t\t\t\t\ty: p.basedon === \"module\" ? p.gap ? function(index) { return index * (WWG + p.gapsize) } : function(index) { return index * WNG } : 0,\r\n\t\t\t\t\t\t\theight: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarGAPS, {\r\n\t\t\t\t\t\t\theight: p.gap ? p.gapsize + \"px\" : 0,\r\n\t\t\t\t\t\t\ty: p.gap ? function(index) { return (index + 1) * (WWG) + (parseInt(p.gapsize, 0) * index) } : 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttpGS.gsap.set(_R[id].progressC, {\r\n\t\t\t\t\ttop: p.vertical === \"top\" ? p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0) : p.vertical === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\tbottom: p.vertical === \"top\" || p.vertical === \"center\" ? \"auto\" : p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0),\r\n\t\t\t\t\tleft: p.horizontal === \"left\" ? p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0) : p.horizontal === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\tright: p.horizontal === \"left\" || p.horizontal === \"center\" ? \"auto\" : p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0),\r\n\t\t\t\t\ty: p.vertical === \"center\" ? p.y : 0,\r\n\t\t\t\t\tx: p.horizontal === \"center\" ? p.x : 0,\r\n\t\t\t\t\twidth: p.radius * 2,\r\n\t\t\t\t\theight: p.radius * 2,\r\n\t\t\t\t\tmarginTop: p.vertical === \"center\" ? 0 - p.radius : 0,\r\n\t\t\t\t\tmarginLeft: p.horizontal === \"center\" ? 0 - p.radius : 0,\r\n\t\t\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\t\t\tvisibility: \"visible\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else _R[id].progressC[0].style.visibility = 'hidden';\r\n\r\n\t\t// APPEND PROGRES BACK TO THE SLIDER\r\n\t\tif (_R[id].noDetach !== true) _R[id].c.append(_R[id].progressC);\r\n\r\n\t\tif (_R[id].gridOffsetWidth === undefined && p.alignby === \"grid\") _R[id].rebuildProgressBar = true;\r\n\t\telse _R[id].rebuildProgressBar = false;\r\n\r\n\r\n\t}\r\n\r\n\tvar drawCWCCW = function(id) {\r\n\r\n\t\tvar p = _R[id].progressBar;\r\n\t\tif (p.radius - parseInt(p.size, 0) <= 0) p.size = p.radius / 4;\r\n\t\tvar posX = parseInt(p.radius),\r\n\t\t\tposY = parseInt(p.radius);\r\n\r\n\t\t_R[id].progressBCanvas.lineCap = 'round';\r\n\t\t_R[id].progressBCanvas.clearRect(0, 0, p.radius * 2, p.radius * 2);\r\n\r\n\t\t_R[id].progressBCanvas.beginPath();\r\n\t\t_R[id].progressBCanvas.arc(posX, posY, p.radius - parseInt(p.size, 0), (Math.PI / 180) * 270, (Math.PI / 180) * (270 + 360));\r\n\t\t_R[id].progressBCanvas.strokeStyle = p.bgcolor;\r\n\t\t_R[id].progressBCanvas.lineWidth = parseInt(p.size, 0) - 1;\r\n\t\t_R[id].progressBCanvas.stroke();\r\n\r\n\t\t_R[id].progressBCanvas.beginPath();\r\n\t\t_R[id].progressBCanvas.strokeStyle = p.color;\r\n\t\t_R[id].progressBCanvas.lineWidth = parseInt(p.size, 0);\r\n\t\t_R[id].progressBCanvas.arc(posX, posY, p.radius - parseInt(p.size, 0), (Math.PI / 180) * 270, (Math.PI / 180) * (270 + _R[id].progressBar.degree), p.style !== \"cw\");\r\n\t\t_R[id].progressBCanvas.stroke();\r\n\t}\r\n\r\n\tvar animateProgressBar = function(id) {\r\n\t\tvar countDownNext = function() {\r\n\t\t\tif (id === undefined || _R === undefined || _R[id] === undefined) return;\r\n\t\t\tif (jQuery('body').find(_R[id].c).length == 0 || _R[id] === null || _R[id].c === null || _R[id].c === undefined || _R[id].length === 0) {\r\n\t\t\t\tremoveAllListeners(id);\r\n\t\t\t\tclearInterval(_R[id].cdint);\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].c.trigger(\"revolution.slide.slideatend\");\r\n\t\t\t\t//STATE OF API CHANGED -> MOVE TO AIP BETTER\r\n\t\t\t\tif (_R[id].c.data('conthoverchanged') == 1) {\r\n\t\t\t\t\t_R[id].conthover = _R[id].c.data('conthover');\r\n\t\t\t\t\t_R[id].c.data('conthoverchanged', 0);\r\n\t\t\t\t}\r\n\t\t\t\t_R.callingNewSlide(id, 1, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar tl = tpGS.gsap.timeline({ paused: true }),\r\n\t\t\tresett = _R[id].progressBar.reset === \"reset\" || _R[id].progressBar.notnew === undefined ? 0 : 0.2,\r\n\t\t\tnsl = _R[id].progressBar.basedon === \"slide\" ? 0 : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key;\r\n\t\tnsl = nsl === undefined ? 0 : nsl;\r\n\r\n\t\tif (_R[id].progressBar.style === \"horizontal\") {\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], resett, { scaleX: 0, transformOrigin: (_R[id].progressBar.horizontal === \"right\" ? \"100% 50%\" : \"0% 50%\") }));\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], _R[id].duration / 1000, { transformOrigin: (_R[id].progressBar.horizontal === \"right\" ? \"100% 50%\" : \"0% 50%\"), force3D: \"auto\", scaleX: 1, onComplete: countDownNext, delay: 0.5, ease: _R[id].progressBar.ease }));\r\n\t\t\tif (_R[id].progressBar.basedon === \"module\")\r\n\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++)\r\n\t\t\t\t\tif (i !== nsl) tl.add(tpGS.gsap.set(_R[id].progressCBarInner[i], { scaleX: (i < nsl ? 1 : 0), transformOrigin: (_R[id].progressBar.horizontal === \"right\" ? \"100% 50%\" : \"0% 50%\") }), 0)\r\n\t\t} else\r\n\t\tif (_R[id].progressBar.style === \"vertical\") {\r\n\t\t\tif (_R[id].progressCBarInner[nsl] !== undefined) tl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], resett, { scaleY: 0, transformOrigin: (_R[id].progressBar.vertical === \"bottom\" ? \"50% 100%\" : \"50% 0%\") }));\r\n\t\t\tif (_R[id].progressCBarInner[nsl] !== undefined) tl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], _R[id].duration / 1000, { transformOrigin: (_R[id].progressBar.vertical === \"bottom\" ? \"50% 100%\" : \"50% 0%\"), force3D: \"auto\", scaleY: 1, onComplete: countDownNext, delay: 0.5, ease: _R[id].progressBar.ease }));\r\n\t\t\tif (_R[id].progressBar.basedon === \"module\")\r\n\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++)\r\n\t\t\t\t\tif (i !== nsl && _R[id].progressCBarInner[i] !== undefined) tl.add(tpGS.gsap.set(_R[id].progressCBarInner[i], { scaleY: (i < nsl ? 1 : 0), transformOrigin: (_R[id].progressBar.vertical === \"botton\" ? \"50% 100%\" : \"50% 0%\") }), 0)\r\n\t\t} else {\r\n\t\t\tvar midgr = _R[id].progressBar.basedon === \"slide\" ? 0 : Math.max(0, (360 / _R[id].slideamount) * (nsl)),\r\n\t\t\t\tmadgr = _R[id].progressBar.basedon === \"slide\" ? 360 : (360 / _R[id].slideamount) * (nsl + 1);\r\n\t\t\tif (_R[id].progressBar.style === \"ccw\" && _R[id].progressBar.basedon !== 'slide') {\r\n\t\t\t\tmidgr = 360 - madgr;\r\n\t\t\t\tmadgr = 360 - ((360 / _R[id].slideamount) * (nsl));\r\n\t\t\t}\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressBar, resett, { degree: (_R[id].progressBar.style === \"cw\" ? midgr : madgr), onUpdate: function() { drawCWCCW(id); } }));\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressBar, _R[id].duration / 1000, { degree: (_R[id].progressBar.style === \"cw\" ? madgr : midgr), onUpdate: function() { drawCWCCW(id); }, onComplete: countDownNext, delay: 0.5, ease: _R[id].progressBar.ease }));\r\n\t\t\t//drawCWCCW(id,)\r\n\t\t}\r\n\t\t_R[id].progressBar.notnew = true;\r\n\t\treturn tl;\r\n\t}\r\n\r\n\r\n\t///////////////////////////\r\n\t//\t-\tcountDown\t-\t//\r\n\t/////////////////////////\r\n\tvar countDown = function(id) {\r\n\t\tif (_R[id].progressC == undefined) buildProgressBar(id);\r\n\t\t_R[id].loop = 0;\r\n\t\tif (_R[id].stopAtSlide != undefined && _R[id].stopAtSlide > -1)\r\n\t\t\t_R[id].lastslidetoshow = _R[id].stopAtSlide;\r\n\t\telse\r\n\t\t\t_R[id].lastslidetoshow = 999;\r\n\r\n\t\t_R[id].stopLoop = false;\r\n\r\n\t\tif (_R[id].looptogo == 0) _R[id].stopLoop = true;\r\n\r\n\t\t// LISTENERS  //container.trigger('stoptimer');\r\n\t\t_R[id].c.on('stoptimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined) return;\r\n\t\t\t_R[id].progressC[0].tween.pause();\r\n\t\t\tif (_R[id].progressBar.disableProgressBar) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\t_R[id].sliderstatus = \"paused\";\r\n\t\t\tif (!_R[id].slideInSwapTimer) _R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t_R[id].slideInSwapTimer = false;\r\n\t\t});\r\n\r\n\r\n\t\t_R[id].c.on('starttimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined) return;\r\n\t\t\tif (_R[id].forcepaused) return;\r\n\t\t\tif (_R[id].conthover != 1 && _R[id].stopByVideo != true && _R[id].module.width > _R[id].hideSliderAtLimit && _R[id].tonpause != true && _R[id].overnav != true && _R[id].ssop != true) {\r\n\t\t\t\tif (_R[id].noloopanymore !== 1 && (!_R[id].viewPort.enable || _R[id].inviewport)) {\r\n\t\t\t\t\tif (!_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"visible\";\r\n\t\t\t\t\t_R[id].progressC[0].tween.resume();\r\n\t\t\t\t\t_R[id].sliderstatus = \"playing\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (_R[id].progressBar.disableProgressBar || !_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t});\r\n\r\n\r\n\t\t_R[id].c.on('restarttimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined) return;\r\n\t\t\tif (_R[id].forcepaused) return;\r\n\t\t\tif (_R[id].mouseoncontainer && _R[id].navigation.onHoverStop == \"on\" && (!_R.ISM)) return false;\r\n\t\t\tif (_R[id].noloopanymore !== 1 && (!_R[id].viewPort.enable || _R[id].inviewport) && _R[id].ssop != true) {\r\n\t\t\t\tif (!_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"visible\";\r\n\t\t\t\tif (_R[id].progressC[0].tween !== undefined) _R[id].progressC[0].tween.kill();\r\n\t\t\t\t_R[id].progressC[0].tween = animateProgressBar(id);\r\n\t\t\t\t_R[id].progressC[0].tween.play();\r\n\t\t\t\t_R[id].sliderstatus = \"playing\";\r\n\t\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t\t} else {\r\n\t\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t}\r\n\t\t\tif (_R[id].progressBar.disableProgressBar || !_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\tif (_R[id].mouseoncontainer && _R[id].navigation.onHoverStop == true && (!_R.ISM)) {\r\n\t\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onpause');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t_R[id].c.on('nulltimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined || _R[id].progressC[0] === undefined) return;\r\n\t\t\tif (_R[id].progressC[0].tween !== undefined) _R[id].progressC[0].tween.kill();\r\n\t\t\t_R[id].progressC[0].tween = animateProgressBar(id);\r\n\t\t\t_R[id].progressC[0].tween.pause(0);\r\n\t\t\tif (_R[id].progressBar.disableProgressBar || !_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\t_R[id].sliderstatus = \"paused\";\r\n\t\t});\r\n\r\n\t\tif (_R[id].progressC !== undefined) _R[id].progressC[0].tween = animateProgressBar(id);\r\n\r\n\t\tif (_R[id].slideamount > 1 && !(_R[id].stopAfterLoops == 0 && _R[id].stopAtSlide == 1))\r\n\t\t\t_R[id].c.trigger(\"starttimer\");\r\n\t\telse {\r\n\t\t\t_R[id].noloopanymore = 1;\r\n\t\t\t_R[id].c.trigger(\"nulltimer\");\r\n\t\t}\r\n\r\n\t\t_R[id].c.on('tp-mouseenter', function() {\r\n\t\t\t_R[id].mouseoncontainer = true;\r\n\t\t\tif (_R[id].navigation.onHoverStop == true && (!_R.ISM)) {\r\n\t\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onpause');\r\n\t\t\t}\r\n\t\t});\r\n\t\t_R[id].c.on('tp-mouseleft', function() {\r\n\t\t\t_R[id].mouseoncontainer = false;\r\n\t\t\tif (_R[id].c.data('conthover') != 1 && _R[id].navigation.onHoverStop == true && ((_R[id].viewPort.enable == true && _R[id].inviewport) || _R[id].viewPort.enable == false)) {\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onresume');\r\n\t\t\t\t_R[id].c.trigger('starttimer');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\t//////////////////////////////////////////////////////\r\n\t// * Revolution Slider - NEEDFULL FUNCTIONS\r\n\t// * @version: 1.0 (30.10.2014)\r\n\t// * @author ThemePunch\r\n\t//////////////////////////////////////////////////////\r\n\r\n\tvar restartOnFocus = function() {\r\n\t\tjQuery('.rev_redraw_on_blurfocus').each(function() {\r\n\t\t\tvar id = this.id;\r\n\t\t\tif (_R[id] == undefined || _R[id].c == undefined || _R[id].c.length === 0) return false;\r\n\t\t\tif (_R[id].windowfocused != true) {\r\n\t\t\t\t_R[id].windowfocused = true;\r\n\t\t\t\ttpGS.gsap.delayedCall(0.1, function() {\r\n\t\t\t\t\t// TAB IS ACTIVE, WE CAN START ANY PART OF THE SLIDER\r\n\t\t\t\t\tif (_R[id].fallbacks.nextSlideOnWindowFocus) _R[id].c.revnext();\r\n\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\tif (_R[id].lastsliderstatus == \"playing\") _R[id].c.revresume();\r\n\t\t\t\t\t_R[id].c.trigger('revolution.slide.tabfocused');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tvar lastStatBlur = function() {\r\n\t\tif (document.hasFocus()) return;\r\n\t\tjQuery('.rev_redraw_on_blurfocus').each(function(i) {\r\n\t\t\tvar id = this.id;\r\n\t\t\t_R[id].windowfocused = false;\r\n\t\t\t_R[id].lastsliderstatus = _R[id].sliderstatus;\r\n\t\t\t_R[id].c.revpause();\r\n\t\t\t_R[id].c.trigger('revolution.slide.tabblured');\r\n\t\t});\r\n\r\n\r\n\t};\r\n\r\n\tvar visibilityHandler = function(){\r\n\t\tjQuery('rs-module').each(function() {\r\n\t\t\tvar id = this.id;\r\n\t\t\tif(_R[id].inviewport || !_R[id].viewPort.enable){\r\n\t\t\t\tvar key = _R[id].pr_active_slide!==undefined &&  _R[id].pr_active_slide.data('key') !==undefined ? _R[id].pr_active_slide.data('key') : _R[id].pr_next_slide!==undefined && _R[id].pr_next_slide.data('key')!==undefined ?  _R[id].pr_next_slide.data('key') : undefined;\r\n\t\t\t\tif (key==undefined) return;\r\n\t\t\t\tif(_R[id].sbgs[key].bgvid.length > 0 && _R[id].videos[_R[id].sbgs[key].bgvid[0].id].loop){\r\n\t\t\t\t\tif (document.visibilityState === 'visible') {\r\n\t\t\t\t\t\t_R.playVideo(_R[id].sbgs[key].bgvid, id);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_R.stopVideo(_R[id].sbgs[key].bgvid, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar tabBlurringCheck = function() {\r\n\t\tvar notIE = (document.documentMode === undefined),\r\n\t\t\tisChromium = window.chrome;\r\n\r\n\t\tif (_R.revslider_focus_blur_listener === 1) return;\r\n\t\t_R.revslider_focus_blur_listener = 1;\r\n\t\tif (notIE && !isChromium) {\r\n\t\t\t// checks for Firefox and other  NON IE Chrome versions\r\n\t\t\t_R.window.on(\"focusin\", function() {\r\n\t\t\t\tif (_R.windowIsFocused !== true) restartOnFocus();\r\n\t\t\t\t_R.windowIsFocused = true;\r\n\t\t\t}).on(\"focusout\", function() {\r\n\t\t\t\tif (_R.windowIsFocused === true || _R.windowIsFocused === undefined) lastStatBlur();\r\n\t\t\t\t_R.windowIsFocused = false;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// checks for IE and Chromium versions\r\n\t\t\tif (window.addEventListener) {\r\n\t\t\t\t// bind focus event\r\n\t\t\t\twindow.addEventListener(\"focus\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused !== true) restartOnFocus();\r\n\t\t\t\t\t_R.windowIsFocused = true;\r\n\t\t\t\t}, { capture: false, passive: true });\r\n\t\t\t\t// bind blur event\r\n\t\t\t\twindow.addEventListener(\"blur\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused === true || _R.windowIsFocused === undefined) lastStatBlur();\r\n\t\t\t\t\t_R.windowIsFocused = false;\r\n\t\t\t\t}, { capture: false, passive: true });\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// bind focus event\r\n\t\t\t\twindow.attachEvent(\"focus\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused !== true) restartOnFocus();\r\n\t\t\t\t\t_R.windowIsFocused = true;\r\n\t\t\t\t});\r\n\t\t\t\t// bind focus event\r\n\t\t\t\twindow.attachEvent(\"blur\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused === true || _R.windowIsFocused === undefined) lastStatBlur();\r\n\t\t\t\t\t_R.windowIsFocused = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t// \t-\tGET THE URL PARAMETER //\r\n\r\n\tvar getUrlVars = function(hashdivider) {\r\n\t\tvar vars = [],\r\n\t\t\thash;\r\n\t\tvar hashes = window.location.href.slice(window.location.href.indexOf(hashdivider) + 1).split('_');\r\n\t\tfor (var i = 0; i < hashes.length; i++) {\r\n\t\t\thashes[i] = hashes[i].replace('%3D', \"=\");\r\n\t\t\thash = hashes[i].split('=');\r\n\t\t\tvars.push(hash[0]);\r\n\t\t\tvars[hash[0]] = hash[1];\r\n\t\t}\r\n\t\treturn vars;\r\n\t};\r\n\r\n\tvar checkBlockSpaces = function(id) {\r\n\t\tif (_R[id].blockSpacing !== undefined) {\r\n\t\t\tvar btemp = _R[id].blockSpacing.split(\";\");\r\n\t\t\t_R[id].blockSpacing = {};\r\n\t\t\tfor (var u in btemp) {\r\n\t\t\t\tif (!btemp.hasOwnProperty(u)) continue;\r\n\t\t\t\tvar s = btemp[u].split(\":\");\r\n\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.top = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.bottom = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.left = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.right = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].blockSpacing.block = jQuery(_R.closestClass(_R[id].c[0], 'wp-block-themepunch-revslider'));\r\n\r\n\r\n\t\t\tif (_R[id].level !== undefined && _R[id].blockSpacing !== undefined) tpGS.gsap.set(_R[id].blockSpacing.block, {\r\n\t\t\t\tpaddingLeft: _R[id].blockSpacing.left[_R[id].level],\r\n\t\t\t\tpaddingRight: _R[id].blockSpacing.right[_R[id].level],\r\n\t\t\t\tmarginTop: _R[id].blockSpacing.top[_R[id].level],\r\n\t\t\t\tmarginBottom: _R[id].blockSpacing.bottom[_R[id].level]\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvar generalConverts = function(_) {\r\n\r\n\r\n\t\t_.minHeight = _.minHeight !== undefined ? _.minHeight === \"none\" || _.minHeight === \"0\" || _.minHeight === \"0px\" || _.minHeight == \"\" || _.minHeight == \" \" ? 0 : parseInt(_.minHeight, 0) : 0;\r\n\t\t_.maxHeight = _.maxHeight === \"none\" || _.maxHeight === \"0\" ? 0 : parseInt(_.maxHeight, 0);\r\n\t\t_.carousel.maxVisibleItems = _.carousel.maxVisibleItems < 1 ? 999 : _.carousel.maxVisibleItems;\r\n\t\t_.carousel.vertical_align = _.carousel.vertical_align === \"top\" ? \"0%\" : _.carousel.vertical_align === \"bottom\" ? \"100%\" : \"50%\";\r\n\t\t_.carousel.space = parseInt(_.carousel.space, 0);\r\n\t\t_.carousel.maxOpacity = parseInt(_.carousel.maxOpacity, 0);\r\n\t\t_.carousel.maxOpacity = _.carousel.maxOpacity > 1 ? _.carousel.maxOpacity / 100 : _.carousel.maxOpacity;\r\n\t\t_.carousel.showLayersAllTime = _.carousel.showLayersAllTime === \"true\" || _.carousel.showLayersAllTime === true ? \"all\" : _.carousel.showLayersAllTime;\r\n\t\t_.carousel.maxRotation = parseInt(_.carousel.maxRotation, 0);\r\n\t\t_.carousel.minScale = parseInt(_.carousel.minScale, 0);\r\n\t\t_.carousel.minScale = _.carousel.minScale > 0.9 ? _.carousel.minScale / 100 : _.carousel.minScale;\r\n\t\t_.carousel.speed = parseInt(_.carousel.speed, 0);\r\n\t\t_.carousel.skewX = parseFloat(_.carousel.skewX);\r\n\t\t_.carousel.skewY = parseFloat(_.carousel.skewY);\r\n\t\t_.carousel.spinAngle = parseFloat(_.carousel.spinAngle);\r\n\t\tif(_.carousel.spinAngle === 0) _.carousel.spinAngle = 1;\r\n\r\n\t\tif(_.carousel.orientation === 'v') _.carousel.justify = false;\r\n\t\t_.navigation.maintypes = [\"arrows\", \"tabs\", \"thumbnails\", \"bullets\"];\r\n\t\t_.perspective = parseInt(_.perspective, 0);\r\n\t\tfor (var i in _.navigation.maintypes) {\r\n\t\t\tif (!_.navigation.maintypes.hasOwnProperty((i))) continue;\r\n\t\t\tif (_.navigation[_.navigation.maintypes[i]] === undefined) continue;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animDelay = _.navigation[_.navigation.maintypes[i]].animDelay === undefined ? 1000 : _.navigation[_.navigation.maintypes[i]].animDelay;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animSpeed = _.navigation[_.navigation.maintypes[i]].animSpeed === undefined ? 1000 : _.navigation[_.navigation.maintypes[i]].animSpeed;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animDelay = parseInt(_.navigation[_.navigation.maintypes[i]].animDelay, 0) / 1000;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animSpeed = parseInt(_.navigation[_.navigation.maintypes[i]].animSpeed, 0) / 1000;\r\n\t\t}\r\n\t\t// To Make sure it is not any more in %\r\n\r\n\t\tif (!_R.isNumeric(_.scrolleffect.tilt))\r\n\t\t\tif (_.scrolleffect.tilt.indexOf('%') !== -1) _.scrolleffect.tilt = parseInt(_.scrolleffect.tilt);\r\n\t\t_.scrolleffect.tilt = _.scrolleffect.tilt / 100;\r\n\r\n\t\t//Thumbs und Tabs Settings ->\r\n\t\t_.navigation.thumbnails.position = _.navigation.thumbnails.position == \"outer-horizontal\" ? _.navigation.thumbnails.v_align == \"bottom\" ? \"outer-bottom\" : \"outer-top\" :\r\n\t\t\t_.navigation.thumbnails.position == \"outer-vertical\" ? _.navigation.thumbnails.h_align == \"left\" ? \"outer-left\" : \"outer-right\" : _.navigation.thumbnails.position;\r\n\r\n\t\t_.navigation.tabs.position = _.navigation.tabs.position == \"outer-horizontal\" ? _.navigation.tabs.v_align == \"bottom\" ? \"outer-bottom\" : \"outer-top\" :\r\n\t\t\t_.navigation.tabs.position == \"outer-vertical\" ? _.navigation.tabs.h_align == \"left\" ? \"outer-left\" : \"outer-right\" : _.navigation.tabs.position;\r\n\t\t_.sbtimeline.speed = parseInt(_.sbtimeline.speed, 0) / 1000 || 0.5;\r\n\r\n\t\tif (_.sbtimeline.set === true && _.sbtimeline.fixed === true && _.sliderLayout !== \"auto\") {\r\n\t\t\t_.sbtimeline.fixStart = parseInt(_.sbtimeline.fixStart);\r\n\t\t\t_.sbtimeline.fixEnd = parseInt(_.sbtimeline.fixEnd);\r\n\t\t} else {\r\n\t\t\t_.sbtimeline.fixed = false;\r\n\t\t}\r\n\r\n\t\tif (_.progressBar !== undefined && (_.progressBar.disableProgressBar == \"true\" || _.progressBar.disableProgressBar == true)) _.progressBar.disableProgressBar = true;\r\n\r\n\t\t_.startDelay = parseInt(_.startDelay, 0) || 0;\r\n\r\n\t\tif (_.navigation !== undefined && _.navigation.arrows != undefined && _.navigation.arrows.hide_under != undefined) _.navigation.arrows.hide_under = parseInt(_.navigation.arrows.hide_under);\r\n\t\tif (_.navigation !== undefined && _.navigation.bullets != undefined && _.navigation.bullets.hide_under != undefined) _.navigation.bullets.hide_under = parseInt(_.navigation.bullets.hide_under);\r\n\t\tif (_.navigation !== undefined && _.navigation.thumbnails != undefined && _.navigation.thumbnails.hide_under != undefined) _.navigation.thumbnails.hide_under = parseInt(_.navigation.thumbnails.hide_under);\r\n\t\tif (_.navigation !== undefined && _.navigation.tabs != undefined && _.navigation.tabs.hide_under != undefined) _.navigation.tabs.hide_under = parseInt(_.navigation.tabs.hide_under);\r\n\r\n\t\tif (_.navigation !== undefined && _.navigation.arrows != undefined && _.navigation.arrows.hide_over != undefined) _.navigation.arrows.hide_over = parseInt(_.navigation.arrows.hide_over);\r\n\t\tif (_.navigation !== undefined && _.navigation.bullets != undefined && _.navigation.bullets.hide_over != undefined) _.navigation.bullets.hide_over = parseInt(_.navigation.bullets.hide_over);\r\n\t\tif (_.navigation !== undefined && _.navigation.thumbnails != undefined && _.navigation.thumbnails.hide_over != undefined) _.navigation.thumbnails.hide_over = parseInt(_.navigation.thumbnails.hide_over);\r\n\t\tif (_.navigation !== undefined && _.navigation.tabs != undefined && _.navigation.tabs.hide_over != undefined) _.navigation.tabs.hide_over = parseInt(_.navigation.tabs.hide_over);\r\n\r\n\t\tif (_.lazyloaddata !== undefined && _.lazyloaddata.length > 0 && _.lazyloaddata.indexOf(\"-\") > 0) {\r\n\t\t\tvar temp = _.lazyloaddata.split(\"-\");\r\n\t\t\t_.lazyloaddata = temp[0];\r\n\t\t\tfor (var i = 1; i < temp.length; i++) _.lazyloaddata += jsUcfirst(temp[i]);\r\n\t\t}\r\n\t\t_.duration = parseInt(_.duration);\r\n\r\n\t\tif (_.lazyType === \"single\" && _.sliderType === \"carousel\") _.lazyType = \"smart\";\r\n\t\tif (_.sliderType === \"carousel\" && _.carousel.justify) {\r\n\t\t\t_.justifyCarousel = true;\r\n\t\t\t_.keepBPHeight = true;\r\n\t\t}\r\n\t\t_.enableUpscaling = _.enableUpscaling == true && _.sliderType !== \"carousel\" && _.sliderLayout === \"fullwidth\" ? true : false;\r\n\t\t_.useFullScreenHeight = _.sliderType === \"carousel\" && _.sliderLayout === \"fullscreen\" && _.useFullScreenHeight === true && _.carousel.orientation!=='v';\r\n\t\t_.progressBar.y = parseInt(_.progressBar.y, 0);\r\n\t\t_.progressBar.x = parseInt(_.progressBar.x, 0);\r\n\r\n\t\t/*! Custom Eases */\r\n\t\tif (window.RSBrowser !== \"IE\" && _.customEases !== undefined) {\r\n\t\t\tif ((_.customEases.SFXBounceLite || _.customEases.SFXBounceLite == \"true\") && tpGS.SFXBounceLite === undefined) tpGS.SFXBounceLite = tpGS.CustomBounce.create(\"SFXBounceLite\", { strength: 0.3, squash: 1, squashID: \"SFXBounceLite-squash\" });\r\n\t\t\tif ((_.customEases.SFXBounceSolid || _.customEases.SFXBounceSolid == \"true\") && tpGS.SFXBounceSolid === undefined) tpGS.SFXBounceSolid = tpGS.CustomBounce.create(\"SFXBounceSolid\", { strength: 0.5, squash: 2, squashID: \"SFXBounceSolid-squash\" });\r\n\t\t\tif ((_.customEases.SFXBounceStrong || _.customEases.SFXBounceStrong == \"true\") && tpGS.SFXBounceStrong === undefined) tpGS.SFXBounceStrong = tpGS.CustomBounce.create(\"SFXBounceStrong\", { strength: 0.7, squash: 3, squashID: \"SFXBounceStrong-squash\" });\r\n\t\t\tif ((_.customEases.SFXBounceExtrem || _.customEases.SFXBounceExtrem == \"true\") && tpGS.SFXBounceExtrem === undefined) tpGS.SFXBounceExtrem = tpGS.CustomBounce.create(\"SFXBounceExtrem\", { strength: 0.9, squash: 4, squashID: \"SFXBounceExtrem-squash\" });\r\n\t\t\tif ((_.customEases.BounceLite || _.customEases.BounceLite == \"true\") && tpGS.BounceLite === undefined) tpGS.BounceLite = tpGS.CustomBounce.create(\"BounceLite\", { strength: 0.3 });\r\n\t\t\tif ((_.customEases.BounceSolid || _.customEases.BounceSolid == \"true\") && tpGS.BounceSolid === undefined) tpGS.BounceSolid = tpGS.CustomBounce.create(\"BounceSolid\", { strength: 0.5 });\r\n\t\t\tif ((_.customEases.BounceStrong || _.customEases.BounceStrong == \"true\") && tpGS.BounceStrong === undefined) tpGS.BounceStrong = tpGS.CustomBounce.create(\"BounceStrong\", { strength: 0.7 });\r\n\t\t\tif ((_.customEases.BounceExtrem || _.customEases.BounceExtrem == \"true\") && tpGS.BounceExtrem === undefined) tpGS.BounceExtrem = tpGS.CustomBounce.create(\"BounceExtrem\", { strength: 0.9 });\r\n\t\t}\r\n\r\n\t\t_.modal.coverSpeed = parseFloat(_.modal.coverSpeed);\r\n\t\t_.modal.coverSpeed = _.modal.coverSpeed > 200 ? _.modal.coverSpeed / 1000 : _.modal.coverSpeed;\r\n\t\t_.modal.coverSpeed = Math.max(Math.min(3, _.modal.coverSpeed), 0.3);\r\n\r\n\t\t_.navigation.wheelViewPort = _.navigation.wheelViewPort === undefined ? 0.5 : _.navigation.wheelViewPort / 100;\r\n\t\t_.navigation.wheelCallDelay = _.navigation.wheelCallDelay === undefined ? 1000 : parseInt(_.navigation.wheelCallDelay);\r\n\t\t_.autoDPR = typeof _.DPR === 'string' && _.DPR.indexOf('ax') !== -1;\r\n\t\t_.DPR = _.DPR.replace(\"ax\", \"\");\r\n\t\t_.DPR = parseInt(_.DPR.replace(\"x\", \"\"));\r\n\t\t_.DPR = isNaN(_.DPR) ? window.devicePixelRatio : _.autoDPR ? Math.min(window.devicePixelRatio, _.DPR) : _.DPR;\r\n\t\t_.DPR = (_.onedpronmobile == true || _.onedpronmobile == \"true\") && _R.ISM ? 1 : _.DPR;\r\n\r\n\t\tif(_.viewPort.global === false) _.viewPort.enable = false;\r\n\t\telse if(_.viewPort.global === true) {\r\n\t\t\t_.viewPort.local = _.viewPort.enable;\r\n\t\t\t_.viewPort.enable = true;\r\n\t\t}\r\n\r\n\t\tif (_.carousel!==undefined && _.carousel.orientation==\"v\") {\r\n\t\t\t_.carousel.prevNextVisType = (\"\"+_.carousel.prevNextVis).includes(\"%\") ? \"%\" : \"px\";\r\n\t\t\t_.carousel.prevNextVis = (parseInt(_.carousel.prevNextVis,0) / (_.carousel.prevNextVisType==\"%\" ? 100 : 1));\r\n\t\t}\r\n\r\n\t\treturn _;\r\n\t};\r\n\r\n\r\n\r\n\tvar jsUcfirst = function(string) { return string.charAt(0).toUpperCase() + string.slice(1); }\r\n\r\n\r\n\tvar getModuleDefaults = function(options) {\r\n\t\treturn generalConverts(jQuery.extend(true, {\r\n\t\t\tDPR: \"dpr\", // THE SCREEN MAX RESOLUTION DPR\r\n\t\t\tsliderType: \"standard\", // standard, carousel, hero\r\n\t\t\tsliderLayout: \"auto\", // auto, fullwidth, fullscreen\r\n\t\t\t//dottedOverlay:\"none\",\t\t\t\t\t//twoxtwo, threexthree, twoxtwowhite, threexthreewhite\r\n\t\t\toverlay: {\r\n\t\t\t\ttype: \"none\",\r\n\t\t\t\tsize: 1,\r\n\t\t\t\tcolora: 'transparent',\r\n\t\t\t\tcolorb: '#000000'\r\n\t\t\t},\r\n\t\t\tduration: 9000,\r\n\t\t\timgCrossOrigin: \"\",\r\n\t\t\tmodal: {\r\n\t\t\t\tuseAsModal: false,\r\n\t\t\t\tcover: true,\r\n\t\t\t\tcoverColor: \"rgba(0,0,0,0.5)\",\r\n\t\t\t\thorizontal: \"center\",\r\n\t\t\t\tvertical: \"middle\",\r\n\t\t\t\tcoverSpeed: 1\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tkeyboardNavigation: false,\r\n\t\t\t\tkeyboard_direction: \"horizontal\", //\thorizontal - left/right arrows,  vertical - top/bottom arrows\r\n\t\t\t\tmouseScrollNavigation: 'off', // on, off, carousel\r\n\t\t\t\twheelViewPort: 50,\r\n\t\t\t\twheelCallDelay: '1000ms',\r\n\t\t\t\t/*msWayUp:\"top\",\t\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" top/center/bottom/ignore\r\n\t\t\t\tmsWayDown:\"top\",\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" top/center/bottom/ignore\r\n\t\t\t\tmsWayUpOffset:0,\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" px\r\n\t\t\t\tmsWayDownOffset:0,\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" px\t\t\t\t\t\t*/\r\n\t\t\t\tonHoverStop: true, // Stop Banner Timet at Hover on Slide on/off\r\n\t\t\t\tmouseScrollReverse: \"default\",\r\n\t\t\t\ttarget: 'window',\r\n\t\t\t\tthreshold: 50,\r\n\t\t\t\ttouch: {\r\n\t\t\t\t\ttouchenabled: false, // Enable Swipe Function : on/off\r\n\t\t\t\t\ttouchOnDesktop: false, // Enable Tuoch on Desktop Systems also\r\n\t\t\t\t\tswipe_treshold: 75, // The number of pixels that the user must move their finger by before it is considered a swipe.\r\n\t\t\t\t\tswipe_min_touches: 1, // Min Finger (touch) used for swipe\r\n\t\t\t\t\tswipe_direction: \"horizontal\",\r\n\t\t\t\t\tdrag_block_vertical: false, // Prevent Vertical Scroll during Swipe\r\n\t\t\t\t\tmobileCarousel: true,\r\n\t\t\t\t\tdesktopCarousel: true\r\n\t\t\t\t},\r\n\t\t\t\tarrows: {\r\n\t\t\t\t\tstyle: \"\",\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\ttmp: '',\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\th_align: \"left\",\r\n\t\t\t\t\t\tv_align: \"center\",\r\n\t\t\t\t\t\th_offset: 20,\r\n\t\t\t\t\t\tv_offset: 0,\r\n\t\t\t\t\t\tcontainer: \"slider\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\th_align: \"right\",\r\n\t\t\t\t\t\tv_align: \"center\",\r\n\t\t\t\t\t\th_offset: 20,\r\n\t\t\t\t\t\tv_offset: 0,\r\n\t\t\t\t\t\tcontainer: \"slider\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tbullets: {\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\tdirection: \"horizontal\",\r\n\t\t\t\t\th_align: \"center\",\r\n\t\t\t\t\tv_align: \"bottom\",\r\n\t\t\t\t\tspace: 5,\r\n\t\t\t\t\th_offset: 0,\r\n\t\t\t\t\tv_offset: 20,\r\n\t\t\t\t\ttmp: '<span class=\"tp-bullet-image\"></span><span class=\"tp-bullet-title\"></span>',\r\n\t\t\t\t\tcontainer: \"slider\",\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tstyle: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tthumbnails: {\r\n\t\t\t\t\tcontainer: \"slider\",\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tstyle: \"\",\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\tmin_width: 100,\r\n\t\t\t\t\twrapper_padding: 2,\r\n\t\t\t\t\twrapper_color: \"transparent\",\r\n\t\t\t\t\ttmp: '<span class=\"tp-thumb-image\"></span><span class=\"tp-thumb-title\"></span>',\r\n\t\t\t\t\tvisibleAmount: 5,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\tdirection: \"horizontal\",\r\n\t\t\t\t\tspan: false,\r\n\t\t\t\t\tposition: \"inner\",\r\n\t\t\t\t\tspace: 2,\r\n\t\t\t\t\th_align: \"center\",\r\n\t\t\t\t\tv_align: \"bottom\",\r\n\t\t\t\t\th_offset: 0,\r\n\t\t\t\t\tv_offset: 20,\r\n\t\t\t\t\tmhoff: 0,\r\n\t\t\t\t\tmvoff: 0\r\n\t\t\t\t},\r\n\t\t\t\ttabs: {\r\n\t\t\t\t\tcontainer: \"slider\",\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tstyle: \"\",\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t\tmin_width: 100,\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\twrapper_padding: 10,\r\n\t\t\t\t\twrapper_color: \"transparent\",\r\n\t\t\t\t\ttmp: '<span class=\"tp-tab-image\"></span>',\r\n\t\t\t\t\tvisibleAmount: 5,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\tdirection: \"horizontal\",\r\n\t\t\t\t\tspan: false,\r\n\t\t\t\t\tspace: 0,\r\n\t\t\t\t\tposition: \"inner\",\r\n\t\t\t\t\th_align: \"center\",\r\n\t\t\t\t\tv_align: \"bottom\",\r\n\t\t\t\t\th_offset: 0,\r\n\t\t\t\t\tv_offset: 20,\r\n\t\t\t\t\tmhoff: 0,\r\n\t\t\t\t\tmvoff: 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tresponsiveLevels: 4064, // Single or Array for Responsive Levels i.e.: 4064 or i.e. [2048, 1024, 778, 480]\r\n\t\t\tvisibilityLevels: [2048, 1024, 778, 480], // Single or Array for Responsive Visibility Levels i.e.: 4064 or i.e. [2048, 1024, 778, 480]\r\n\t\t\tgridwidth: 960, // Single or Array i.e. 960 or [960, 840,760,460]\r\n\t\t\tgridheight: 500, // Single or Array i.e. 500 or [500, 450,400,350]\r\n\t\t\tminHeight: 0,\r\n\r\n\t\t\tmaxHeight: 0,\r\n\t\t\tkeepBPHeight: false,\r\n\t\t\tuseFullScreenHeight: true, // Use FullScreen Height for Content if Carousel Mode is on and FullScreen Layout selected\r\n\t\t\toverflowHidden: false, // Use Overflow Hidden in carouselMode (force)\r\n\t\t\tforceOverflow: false, // Use OverFlow Visible (Force) in None Carousel Mode\r\n\t\t\tfixedOnTop: false,\r\n\t\t\tautoHeight: false,\r\n\t\t\tgridEQModule: false,\r\n\t\t\tdisableForceFullWidth: false, // Turns the FullScreen Slider to be a FullHeight but auto Width Slider\r\n\r\n\t\t\tfullScreenOffsetContainer: \"\", // Size for FullScreen Slider minimising Calculated on the Container sizes\r\n\t\t\tfullScreenOffset: \"0\", // Size for FullScreen Slider minimising\r\n\r\n\t\t\thideLayerAtLimit: 0, // It Defines if a caption should be shown under a Screen Resolution ( Basod on The Width of Browser)\r\n\t\t\thideAllLayerAtLimit: 0, // Hide all The Captions if Width of Browser is less then this value\r\n\t\t\thideSliderAtLimit: 0, // Hide the whole slider, and stop also functions if Width of Browser is less than this value\r\n\t\t\tprogressBar: {\r\n\t\t\t\tdisableProgressBar: false, // Hides Progress Bar if is set to \"on\"\r\n\t\t\t\tstyle: \"horizontal\",\r\n\t\t\t\tsize: \"5px\",\r\n\t\t\t\tradius: 10,\r\n\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\thorizontal: \"left\",\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tcolor: 'rgba(255,255,255,0.5)',\r\n\t\t\t\tbgcolor: 'transparent',\r\n\t\t\t\tbasedon: \"slide\",\r\n\t\t\t\tgapsize: 0,\r\n\t\t\t\treset: 'reset',\r\n\t\t\t\tgaptype: \"gapboth\",\r\n\t\t\t\tgapcolor: 'rgba(255,255,255,0.5)',\r\n\t\t\t\tease: 'none',\r\n\t\t\t\tvisibility: {\r\n\t\t\t\t\t0: true, //desktop\r\n\t\t\t\t\t1: true, //notebok\r\n\t\t\t\t\t2: true, //tablet\r\n\t\t\t\t\t3: true //mobile\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstopAtSlide: -1, // Stop Timer if Slide \"x\" has been Reached. If stopAfterLoops set to 0, then it stops already in the first Loop at slide X which defined. -1 means do not stop at any slide. stopAfterLoops has no sinn in this case.\r\n\t\t\tstopAfterLoops: 0, // Stop Timer if All slides has been played \"x\" times. IT will stop at THe slide which is defined via stopAtSlide:x, if set to -1 slide never stop automatic\r\n\t\t\tshadow: 0, //0 = no Shadow, 1,2,3 = 3 Different Art of Shadows  (No Shadow in Fullwidth Version !)\r\n\r\n\t\t\tstartDelay: 0, // Delay before the first Animation starts.\r\n\t\t\tlazyType: \"none\", //all, smart, single\r\n\t\t\tlazyOnBg: false,\r\n\t\t\tspinner: \"off\",\r\n\t\t\tshuffle: false, // Random Order of Slides,\r\n\t\t\tperspective: \"600px\",\r\n\t\t\tperspectiveType: \"local\", // Perspective Will be set Locally depenent of Layer Values\r\n\r\n\t\t\tviewPort: {\r\n\t\t\t\tenable: false, // if enabled, slider wait with start or wait at first slide.\r\n\t\t\t\tglobal: false,\r\n\t\t\t\tglobalDist: '-400px',\r\n\t\t\t\toutof: \"wait\", // wait,pause\r\n\t\t\t\tvisible_area: \"200px\", // Start Animation when 60% of Slider is visible\r\n\t\t\t\tpresize: false // Presize the Height of the Slider Container for Internal Link Positions\r\n\t\t\t},\r\n\r\n\t\t\tfallbacks: {\r\n\t\t\t\tisJoomla: false,\r\n\t\t\t\tpanZoomDisableOnMobile: false,\r\n\t\t\t\tsimplifyAll: true,\r\n\t\t\t\tnextSlideOnWindowFocus: false,\r\n\t\t\t\tdisableFocusListener: false,\r\n\t\t\t\tallowHTML5AutoPlayOnAndroid: true\r\n\t\t\t},\r\n\r\n\t\t\tfanim: false, // No Global First Different Animation set\r\n\r\n\t\t\tparallax: {\r\n\t\t\t\ttype: \"off\", // off, mouse, scroll, mouse+scroll\r\n\t\t\t\tlevels: [10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85],\r\n\t\t\t\torigo: \"enterpoint\", // slidercenter or enterpoint\r\n\t\t\t\tdisable_onmobile: false,\r\n\t\t\t\tddd_shadow: false,\r\n\t\t\t\tddd_bgfreeze: false,\r\n\t\t\t\tddd_overflow: \"visible\",\r\n\t\t\t\tddd_layer_overflow: \"visible\",\r\n\t\t\t\tddd_z_correction: 65,\r\n\t\t\t\tspeed: 400,\r\n\t\t\t\tspeedbg: 0,\r\n\t\t\t\tspeedls: 0\r\n\t\t\t},\r\n\r\n\t\t\tscrolleffect: {\r\n\t\t\t\tset: false,\r\n\t\t\t\tfade: false,\r\n\t\t\t\tblur: false,\r\n\t\t\t\tscale: false,\r\n\t\t\t\tgrayscale: false,\r\n\t\t\t\tmaxblur: 10,\r\n\t\t\t\tlayers: false,\r\n\t\t\t\tslide: false,\r\n\t\t\t\tdirection: \"both\",\r\n\t\t\t\tmultiplicator: 1.35,\r\n\t\t\t\tmultiplicator_layers: 0.5,\r\n\t\t\t\ttilt: 30,\r\n\t\t\t\tdisable_onmobile: false\r\n\t\t\t},\r\n\r\n\t\t\tsbtimeline: { // SCROLL BASED TIMELINE\r\n\t\t\t\tset: false,\r\n\t\t\t\tfixed: false,\r\n\t\t\t\tfixStart: 0,\r\n\t\t\t\tfixEnd: 0,\r\n\t\t\t\tlayers: false,\r\n\t\t\t\tslide: false,\r\n\t\t\t\tease: \"none\",\r\n\t\t\t\tspeed: 500\r\n\t\t\t},\r\n\r\n\t\t\tcarousel: {\r\n\t\t\t\torientation:'h',\r\n\t\t\t\tprevNextVis:\"50px\",\r\n\t\t\t\teasing: \"power3.inOut\",\r\n\t\t\t\tspeed: 800,\r\n\t\t\t\tshowLayersAllTime: false,\r\n\t\t\t\thorizontal_align: \"center\",\r\n\t\t\t\tvertical_align: \"center\",\r\n\t\t\t\tsnap: true,\r\n\t\t\t\tinfinity: false,\r\n\t\t\t\tstopOnClick: true,\r\n\t\t\t\tspace: 0,\r\n\t\t\t\tmaxVisibleItems: 3,\r\n\t\t\t\tstretch: false,\r\n\t\t\t\tfadeout: true,\r\n\t\t\t\tmaxRotation: 0,\r\n\t\t\t\tmaxOpacity: 100,\r\n\t\t\t\tminScale: 0,\r\n\t\t\t\toffsetScale: false,\r\n\t\t\t\tvary_fade: false,\r\n\t\t\t\tvary_rotation: false,\r\n\t\t\t\tvary_scale: false,\r\n\t\t\t\tborder_radius: \"0px\",\r\n\t\t\t\tpadding_top: 0,\r\n\t\t\t\tpadding_bottom: 0,\r\n\t\t\t\tskewX: 0,\r\n\t\t\t\tskewY: 0,\r\n\t\t\t\tspin: 'off',\r\n\t\t\t\tspinAngle: 0,\r\n\t\t\t\tovershoot: false\r\n\t\t\t},\r\n\t\t\tobserveWrap: false,\r\n\t\t\textensions: \"extensions/\", //example extensions/ or extensions/source/\r\n\t\t\textensions_suffix: \".min.js\",\r\n\t\t\t//addons:[{fileprefix:\"revolution.addon.whiteboard\",init:\"initWhiteBoard\",params:\"opt\",handel:\"whiteboard\"}],\r\n\t\t\tstopLoop: false,\r\n\t\t\twaitForInit: false,\r\n\t\t\tignoreHeightChange: true,\r\n\t\t\tonedpronmobile: false\r\n\t\t}, options));\r\n\t};\r\n\t//Support Defer and Async and Footer Loads\r\n\twindow.RS_MODULES = window.RS_MODULES || {};\r\n\twindow.RS_MODULES.waiting = window.RS_MODULES.waiting || [];\r\n\tvar waitingBasics = ['DOM','main', 'parallax', 'video', 'slideanims', 'actions', 'layeranimation', 'navigation', 'carousel', 'panzoom'];\r\n\tfor (var i in waitingBasics) if (waitingBasics.hasOwnProperty(i) && window.RS_MODULES.waiting.indexOf(waitingBasics[i])==-1) window.RS_MODULES.waiting.push(waitingBasics[i]);\r\n\t//window.RS_MODULES.waiting = window.RS_MODULES.waiting.concat(['DOM','main', 'parallax', 'video', 'slideanims', 'actions', 'layeranimation', 'navigation', 'carousel', 'panzoom']);\r\n\twindow.RS_MODULES.main = { loaded: true, version: version };\r\n\twindow.RS_MODULES.minimal = false;\r\n\r\n\t// INIT THE SLIDERS HERE\r\n\twindow.RS_MODULES.callSliders = function() {\r\n\t\tfor (var i in RS_MODULES.modules) {\r\n\t\t\tif (RS_MODULES.modules[i].once !== true && window.RS_MODULES !== undefined && window.RS_MODULES.minimal) {\r\n\t\t\t\tRS_MODULES.modules[i].once = true;\r\n\t\t\t\tRS_MODULES.modules[i].init();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// ELEMENTOR SPECIALS\r\n\tfunction elementorGlobalHook($scope){\r\n\t\tif (window.elementorFrontend!==undefined && elementorFrontend.hooks !== undefined) elementorFrontend.hooks.removeAction( 'frontend/element_ready/global', elementorGlobalHook);\r\n\t\twindow.RS_MODULES.elementor = {loaded:true, version:'6.5.0'};\r\n\t\tif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\t// Do something that is based on the elementorFrontend object.\r\n\t}\r\n\r\n\t// ELEMENTOR INIT WAITS\r\n\tfunction addElementorHook() {\r\n\t\tif (window.elementorFrontend===undefined || window.elementorFrontend.hooks===undefined || window.elementorFrontend.hooks.addAction===undefined) {\r\n\t\t\twindow.RS_MODULES.elementorCounter++;\r\n\t\t\tif (window.RS_MODULES.elementorCounterCheck && window.RS_MODULES.elementorCounter>20) {\r\n\t\t\t\telementorGlobalHook();\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\trequestAnimationFrame(addElementorHook);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (window.elementorFrontend.config.environmentMode.edit)\r\n\t\t\telementorFrontend.hooks.addAction( 'frontend/element_ready/widget', elementorGlobalHook);\r\n\t\telse elementorGlobalHook();\r\n\t}\r\n\r\n\tfunction checkElementor() {\r\n\t\tif (RS_MODULES.checkElementorCalled==true) return;\r\n\t\tRS_MODULES.checkElementorCalled = true;\r\n\t\tif (document.body && (document.body.className.indexOf('elementor-page')>=0 || document.body.className.indexOf('elementor-default')>=0)) {\r\n\t\t\t// CHECK ELEMENTOR EXISTS\r\n\t\t\twindow.RS_MODULES.waiting = window.RS_MODULES.waiting===undefined ? [] : window.RS_MODULES.waiting;\r\n\t\t\tif (window.RS_MODULES.waiting.indexOf('elementor') == -1) window.RS_MODULES.waiting.push('elementor');\r\n\t\t\tif (document.body && document.body.className.indexOf('elementor-editor-active')==-1) window.RS_MODULES.elementorCounterCheck = true;\r\n\t\t\twindow.RS_MODULES.elementorCounter = 0;\r\n\t\t\taddElementorHook();\r\n\t\t}\r\n\t}\r\n\r\n\t// IF DOCUMENT NOT LADED YET !??? ( NOT POSSIBLE...)\r\n\tif (document.readyState === \"loading\")\r\n\t\tdocument.addEventListener('readystatechange', function() {\r\n\t\t\tif (document.readyState === \"interactive\" || document.readyState === \"complete\") {\r\n\t\t\t\tcheckElementor();\r\n\t\t\t\t window.RS_MODULES.DOM = {loaded:true};\r\n\t\t\t\t window.RS_MODULES.checkMinimal();\r\n\t\t\t}\r\n\t\t});\r\n\telse if (document.readyState === \"complete\" || document.readyState === \"interactive\") {\r\n\t\tcheckElementor();\r\n\t\twindow.RS_MODULES.DOM = {loaded:true};\r\n\t}\r\n\r\n\t//CHECK FOR MINIMAL REQUIREMENTS\r\n\twindow.RS_MODULES.checkMinimal = function() {\r\n\t\tif (window.RS_MODULES.minimal == false) {\r\n\t\t\tvar allthere = window.RS_MODULES.minimal == true ? true : window.RS_MODULES.waiting !== undefined && jQuery.fn.revolution !== undefined && window.tpGS !== undefined && window.tpGS.gsap !== undefined;\r\n\t\t\tif (allthere){\r\n\t\t\t\tfor (var i in window.RS_MODULES.waiting) {\r\n                    if(!window.RS_MODULES.waiting.hasOwnProperty(i) || typeof window.RS_MODULES.waiting[i]==\"function\") continue;\r\n                    if (!allthere) continue;\r\n\t\t\t\t\tif (window.RS_MODULES[window.RS_MODULES.waiting[i]] === undefined) {\r\n\t\t\t\t\t\tallthere = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (allthere) {\r\n\t\t\t\tif (window.RS_MODULES.minimal !== true) jQuery(document).trigger('REVSLIDER_READY_TO_USE');\r\n\t\t\t\twindow.RS_MODULES.minimal = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twindow.RS_MODULES.minimal = true;\r\n\t\t}\r\n\t\tif (window.RS_MODULES.minimal === true) window.RS_MODULES.callSliders()\r\n\r\n\t}\r\n\twindow.RS_MODULES.checkMinimal();\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.navigation.js":"/********************************************\r\n * REVOLUTION EXTENSION - NAVIGATION\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n    \"use strict\";\r\nvar version=\"6.6.0\";\r\n    jQuery.fn.revolution = jQuery.fn.revolution || {};\r\n    var _R = jQuery.fn.revolution;\r\n\r\n\r\n    ///////////////////////////////////////////\r\n    // \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n    ///////////////////////////////////////////\r\n    jQuery.extend(true,_R, {\r\n\r\n        hideUnHideNav : function(id) {\r\n            window.requestAnimationFrame(function() {\r\n                var chng = false;\r\n                if (ckNO(_R[id].navigation.arrows)) chng = biggerNav(_R[id].navigation.arrows,id,chng);\r\n                if (ckNO(_R[id].navigation.bullets)) chng = biggerNav(_R[id].navigation.bullets,id,chng);\r\n                if (ckNO(_R[id].navigation.thumbnails)) chng = biggerNav(_R[id].navigation.thumbnails,id,chng);\r\n                if (ckNO(_R[id].navigation.tabs)) chng = biggerNav(_R[id].navigation.tabs,id,chng);\r\n                if (chng) _R.manageNavigation(id);\r\n\r\n\r\n            });\r\n        },\r\n\r\n\r\n        // CALCULATE OUTTER NAVIGATION SUM DIMENSION\r\n        getOuterNavDimension : function(id) {\r\n            _R[id].navigation.scaler = Math.max(0,Math.min(1,(_R.winW-480) / 500));\r\n            var r = {left:0, right:0 , horizontal:0, vertical:0, top:0, bottom:0};\r\n\r\n\r\n            if (_R[id].navigation.thumbnails && _R[id].navigation.thumbnails.enable) {\r\n                _R[id].navigation.thumbnails.isVisible = _R[id].navigation.thumbnails.hide_under<_R[id].module.width &&  _R[id].navigation.thumbnails.hide_over>_R[id].module.width;\r\n                _R[id].navigation.thumbnails.cw = Math.max(Math.round(_R[id].navigation.thumbnails.width * _R[id].navigation.scaler) , _R[id].navigation.thumbnails.min_width);\r\n                _R[id].navigation.thumbnails.ch = Math.round((_R[id].navigation.thumbnails.cw/_R[id].navigation.thumbnails.width) * _R[id].navigation.thumbnails.height);\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-left\") r.left = _R[id].navigation.thumbnails.cw + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-right\") r.right = _R[id].navigation.thumbnails.cw + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-top\") r.top = _R[id].navigation.thumbnails.ch + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-bottom\") r.bottom = _R[id].navigation.thumbnails.ch + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n            }\r\n\r\n            if (_R[id].navigation.tabs && _R[id].navigation.tabs.enable) {\r\n                _R[id].navigation.tabs.isVisible = _R[id].navigation.tabs.hide_under<_R[id].module.width &&  _R[id].navigation.tabs.hide_over>_R[id].module.width;\r\n                _R[id].navigation.tabs.cw = Math.max(Math.round(_R[id].navigation.tabs.width * _R[id].navigation.scaler) , _R[id].navigation.tabs.min_width);\r\n                _R[id].navigation.tabs.ch = Math.round((_R[id].navigation.tabs.cw/_R[id].navigation.tabs.width) * _R[id].navigation.tabs.height);\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-left\") r.left += _R[id].navigation.tabs.cw + (2*_R[id].navigation.tabs.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-right\") r.right += _R[id].navigation.tabs.cw + (2*_R[id].navigation.tabs.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-top\") r.top += _R[id].navigation.tabs.ch + (2*_R[id].navigation.tabs.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-bottom\") r.bottom += _R[id].navigation.tabs.ch + (2*_R[id].navigation.tabs.wrapper_padding);\r\n            }\r\n            return {left:r.left, right:r.right, horizontal:r.left+r.right, vertical:r.top+r.bottom, top:r.top, bottom:r.bottom};\r\n        },\r\n\r\n        resizeThumbsTabs : function(id,force) {\r\n\r\n            if (_R[id]!==undefined && _R[id].navigation.use && ((_R[id].navigation && _R[id].navigation.bullets.enable) || (_R[id].navigation && _R[id].navigation.tabs.enable) || (_R[id].navigation && _R[id].navigation.thumbnails.enable))) {\r\n\r\n                var tws = tpGS.gsap.timeline(),\r\n                    otab = _R[id].navigation.tabs,\r\n                    othu = _R[id].navigation.thumbnails,\r\n                    otbu = _R[id].navigation.bullets;\r\n\r\n                tws.pause();\r\n\r\n\r\n                if (ckNO(otab) && (force || otab.width>otab.min_width)) rtt(id, tws,_R[id].c,otab,_R[id].slideamount,'tab');\r\n                if (ckNO(othu) && (force || othu.width>othu.min_width)) {\r\n                    rtt(id, tws,_R[id].c,othu,_R[id].slideamount,'thumb', id);\r\n                }\r\n                if (ckNO(otbu) && force) {\r\n\r\n                    // SET BULLET SPACES AND POSITION\r\n                    var bw = _R[id].c.find('.tp-bullets');\r\n\r\n                    bw.find('.tp-bullet').each(function(i){\r\n                        var b = jQuery(this),\r\n                            am = i+1,\r\n                            w = b.outerWidth()+parseInt((otbu.space===undefined? 0:otbu.space),0),\r\n                            h = b.outerHeight()+parseInt((otbu.space===undefined? 0:otbu.space),0);\r\n\r\n                    if (otbu.direction===\"vertical\") {\r\n                        b.css({top:((am-1)*h)+\"px\", left:\"0px\"});\r\n                        bw.css({height:(((am-1)*h) + b.outerHeight()),width:b.outerWidth()});\r\n                    }\r\n                    else {\r\n                        b.css({left:((am-1)*w)+\"px\", top:\"0px\"});\r\n                        bw.css({width:(((am-1)*w) + b.outerWidth()),height:b.outerHeight()});\r\n                    }\r\n                    });\r\n\r\n                }\r\n\r\n                tws.play();\r\n\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        updateNavIndexes : function(id) {\r\n            var _ = _R[id].c;\r\n\r\n            function setNavIndex(a) {\r\n                if (_.find(a).lenght>0) {\r\n                    _.find(a).each(function(i) {\r\n                        jQuery(this).data('liindex',i);\r\n                    });\r\n                }\r\n            }\r\n            setNavIndex('rs-tab');\r\n            setNavIndex('rs-bullet');\r\n            setNavIndex('rs-thumb');\r\n            _R.resizeThumbsTabs(id,true);\r\n            _R.manageNavigation(id);\r\n\r\n        },\r\n\r\n        // PUT NAVIGATION IN POSITION AND MAKE SURE THUMBS AND TABS SHOWING TO THE RIGHT POSITION\r\n        manageNavigation : function(id,movetoposition) {\r\n            if (!_R[id].navigation.use) return;\r\n\r\n\r\n            if (ckNO(_R[id].navigation.bullets)) {\r\n                if (_R[id].sliderLayout!=\"fullscreen\" && _R[id].sliderLayout!=\"fullwidth\") {\r\n                    // OFFSET ADJUSTEMENT FOR LEFT ARROWS BASED ON THUMBNAILS AND TABS OUTTER\r\n                    _R[id].navigation.bullets.h_offset_old = _R[id].navigation.bullets.h_offset_old === undefined ? parseInt(_R[id].navigation.bullets.h_offset,0) : _R[id].navigation.bullets.h_offset_old;\r\n                    _R[id].navigation.bullets.h_offset = _R[id].navigation.bullets.h_align===\"center\" ? _R[id].navigation.bullets.h_offset_old+_R[id].outNavDims.left/2 -_R[id].outNavDims.right/2: _R[id].navigation.bullets.h_offset_old+_R[id].outNavDims.left;\r\n                }\r\n                setNavElPositions(_R[id].navigation.bullets,id);\r\n            }\r\n\r\n            if (ckNO(_R[id].navigation.thumbnails)) setNavElPositions(_R[id].navigation.thumbnails,id);\r\n\r\n            if (ckNO(_R[id].navigation.tabs)) setNavElPositions(_R[id].navigation.tabs,id);\r\n\r\n            if (ckNO(_R[id].navigation.arrows)) {\r\n\r\n                if (_R[id].sliderLayout!=\"fullscreen\" && _R[id].sliderLayout!=\"fullwidth\") {\r\n                    // OFFSET ADJUSTEMENT FOR LEFT ARROWS BASED ON THUMBNAILS AND TABS OUTTER\r\n\r\n                    _R[id].navigation.arrows.left.h_offset_old = _R[id].navigation.arrows.left.h_offset_old === undefined ? parseInt(_R[id].navigation.arrows.left.h_offset,0) : _R[id].navigation.arrows.left.h_offset_old;\r\n                    _R[id].navigation.arrows.left.h_offset = _R[id].navigation.arrows.left.h_align===\"right\" ?  _R[id].navigation.arrows.left.h_offset_old : _R[id].navigation.arrows.left.h_offset_old;\r\n\r\n                    _R[id].navigation.arrows.right.h_offset_old = _R[id].navigation.arrows.right.h_offset_old === undefined ? parseInt(_R[id].navigation.arrows.right.h_offset,0) : _R[id].navigation.arrows.right.h_offset_old;\r\n                    _R[id].navigation.arrows.right.h_offset = _R[id].navigation.arrows.right.h_align===\"right\" ? _R[id].navigation.arrows.right.h_offset_old : _R[id].navigation.arrows.right.h_offset_old;\r\n\r\n                }\r\n                setNavElPositions(_R[id].navigation.arrows.left,id);\r\n                setNavElPositions(_R[id].navigation.arrows.right,id);\r\n            }\r\n\r\n            if (movetoposition!==false) {\r\n                if (ckNO(_R[id].navigation.thumbnails)) moveThumbsInPosition(_R[id].navigation.thumbnails,id);\r\n                if (ckNO(_R[id].navigation.tabs)) moveThumbsInPosition(_R[id].navigation.tabs,id);\r\n            }\r\n        },\r\n\r\n        showFirstTime : function(id) {\r\n            showNavElements(id);\r\n            _R.hideUnHideNav(id);\r\n        },\r\n        selectNavElement : function(id,si,cl,callback) {\r\n            var el = _R[id].cpar[0].getElementsByClassName(cl);\r\n            for (var i=0;i<el.length;i++) if (_R.gA(el[i],\"key\")===si) {\r\n                el[i].classList.add('selected');\r\n                if (callback!==undefined) callback();\r\n            } else el[i].classList.remove('selected');\r\n        },\r\n        transferParams : function(w,p) {\r\n            if (p!==undefined) for (var i in p.params) if (p.params.hasOwnProperty(i)) w = w.replace(p.params[i].from,p.params[i].to);\r\n            return w;\r\n        },\r\n\r\n        // UPDATE CONTENT OF NAVIGATION ELEMENTS\r\n        updateNavElementContent : function(id,_a,_b,_c,_d) {\r\n            if (_R[id].pr_next_key===undefined && _R[id].pr_active_key===undefined) return;\r\n\r\n            var key= _R[id].pr_next_key===undefined ? _R[id].pr_cache_pr_next_key===undefined ? _R[id].pr_active_key : _R[id].pr_cache_pr_next_key : _R[id].pr_next_key,\r\n                si = _R.gA(_R[id].slides[key],\"key\"),ai = 0, f = false;\r\n\r\n            if (_b.enable) _R.selectNavElement(id,si,'tp-bullet');\r\n            if (_c.enable) _R.selectNavElement(id,si,'tp-thumb',function() {moveThumbsInPosition(_c,id);});\r\n            if (_d.enable) _R.selectNavElement(id,si,'tp-tab',function() {moveThumbsInPosition(_d,id);});\r\n\r\n            for (var i in _R[id].thumbs) {  ai = f===true ? ai : i; f = _R[id].thumbs[i].id===si || i==si ? true : f;}\r\n            ai = parseInt(ai,0);\r\n            var pi = ai>0 ? ai-1 : _R[id].slideamount-1,\r\n                ni = ai+1==_R[id].slideamount ? 0 : ai+1;\r\n\r\n            if (_a.enable === true && (_a.pi!== pi && _a.ni!==ni)) {\r\n                _a.pi = pi;\r\n                _a.ni = ni;\r\n                _a.left.c[0].innerHTML = _R.transferParams(_a.tmp,_R[id].thumbs[pi]);\r\n                if (ni>_R[id].slideamount) return;\r\n                _a.right.c[0].innerHTML = _R.transferParams(_a.tmp,_R[id].thumbs[ni]);\r\n                _a.right.iholder = _a.right.c.find('.tp-arr-imgholder');\r\n                _a.left.iholder = _a.left.c.find('.tp-arr-imgholder');\r\n\r\n                if (!_a.rtl) {\r\n                    if (_R[id].thumbs[pi]!==undefined && _a.left.iholder[0]!==undefined) tpGS.gsap.set(_a.left.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[pi].src+\")\"});\r\n                    if (_a.right.iholder[0]!==undefined) tpGS.gsap.set(_a.right.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[ni].src+\")\"});\r\n                } else {\r\n                    if (_a.left.iholder[0]!==undefined) tpGS.gsap.set(_a.left.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[ni].src+\")\"});\r\n                    if (_R[id].thumbs[pi]!==undefined && _a.right.iholder[0]!==undefined) tpGS.gsap.set(_a.right.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[pi].src+\")\"});\r\n                }\r\n            }\r\n        },\r\n\r\n\r\n        // MANAGE THE NAVIGATION\r\n         createNavigation : function(id) {\r\n\r\n            var\t_a = _R[id].navigation.arrows, _b = _R[id].navigation.bullets, _c = _R[id].navigation.thumbnails, _d = _R[id].navigation.tabs,\r\n                a = ckNO(_a), b = ckNO(_b), c = ckNO(_c), d = ckNO(_d);\r\n\r\n            // Initialise Keyboard Navigation if Option set so\r\n            initKeyboard(id);\r\n\r\n            // Initialise Mouse Scroll Navigation if _R[id]ion set so\r\n            initMouseScroll(id);\r\n\r\n            //Draw the Arrows\r\n            if (a) {\r\n                initArrows(_a,id);\r\n                _a.c = _R[id].cpar.find('.tparrows');\r\n            }\r\n\r\n            // BUILD BULLETS, THUMBS and TABS\r\n            for (var i in _R[id].slides) {\r\n                if (!_R[id].slides.hasOwnProperty(i)) continue;\r\n                if (_R.gA(_R[id].slides[i],'not_in_nav')!='true') {\r\n                    var li_rtl = jQuery(_R[id].slides[_R[id].slides.length-1-i]),\r\n                        li = jQuery(_R[id].slides[i]);\r\n                    if (b)\r\n                        if (_R[id].navigation.bullets.rtl)\r\n                            addBullet(_R[id].c,_b,li_rtl,id);\r\n                        else\r\n                            addBullet(_R[id].c,_b,li,id);\r\n\r\n                    if (c)\r\n                        if (_R[id].navigation.thumbnails.rtl)\r\n                            addThumb(_R[id].c,_c,li_rtl,'tp-thumb',id);\r\n                        else\r\n                            addThumb(_R[id].c,_c,li,'tp-thumb',id);\r\n                    if (d)\r\n                        if (_R[id].navigation.tabs.rtl)\r\n                            addThumb(_R[id].c,_d,li_rtl,'tp-tab',id);\r\n                        else\r\n                            addThumb(_R[id].c,_d,li,'tp-tab',id);\r\n                }\r\n            }\r\n\r\n            if (b) setNavElPositions(_b,id);\r\n            if (c) setNavElPositions(_c,id);\r\n            if (d) setNavElPositions(_d,id);\r\n            if (c || d) _R.updateDims(id);\r\n\r\n            _R[id].navigation.createNavigationDone = true;\r\n\r\n\r\n            if (c) jQuery.extend(true,_c,navOExt(id,\"thumb\"));\r\n            if (d) jQuery.extend(true,_d,navOExt(id,\"tab\"));\r\n\r\n\r\n            // LISTEN TO SLIDE CHANGE - SET ACTIVE SLIDE BULLET\r\n            _R[id].c.on('revolution.slide.onafterswap revolution.nextslide.waiting',function() {_R.updateNavElementContent(id,_a,_b,_c,_d)});\r\n\r\n            hdResets(_a);\r\n            hdResets(_b);\r\n            hdResets(_c);\r\n            hdResets(_d);\r\n\r\n            // HOVER OVER ELEMENTS SHOULD SHOW/HIDE NAVIGATION ELEMENTS\r\n\t\t_R[id].cpar.on(_R.ISM ? \"touchstart touchmove\" : \"mouseenter mousemove\",function(e) {\r\n                if (e.target!==undefined && e.target.className!==undefined && typeof e.target.className===\"string\" && e.target.className.indexOf(\"rs-waction\")>=0) return;\r\n                if (_R[id].tpMouseOver!==true) {\r\n                    if (_R[id].firstSlideAvailable) {\r\n                        _R[id].tpMouseOver=true;\r\n                        showNavElements(id);\r\n                        // ON MOBILE WE NEED TO HIDE ELEMENTS EVEN AFTER TOUCH\r\n                        if (_R.ISM && _R[id].someNavIsDragged!==true) {\r\n                            ct(_R[id].hideAllNavElementTimer);\r\n                            _R[id].hideAllNavElementTimer = setTimeout(function() {\r\n                                _R[id].tpMouseOver=false;\r\n                                hidaNavElements(id);\r\n                            },150);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n\t\t_R[id].cpar.on(_R.ISM ? \"touchend\" : \"mouseleave \",function() {\r\n                _R[id].tpMouseOver=false;\r\n                hidaNavElements(id);\r\n            });\r\n\r\n            // Initialise Swipe Navigation\r\n            if (c || d || _R[id].sliderType===\"carousel\" || ((_R[id].navigation.touch.touchOnDesktop) || (_R[id].navigation.touch.touchenabled && _R.ISM))) swipeAction(id);\r\n            _R[id].navigation.initialised = true;\r\n            _R.updateNavElementContent(id,_a,_b,_c,_d);\r\n            _R.showFirstTime(id);\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n    /////////////////////////////////\r\n    //\t-\tINTERNAL FUNCTIONS\t- ///\r\n    /////////////////////////////////\r\n\r\n    function navOExt(id,a) {\r\n        var r = new Object({single:'.tp-'+a,c:_R[id].cpar.find('.tp-'+a+'s')});\r\n        r.mask = r.c.find('.tp-'+a+'-mask');\r\n        r.wrap = r.c.find('.tp-'+a+'s-inner-wrapper');\r\n        return r;\r\n    }\r\n\r\n    var moveThumbsInPosition = function(s,id) {\r\n        if (s===undefined || s.mask==undefined) return;\r\n        var tw = s.direction===\"vertical\" ?\r\n            s.mask.find(s.single).first().outerHeight(true)+s.space :\r\n            s.mask.find(s.single).first().outerWidth(true)+s.space,\r\n            tmw = s.direction===\"vertical\" ? s.mask.height() : s.mask.width(),\r\n            ti = s.mask.find(s.single+'.selected').data('liindex');\r\n        ti = s.rtl ? (_R[id].slideamount - ti) : ti;\r\n        ti = ti===undefined ? 0 : ti;\r\n        ti = ti>0 && _R[id].sdir===1 ? s.visibleAmount>1 ? ti-1 : ti  : ti;\r\n\r\n        var me = tmw/tw,\r\n            ts = s.direction===\"vertical\" ? s.mask.height() : s.mask.width(),\r\n            tp = 0-(ti * tw),\r\n            els =  s.direction===\"vertical\" ? s.wrap.height() : s.wrap.width(),\r\n            curpos = tp < 0-(els-ts) ? 0-(els-ts) : tp,\r\n            elp = _R.gA(s.wrap[0],\"offset\");\r\n\r\n        elp = elp===undefined ? 0 : elp;\r\n\r\n        if (me>2) {\r\n            curpos = tp - (elp+tw) <= 0 ? tp - (elp+tw) < 0-tw ? elp : curpos + tw : curpos;\r\n            curpos = ( (tp-tw + elp + tmw)< tw && tp  + (Math.round(me)-2)*tw < elp) ? tp + (Math.round(me)-2)*tw : curpos;\r\n        }\r\n\r\n        curpos = (s.direction!==\"vertical\" && s.mask.width()>=s.wrap.width()  || s.direction===\"vertical\" && s.mask.height()>=s.wrap.height()) ? 0 : curpos < 0-(els-ts) ? 0-(els-ts) : curpos > 0 ? 0 : curpos;\r\n\r\n\r\n\r\n        if (!s.c.hasClass(\"dragged\")) {\r\n            if (s.direction===\"vertical\")\r\n                s.wrap.data('tmmove',tpGS.gsap.to(s.wrap,0.5,{top:curpos+\"px\",ease:\"power3.inOut\"}));\r\n            else\r\n                s.wrap.data('tmmove',tpGS.gsap.to(s.wrap,0.5,{left:curpos+\"px\",ease:\"power3.inOut\"}));\r\n            s.wrap.data('offset',curpos);\r\n        }\r\n    };\r\n\r\n\r\n    // RESIZE THE THUMBS BASED ON ORIGINAL SIZE AND CURRENT SIZE OF WINDOW\r\n    var rtt = function(id,tws,c,o,lis,wh) {\r\n        var h = c.parent().find('.tp-'+wh+'s'),\r\n            ins = h.find('.tp-'+wh+'s-inner-wrapper'),\r\n            mask = h.find('.tp-'+wh+'-mask'),\r\n            iw = o.direction === \"vertical\" ? o.cw : (o.cw*lis) + (parseFloat(o.space)*(lis-1)),\r\n            ih = o.direction === \"vertical\" ? (o.ch*lis) + (parseInt(o.space)*(lis-1)) : o.ch,\r\n            anm = o.direction === \"vertical\" ? {width:o.cw+\"px\"} : {height:o.ch+\"px\"};\r\n\r\n        tws.add(tpGS.gsap.set(h,anm));\r\n        tws.add(tpGS.gsap.set(ins,{width:iw+\"px\",height:ih+\"px\"}));\r\n\r\n        // Fixes wrong mask width when thumbs amount is set\r\n        // Old tws.add(tpGS.gsap.set(mask,{width:iw+\"px\",height:ih+\"px\"}));\r\n        if(o.direction === 'horizontal') {\r\n            var maskw = Math.min(iw, ((o.cw * o.visibleAmount) + (parseFloat(o.space) * (o.visibleAmount - 1))));\r\n            tws.add(tpGS.gsap.set(mask, { width: maskw + \"px\", height: ih + \"px\" }));\r\n        } else {\r\n            var maskh = Math.min(ih, ((o.ch * o.visibleAmount) + (parseFloat(o.space) * (o.visibleAmount - 1))));\r\n            tws.add(tpGS.gsap.set(mask, { width: iw + \"px\", height: maskh + \"px\" }));\r\n        }\r\n\r\n\r\n        if(ins.outerWidth() !== null) _R[id].thumbResized = true;\r\n\r\n        var fin = ins.find('.tp-'+wh+'');\r\n        if (fin)\r\n            jQuery.each(fin,function(i,el) {\r\n                if (o.direction === \"vertical\")\r\n                        tws.add(tpGS.gsap.set(el,{top:(i*(o.ch+parseInt((o.space===undefined? 0:o.space),0))),width:o.cw+\"px\",height:o.ch+\"px\"}));\r\n                else\r\n                if (o.direction === \"horizontal\")\r\n                    tws.add(tpGS.gsap.set(el,{left:(i*(o.cw+parseInt((o.space===undefined? 0:o.space),0))),width:o.cw+\"px\",height:o.ch+\"px\"}));\r\n            });\r\n        return tws;\r\n    };\r\n\r\n    // INTERNAL FUNCTIONS\r\n    var normalizeWheel = function( event) {\r\n        var  y = 0;\r\n\r\n        if ('deltaY' in event || 'deltaX' in event) { y = (event.deltaY==0 || event.deltaY==-0) && (event.deltaX<0 || event.deltaX>0) ? event.deltaX : event.deltaY; } else {\r\n              if ('detail'      in event) { y = event.detail; }\r\n              if ('wheelDelta'  in event) { y = -event.wheelDelta / 120; }\r\n              if ('wheelDeltaY' in event) { y = -event.wheelDeltaY / 120; }\r\n        }\r\n        y = navigator.userAgent.match(/mozilla/i) ? y*10 : y;\r\n        if (y>300 || y<-300) y = y/10;\r\n        return y;\r\n    };\r\n\r\n    var initKeyboard = function(id) {\r\n        if (_R[id].navigation.keyboardNavigation!==true)  return;\r\n        _R.document.on('keydown', function(e){\r\n\r\n            if ((_R[id].navigation.keyboard_direction==\"horizontal\" && e.keyCode == 39) || (_R[id].navigation.keyboard_direction==\"vertical\" && e.keyCode==40)) {\r\n                if (_R[id].keydown_time_stamp !==undefined && ((new Date().getTime() - _R[id].keydown_time_stamp)<1000)) return;\r\n                _R[id].sc_indicator=\"arrow\";\r\n                _R[id].sc_indicator_dir = 0;\r\n                if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n                _R.callingNewSlide(id,1,_R[id].sliderType===\"carousel\");\r\n            }\r\n            if ((_R[id].navigation.keyboard_direction==\"horizontal\" && e.keyCode == 37) || (_R[id].navigation.keyboard_direction==\"vertical\" && e.keyCode==38)) {\r\n                if (_R[id].keydown_time_stamp !==undefined && ((new Date().getTime() - _R[id].keydown_time_stamp)<1000)) return;\r\n                _R[id].sc_indicator=\"arrow\";\r\n                _R[id].sc_indicator_dir = 1;\r\n                if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n                _R.callingNewSlide(id,-1,_R[id].sliderType===\"carousel\");\r\n            }\r\n            _R[id].keydown_time_stamp = new Date().getTime();\r\n        });\r\n    };\r\n\r\n\r\n\r\n    var initMouseScroll = function(id) {\r\n\r\n        if (_R[id].navigation.mouseScrollNavigation!==true && _R[id].navigation.mouseScrollNavigation!==\"on\" && _R[id].navigation.mouseScrollNavigation!==\"carousel\") return;\r\n\r\n\t_R[id].c[0].addEventListener('wheel', wheelListener, {passive: false});\r\n\r\n\tfunction wheelListener(e) {\r\n\t\tvar y = normalizeWheel(e),\r\n                ret = false,\r\n                fs = _R[id].pr_active_key==0 || _R[id].pr_processing_key == 0,\r\n                ls = _R[id].pr_active_key==_R[id].slideamount-1 ||  _R[id].pr_processing_key == _R[id].slideamount-1,\r\n                b = _R[id].topc!==undefined ? _R[id].topc[0].getBoundingClientRect() : _R[id].canv.height === 0 ? _R[id].cpar[0].getBoundingClientRect() : _R[id].c[0].getBoundingClientRect(),\r\n\t\t\tvisiblesize = b.top >= 0 && b.bottom <= _R.winH ? 1 : b.top >= 0 && b.bottom >= _R.winH ? (_R.winH - Math.round(b.top)) / b.height : b.top <= 0 && b.bottom <= _R.winH ? Math.round(b.bottom) / b.height : 1;\r\n\r\n\t\t\tvar dir = y<0 ? -1 : 1,\r\n\t\t\t\twVP = _R[id].navigation.wheelViewPort;\r\n\r\n\t\t\tvisiblesize = Math.round(visiblesize*100) / 100;\r\n                if (_R[id].navigation.mouseScrollReverse==\"reverse\") {var a = ls; ls = fs;fs = a;}\r\n\r\n\t\tif(wVP - visiblesize <= _R[id].navigation.threshold/100 && !(visiblesize>=wVP)\r\n\t\t\t&& !((b.top >= 0 && dir === -1) || b.top <= 0 && dir === 1)) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif(!_R[id].mScrollTween){\r\n\t\t\t\tvar scrollTarget = _R[id].navigation.target === 'window' || !_R[id].navigation.target ? window : _R[id].navigation.target;\r\n\t\t\t\t_R[id].mScrollTween = tpGS.gsap.to(scrollTarget, {\r\n\t\t\t\t\tduration:  jQuery.fn.revolution.isWebkit() ? .1 : 0.7,\r\n\t\t\t\t\tscrollTo:{\r\n\t\t\t\t\t\ty: _R[id].topc,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tease: \"power2.out\",\r\n\t\t\t\t\tonComplete: function (){\r\n\t\t\t\t\t\t_R[id].mScrollTween.kill();\r\n\t\t\t\t\t\tdelete _R[id].mScrollTween;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t} else if (visiblesize>=wVP) {\r\n\r\n                if (_R[id].sliderType===\"carousel\" && _R[id].carousel.snap===false)\r\n                    _R.swipeAnimate({id:id,to:(_R[id].carousel.slide_offset+(y*5)),direction:y<0 ? \"left\" : \"right\",easing:\"power2.out\",phase:\"move\"});\r\n                else {\r\n\r\n\t\t\t\t_R[id].sc_indicator_dir = (_R[id].navigation.mouseScrollReverse===\"reverse\" && dir<0) || (_R[id].navigation.mouseScrollReverse!==\"reverse\" && dir>0) ? (_R[id].navigation.mouseScrollReverse!==\"reverse\" ? 0 : 1) : (_R[id].navigation.mouseScrollReverse!==\"reverse\" ? 1: 0);\r\n                    if (_R[id].navigation.mouseScrollNavigation==\"carousel\" || (_R[id].sc_indicator_dir===0 && !ls) || (_R[id].sc_indicator_dir===1 && !fs)) {\r\n\t\t\t\t\tif (_R[id].pr_processing_key===undefined && _R[id].justmouseScrolled!==true) {\r\n                            _R[id].sc_indicator=\"arrow\";\r\n                            if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n\t\t\t\t\t\t_R.callingNewSlide(id,_R[id].sc_indicator_dir===0 ? (_R[id].navigation.mouseScrollReverse===\"reverse\" ? -1 : 1) : (_R[id].navigation.mouseScrollReverse===\"reverse\" ? 1 : -1),_R[id].sliderType===\"carousel\");\r\n                            _R[id].justmouseScrolled = true;\r\n                            setTimeout(function() {\r\n                                _R[id].justmouseScrolled=false;\r\n                            },_R[id].navigation.wheelCallDelay)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//else delete _R[id].sc_indicator_dir;\r\n                    } else if (_R[id].justmouseScrolled!==true) ret = true;\r\n                }\r\n\r\n                if (!ret) {\r\n                    e.preventDefault(e);\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n\t}\r\n    };\r\n\r\n    var getClosest = function (elem, tagName) {\r\n        for ( ; elem && elem !== document; elem = elem.parentNode ) {\r\n            if ( elem.tagName === tagName ) return elem;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    var isme = function (a,e) {\r\n            var ret=false;\r\n            if (e.path===undefined || _R.ISM) ret = getClosest(e.target,a);\r\n            for (var i in e.path) if (e.path.hasOwnProperty(i) && e.path[i].tagName===a) ret = true;\r\n            return ret;\r\n    };\r\n    // \t-\tSET THE SWIPE FUNCTION //\r\n\r\n    var swipeAction = function(id) {\r\n        // TOUCH ENABLED SCROLL\r\n        var _ = _R[id].carousel,\r\n            ONANDROID = _R.is_android();\r\n\r\n        jQuery(\".bullet, .bullets, .tp-bullets, .tparrows\").addClass(\"noSwipe\");\r\n        _R[id].navigation.touch = _R[id].navigation.touch===undefined ? {} : _R[id].navigation.touch;\r\n        _R[id].navigation.touch.swipe_direction = _R[id].navigation.touch.swipe_direction===undefined ? \"horizontal\" : _R[id].navigation.touch.swipe_direction;\r\n\r\n\r\n        /*\r\n        Swipe over Navigation\r\n        */\r\n        _R[id].cpar.find('.rs-nav-element').rsswipe({\r\n            allowPageScroll:\"vertical\",\r\n            triggerOnTouchLeave:true,\r\n            treshold:_R[id].navigation.touch.swipe_treshold,\r\n            fingers:_R[id].navigation.touch.swipe_min_touches>5 ? 1 : _R[id].navigation.touch.swipe_min_touches,\r\n            excludedElements:\"button, input, select, textarea, .noSwipe, .rs-waction\",\r\n            tap:function(event,target) {\r\n                if (target!==undefined)\r\n                    var p = jQuery(target).closest('rs-thumb'); if (p!==undefined && p.length>0) p.trigger('click'); else { p = jQuery(target).closest('rs-tab'); if (p.length>0) p.trigger('click'); else { p = jQuery(target).closest('rs-bullet'); if (p.length>0) p.trigger('click');}}\r\n            },\r\n            swipeStatus:function(event,phase,direction,distance,duration,fingerCount,fingerData) {\r\n                // SWIPE OVER THUMBS OR TABS\r\n                if (phase===\"start\" || phase===\"move\" || phase===\"end\" || phase==\"cancel\") {\r\n                    var ONTHUMBS =  isme('RS-THUMB',event),\r\n                        ONTABS =  isme('RS-TAB',event);\r\n                    if (ONTHUMBS===false && ONTABS===false) {\r\n                        ONTHUMBS =  event.target.tagName === 'RS-THUMBS-WRAP' || event.target.tagName === 'RS-THUMBS' || event.target.className.indexOf('tp-thumb-mask')>=0;\r\n                        if (ONTHUMBS!==true) ONTABS =  event.target.tagName === 'RS-TABS-WRAP' || event.target.tagName === 'RS-TABS' ||  event.target.className.indexOf('tp-tab-mask')>=0 ;\r\n                    }\r\n                    var\tdistanceX = phase===\"start\" ? 0 : ONANDROID ? fingerData[0].end.x - fingerData[0].start.x : event.pageX - _.screenX,\r\n                        distanceY = phase===\"start\" ? 0 : ONANDROID ? fingerData[0].end.y - fingerData[0].start.y : event.pageY - _.screenY,\r\n                        thumbs = ONTHUMBS ? \".tp-thumbs\" : \".tp-tabs\",\r\n                        thumbmask = ONTHUMBS ? \".tp-thumb-mask\" : \".tp-tab-mask\",\r\n                        thumbsiw = ONTHUMBS ? \".tp-thumbs-inner-wrapper\" : \".tp-tabs-inner-wrapper\",\r\n                        thumb = ONTHUMBS ? \".tp-thumb\" : \".tp-tab\",\r\n                        _o = ONTHUMBS ? _R[id].navigation.thumbnails : _R[id].navigation.tabs,\r\n                        t= _R[id].cpar.find(thumbmask),\r\n                        el = t.find(thumbsiw),\r\n                        tdir = _o.direction,\r\n                        els = tdir===\"vertical\" ? el.height() : el.width(),\r\n                        ts =  tdir===\"vertical\" ? t.height() : t.width(),\r\n                        tw = tdir===\"vertical\" ? t.find(thumb).first().outerHeight(true)+parseFloat(_o.space) : t.find(thumb).first().outerWidth(true)+parseFloat(_o.space),\r\n                        newpos =  (el.data('offset') === undefined ? 0 : parseInt(el.data('offset'),0)),\r\n                        curpos = 0;\r\n\r\n                    switch (phase) {\r\n                        case \"start\":\r\n                            if (tdir===\"vertical\") event.preventDefault();\r\n                            _.screenX = ONANDROID ? fingerData[0].end.x : event.pageX;\r\n                            _.screenY = ONANDROID ? fingerData[0].end.y : event.pageY;\r\n                            _R[id].cpar.find(thumbs).addClass(\"dragged\");\r\n                            newpos = tdir === \"vertical\" ? el.position().top : el.position().left;\r\n                            el.data('offset',newpos);\r\n                            if (el.data('tmmove')) el.data('tmmove').pause();\r\n                            _R[id].someNavIsDragged = true;\r\n                            clearAllHidings(id);\r\n                        break;\r\n                        case \"move\":\r\n                            if (els<=ts) return false;\r\n                            curpos = newpos + (tdir === \"vertical\" ? distanceY : distanceX);\r\n                            curpos = curpos>0 ? tdir===\"horizontal\" ? curpos - (el.width() * (curpos/el.width() * curpos/el.width())) : curpos - (el.height() * (curpos/el.height() * curpos/el.height())) : curpos;\r\n                            var dif = tdir===\"vertical\" ? 0-(el.height()-t.height()) : 0-(el.width()-t.width());\r\n                            curpos = curpos < dif ? tdir===\"horizontal\" ? curpos + (el.width() * (curpos-dif)/el.width() * (curpos-dif)/el.width()) : curpos + (el.height() * (curpos-dif)/el.height() * (curpos-dif)/el.height()) : curpos;\r\n                            if (tdir===\"vertical\") tpGS.gsap.set(el,{top:curpos+\"px\"}); else tpGS.gsap.set(el,{left:curpos+\"px\"});\r\n                            ct(_R[id].hideAllNavElementTimer);\r\n                        break;\r\n                        case \"end\":\r\n                        case \"cancel\":\r\n\t\t\t\t\t\tif(_R[id].navigation.draggable && _R[id].navigation.draggable.enable) _R[id].navigation.draggable.enable();\r\n\t\t\t\t\t\tif(_.draggable && _.draggable.enable) _.draggable.enable();\r\n\r\n                            curpos = newpos + (tdir === \"vertical\" ? distanceY : distanceX);\r\n                            curpos = tdir===\"vertical\" ? curpos < 0-(el.height()-t.height()) ? 0-(el.height()-t.height()) : curpos : curpos < 0-(el.width()-t.width()) ? 0-(el.width()-t.width()) : curpos;\r\n                            curpos = curpos > 0 ? 0 : curpos;\r\n                            curpos = Math.abs(distance)>tw/10 ? distance<=0 ? Math.floor(curpos/tw)*tw : Math.ceil(curpos/tw)*tw : distance<0 ? Math.ceil(curpos/tw)*tw : Math.floor(curpos/tw)*tw;\r\n                            curpos = tdir===\"vertical\" ? curpos < 0-(el.height()-t.height()) ? 0-(el.height()-t.height()) : curpos : curpos < 0-(el.width()-t.width()) ? 0-(el.width()-t.width()) : curpos;\r\n                            curpos = curpos > 0 ? 0 : curpos;\r\n                            if (tdir===\"vertical\") tpGS.gsap.to(el,0.5,{top:curpos+\"px\",ease:\"power3.out\"}); else tpGS.gsap.to(el,0.5,{left:curpos+\"px\",ease:\"power3.out\"});\r\n                            curpos = !curpos ?  tdir===\"vertical\" ? el.position().top : el.position().left : curpos;\r\n                            el.data('offset',curpos);\r\n                            el.data('distance',distance);\r\n                            _R[id].cpar.find(thumbs).removeClass(\"dragged\");\r\n                            _R[id].someNavIsDragged = false;\r\n                            return true;\r\n                        break;\r\n                    }\r\n                } else {\r\n                    //if (_R[id].navigation.touch.drag_block_vertical) event.preventDefault();\r\n                    return true;\r\n                }\r\n            }\r\n        });\r\n\r\n        /*\r\n        SWIPE OVER SLIDER\r\n        */\r\n\r\n\r\n\tif (_R[id].sliderType === \"carousel\"){\r\n\t\t_R.setupCarousel(id);\r\n\t}\r\n\r\n\tif(_R[id].sliderType!==\"carousel\" && ((_R.ISM && _R[id].navigation.touch.touchenabled) || (_R.ISM!==true && _R[id].navigation.touch.touchOnDesktop))){\r\n\t\t_R[id].navigation.proxy = document.createElement('div');\r\n\t\t_R[id].navigation.draggable = tpGS.draggable.create(_R[id].navigation.proxy, {\r\n\t\t\ttrigger: _R[id].c[0],\r\n\t\t\ttype: _R[id].navigation.touch.swipe_direction === \"horizontal\" ? \"x\" : \"y\",\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tlockAxis: true,\r\n\t\t\tallowContextMenu: true,\r\n\t\t\tallowEventDefault: true,\r\n\t\t\tonPress: function(e){\r\n\t\t\t\tif(_R.closestClass(e.target, 'rs-nav-element')) {\r\n\t\t\t\t\t_R[id].navigation.draggable.endDrag();\r\n\t\t\t\t\t_R[id].navigation.draggable.disable();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDragStart: function(){\r\n\t\t\t\tvar nav = _R[id].navigation;\r\n\t\t\t\tvar key = _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key === undefined ? 0 : _R[id].pr_active_key;\r\n\r\n\t\t\t\tif(this.getDirection() === \"up\" && key == _R[id].slideamount - 1 ||\r\n\t\t\t\tthis.getDirection() === \"down\" && (key === 0)) {\r\n\t\t\t\t\tnav.forceScroll = true;\r\n                    }\r\n\t\t\t\telse nav.forceScroll = false;\r\n\r\n                },\r\n\t\t\tonDragEnd: function(){\r\n\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\tvar direction = this.getDirection();\r\n\t\t\t\tvar nav = _R[id].navigation;\r\n\r\n\t\t\t\tif(nav.forceScroll) {\r\n\t\t\t\t\tif(this.getDirection() === \"up\") _R.document.scrollTop(_R[id].cpar.offset().top + _R[id].module.height);\r\n\t\t\t\t\telse _R.document.scrollTop(_R.document.scrollTop() - (window.innerHeight - _R[id].cpar[0].getBoundingClientRect().top));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((_R[id].navigation.touch.swipe_direction==\"horizontal\" && direction == \"left\") || (_R[id].navigation.touch.swipe_direction==\"vertical\" && direction == \"up\")) {\r\n\t\t\t\t\t_R[id].sc_indicator_dir = 0;\r\n\t\t\t\t\t_R.callingNewSlide(id,1);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif ((_R[id].navigation.touch.swipe_direction==\"horizontal\" && direction == \"right\") || (_R[id].navigation.touch.swipe_direction==\"vertical\" && direction == \"down\")) {\r\n\t\t\t\t\t_R[id].sc_indicator_dir = 1;\r\n\t\t\t\t\t_R.callingNewSlide(id,-1);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n                }\r\n            });\r\n        }\r\n\r\n        // REMOVE CAROUSEL ICONS IF NOT NEEDED\r\n        if (_R[id].sliderType===\"carousel\" && ((_R.ISM && _R[id].navigation.touch.mobileCarousel==false) || (_R.ISM!==true && _R[id].navigation.touch.desktopCarousel===false))) _.wrap.addClass(\"noswipe\");\r\n        //NEW iOS Disable Vertical Scroll Class\r\n        if (_R[id].navigation.touch.drag_block_vertical) _R[id].c.addClass(\"disableVerticalScroll\");\r\n    };\r\n\r\n\r\n    // NAVIGATION HELPER FUNCTIONS\r\n    var hdResets = function(o) {\r\n\r\n        o.hide_delay = !_R.isNumeric(parseInt(o.hide_delay,0)) ? 0.2 : o.hide_delay;\r\n        o.hide_delay_mobile = !_R.isNumeric(parseInt(o.hide_delay_mobile,0)) ? 0.2 : o.hide_delay_mobile;\r\n    };\r\n\r\n    var ckNO = function(s) {\r\n         return s && s.enable;\r\n    };\r\n\r\n\r\n    var ct = function(a) {\r\n        clearTimeout(a);\r\n    };\r\n\r\n    var showNavElements = function(id) {\r\n        var nt = _R[id].navigation.maintypes;\r\n        for (var i in nt)\r\n            if (nt.hasOwnProperty(i))\r\n                if (ckNO(_R[id].navigation[nt[i]]) && _R[id].navigation[nt[i]].c!==undefined) {\r\n                    ct(_R[id].navigation[nt[i]].showCall);\r\n                    _R[id].navigation[nt[i]].showCall = setTimeout(function(a) {\r\n                        ct(a.hideCall);\r\n                        if  (!(a.hide_onleave && _R[id].tpMouseOver!==true)) {\r\n                            if (a.tween===undefined)\r\n                                a.tween = showHideNavElements(a);\r\n                            else\r\n                                a.tween.play();\r\n                        }\r\n                    },(_R[id].navigation[nt[i]].hide_onleave && _R[id].tpMouseOver!==true ? 0 : parseInt(_R[id].navigation[nt[i]].animDelay)),_R[id].navigation[nt[i]]);\r\n                }\r\n\r\n    };\r\n    var clearAllHidings = function(id) {\r\n        var nt = _R[id].navigation.maintypes;\r\n        for (var i in nt) if (nt.hasOwnProperty(i)) if (_R[id].navigation[nt[i]]!==undefined && _R[id].navigation[nt[i]].hide_onleave && ckNO(_R[id].navigation[nt[i]])) ct(_R[id].navigation[nt[i]].hideCall);\r\n    }\r\n\r\n    var hidaNavElements = function(id,removeClass) {\r\n        var nt = _R[id].navigation.maintypes;\r\n        for (var i in nt)\r\n            if (nt.hasOwnProperty(i))\r\n                if (_R[id].navigation[nt[i]]!==undefined && _R[id].navigation[nt[i]].hide_onleave && ckNO(_R[id].navigation[nt[i]])) {\r\n                    ct(_R[id].navigation[nt[i]].hideCall);\r\n                    _R[id].navigation[nt[i]].hideCall = setTimeout(function(a) {\r\n                        ct(a.showCall);\r\n                        if (a.tween) a.tween.reverse();\r\n                    },(_R.ISM ? parseInt(_R[id].navigation[nt[i]].hide_delay_mobile,0) : parseInt(_R[id].navigation[nt[i]].hide_delay,0)),_R[id].navigation[nt[i]]);\r\n                }\r\n    };\r\n\r\n\r\n    var showHideNavElements = function(a) {\r\n        a.speed = a.animSpeed===undefined ? 0.5 : a.animSpeed;\r\n        a.anims = [];\r\n        if (a.anim!==undefined && a.left===undefined) a.anims.push(a.anim);\r\n        if (a.left!==undefined) a.anims.push(a.left.anim);\r\n        if (a.right!==undefined) a.anims.push(a.right.anim);\r\n\r\n\r\n        var tw = tpGS.gsap.timeline()\r\n        tw.add(tpGS.gsap.to(a.c,a.speed, {delay: a.animDelay, opacity:1,ease:\"power3.inOut\"}),0);\r\n        for (var i in a.anims) {\r\n            if (!a.anims.hasOwnProperty(i)) continue;\r\n            switch (a.anims[i]) {\r\n                case \"left\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginLeft:-50},{delay: a.animDelay, marginLeft:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"right\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginLeft:50},{delay: a.animDelay, marginLeft:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"top\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginTop:-50},{delay: a.animDelay, marginTop:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"bottom\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginTop:50},{delay: a.animDelay, marginTop:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"zoomin\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {scale:0.5},{delay: a.animDelay, scale:1,ease:\"power3.inOut\"}),0);break;\r\n                case \"zoomout\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {scale:1.2},{delay: a.animDelay, scale:1,ease:\"power3.inOut\"}),0);break;\r\n            }\r\n        }\r\n        tw.play();\r\n        return tw;\r\n    };\r\n\r\n\r\n\r\n    // ADD ARROWS\r\n    var initArrows = function(o,id) {\r\n\r\n        // SET oIONAL CLASSES\r\n        o.style = o.style === undefined ? \"\" : o.style;\r\n        o.left.style = o.left.style === undefined ? \"\" : o.left.style;\r\n        o.right.style = o.right.style === undefined ? \"\" : o.right.style;\r\n\r\n        // ADD LEFT AND RIGHT ARROWS\r\n        if (o.left.c===undefined) {\r\n            o.left.c = jQuery('<rs-arrow style=\"opacity:0\" class=\"tp-leftarrow tparrows '+o.style+' '+o.left.style+'\">'+o.tmp+'</rs-arrow>');\r\n            _R[id].c.append(o.left.c);;\r\n        }\r\n        if (o.right.c===undefined) {\r\n            o.right.c= jQuery('<rs-arrow style=\"opacity:0\"  class=\"tp-rightarrow tparrows '+o.style+' '+o.right.style+'\">'+o.tmp+'</rs-arrow>');\r\n            _R[id].c.append(o.right.c);\r\n        }\r\n\r\n        o[o.rtl ? \"left\" : \"right\"].c.on('click',function() { /* if (_R.delayer(id,500,\"arrow\")===false) return false; */if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;_R[id].sc_indicator=\"arrow\"; _R[id].sc_indicator_dir = 0;_R[id].c.revnext();});\r\n        o[o.rtl ? \"right\" : \"left\"].c.on('click',function() {  /*if (_R.delayer(id,500,\"arrow\")===false) return false; */if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;_R[id].sc_indicator=\"arrow\"; _R[id].sc_indicator_dir = 1;_R[id].c.revprev();});\r\n\r\n\r\n        // OUTTUER PADDING DEFAULTS\r\n        o.padding_top = parseInt((_R[id].carousel.padding_top||0),0);\r\n        o.padding_bottom = parseInt((_R[id].carousel.padding_bottom||0),0);\r\n\r\n        // POSITION OF ARROWS\r\n        setNavElPositions(o.left,id);\r\n        setNavElPositions(o.right,id);\r\n\r\n        if (o.position==\"outer-left\" || o.position==\"outer-right\") _R[id].outernav = true;\r\n    };\r\n\r\n\r\n    // PUT ELEMENTS VERTICAL / HORIZONTAL IN THE RIGHT POSITION\r\n    var putVinPosition = function(el,o,id,elh) {\r\n        var elh = elh===undefined ? el.outerHeight(true) : elh,\r\n            oh = _R[id]== undefined ? 0 : _R[id].canv.height == 0 ? _R[id].module.height : _R[id].canv.height,\r\n            by = o.container==\"layergrid\" ? _R[id].sliderLayout==\"fullscreen\" ? _R[id].module.height/2 - (_R[id].gridheight[_R[id].level]*_R[id].CM.h)/2 : (_R[id].autoHeight || (_R[id].minHeight!=undefined && _R[id].minHeight>0)) ?\r\n                            oh/2 - (_R[id].gridheight[_R[id].level]*_R[id].CM.h)/2\r\n                            : 0\r\n                : 0,\r\n            a = o.v_align === \"top\" ? {top:\"0px\",y:Math.round(o.v_offset+by)+\"px\"} : o.v_align === \"center\" ? {top:\"50%\",y:Math.round(((0-elh/2)+o.v_offset))+\"px\"} : {top:\"100%\",y:Math.round((0-(elh+o.v_offset+by)))+\"px\"};\r\n        if (!el.hasClass(\"outer-bottom\")) tpGS.gsap.set(el,a);\r\n    };\r\n\r\n    var putHinPosition = function(el,o,id,elw) {\r\n        var elw = elw===undefined ? el.outerWidth() : elw,\r\n            bx = o.container===\"layergrid\" ? _R[id].module.width/2 - (_R[id].gridwidth[_R[id].level]*_R[id].CM.w)/2 : 0,\r\n            a = o.h_align === \"left\" ? \t\t{left:\"0px\",\tx:Math.round(o.h_offset+bx) + \"px\"} :\r\n                o.h_align === \"center\" ? \t{left:\"50%\",\tx:Math.round(((0-elw/2)+o.h_offset)) + \"px\" } :\r\n                                            //{right:elw+\"px\", left:\"auto\",\t\tx:Math.round((0-(o.h_offset+bx))) + \"px\" };\r\n                                            {left:\"100%\",\tx:Math.round((0-(elw+o.h_offset+bx))) + \"px\" };\r\n        tpGS.gsap.set(el,a);\r\n    };\r\n\r\n    var setNavElPositions = function(o,id) {\r\n        if (o==undefined || o.c===undefined) return;\r\n        var ff = (_R[id].sliderLayout==\"fullwidth\" || _R[id].sliderLayout==\"fullscreen\"),\r\n            ww = ff ? _R[id].module.width : _R[id].canv.width,\r\n            ow = o.c.outerWidth(),\r\n            oh = o.c.outerHeight();\r\n\r\n\r\n        //if (ow===0 || oh===0) return;\r\n        if (ow <= 0 || oh <= 0) return;\r\n\r\n        putVinPosition(o.c,o,id,oh);\r\n        putHinPosition(o.c,o,id,ow);\r\n\r\n        if (o.position===\"outer-left\")\r\n            tpGS.gsap.set(o.c,{left:(0-ow)+\"px\",x:o.h_offset+\"px\"});\r\n        else\r\n        if (o.position===\"outer-right\")\r\n            tpGS.gsap.set(o.c,{right:(0-ow)+\"px\",x:o.h_offset+\"px\"});\r\n\r\n\r\n        // MAX WIDTH AND HEIGHT BASED ON THE SOURROUNDING CONTAINER\r\n        if (o.type===\"tp-thumb\" || o.type===\"tp-tab\") {\r\n\r\n            var\tcpt = parseInt((o.padding_top||0),0),\r\n                cpb = parseInt((o.padding_bottom||0),0),\r\n                _el = {},\r\n                _mask = {};\r\n\r\n            if (o.maxw>ww && o.position!==\"outer-left\" && o.position!==\"outer-right\") {\r\n                _el.left = \"0px\";\r\n                _el.x = 0;\r\n                _el.maxWidth = ((ww-2*o.wpad)) +\"px\";\r\n                _mask.maxWidth = (ww-2*o.wpad)+\"px\";\r\n            } else {\r\n                _el.maxWidth = o.maxw;\r\n                _mask.maxWidth = ww+\"px\";\r\n            }\r\n\r\n\r\n\r\n            if (o.maxh+2*o.wpad>_R[id].conh && o.position!==\"outer-bottom\" && o.position!==\"outer-top\") {\r\n                _el.top = \"0px\";\r\n                _el.y = 0;\r\n                _el.maxHeight = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n                _mask.maxHeight = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n            } else {\r\n                _el.maxHeight = (o.maxh ) + \"px\";\r\n                _mask.maxHeight = (o.maxh) + \"px\";\r\n            }\r\n\r\n            o.mask=o.mask===undefined ? o.c.find('rs-navmask') : o.mask;\r\n\r\n            if (o.mhoff>0 || o.mvoff>0) _mask.padding = o.mvoff+\"px \"+o.mhoff+\"px\";\r\n\r\n\r\n            // SPAN IS ENABLED\r\n            if (o.span) {\r\n                if (o.container==\"layergrid\" && o.position!==\"outer-left\" && o.position!==\"outer-right\") cpt = cpb = 0;\r\n                if (o.direction===\"vertical\") {\r\n\r\n                    _el.maxHeight = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n                    _el.height = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n                    _el.top = 0; //(0-cpt);\r\n                    _el.y = 0;\r\n                    _mask.maxHeight = \t(cpt+cpb+(Math.min(o.maxh,(_R[id].conh-2*o.wpad))))+\"px\";\r\n                    tpGS.gsap.set(o.c,_el);\r\n                    tpGS.gsap.set(o.mask,_mask);\r\n                    putVinPosition(o.mask,o,id);\r\n                } else\r\n                if (o.direction===\"horizontal\") {\r\n                    _el.maxWidth = \"100%\";\r\n                    _el.width = (ww-2*o.wpad)+\"px\";\r\n                    _el.left = 0;\r\n                    _el.x = 0;\r\n                    _mask.maxWidth = o.maxw>=ww ? \"100%\" : (Math.min(o.maxw,ww))+\"px\";\r\n                    tpGS.gsap.set(o.c,_el);\r\n                    tpGS.gsap.set(o.mask,_mask);\r\n                    putHinPosition(o.mask,o,id);\r\n                }\r\n            } else {\r\n                tpGS.gsap.set(o.c,_el);\r\n                tpGS.gsap.set(o.mask,_mask);\r\n            }\r\n        }\r\n    };\r\n\r\n    // ADD A BULLET\r\n    var addBullet = function(container,o,li,id) {\r\n        // Check if Bullet exists already ?\r\n        if (container.find('.tp-bullets').length===0) {\r\n            o.style = o.style === undefined ? \"\" : o.style;\r\n            o.c = jQuery('<rs-bullets style=\"opacity:0\"  class=\"tp-bullets '+o.style+' '+o.direction+' nav-pos-hor-'+o.h_align+' nav-pos-ver-'+o.v_align+' nav-dir-'+o.direction+'\"></rs-bullets>');\r\n        }\r\n        // Add Bullet Structure to the Bullet Container\r\n        var linkto = li.data('key'),\r\n             inst = o.tmp;\r\n\r\n        if (_R[id].thumbs[li.index()]!==undefined) jQuery.each(_R[id].thumbs[li.index()].params,function(i,obj) { inst = inst.replace(obj.from,obj.to);});\r\n        var b = jQuery('<rs-bullet data-key=\"'+linkto+'\" class=\"tp-bullet\">'+inst+'</rs-bullet>');\r\n        if (_R[id].thumbs[li.index()]!==undefined) b.find('.tp-bullet-image').css({backgroundImage:'url('+_R[id].thumbs[li.index()].src+')'});\r\n\r\n        o.c.append(b);\r\n        container.append(o.c);\r\n\r\n        // SET BULLET SPACES AND POSITION\r\n        var am = o.c.find('.tp-bullet').length,\r\n            bOW = b.outerWidth(),\r\n            bOH = b.outerHeight(),\r\n            w = bOW+parseInt((o.space===undefined? 0:o.space),0),\r\n            h = bOH+parseInt((o.space===undefined? 0:o.space),0);\r\n\r\n        if (o.direction===\"vertical\") {\r\n            b.css({top:((am-1)*h)+\"px\", left:\"0px\"});\r\n            o.c.css({height:(((am-1)*h) + bOH),width:bOW});\r\n        }\r\n        else {\r\n            b.css({left:((am-1)*w)+\"px\", top:\"0px\"});\r\n            o.c.css({width:(((am-1)*w) + bOW),height:bOH});\r\n        }\r\n\r\n        // SET LINK TO AND LISTEN TO CLICK\r\n        b.on('click',function() {\r\n            if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n            _R[id].sc_indicator=\"bullet\";\r\n            container.revcallslidewithid(linkto);\r\n            container.find('.tp-bullet').removeClass(\"selected\");\r\n            jQuery(this).addClass(\"selected\");\r\n        });\r\n\r\n        // OUTTUER PADDING DEFAULTS\r\n        o.padding_top = parseInt((_R[id].carousel.padding_top||0),0);\r\n        o.padding_bottom = parseInt((_R[id].carousel.padding_bottom||0),0);\r\n\r\n        if (o.position==\"outer-left\" || o.position==\"outer-right\") _R[id].outernav = true;\r\n    };\r\n\r\n\r\n    // ADD THUMBNAILS\r\n    var addThumb = function(container,o,li,what,id) {\r\n\r\n        var thumbs = what===\"tp-thumb\" ? \".tp-thumbs\" : \".tp-tabs\",\r\n            thumbmask = what===\"tp-thumb\" ? \".tp-thumb-mask\" : \".tp-tab-mask\",\r\n            thumbsiw = what===\"tp-thumb\" ? \".tp-thumbs-inner-wrapper\" : \".tp-tabs-inner-wrapper\",\r\n            thumb = what===\"tp-thumb\" ? \".tp-thumb\" : \".tp-tab\",\r\n            timg = what ===\"tp-thumb\" ? \".tp-thumb-image\" : \".tp-tab-image\",\r\n            tag = what===\"tp-thumb\" ? 'rs-thumb' : 'rs-tab';\r\n        o.type = what;\r\n        o.visibleAmount = o.visibleAmount>_R[id].slideamount ? _R[id].slideamount : o.visibleAmount;\r\n        o.sliderLayout = _R[id].sliderLayout;\r\n\r\n\r\n\r\n        // Check if THUNBS/TABS exists already ?\r\n        if (o.c===undefined) {\r\n            o.wpad = o.wrapper_padding;\r\n            o.c = jQuery('<'+tag+'s style=\"opacity:0\" class=\"nav-dir-'+o.direction+' nav-pos-ver-'+o.v_align+' nav-pos-hor-'+o.h_align+' rs-nav-element '+what+'s '+(o.span===true ? \"tp-span-wrapper\" : \"\")+\" \"+o.position+\" \"+(o.style === undefined ? \"\" : o.style)+'\"><rs-navmask class=\"'+what+'-mask\" style=\"overflow:hidden;position:relative\"><'+tag+'s-wrap class=\"'+what+'s-inner-wrapper\" style=\"position:relative;\"></'+tag+'s-wrap></rs-navmask></'+tag+'s>');\r\n            o.c.css({overflow:\"visible\",position:(o.position === \"outer-top\" || o.position===\"outer-bottom\" ? \"relative\" : \"absolute\"),background:o.wrapper_color,padding:o.wpad+\"px\",boxSizing:\"contet-box\"});\r\n            if (o.position===\"outer-top\") container.parent().prepend(o.c);\r\n            else if (o.position===\"outer-bottom\") container.after(o.c);\r\n            else container.append(o.c);\r\n\r\n            if (o.position===\"outer-left\" || o.position===\"outer-right\") tpGS.gsap.set(_R[id].c,{overflow:\"visible\"});\r\n\r\n            // OUTTUER PADDING DEFAULTS\r\n            o.padding_top = parseInt((_R[id].carousel.padding_top||0),0);\r\n            o.padding_bottom = parseInt((_R[id].carousel.padding_bottom||0),0);\r\n\r\n            if (o.position==\"outer-left\" || o.position==\"outer-right\") _R[id].outernav = true;\r\n        }\r\n\r\n        // Add Thumb/TAB Structure to the THUMB/TAB Container\r\n        var linkto = li.data('key'),\r\n            tm = o.c.find(thumbmask),\r\n            tw = tm.find(thumbsiw),\r\n            inst = o.tmp;\r\n        o.space = parseFloat(o.space) || 0;\r\n\r\n        o.maxw = o.direction===\"horizontal\" ? (o.width * o.visibleAmount) + (o.space*(o.visibleAmount-1)) : o.width;\r\n        o.maxh = o.direction===\"horizontal\" ? o.height : (o.height * o.visibleAmount) + (o.space*(o.visibleAmount-1));\r\n\r\n        o.maxw += 2*o.mhoff;\r\n        o.maxh += 2*o.mvoff;\r\n\r\n        if (_R[id].thumbs[li.index()] !== undefined) jQuery.each(_R[id].thumbs[li.index()].params,function(i,obj) { inst = inst.replace(obj.from,obj.to);});\r\n\r\n        var b = jQuery('<'+tag+' data-liindex=\"'+li.index()+'\" data-key=\"'+linkto+'\" class=\"'+what+'\" style=\"width:'+o.width+'px;height:'+o.height+'px;\">'+inst+'<'+tag+'>');\r\n        // FILL CONTENT INTO THE TAB / THUMBNAIL\r\n        if (_R[id].thumbs[li.index()]!==undefined)\tb.find(timg).css({backgroundImage:\"url(\"+_R[id].thumbs[li.index()].src+\")\"});\r\n        tw.append(b);\r\n\r\n        // SET BULLET SPACES AND POSITION\r\n        var am = o.c.find(thumb).length,\r\n            bow = b.outerWidth(),\r\n            boh = b.outerHeight(),\r\n            w = bow+parseInt((o.space===undefined? 0:o.space),0),\r\n            h = boh+parseInt((o.space===undefined? 0:o.space),0);\r\n\r\n\r\n        if (o.direction===\"vertical\") {\r\n            b.css({top:((am-1)*h)+\"px\", left:\"0px\"});\r\n            tw.css({height:(((am-1)*h) + boh),width:bow});\r\n        }\r\n        else {\r\n            b.css({left:((am-1)*w)+\"px\", top:\"0px\"});\r\n            tw.css({width:(((am-1)*w) + bow),height:boh});\r\n        }\r\n\r\n\r\n        tm.css({maxWidth:o.maxw+\"px\",maxHeight:o.maxh+\"px\"});\r\n        o.c.css({maxWidth:(o.maxw)+\"px\", maxHeight:o.maxh+\"px\"});\r\n\r\n\r\n        // SET LINK TO AND LISTEN TO CLICK\r\n        b.on('click',function() {\r\n            _R[id].sc_indicator=\"bullet\";\r\n            if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n            var dis = container.parent().find(thumbsiw).data('distance');\r\n            dis = dis === undefined ? 0 : dis;\r\n            if (Math.abs(dis)<10) {\r\n                container.revcallslidewithid(linkto);\r\n                container.parent().find(thumbs).removeClass(\"selected\");\r\n                jQuery(this).addClass(\"selected\");\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // HIDE NAVIGATION ON PURPOSE\r\n    var biggerNav = function(el,id,chng) {\r\n        if (el==undefined || el.c===undefined) return chng;\r\n        if (el.hide_under>_R[id].canv.width || _R[id].canv.width>el.hide_over) {\r\n            if (el.tpForceNotVisible!==true) { el.c.addClass(\"tp-forcenotvisible\");\tel.isVisible = false; chng=true;}\r\n            el.tpForceNotVisible = true;\r\n        } else {\r\n            if (el.tpForceNotVisible!==false) {el.c.removeClass(\"tp-forcenotvisible\");\tel.isVisible = true;chng=true;}\r\n            el.tpForceNotVisible = false;\r\n        }\r\n        return chng;\r\n    }\r\n\r\n    //Support Defer and Async and Footer Loads\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.navigation = {loaded:true, version:version};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n    })(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.layeranimation.js":"/************************************************\r\n * REVOLUTION EXTENSION LAYER ANIMATION\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n ************************************************/\r\n\r\n (function($) {\r\n\t\"use strict\";\r\n\r\n\tvar\r\n\t\tversion = \"6.6.0\",\r\n\t\tsplitTypes = [\"chars\", \"words\", \"lines\"],\r\n\t\tHR = [\"Top\", \"Right\", \"Bottom\", \"Left\"],\r\n\t\tCO = [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"],\r\n\t\thr = [\"top\", \"right\", \"bottom\", \"left\"];\r\n\r\n\tjQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\tvar _R = jQuery.fn.revolution;\r\n\r\n\t///////////////////////////////////////////\r\n\t// \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n\t///////////////////////////////////////////\r\n\tjQuery.extend(true, _R, {\r\n\t\tcheckLayerDimensions: function(o) {\r\n\t\t\tvar reset = false;\r\n\t\t\tfor (var li in _R[o.id].layers[o.skey]) {\r\n\t\t\t\tif (!_R[o.id].layers[o.skey].hasOwnProperty(li)) continue;\r\n\t\t\t\t//if (reset) continue;\r\n\t\t\t\tvar layer = _R[o.id].layers[o.skey][li],\r\n\t\t\t\t\t_ = _R[o.id]._L[layer.id];\r\n\t\t\t\tif (_.eow !== layer.offsetWidth && _R.gA(layer, \"vary-layer-dims\") !== \"true\") reset = true;\r\n\t\t\t\t_.lastknownwidth = _.eow;\r\n\t\t\t\t_.lastknownheight = _.eoh;\r\n\r\n\t\t\t\tif (!_._slidelink) _R[o.id].caches.calcResponsiveLayersList.push({ a: _R[o.id]._L[layer.id].c, b: o.id, c: 0, d: _.rsp_bd, e: o.slideIndex });\r\n\t\t\t}\r\n\t\t\treturn reset;\r\n\t\t},\r\n\r\n\t\trequestLayerUpdates: function(id, type, layerid, tPE) {\r\n\t\t\t// Update Force Hidden Classes\r\n\t\t\tvar i, tch, hid, v;\r\n\t\t\tif (layerid !== undefined) {\r\n\r\n\r\n\t\t\t\ti = layerid;\r\n\r\n\r\n\t\t\t\t//SHOW / HIDE Layers within Menus etc. where Parrent not yet started\r\n\t\t\t\tif (_R[id]._L[i].pVisRequest !== _R[id]._L[i].pVisStatus) {\r\n\t\t\t\t\tif (_R[id]._L[i]._ligid === undefined || _R[id]._L[_R[id]._L[i]._ligid].childrenAtStartNotVisible !== true) {\r\n\t\t\t\t\t\t_R[id]._L[i].pVisStatus = _R[id]._L[i].pVisRequest;\r\n\t\t\t\t\t\tv = ((_R[id]._L[i].type === \"row\" || _R[id]._L[i].type === \"column\" || _R[id]._L[i].type === \"group\") && _R[id]._L[i].frames !== undefined && _R[id]._L[i].frames.frame_999 !== undefined && _R[id]._L[i].frames.frame_999.transform !== undefined && \"\" + _R[id]._L[i].frames.frame_999.transform.opacity !== \"0\");\r\n\t\t\t\t\t\thid = _R[id]._L[i].pVisRequest === 1 ? \"remove\" : !v ? \"add\" : hid;\r\n\t\t\t\t\t\ttch = _R[id]._L[i].pVisRequest === 1 ? \"remove\" : v ? \"add\" : tch;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thid = \"add\";\r\n\t\t\t\t\t\ttch = \"remove\";\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (_R[id]._L[i].type===\"group\" && tch==\"add\" && (_R[id]._L[i].pVisStatus === 1 ? 'visible' : _R[id]._L[i].pVisStatus === 0 ? 'hidden' : _R[id]._L[i].pVisStatus)==\"hidden\") hid=\"add\";\r\n\t\t\t\t\tif (tch !== undefined) _R[id]._L[i].p[0].classList[tch](\"rs-forceuntouchable\");\r\n\t\t\t\t\tif (hid !== undefined) _R[id]._L[i].p[0].classList[hid](\"rs-forcehidden\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R[id]._L[i].pPointerStatus !== _R[id]._L[i].pPeventsRequest) {\r\n\t\t\t\t\t_R[id]._L[i].pPointerStatus = _R[id]._L[i].pPeventsRequest;\r\n\t\t\t\t\ttpGS.gsap.set(_R[id]._L[i].p[0], { pointerEvents: _R[id]._L[i].pPointerStatus, visibility: (_R[id]._L[i].pVisStatus === 1 ? 'visible' : _R[id]._L[i].pVisStatus === 0 ? 'hidden' : _R[id]._L[i].pVisStatus) });\r\n\t\t\t\t}\r\n\t\t\t\t// If transform Perspective has any value and we should not ignore it (means layer should not use Perspective) than during Animation we add Perspective to Parrent element to avoid issues with\r\n\t\t\t\t// scaleing andjittering unsmooth animations.\r\n\t\t\t\tif (tPE !== undefined && tPE !== \"ignore\" && tPE !== 0) {\r\n\t\t\t\t\ttPE++; // Use an other Number which is unlike any other perspective, so if somethign change we dont remove it !\r\n\t\t\t\t\tif (type === \"enterstage\" || type === \"leavestage\" || type === \"framestarted\") {\r\n\t\t\t\t\t\tif (_R.isFirefox(id)) {\r\n\t\t\t\t\t\t\tif (_R[id]._L[i].p[0].style.transform.indexOf(\"perspective\") === -1) _R[id]._L[i].p[0].style.transform += (_R[id]._L[i].p[0].style.transform.length === 0 ? \" \" : \"\") + 'perspective(' + tPE + \"px\" + ')';\r\n\t\t\t\t\t\t} else // For Not Safari\r\n\t\t\t\t\t\tif (!window.isSafari11 && _R[id]._L[i].maskHasPerspective !== true && _R[id]._L[i].p[0].style.perspective.length === 0 || _R[id]._L[i].p[0].style.perspective == \"none\") _R[id]._L[i].p[0].style.perspective = tPE + \"px\";\r\n\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (type === \"frameended\") {\r\n\t\t\t\t\t\t//For FireFox\r\n\t\t\t\t\t\tif (_R.isFirefox(id)) _R[id]._L[i].p[0].style.transform = _R[id]._L[i].p[0].style.transform.replace('perspective(' + tPE + \"px\" + ')', '');\r\n\t\t\t\t\t\telse // For not Safari\r\n\t\t\t\t\t\tif (!window.isSafari11) _R[id]._L[i].p[0].style.perspective = _R[id]._L[i].p[0].style.perspective.replace((tPE - 1) + \"px\", '');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\tfor (i in _R[id]._L) {\r\n\r\n\t\t\t\t\tif (!_R[id]._L.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (_R[id]._L[i].pVisRequest !== _R[id]._L[i].pVisStatus) {\r\n\t\t\t\t\t\t_R[id]._L[i].pVisStatus = _R[id]._L[i].pVisRequest;\r\n\t\t\t\t\t\tif (_R[id]._L[i].pVisStatus === 0) { _R[id]._L[i].p[0].classList.add(\"rs-forcehidden\"); } else _R[id]._L[i].p[0].classList.remove(\"rs-forcehidden\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_R[id]._L[i].pPointerStatus !== _R[id]._L[i].pPeventsRequest) {\r\n\t\t\t\t\t\t_R[id]._L[i].pPointerStatus = _R[id]._L[i].pPeventsRequest;\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id]._L[i].p[0], { pointerEvents: _R[id]._L[i].pPointerStatus, visibility: _R[id]._L[i].pVisStatus });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Update Height of Rows / Columns\r\n\t\t\tif (type === \"enterstage\")\r\n\t\t\t\tif (layerid !== undefined && _R[id]._L[layerid].esginside !== undefined && _R[id]._L[layerid].esginside.length > 0 && _R[id]._L[layerid].esginside.esredraw !== undefined) _R[id]._L[layerid].esginside.esredraw();\r\n\r\n\t\t},\r\n\r\n\t\tupdateMiddleZonesAndESG: function(id) {\r\n\t\t\tvar _actli = _R[id].pr_processing_key || _R[id].pr_active_key || 0,\r\n\t\t\t\ti;\r\n\t\t\tif (_R[id].middleZones && _R[id].middleZones.length > 0 && _R[id].middleZones[_actli] !== undefined)\r\n\t\t\t\tfor (i = 0; i < _R[id].middleZones[_actli].length; i++)\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].middleZones[_actli][i], { y: Math.round(_R[id].module.height / 2 - _R[id].middleZones[_actli][i].offsetHeight / 2) + \"px\" });\r\n\t\t\tif (_R[id].smiddleZones && _R[id].smiddleZones.length > 0)\r\n\t\t\t\tfor (i = 0; i < _R[id].smiddleZones.length; i++)\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].smiddleZones[i], { y: Math.round(_R[id].module.height / 2 - _R[id].smiddleZones[i].offsetHeight / 2) + \"px\" });\r\n\r\n\r\n\t\t},\r\n\r\n\t\t// CALCULATE SUM OF ALL ROW HEIGHTS\r\n\t\tgetRowHeights: function(id, onli) {\r\n\t\t\t// If no Layer calcualted yet at all, we dont need to respect the Current Row height\r\n\t\t\tif (!_R[id].firstLayerCalculated) return { cur:0, last:0, cache:[],tz:0};\r\n\t\t\tvar mh = 0,\r\n\t\t\t\tomh = 0,\r\n\t\t\t\tsmh = 0,\r\n\t\t\t\t_actli = onli!==undefined ? onli : _R[id].pr_processing_key || _R[id].pr_active_key || 0,\r\n\t\t\t\t_oldli = onli!==undefined ? onli : _R[id].pr_active_key || 0;\r\n\r\n\t\t\t_R[id].rowMiddleHeights = _R[id].rowMiddleHeights == undefined ? {} : _R[id].rowMiddleHeights;\r\n\t\t\t_R[id].rowMiddleHeights[_actli] = 0;\r\n\r\n\t\t\tif (_R[id].rowzones && _R[id].rowzones.length > 0) {\r\n\t\t\t\tif (_R[id].rowzones[_actli] !== undefined)\r\n\t\t\t\t\tfor (var a = 0; a < _R[id].rowzones[_actli].length; a++) {\r\n\t\t\t\t\t\t_R[id].rowzonesHeights[_actli][a] = _R[id].rowzones[_actli][a][0].offsetHeight;\r\n\t\t\t\t\t\tmh += _R[id].rowzonesHeights[_actli][a];\r\n\t\t\t\t\t\tif (_R[id].rowzones[_actli][a][0].dataset.middle==\"true\")\r\n\t\t\t\t\t\t_R[id].rowMiddleHeights[_actli] +=  _R[id].rowzonesHeights[_actli][a];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif (_oldli !== _actli) {\r\n\t\t\t\t\t_R[id].rowMiddleHeights[_oldli] = 0;\r\n\t\t\t\t\tfor (a = 0; a < _R[id].rowzones[_oldli].length; a++) {\r\n\t\t\t\t\t\t_R[id].rowzonesHeights[_oldli][a] = _R[id].rowzones[_oldli][a][0].offsetHeight;\r\n\t\t\t\t\t\tomh += _R[id].rowzonesHeights[_oldli][a];\r\n\t\t\t\t\t\tif (_R[id].rowzones[_oldli][a][0].dataset.middle==\"true\") _R[id].rowMiddleHeights[_oldli] += _R[id].rowzonesHeights[_oldli][a];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//mh = omh/2>mh ? omh : mh;  // To Avoid Minimal Portfolio Website Jumps\r\n\t\t\t}\r\n\t\t\tif (_R[id].srowzones && _R[id].srowzones.length > 0) {\r\n\t\t\t\t_R[id].rowMiddleHeights.static = 0;\r\n\t\t\t\tfor (a = 0; a < _R[id].srowzones.length; a++) {\r\n\t\t\t\t\tsmh += _R[id].srowzones[a][0].offsetHeight;\r\n\t\t\t\t\tif (_R[id].srowzones[a][0].dataset.middle==\"true\") _R[id].rowMiddleHeights.static += _R[id].srowzones[a][0].offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmh = mh < smh ? smh : mh;\r\n\r\n\t\t\tvar cache =  _R[id].rowHeights===undefined ? [] :  _R[id].rowHeights.cache,\r\n\t\t\t\ttz = new Date().getTime();\r\n\r\n\t\t\tif (_R[id].rowHeights!==undefined && tz-_R[id].rowHeights.tz<300) {\r\n\t\t\t\t//Check if we are in Loop\r\n\t\t\t\tif (_R[id].rowHeights.cache.length>5) {\r\n\t\t\t\t\tmh = _R[id].rowHeights.cache[_R[id].rowHeights.cache.length-1]===mh ? _R[id].rowHeights.cache[_R[id].rowHeights.cache.length-2] : _R[id].rowHeights.cache[_R[id].rowHeights.cache.length-1];\r\n\t\t\t\t\ttz = _R[id].rowHeights.tz;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcache = [];\r\n\t\t\t}\r\n\r\n\t\t\treturn { cur: mh, last: omh, cache:cache, tz:tz };\r\n\r\n\t\t},\r\n\r\n\t\tgetGridOffset: function(id, slideIndex, basealign, isstatic) {\r\n\t\t\tvar gw = basealign === \"grid\" ? _R[id].canv.width : _R[id].sliderType === \"carousel\" && !isstatic ? _R[id].carousel.slide_width : _R[id].canv.width,\r\n\t\t\t\tgh = _R[id].useFullScreenHeight ? _R[id].module.height : basealign === \"grid\" ? _R[id].content.height : _R[id].sliderType === \"carousel\" && !isstatic ? _R[id].canv.height : _R[id].module.height, //_R[id].carousel.slide_height :  _R[id].module.height;\r\n\t\t\t\toffsety = basealign === \"slide\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation==\"v\")  ? 0 : Math.max(0, _R[id].sliderLayout == \"fullscreen\" ? _R[id].module.height / 2 - (_R.iHE(id) * (_R[id].keepBPHeight ? 1 : _R[id].CM.h)) / 2 : (_R[id].autoHeight || (_R[id].minHeight != undefined && _R[id].minHeight > 0) || _R[id].keepBPHeight) ? _R[id].canv.height / 2 - (_R.iHE(id) * _R[id].CM.h) / 2 : 0),\r\n\t\t\t\toffsetx = basealign === \"slide\" ? 0 : Math.max(0, (_R[id].sliderType === \"carousel\" && _R[id].carousel.orientation!=='v'? 0 : _R[id].canv.width / 2 - (_R.iWA(id, slideIndex) * _R[id].CM.w) / 2));\r\n\t\t\tif (basealign !== \"slide\" && _R[id].sliderType === \"carousel\" && isstatic && _R[id].carousel !== undefined && _R[id].carousel.horizontal_align !== undefined)\r\n\t\t\t\toffsetx = Math.max(0, (_R[id].carousel.horizontal_align === \"center\" ? 0 + (_R[id].module.width - (_R.iWA(id, 'static') * _R[id].CM.w)) / 2 : _R[id].carousel.horizontal_align === \"right\" ? (_R[id].module.width - (_R[id].gridwidth[_R[id].level] * _R[id].CM.w)) : offsetx));\r\n\r\n\t\t\treturn [gw, gh, offsetx, offsety];\r\n\t\t},\r\n\r\n\r\n\t\tinitLayer: function(o) {\r\n\t\t\tvar id = o.id,\r\n\t\t\t\tskey = o.skey,\r\n\t\t\t\tu, s, corner;\r\n\r\n\r\n\t\t\t// Collect All Layers\r\n\t\t\tfor (var li in _R[id].layers[o.skey]) {\r\n\r\n\t\t\t\tif (!_R[id].layers[o.skey].hasOwnProperty(li)) continue;\r\n\r\n\t\t\t\tvar layer = _R[id].layers[o.skey][li],\r\n\t\t\t\t\tL = jQuery(layer),\r\n\t\t\t\t\tlinited = _R.gA(layer, \"initialised\"),\r\n\t\t\t\t\t_ = linited ? _R[id]._L[layer.id] : L.data();\r\n\r\n\t\t\t\tif (o.skey === \"individual\") {\r\n\t\t\t\t\t_.slideKey = _.slideKey === undefined ? _R.gA(L.closest('rs-slide')[0], 'key') : _.slideKey;\r\n\t\t\t\t\t_.slideIndex = _.slideIndex === undefined ? _R.getSlideIndex(id, _.slideKey) : _.slideIndex;\r\n\t\t\t\t\to.slideIndex = _.slideIndex;\r\n\t\t\t\t\tskey = _.slideKey;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t/****************************\r\n\t\t\t\t\tPREPARE DATAS 1 TIME\r\n\t\t\t\t*****************************/\r\n\r\n\t\t\t\tif (linited === undefined) {\r\n\t\t\t\t\t_R.revCheckIDS(id, layer);\r\n\t\t\t\t\t_R[id]._L[layer.id] = _;\r\n\r\n\t\t\t\t\t/***********************\r\n\t\t\t\t\t\tFRAME MANAGEMENT\r\n\t\t\t\t\t***********************/\r\n\r\n\t\t\t\t\t//FRAME ORDER\r\n\t\t\t\t\t_.ford = _.ford === undefined ? \"frame_0;frame_1;frame_999\" : _.ford;\r\n\t\t\t\t\t_.ford = _.ford[_.ford.length - 1] == ';' ? _.ford.substring(0, _.ford.length - 1) : _.ford;\r\n\t\t\t\t\t_.ford = _.ford.split(';');\r\n\r\n\t\t\t\t\t// CLIPPATH\r\n\t\t\t\t\tif (_.clip !== undefined) {\r\n\t\t\t\t\t\t_.clipPath = { use: false, origin: \"l\", type: \"rectangle\" };\r\n\t\t\t\t\t\t_.clip = _.clip.split(\";\");\r\n\t\t\t\t\t\tfor (u in _.clip) {\r\n\t\t\t\t\t\t\tif (!_.clip.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.clip[u].split(\":\");\r\n\t\t\t\t\t\t\tif (s[0] == 'u') _.clipPath.use = s[1] == \"true\";\r\n\t\t\t\t\t\t\tif (s[0] == 'o') _.clipPath.origin = s[1];\r\n\t\t\t\t\t\t\tif (s[0] == 't') _.clipPath.type = s[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 0.05\r\n\r\n\t\t\t\t\t_.frames = buildFrameObj(_, id); //0.2 - 0.6ms\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t/************\r\n\t\t\t\t\t\tBASICS\r\n\t\t\t\t\t*************/\r\n\t\t\t\t\t_.caches = {}; //Cache last Set Values and only update if cached and not cached are different !\r\n\t\t\t\t\t_.OBJUPD = {}; //Some further values which influence LOBJ, LPOBJ, MOBJ, POBJ etc.\r\n\t\t\t\t\t_.c = L;\r\n\r\n\t\t\t\t\t_.p = _R[id]._Lshortcuts[layer.id].p;\r\n\t\t\t\t\t_.lp = _.reqWrp.loop ? _R[id]._Lshortcuts[layer.id].lp : undefined;\r\n\t\t\t\t\t_.m =  _.reqWrp.mask ? _R[id]._Lshortcuts[layer.id].m : undefined;\r\n\r\n\t\t\t\t\t_.triggercache = _.triggercache === undefined ? \"reset\" : _.triggercache;\r\n\t\t\t\t\t_.rsp_bd = _.rsp_bd === undefined ? _.type === \"column\" || _.type === \"row\" ? \"off\" : \"on\" : _.rsp_bd;\r\n\t\t\t\t\t_.rsp_o = _.rsp_o === undefined ? \"on\" : _.rsp_o;\r\n\t\t\t\t\t_.basealign = _.basealign === undefined ? \"grid\" : _.basealign;\r\n\t\t\t\t\tlet tmpgrp;\r\n\t\t\t\t\t_.group = (_.type !== \"group\" && ((tmpgrp = _R.closestNode(L[0], 'RS-GROUP')) !== null))  || (_.type === \"group\" && ((tmpgrp = _R.closestNode(L[0].parentNode, 'RS-GROUP')) !== null)) ? \"group\" : _.type !== \"column\" && ((tmpgrp = _R.closestNode(L[0], 'RS-COLUMN')) !== null)  ? \"column\" : _.type !== \"row\" && ((tmpgrp = _R.closestNode(L[0], 'RS-ROW')) !== null)  ? \"row\" : undefined;\r\n\t\t\t\t\t_._lig = tmpgrp!==null && tmpgrp!==undefined ? jQuery(tmpgrp) : undefined;\r\n\t\t\t\t\t_._ligid = _._lig !== undefined ? _._lig[0].id : undefined;\r\n\r\n\t\t\t\t\t_._column = L[0].tagName === \"RS-COLUMN\" ? jQuery(_R.closestNode(L[0], 'RS-COLUMN-WRAP')) /*L.closest(\"rs-column-wrap\")*/ : \"none\";\r\n\t\t\t\t\t_._row = L[0].tagName === \"RS-COLUMN\" ? jQuery(_R.closestNode(L[0], 'RS-ROW')) /*L.closest(\"rs-row\") */ : false;\r\n\t\t\t\t\t_._ingroup = _.group === \"group\";\r\n\t\t\t\t\t_._incolumn = _.group === \"column\";\r\n\t\t\t\t\t_._inrow = _.group === \"row\";\r\n\t\t\t\t\t_.fsom = _.fsom==\"true\" || _.fsom==true;\r\n\t\t\t\t\t_.fullinset = \"\"+_.fullinset==\"true\" ? true : false;\r\n\r\n\t\t\t\t\t_.position = _.pos!==undefined ? _.pos==\"r\" ? \"relative\" : \"absolute\" : _._incolumn ? \"relative\" : \"absolute\";\r\n\r\n\r\n\t\t\t\t\t// EXTEND SBA IF PARRENT ELLEMENT IS ALREADY SBA\r\n\t\t\t\t\tif ((_._ingroup || _._incolumn) && _._lig[0].className.indexOf('rs-sba') >= 0 && !(_.animationonscroll === false && _.frames.loop !== undefined) && _.animOnScrollForceDisable !== true) { _.animationonscroll = true;\r\n\t\t\t\t\t\tL[0].className += \" rs-sba\";\r\n\t\t\t\t\t\t_R[id].sbas[skey][layer.id] = L[0]; }\r\n\t\t\t\t\t_.animOnScrollRepeats = 0;\r\n\t\t\t\t\t_._isgroup = L[0].tagName === \"RS-GROUP\";\r\n\t\t\t\t\t//_.dchildren = _._row ?  _R.getByTag(L[0],'RS-COLUMN') : _._column!==\"none\" || _._isgroup ?  L[0].getElementsByClassName('rs-layer') : \"none\";\r\n\t\t\t\t\t_.type = _.type || \"none\";\r\n\r\n\r\n\r\n\t\t\t\t\tif (_.type === \"row\") {\r\n\t\t\t\t\t\tif (_.cbreak === undefined) _.cbreak = 2;\r\n\t\t\t\t\t\tif (_.zone === undefined) {\r\n\t\t\t\t\t\t\t_.zone = _R.closestNode(L[0], 'RS-ZONE');\r\n\t\t\t\t\t\t\t_.zone = _.zone !== null && _.zone !== undefined ? _.zone.className : \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.esginside = jQuery(L[0].getElementsByClassName('esg-grid')[0]);\r\n\t\t\t\t\t_._isnotext = jQuery.inArray(_.type, [\"video\", \"image\", \"audio\", \"shape\", \"row\", \"group\"]) !== -1;\r\n\t\t\t\t\t_._mediatag = _.audio == \"html5\" ? \"audio\" : \"video\";\r\n\t\t\t\t\t_.img = L.find(\"img\");\r\n\t\t\t\t\t_.deepiframe = _R.getByTag(L[0], 'iframe');\r\n\t\t\t\t\t_.deepmedia = _R.getByTag(L[0], _._mediatag);\r\n\t\t\t\t\t_.layertype = _.type === \"image\" ? \"image\" : L[0].className.indexOf(\"rs-layer-video\") >= 0 || L[0].className.indexOf(\"rs-layer-audio\") >= 0 || (_.deepiframe.length > 0 && (_.deepiframe[0].src.toLowerCase().indexOf('youtube') > 0 || _.deepiframe[0].src.toLowerCase().indexOf('vimeo') > 0)) || _.deepmedia.length > 0 ? \"video\" : \"html\";\r\n\t\t\t\t\tif (_.deepiframe.length > 0) _R.sA(_.deepiframe[0], \"layertype\", _.layertype);\r\n\r\n\t\t\t\t\tif (_.type === \"column\" && _.cbgexists) {\r\n\t\t\t\t\t\t_.cbg = jQuery(_R.getByTag(_.p[0], \"RS-COLUMN-BG\")[0]);\r\n\t\t\t\t\t\t_.cbgmask = jQuery(_R.getByTag(_.p[0], \"RS-CBG-MASK-WRAP\")[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_._slidelink = L[0].className.indexOf(\"slidelink\") >= 0;\r\n\t\t\t\t\t_._isstatic = L[0].className.indexOf(\"rs-layer-static\") >= 0;\r\n\t\t\t\t\t_.slidekey = _._isstatic ? \"staticlayers\" : skey;\r\n\t\t\t\t\t//_._li = _._isstatic ? L.closest('rs-static-layers') : L.closest('rs-slide');\r\n\t\t\t\t\t_._togglelisteners = L[0].getElementsByClassName('rs-toggled-content').length > 0;\r\n\r\n\t\t\t\t\t// Check for two special Metas ->\r\n\t\t\t\t\t// total_slide_count and current_slide_index\r\n\t\t\t\t\tif (_.type === \"text\") {\r\n\t\t\t\t\t\tif(_.c[0].innerHTML.indexOf('{{total_slide_count}}') !== -1) _.c[0].innerHTML = _.c[0].innerHTML.replace('{{total_slide_count}}', _R[id].realslideamount);\r\n\r\n\t\t\t\t\t\tif (_.c[0].innerHTML.indexOf('{{current_slide_index}}') >= 0) {\r\n\t\t\t\t\t\t\tif (_._isstatic) {\r\n\t\t\t\t\t\t\t\t_.metas = _.metas || {};\r\n\t\t\t\t\t\t\t\t_.metas.csi = {};\r\n\t\t\t\t\t\t\t\t_.c[0].innerHTML = _.c[0].innerHTML.replace('{{current_slide_index}}', '<cusli>' + _R[id].realslideamount + '</cusli>');\r\n\t\t\t\t\t\t\t\t_.metas.csi.c = _.c[0].getElementsByTagName('CUSLI')[0];\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar digit = parseInt(o.slideIndex) + 1;\r\n\t\t\t\t\t\t\t\t_.c[0].innerHTML = _.c[0].innerHTML.replace('{{current_slide_index}}', ((digit < 10 && _R[id].realslideamount > 9 ? '0' : '') + digit));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.bgcol = _.bgcol === undefined ? L[0].style.background.indexOf(\"gradient\") >= 0 ? L[0].style.background : L[0].style.backgroundColor : _.bgcol;\r\n\t\t\t\t\t_.bgcol = _.bgcol === \"\" ? \"rgba(0, 0, 0, 0)\" : _.bgcol;\r\n\t\t\t\t\t_.bgcol = _.bgcol.indexOf('rgba(0, 0, 0, 0)') === 0 && _.bgcol.length > 18 ? _.bgcol.replace(\"rgba(0, 0, 0, 0)\", \"\") : _.bgcol;\r\n\t\t\t\t\t_.zindex = _.zindex === undefined ? L[0].style.zIndex : _.zindex;\r\n\r\n\t\t\t\t\t//Set Visibility at Start to hidden (0) to avoid Triggered Group Content availibity.\r\n\t\t\t\t\tif (_._isgroup) {\r\n\t\t\t\t\t\tif (_.frames.frame_1.timeline.waitoncall) _.childrenAtStartNotVisible = true; // If Group is waiting for Start, the Children should not be visible also !\r\n\t\t\t\t\t\t_.pVisRequest = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_._togglelisteners) L.on('click', function() { _R.swaptoggleState([this.id]); });\r\n\t\t\t\t\t// GET AND SPLIT THE BORDER SETTINGS\r\n\t\t\t\t\tif (_.border !== undefined) {\r\n\t\t\t\t\t\t_.border = _.border.split(\";\");\r\n\t\t\t\t\t\t_.bordercolor = \"transparent\";\r\n\t\t\t\t\t\tfor (u in _.border) {\r\n\t\t\t\t\t\t\tif (!_.border.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.border[u].split(\":\");\r\n\t\t\t\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"boc\":_.bordercolor = s[1];break;\r\n\t\t\t\t\t\t\t\tcase \"bow\":_.borderwidth = _R.revToResp(s[1], 4, 0);break;\r\n\t\t\t\t\t\t\t\tcase \"bos\":_.borderstyle = _R.revToResp(s[1], 4, 0);break;\r\n\t\t\t\t\t\t\t\tcase \"bor\":_.borderradius = _R.revToResp(s[1], 4, 0);break;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// GET SVG SETTINGS\r\n\t\t\t\t\tif (_.type === \"svg\") {\r\n\t\t\t\t\t\t_.svg = L.find(\"svg\");\r\n\t\t\t\t\t\t_.svgI = _svgprep(_.svgi, id); //svgi\r\n\t\t\t\t\t\t_.svgPath = _.svg.find(!_.svgI.svgAll ? 'path' : 'path, circle, ellipse, line, polygon, polyline, rect');\r\n\t\t\t\t\t\t_.svgH = (_.svgi !== undefined && _.svgi.indexOf('oc:t') === -1) ? _svgprep(_.svgh, id) : {}; //svgh\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// GET MASK BASIC TRANSFORMS\r\n\t\t\t\t\tif (_.btrans !== undefined) { var btr = _.btrans;\r\n\t\t\t\t\t\t_.btrans = { rX: 0, rY: 0, rZ: 0, o: 1 };\r\n\t\t\t\t\t\tbtr = btr.split(\";\"); for (u in btr) { if (!btr.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = btr[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"rX\":_.btrans.rX = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"rY\":_.btrans.rY = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"rZ\":_.btrans.rZ = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"o\":_.btrans.o = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"iosfx\":_.iOSFix = s[1] == \"default\" ? \"d\" : s[1] == \"r\" ? \"rotationX\" : s[1]; break; } } }\r\n\r\n\t\t\t\t\t// GET BOX SHADOW\r\n\t\t\t\t\tif (_.tsh !== undefined) { _.tshadow = { c: \"rgba(0,0,0,0.25)\", v: 0, h: 0, b: 0 };\r\n\t\t\t\t\t\t_.tsh = _.tsh.split(\";\"); for (u in _.tsh) { if (!_.tsh.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.tsh[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.tshadow.c = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"h\":_.tshadow.h = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"v\":_.tshadow.v = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.tshadow.b = s[1]; break; } } }\r\n\t\t\t\t\tif (_.tst !== undefined) { _.tstroke = { c: \"rgba(0,0,0,0.25)\", w: 1 };\r\n\t\t\t\t\t\t_.tst = _.tst.split(\";\"); for (u in _.tst) { if (!_.tst.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.tst[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.tstroke.c = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"w\":_.tstroke.w = s[1]; break; } } }\r\n\t\t\t\t\tif (_.bsh !== undefined) { _.bshadow = { e: \"c\", c: \"rgba(0,0,0,0.25)\", v: 0, h: 0, b: 0, s: 0 };\r\n\t\t\t\t\t\t_.bsh = _.bsh.split(\";\"); for (u in _.bsh) { if (!_.bsh.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.bsh[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.bshadow.c = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"h\":_.bshadow.h = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"v\":_.bshadow.v = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.bshadow.b = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"s\":_.bshadow.s = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"e\":_.bshadow.e = s[1]; break; } } }\r\n\r\n\t\t\t\t\t// GET AND SPLIT THE DIMENSION PARAMETERS\r\n\t\t\t\t\tif (_.dim !== undefined) { _.dim = _.dim.split(\";\"); for (u in _.dim) { if (!_.dim.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.dim[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"w\":_.width = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"h\":_.height = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"maxw\":_.maxwidth = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"maxh\":_.maxheight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"minw\":_.minwidth = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"minh\":_.minheight = s[1]; break; } } }\r\n\r\n\r\n\t\t\t\t\t// GET AND SPLIT POSITION PARAMETERS\r\n\t\t\t\t\tif (_.xy !== undefined && _.type !== \"row\" && _.type !== \"column\") { _.xy = _.xy.split(\";\"); for (u in _.xy) { if (!_.xy.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.xy[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"x\":_.x = s[1].replace(\"px\", \"\"); break;\r\n\t\t\t\t\t\t\t\tcase \"y\":_.y = s[1].replace(\"px\", \"\"); break;\r\n\t\t\t\t\t\t\t\tcase \"xo\":_.hoffset = s[1].replace(\"px\", \"\"); break;\r\n\t\t\t\t\t\t\t\tcase \"yo\":_.voffset = s[1].replace(\"px\", \"\"); break; } } }\r\n\r\n\t\t\t\t\t// GET TEXT VALUES\r\n\t\t\t\t\tif ((!_._isnotext) && _.text !== undefined) { _.text = _.text.split(\";\"); for (u in _.text) { if (!_.text.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.text[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"w\":_.whitespace = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"td\":_.textDecoration = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"c\":_.clear = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"f\":_.float = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"s\":_.fontsize = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"l\":_.lineheight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"ls\":_.letterspacing = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"fw\":_.fontweight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"a\":_.textalign = s[1]; break; } } }\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_._isgroup && _.text !== undefined) { _.text = _.text.split(\";\"); for (u in _.text) { if (!_.text.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.text[u].split(\":\");switch (s[0]) {\r\n\t\t\t\t\t\t\t\t//case \"l\":_.lineheight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"a\":_.textalign = s[1]; break; } } }\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type === \"column\" && _.textDecoration !== undefined) delete _.textDecoration;\r\n\t\t\t\t\t// GET FLOAT VALUES\r\n\t\t\t\t\tif (_.flcr !== undefined) { _.flcr = _.flcr.split(\";\"); for (u in _.flcr) { if (!_.flcr.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.flcr[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.clear = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"f\":_.float = s[1]; break; } } }\r\n\r\n\r\n\t\t\t\t\t// GET PADDING VALUES\r\n\t\t\t\t\tif (_.padding !== undefined) { _.padding = _.padding.split(\";\"); for (u in _.padding) { if (!_.padding.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.padding[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"t\":_.paddingtop = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.paddingbottom = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"l\":_.paddingleft = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"r\":_.paddingright = s[1]; break; } } }\r\n\r\n\t\t\t\t\t// GET MARGIN VALUES\r\n\t\t\t\t\tif (_.margin !== undefined) { _.margin = _.margin.split(\";\"); for (u in _.margin) { if (!_.margin.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.margin[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"t\":_.margintop = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.marginbottom = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"l\":_.marginleft = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"r\":_.marginright = s[1]; break; } } }\r\n\r\n\t\t\t\t\t// SPIKE MASK ON ELEMENTS\r\n\t\t\t\t\tif (_.spike !== undefined) _.spike = getSpikePath(_.spike);\r\n\r\n\t\t\t\t\t// SHARP CORNERS FALLBACK\r\n\t\t\t\t\tif (_.corners !== undefined) {\r\n\t\t\t\t\t\tcorner = _.corners.split(\";\");\r\n\t\t\t\t\t\t_.corners = {};\r\n\t\t\t\t\t\tfor (u in corner) {\r\n\t\t\t\t\t\t\tif (!corner.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\tif (corner[u].length > 0) {\r\n\t\t\t\t\t\t\t\t_.corners[corner[u]] = jQuery('<' + corner[u] + '></' + corner[u] + '>');\r\n\t\t\t\t\t\t\t\t_.c.append(_.corners[corner[u]]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 0.114 - 0.25\r\n\r\n\t\t\t\t\t//CONVERT TEXT VALUES\r\n\t\t\t\t\t_.textalign = convToCLR(_.textalign);\r\n\r\n\t\t\t\t\t_.vbility = _R.revToResp(_.vbility, _R[id].rle, true);\r\n\r\n\t\t\t\t\t_.hoffset = _R.revToResp(_.hoffset, _R[id].rle, 0);\r\n\t\t\t\t\t_.voffset = _R.revToResp(_.voffset, _R[id].rle, 0);\r\n\t\t\t\t\t_.x = _R.revToResp(_.x, _R[id].rle, \"l\");\r\n\t\t\t\t\t_.y = _R.revToResp(_.y, _R[id].rle, \"t\");\r\n\r\n\t\t\t\t\tgetStyleAtStart(L, 0, id);\r\n\t\t\t\t\t_R.sA(layer, \"initialised\", true);\r\n\t\t\t\t\t// 1-2 MS\r\n\t\t\t\t\t_R[id].c.trigger('layerinitialised', { layer: L[0].id, slider: id });\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t/***************************\r\n\t\t\t\t\tRUNTIME ON EACH CALL\r\n\t\t\t\t****************************/\r\n\r\n\t\t\t\tvar elx = _.x[_R[id].level],\r\n\t\t\t\t\tely = _.y[_R[id].level],\r\n\t\t\t\t\ttempGridOffset = _R.getGridOffset(id, o.slideIndex, _.basealign, _._isstatic),\r\n\t\t\t\t\tgw = tempGridOffset[0],\r\n\t\t\t\t\tgh = tempGridOffset[1],\r\n\t\t\t\t\toffsetx = tempGridOffset[2],\r\n\t\t\t\t\toffsety = tempGridOffset[3];\r\n\r\n\t\t\t\t//Cache Slide Index into the Layer Attributes\r\n\t\t\t\t_.slideIndex = o.slideIndex;\r\n\r\n\t\t\t\tif (o.mode !== \"updateposition\") {\r\n\t\t\t\t\t// HIDE CAPTION IF RESOLUTION IS TOO LOW\r\n\t\t\t\t\tif (_.vbility[_R[id].levelForced] == false || _.vbility[_R[id].levelForced] == \"f\" || (gw < _R[id].hideLayerAtLimit && _.layeronlimit == \"on\") || (gw < _R[id].hideAllLayerAtLimit)) {\r\n\t\t\t\t\t\tif (_.layerIsHidden !== true) _.p[0].classList.add(\"rs-layer-hidden\");\r\n\t\t\t\t\t\t_.layerIsHidden = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (_.layerIsHidden) _.p[0].classList.remove(\"rs-layer-hidden\");\r\n\t\t\t\t\t\t_.layerIsHidden = false;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// FALL BACK TO NORMAL IMAGES\r\n\t\t\t\t\t_.poster = _.poster == undefined && _.thumbimage !== undefined ? _.thumbimage : _.poster;\r\n\r\n\t\t\t\t\t// LAYER IS AN IMAGE OR HAS IMAGE INSIDE\r\n\t\t\t\t\tif (_.layertype === \"image\") {\r\n\t\t\t\t\t\t_.imgOBJ = {};\r\n\r\n\t\t\t\t\t\tif (_.img.data('c') === \"cover-proportional\") {\r\n\t\t\t\t\t\t\t_R.sA(_.img[0], \"owidth\", _R.gA(_.img[0], \"owidth\", _.img[0].width));\r\n\t\t\t\t\t\t\t_R.sA(_.img[0], \"oheight\", _R.gA(_.img[0], \"oheight\", _.img[0].height));\r\n\t\t\t\t\t\t\tvar ip = _R.gA(_.img[0], \"owidth\") / _R.gA(_.img[0], \"oheight\"),\r\n\t\t\t\t\t\t\t\tcp = gw / gh;\r\n\r\n\t\t\t\t\t\t\tif ((ip > cp && ip <= 1) || (ip < cp && ip > 1))\r\n\t\t\t\t\t\t\t\t_.imgOBJ = { width: \"100%\", height: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tleft: elx === \"c\" || elx === \"center\" ? \"50%\" : elx === \"left\" || elx === \"l\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tright: elx === \"r\" || elx === \"right\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\ttop: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"50%\" : ely === \"top\" || ely === \"t\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tbottom: ely === \"b\" || ely === \"bottom\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tx: elx === \"c\" || elx === \"center\" || elx===\"middle\" || elx===\"m\" ? \"-50%\" : \"0\",\r\n\t\t\t\t\t\t\t\t\t\t\ty: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"-50%\" : \"0\" };\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t_.imgOBJ = { height: \"100%\", width: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tleft: elx === \"c\" || elx === \"center\" ? \"50%\" : elx === \"left\" || elx === \"l\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tright: elx === \"r\" || elx === \"right\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\ttop: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"50%\" : ely === \"top\" || ely === \"t\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tbottom: ely === \"b\" || ely === \"bottom\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tx: elx === \"c\" || elx === \"center\" || elx===\"middle\" || elx===\"m\" ? \"-50%\" : \"0\",\r\n\t\t\t\t\t\t\t\t\t\t\ty: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"-50%\" : \"0\" };\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// FALL BACK IF WIDTH/HEIGHT IS AUTO AND IMAGE IS ON ROOT\r\n\t\t\t\t\t\t\tif (_.group === undefined && _.width[_R[id].level] === \"auto\" && _.height[_R[id].level] === \"auto\") {\r\n\t\t\t\t\t\t\t\t_.width[_R[id].level] = _R.gA(_.img[0], \"owidth\", _.img[0].width);\r\n\t\t\t\t\t\t\t\t_.height[_R[id].level] = _R.gA(_.img[0], \"owidth\", _.img[0].height);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_.imgOBJ = { width: _.width[_R[id].level] !== \"auto\" || isNaN(_.width[_R[id].level]) && _.width[_R[id].level].indexOf(\"%\") >= 0 ? \"100%\" : \"auto\", height: _.height[_R[id].level] !== \"auto\" || isNaN(_.height[_R[id].level]) && _.height[_R[id].level].indexOf(\"%\") >= 0 ? \"100%\" : \"auto\" }\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} // END OF LAYERTYPE IMAGE\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.layertype === \"video\") { // IF IT IS A VIDEO LAYER\r\n\t\t\t\t\t\t_R.manageVideoLayer(L, id, skey);\r\n\t\t\t\t\t\tif (o.mode !== \"rebuild\") _R.resetVideo(L, id, o.mode);\r\n\t\t\t\t\t\tif (_.aspectratio != undefined && _.aspectratio.split(\":\").length > 1 && _.bgvideo == 1) _R.prepareCoveredVideo(id, L);\r\n\t\t\t\t\t\t_.media = _.media === undefined ? _.deepiframe.length > 0 ? jQuery(_.deepiframe[0]) : jQuery(_.deepmedia[0]) : _.media;\r\n\t\t\t\t\t\t_.html5vid = _.html5vid === undefined ? _.deepiframe.length > 0 ? false : true : _.html5vid;\r\n\t\t\t\t\t\t_.mediaOBJ = { display: \"block\" };\r\n\r\n\t\t\t\t\t\t// SET WIDTH / HEIGHT\r\n\t\t\t\t\t\tvar ww = _.width[_R[id].level],\r\n\t\t\t\t\t\t\thh = _.height[_R[id].level];\r\n\r\n\t\t\t\t\t\tww = ww === \"auto\" ? ww : (!_R.isNumeric(ww) && ww.indexOf(\"%\") > 0) ? _._incolumn || _._ingroup ? \"100%\" : _.basealign === \"grid\" ? _R.iWA(id, o.slideIndex) * _R[id].CM.w : gw : _.rsp_bd !== \"off\" ? (parseFloat(ww) * _R[id].CM.w) + \"px\" : parseFloat(ww) + \"px\";\r\n\t\t\t\t\t\thh = hh === \"auto\" ? hh : (!_R.isNumeric(hh) && hh.indexOf(\"%\") > 0) ? _.basealign === \"grid\" ? _R.iHE(id) * _R[id].CM.w : gh : _.rsp_bd !== \"off\" ? (parseFloat(hh) * _R[id].CM.h) + \"px\" : parseFloat(hh) + \"px\";\r\n\t\t\t\t\t\t_.vd = _.vd === undefined ? _R[id].videos[L[0].id].ratio.split(':').length > 1 ? _R[id].videos[L[0].id].ratio.split(':')[0] / _R[id].videos[L[0].id].ratio.split(':')[1] : 1 : _.vd;\r\n\t\t\t\t\t\tif (_._incolumn && (ww === \"100%\" || hh === \"auto\") && _.ytid !== undefined) {\r\n\t\t\t\t\t\t\tvar nvw = L.width(),\r\n\t\t\t\t\t\t\t\tnvh = hh === \"auto\" ? nvw / _.vd : hh;\r\n\t\t\t\t\t\t\t_.vidOBJ = { width: \"auto\", height: nvh };\r\n\t\t\t\t\t\t\t_.heightSetByVideo = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (L[0].className.indexOf('rs-fsv') == -1) {\r\n\t\t\t\t\t\t\t\thh = hh === \"auto\" && _.vd !== undefined && ww !== \"auto\" ? ww === \"100%\" ? L.width() / _.vd : ww / _.vd : hh;\r\n\t\t\t\t\t\t\t\t_.vidOBJ = { width: ww, height: hh };\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tif (_.basealign !== \"grid\") {\r\n\t\t\t\t\t\t\t\t\toffsetx = 0;\r\n\t\t\t\t\t\t\t\t\toffsety = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_.x = _R.revToResp(0, _R[id].rle, 0);\r\n\t\t\t\t\t\t\t\t_.y = _R.revToResp(0, _R[id].rle, 0);\r\n\r\n\t\t\t\t\t\t\t\t_.vidOBJ = { width: ww, height: (_R[id].autoHeight ? _R[id].canv.height : hh) };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_.html5vid == false || !L.hasClass('rs-fsv')) _.mediaOBJ = { width: ww, height: hh, display: \"block\" };\r\n\t\t\t\t\t\t\tif (_._ingroup && _.vidOBJ.width !== null && _.vidOBJ.width !== undefined && !_R.isNumeric(_.vidOBJ.width) && _.vidOBJ.width.indexOf(\"%\") > 0) _.OBJUPD.lppmOBJ = { minWidth: ww };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} // END OF POSITION AND STYLE READ OUTS OF VIDEO\r\n\r\n\t\t\t\t\t// RESPONIVE HANDLING OF CURRENT LAYER  - COLLECT ALL FOR LATER WORK\r\n\r\n\r\n\t\t\t\t\tif (!_._slidelink) _R[id].caches.calcResponsiveLayersList.push({ a: L, b: id, c: 0, d: _.rsp_bd, e: o.slideIndex });\r\n\r\n\r\n\t\t\t\t\t// ALL ELEMENTS IF THE MAIN ELEMENT IS REKURSIVE RESPONSIVE SHOULD BE REPONSIVE HANDLED\r\n\t\t\t\t\tif (_.rsp_ch === \"on\" && _.type !== \"row\" && _.type !== \"column\" && _.type !== \"group\" && _.type !== \"image\" && _.type !== \"video\" && _.type !== \"shape\") {\r\n\r\n\t\t\t\t\t\tL.find('*').each(function() {\r\n\t\t\t\t\t\t\tvar jthis = jQuery(this);\r\n\t\t\t\t\t\t\tif (_R.gA(this, \"stylerecorder\") !== \"true\" && _R.gA(this, \"stylerecorder\") !== true) getStyleAtStart(jthis, \"rekursive\", id);\r\n\t\t\t\t\t\t\t_R[id].caches.calcResponsiveLayersList.push({ a: jthis, b: id, c: \"rekursive\", d: _.rsp_bd, e: o.slideIndex, RSL: L });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} // NOT ONLY UPDATE POSITION !\r\n\r\n\r\n\t\t\t\tif (o.mode !== \"preset\") {\r\n\r\n\t\t\t\t\t_.oldeow = _.eow;\r\n\t\t\t\t\t_.oldeoh = _.eoh;\r\n\t\t\t\t\t_.eow = L.outerWidth(true);\r\n\t\t\t\t\t_.eoh = L.outerHeight(true);\r\n\r\n\r\n\t\t\t\t\t//GROUP WITH AUTO HEIGHTS NEED TO BE CALCULATED BY WRAPPERS\r\n\t\t\t\t\tif (_.eoh==0 && _.type==\"group\" && _.height[_R[id].level]==\"auto\") _.eoh = _.p[0].offsetHeight;\r\n\r\n\r\n\t\t\t\t\t// CHECK FOR CURRENT SLIDE INDEX META\r\n\t\t\t\t\tif (_.metas !== undefined && _.metas.csi !== undefined && _.metas.csi.change !== _R[id].focusedSlideIndex) {\r\n\t\t\t\t\t\t_.metas.csi.change = _R[id].focusedSlideIndex;\r\n\t\t\t\t\t\tvar digit = parseInt(_.metas.csi.change) + 1;\r\n\t\t\t\t\t\t_.metas.csi.c.innerHTML = (_R[id].realslideamount > 9 && digit < 10 ? '0' : '') + digit;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.imgInFirefox = _.type == \"image\" && _.width[_R[id].level] == \"auto\" && _.height[_R[id].level] == \"100%\" && _R.isFirefox(id);\r\n\r\n\t\t\t\t\t//IMAGE WITH FULLHEIGHT NEED TO BE REPSECTED DIFFERENTLY IN FIREFOX\r\n\t\t\t\t\tif (_.imgInFirefox) {\r\n\t\t\t\t\t\tvar imgw = _.img.width();\r\n\t\t\t\t\t\t_.eow = imgw !== 0 ? imgw : _.eow;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.eow <= 0 && _.lastknownwidth !== undefined) _.eow = _.lastknownwidth;\r\n\t\t\t\t\tif (_.eoh <= 0 && _.lastknownheight !== undefined) _.eoh = _.lastknownheight;\r\n\r\n\r\n\r\n\t\t\t\t\t// BUILD AND UPDATE SHARP DECO CORNERS\r\n\t\t\t\t\tif (_.corners !== undefined && (_.type === \"text\" || _.type === \"button\" || _.type === \"shape\")) {\r\n\t\t\t\t\t\tfor (corner in _.corners) {\r\n\t\t\t\t\t\t\tif (!_.corners.hasOwnProperty(corner)) continue;\r\n\t\t\t\t\t\t\t_.corners[corner].css('borderWidth', _.eoh + \"px\");\r\n\t\t\t\t\t\t\tvar fcr = corner === \"rs-fcrt\" || corner === \"rs-fcr\";\r\n\t\t\t\t\t\t\t_.corners[corner].css('border' + (fcr ? \"Right\" : \"Left\"), '0px solid transparent');\r\n\t\t\t\t\t\t\t_.corners[corner].css('border' + (corner == \"rs-fcrt\" || corner == \"rs-bcr\" ? \"Bottom\" : \"Top\") + 'Color', _.bgcol);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_.eow = L.outerWidth(true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// NEED CLASS FOR FULLWIDTH AND FULLHEIGHT LAYER SETTING !!\r\n\t\t\t\t\tif (_.eow == 0 && _.eoh == 0) {\r\n\t\t\t\t\t\t_.eow = _.basealign === \"grid\" ? _R[id].content.width : _R[id].module.width;\r\n\t\t\t\t\t\t_.eoh = _.basealign === \"grid\" ? _R[id].content.height : _R[id].module.height;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.basealign = _R[id].justifyCarousel ? \"grid\" : _.basealign;\r\n\r\n\r\n\t\t\t\t\tvar vofs = _.rsp_o === \"on\" ? parseInt(_.voffset[_R[id].level], 0) * _R[id].CM.w : parseInt(_.voffset[_R[id].level], 0),\r\n\t\t\t\t\t\thofs = _.rsp_o === \"on\" ? parseInt(_.hoffset[_R[id].level], 0) * _R[id].CM.h : parseInt(_.hoffset[_R[id].level], 0),\r\n\t\t\t\t\t\tcrw = _.basealign === \"grid\" ? _R.iWA(id, o.slideIndex) * _R[id].CM.w : gw,\r\n\t\t\t\t\t\tcrh = _.basealign === \"grid\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation === \"v\")  ? _R.iHE(id) * (_R[id].keepBPHeight || _R[id].currentRowsHeight > _R[id].gridheight[_R[id].level] ? 1 : _R[id].CM.h) : gh;\r\n\r\n\t\t\t\t\tif (_R[id].gridEQModule == true || (_._lig !== undefined && _.type !== \"row\" && _.type !== \"column\" && (_.type !== \"group\" || _._ingroup))) {\r\n\t\t\t\t\t\tcrw = _._lig !== undefined ? _._lig.width() : _R[id].module.width;\r\n\t\t\t\t\t\tcrh = _._lig !== undefined ? _._lig.height() : _R[id].module.height;\r\n\t\t\t\t\t\toffsetx = 0;\r\n\t\t\t\t\t\toffsety = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_R[id].keepBPHeight && crh == _R[id].module.height) offsety = 0;\r\n\r\n\t\t\t\t\t// Soft Protection for Video Height if Video has no Dimenstion yet.\r\n\t\t\t\t\tif (_.type === \"video\" && _.vidOBJ != undefined) {\r\n\t\t\t\t\t\tif (_.vidOBJ.height >= 0 && _.eoh === 0) _.eoh = _.vidOBJ.height;\r\n\t\t\t\t\t\tif (_.vidOBJ.width >= 0 && _.eow === 0) _.eow = _.vidOBJ.width;\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\telx = _.position==\"relative\" ? 0 : elx === \"c\" || elx === \"m\" || elx === \"center\" || elx === \"middle\" ? (crw / 2 - _.eow / 2) + hofs : elx === \"l\" || elx === \"left\" ? hofs : elx === \"r\" || elx === \"right\" ? (crw - _.eow) - hofs : _.rsp_o !== \"off\" ? elx * _R[id].CM.w : elx;\r\n\t\t\t\t\tely = _.position==\"relative\" ? 0 : ely === \"m\" || ely === \"c\" || ely === \"center\" || ely === \"middle\" ? (crh / 2 - _.eoh / 2) + vofs : ely === \"t\" || ely == \"top\" ? vofs : ely === \"b\" || ely == \"bottom\" ? (crh - _.eoh) - vofs : _.rsp_o !== \"off\" ? ely * _R[id].CM.w : ely;\r\n\r\n\t\t\t\t\telx = _._slidelink ? 0 : _R[id].rtl && (\"\" + _.width[_R[id].level]).indexOf(\"%\") == -1 ? parseInt(elx) + _.eow : elx;\r\n\r\n\r\n\t\t\t\t\t_.calcx = _.position==\"relative\" && (_.type===\"group\" || _._incolumn)  ? 0 : (parseInt(elx, 0) + offsetx);\r\n\t\t\t\t\t_.calcy = _.position==\"relative\" && (_.type===\"group\" || _._incolumn) ? 0 : (parseInt(ely, 0) + offsety);\r\n\r\n\t\t\t\t\t// SET TOP/LEFT POSITION OF LAYER\r\n\t\t\t\t\tif (_.type !== \"row\" && _.type !== \"column\") _.OBJUPD.POBJ = { zIndex: _.zindex, top: _.calcy, left: _.calcx, overwrite: \"auto\" };\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type !== \"row\") _.OBJUPD.POBJ = { zIndex: _.zindex, width: _.columnwidth, top: 0, left: 0, overwrite: \"auto\" };\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type === \"row\") {\r\n\t\t\t\t\t\t_.OBJUPD.POBJ = { zIndex: _.zindex, width: (_.basealign === \"grid\" ? crw + \"px\" : \"100%\"), top: 0, left: _R[id].rtl ? offsetx * -1 : offsetx, overwrite: \"auto\" };\r\n\r\n\t\t\t\t\t\tif (_.cbreak <= _R[id].level) {\r\n\t\t\t\t\t\t\tif (L[0].className.indexOf(\"rev_break_columns\") === -1) L[0].classList.add(\"rev_break_columns\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (L[0].className.indexOf(\"rev_break_columns\") > 0) L[0].classList.remove(\"rev_break_columns\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Adjust ROW Calculations\r\n\t\t\t\t\t\t_.rowcalcx = _.OBJUPD.POBJ.left;\r\n\t\t\t\t\t\t_.pow = _.p.outerWidth(true);\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\tif (_.blendmode !== undefined) _.OBJUPD.POBJ.mixBlendMode = _.blendmode===\"color\" && window.isSafari11 ? \"color-burn\" : _.blendmode;\r\n\r\n\t\t\t\t\t// LOOP ANIMATION WIDTH/HEIGHT\r\n\t\t\t\t\tif (_.frames.loop !== undefined || _.imgInFirefox) _.OBJUPD.LPOBJ = { width: _.eow, height: _.eoh }; //tpGS.gsap.set(_.lp,{width:_.eow,height:_.eoh});\r\n\t\t\t\t\t// ELEMENT IN GROUPS WITH % WIDTH AND HEIGHT SHOULD EXTEND PARRENT SIZES\r\n\t\t\t\t\tif (_._ingroup) {\r\n\t\t\t\t\t\tif (_._groupw !== undefined && !_R.isNumeric(_._groupw) && _._groupw.indexOf(\"%\") > 0) _.OBJUPD.lppmOBJ.minWidth = _._groupw;\r\n\t\t\t\t\t\tif (_._grouph !== undefined && !_R.isNumeric(_._grouph) && _._grouph.indexOf(\"%\") > 0) _.OBJUPD.lppmOBJ.minHeight = _._grouph;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (o.mode === \"updateposition\") {\r\n\t\t\t\t\t\tif (_.caches.POBJ_LEFT !== _.OBJUPD.POBJ.left || _.caches.POBJ_TOP !== _.OBJUPD.POBJ.top) {\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_.p, _.OBJUPD.POBJ);\r\n\t\t\t\t\t\t\t_.caches.POBJ_LEFT = _.OBJUPD.POBJ.left;\r\n\t\t\t\t\t\t\t_.caches.POBJ_TOP = _.OBJUPD.POBJ.top;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (o.animcompleted) _R.animcompleted(L, id);\r\n\r\n\r\n\t\t\t\t} // IT WAS ONLY PRESET ? OVERJUMP PARTS\r\n\t\t\t} // END OF FOR li RUNTRHOUGH OF LAYERS\r\n\t\t},\r\n\r\n\t\thoverReverseDone: function(_) {\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].textDecoration) tpGS.gsap.set(_R[_.id]._L[_.L[0].id].c, { textDecoration: _R[_.id]._L[_.L[0].id].textDecoration });\r\n\t\t},\r\n\r\n\t\t// MAKE SURE THE ANIMATION ENDS WITH A CLEANING ON MOZ TRANSFORMS\r\n\t\tanimcompleted: function(_nc, id, force) {\r\n\r\n\t\t\tif (_R[id].videos === undefined) return;\r\n\t\t\tvar _ = _R[id].videos[_nc[0].id];\r\n\t\t\tif (_ == undefined) return;\r\n\t\t\tif (_.type != undefined && _.type != \"none\")\r\n\t\t\t\tif (_.aplay == true || _.aplay == \"true\" || _.aplay == \"on\" || _.aplay == \"1sttime\") {\r\n\r\n\t\t\t\t\t//Addedd a double test if carousel and focus not changed, we can compare activeRSSSLider to index when oldfocus and newfocus still same !\r\n\t\t\t\t\tif (_.slideid === \"static\" || (_R[id].sliderType !== \"carousel\" || (_nc.closest('rs-slide').index() == _R[id].carousel.focused) || (_nc.closest('rs-slide').index() == _R[id].activeRSSlide && _R[id].carousel.oldfocused == _R[id].carousel.focused) || force)) _R.playVideo(_nc, id);\r\n\t\t\t\t\t_R.toggleState(_nc.data('videotoggledby'));\r\n\t\t\t\t\tif (_.aplay1 || _.aplay == \"1sttime\") {\r\n\t\t\t\t\t\t_.aplay1 = false;\r\n\t\t\t\t\t\t_.aplay = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_.aplay == \"no1sttime\") _.aplay = true;\r\n\t\t\t\t\t_R.unToggleState(_nc.data('videotoggledby'));\r\n\t\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/********************************************************\r\n\t\t\t-\tCONVERT TRANSFORM VALUES FOR HOVER ANIMATION -\r\n\t\t*********************************************************/\r\n\t\tconvertHoverTransform : function(_, el, idle) {\r\n\t\t\tvar a = _R.clone(_.transform),\r\n\t\t\t\tnb, l;\r\n\t\t\tif (a.originX || a.originY || a.originZ) {\r\n\t\t\t\ta.transformOrigin = (a.originX === undefined ? \"50%\" : a.originX) + \" \" + (a.originY === undefined ? \"50%\" : a.originY) + \" \" + (a.originZ === undefined ? \"50%\" : a.originZ);\r\n\t\t\t\tdelete a.originX;\r\n\t\t\t\tdelete a.originY;\r\n\t\t\t\tdelete a.originZ;\r\n\t\t\t}\r\n\r\n\t\t\tif (_ !== undefined && _.filter !== undefined) {\r\n\t\t\t\ta.filter = buildFilter(_.filter);\r\n\t\t\t\ta['-webkit-filter'] = a.filter;\r\n\t\t\t}\r\n\r\n\t\t\ta.color = a.color === undefined ? 'rgba(255,255,255,1)' : a.color;\r\n\t\t\ta.force3D = \"auto\";\r\n\r\n\t\t\tif (a.borderRadius !== undefined) {\r\n\t\t\t\tnb = a.borderRadius.split(\" \");\r\n\t\t\t\tl = nb.length;\r\n\t\t\t\ta.borderTopLeftRadius = nb[0];\r\n\t\t\t\ta.borderTopRightRadius = nb[1];\r\n\t\t\t\ta.borderBottomRightRadius = nb[2];\r\n\t\t\t\ta.borderBottomLeftRadius = nb[3];\r\n\t\t\t\tdelete a.borderRadius;\r\n\t\t\t}\r\n\r\n\t\t\tif (a.borderWidth !== undefined) {\r\n\t\t\t\tnb = a.borderWidth.split(\" \"),\r\n\t\t\t\t\tl = nb.length;\r\n\t\t\t\ta.borderTopWidth = nb[0];\r\n\t\t\t\ta.borderRightWidth = nb[1];\r\n\t\t\t\ta.borderBottomWidth = nb[2];\r\n\t\t\t\ta.borderLeftWidth = nb[3];\r\n\t\t\t\tdelete a.borderWidth;\r\n\t\t\t}\r\n\r\n\t\t\tif (idle.bg === undefined || idle.bg.indexOf('url') === -1) {\r\n\t\t\t\tvar elGradient = idle.bgCol.search('gradient') !== -1,\r\n\t\t\t\t\taGradient = a.backgroundImage && typeof a.backgroundImage === 'string' && a.backgroundImage.search('gradient') !== -1;\r\n\r\n\t\t\t\tif (aGradient && elGradient) {\r\n\t\t\t\t\tif (gradDegree(idle.bgCol) !== 180 && gradDegree(a.backgroundImage) == 180) a.backgroundImage = addGradDegree(a.backgroundImage, 180);\r\n\t\t\t\t\ta.backgroundImage = tpGS.getSSGColors(idle.bgCol, a.backgroundImage, (a.gs === undefined ? \"fading\" : a.gs)).to;\r\n\t\t\t\t} else\r\n\t\t\t\tif (aGradient && !elGradient)\r\n\t\t\t\t\ta.backgroundImage = tpGS.getSSGColors(idle.bgCol, a.backgroundImage, (a.gs === undefined ? \"fading\" : a.gs)).to;\r\n\t\t\t\telse\r\n\t\t\t\tif (!aGradient && elGradient) {\r\n\t\t\t\t\ta.backgroundImage = tpGS.getSSGColors(idle.bgCol, a.backgroundColor, (a.gs === undefined ? \"fading\" : a.gs)).to;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdelete a.gs;\r\n\r\n\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\r\n\r\n\t\t/********************************************************\r\n\t\t\t-\tPREPARE AND DEFINE STATIC LAYER DIRECTIONS -\r\n\t\t*********************************************************/\r\n\t\thandleStaticLayers: function(_nc, id) {\r\n\t\t\tvar s = 0,\r\n\t\t\t\te = _R[id].realslideamount + 1;\r\n\r\n\t\t\tif (_R.gA(_nc[0], \"onslides\") !== undefined) {\r\n\t\t\t\tvar ons = _R.gA(_nc[0], \"onslides\").split(\";\");\r\n\t\t\t\tfor (var i in ons) {\r\n\t\t\t\t\tif (!ons.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tvar v = ons[i].split(\":\");\r\n\t\t\t\t\tif (v[0] === \"s\") s = parseInt(v[1], 0);\r\n\t\t\t\t\tif (v[0] === \"e\") e = parseInt(v[1], 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ts = Math.max(0, s);\r\n\t\t\te = Math.min(_R[id].realslideamount, (e < 0 ? _R[id].realslideamount : e));\r\n\r\n\r\n\t\t\te = (s === 1 || s === 0) && e === _R[id].realslideamount ? _R[id].realslideamount + 1 : e;\r\n\t\t\t_nc.data('startslide', s);\r\n\t\t\t_nc.data('endslide', e);\r\n\t\t\t_R.sA(_nc[0], \"startslide\", s);\r\n\t\t\t_R.sA(_nc[0], \"endslide\", e);\r\n\t\t},\r\n\r\n\t\tupdateLayersOnFullStage: function(id) {\r\n\t\t\tif (_R[id].caches.calcResponsiveLayersList.length > 0) {\r\n\t\t\t\tif (_R[id].slideHasIframe !== true && _R[id].fullScreenMode !== true && _R[id].skipAttachDetach!==true) {\r\n\t\t\t\t\tif (_R[id].sliderType === \"carousel\") _R[id].carousel.wrap.detach(); else _R[id].canvas.detach();\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < _R[id].caches.calcResponsiveLayersList.length; i++)\r\n\t\t\t\t\tif (_R[id].caches.calcResponsiveLayersList[i] !== undefined) calcResponsiveLayer(_R[id].caches.calcResponsiveLayersList[i]);\r\n\t\t\t\tif (_R[id].slideHasIframe !== true && _R[id].fullScreenMode !== true && _R[id].skipAttachDetach!==true) {\r\n\t\t\t\t\tif (_R[id].sliderType === \"carousel\") _R[id].c[0].appendChild(_R[id].carousel.wrap[0]);else _R[id].c[0].appendChild(_R[id].canvas[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/************************************\r\n\t\t\tANIMATE ALL CAPTIONS\r\n\t\t*************************************/\r\n\t\tanimateTheLayers: function(obj) {\r\n\r\n\t\t\tif (obj.slide === undefined) return false;\r\n\t\t\tvar id = obj.id;\r\n\t\t\tif (_R[id].slides[obj.slide] === undefined && obj.slide !== \"individual\") return false;\r\n\r\n\t\t\t// Protection against double call if Carousel Auto Slide Swap processing\r\n\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\tif (obj.mode === \"start\" && _R[id].lastATLmode === \"start\") {\r\n\t\t\t\t\tif (obj.slide === _R[id].lastATLslide && (new Date().getTime() - _R[id].lastATLtime) < 1500) return;\r\n\t\t\t\t\t_R[id].lastATLtime = new Date().getTime();\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].lastATLmode = obj.mode;\r\n\t\t\t\t_R[id].lastATLslide = obj.slide;\r\n\t\t\t}\r\n\r\n\t\t\tvar key = obj.slide !== \"individual\" ? _R.gA(_R[id].slides[obj.slide], \"key\") : \"individual\",\r\n\t\t\t\tindex = _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key !== undefined ? _R[id].pr_active_key : 0;\r\n\t\t\t_R[id].focusedSlideIndex = index;\r\n\t\t\t_R[id].caches.calcResponsiveLayersList = [];\r\n\r\n\t\t\t// COLLECTION OF LAYERS\r\n\t\t\t_R[id].layers = _R[id].layers || {};\r\n\r\n\t\t\tif (key === \"individual\") _R[id].layers[\"individual\"] = _R[id].layers[\"individual\"] === undefined ? _R[id].carousel.showLayersAllTime === \"all\" ? getLayersInSlide(jQuery(_R[id].c), 'rs-layer', 'rs-layer-static') : getLayersInSlide(jQuery(_R[id].c), 'rs-on-car') : _R[id].layers[\"individual\"];\r\n\t\t\telse {\r\n\t\t\t\t_R[id].layers[key] = _R[id].layers[key] === undefined ? _R[id].carousel.showLayersAllTime === \"all\" ? [] : getLayersInSlide(jQuery(_R[id].slides[obj.slide]), 'rs-layer', (_R[id].sliderType === \"carousel\" ? 'rs-on-car' : undefined)) : _R[id].layers[key];\r\n\t\t\t\t_R[id].layers[\"static\"] = _R[id].layers[\"static\"] === undefined ? getLayersInSlide(jQuery(_R[id].c.find('rs-static-layers')), 'rs-layer', 'rs-on-car') : _R[id].layers[\"static\"];\r\n\t\t\t\t_R[id].sbas[key] = _R[id].sbas[key] === undefined ? getLayersInSlide(jQuery(_R[id].slides[obj.slide]), 'rs-sba') : _R[id].sbas[key];\r\n\t\t\t}\r\n\r\n\r\n\t\t\t//_R.updateDims(id);\r\n\t\t\tvar shPermnt = obj.mode === \"rebuild\" && _R[id].sliderType === \"carousel\" && key === \"individual\";\r\n\r\n\t\t\t// PREPARE AND ANIMATE SLIDE LAYERS\r\n\t\t\tif (key !== undefined && _R[id].layers[key]) _R.initLayer({ id: id, slideIndex: obj.slide, skey: key, mode: obj.mode, animcompleted: shPermnt });\r\n\r\n\t\t\t// PREPARE AND ANIMATE STATIC LAYERS\r\n\t\t\tif (_R[id].layers[\"static\"]) _R.initLayer({ id: id, skey: \"static\", slideIndex: 'static', mode: obj.mode, animcompleted: shPermnt });\r\n\r\n\t\t\t// UPDATE LAYER STYLES ON THE FULL STAGE\r\n\t\t\t_R.updateLayersOnFullStage(id);\r\n\r\n\t\t\tif (obj.mode === \"preset\" && (_R[id].slidePresets === undefined || _R[id].slidePresets[obj.slide] === undefined)) {\r\n\t\t\t\t_R[id].slidePresets = _R[id].slidePresets === undefined ? {} : _R[id].slidePresets;\r\n\t\t\t\t_R[id].slidePresets[obj.slide] = true;\r\n\t\t\t\t_R[id].c.trigger('revolution.slideprepared', { slide: obj.slide, key: key });\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].heightInLayers = _R[id].module.height;\r\n\t\t\t_R[id].widthInLayers = _R[id].module.width;\r\n\t\t\t_R[id].levelInLayers = _R[id].level;\r\n\r\n\t\t\tvar cache = { id: id, skey: key, slide: obj.slide, key: key, mode: obj.mode, index: index };\r\n\r\n\t\t\t// MODIFICATED REQUEST ANIMATION BASED START OF ANIMATION\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t//_R[obj.id].heightInLayers = undefined;\r\n\t\t\t\t//_R[obj.id].widthInLayers = undefined;\r\n\t\t\t\tif (_R[id].dimensionReCheck[key] === undefined) {\r\n\t\t\t\t\t_R.updateLayerDimensions(cache);\r\n\t\t\t\t\tif (_R[id].doubleDimensionCheck !== true) setTimeout(function() {\r\n\t\t\t\t\t\t_R.updateLayerDimensions(cache);\r\n\t\t\t\t\t\t_R.updateRowZones(cache);\r\n\t\t\t\t\t}, 150);\r\n\t\t\t\t\telse _R.updateRowZones(cache);\r\n\t\t\t\t\t_R[id].doubleDimensionCheck = true;\r\n\t\t\t\t\t_R[id].dimensionReCheck[key] = true;\r\n\t\t\t\t} else _R.updateRowZones(cache);\r\n\r\n\t\t\t\tif (key !== undefined && _R[id].layers[key])\r\n\t\t\t\t\tfor (var li in _R[id].layers[key])\r\n\t\t\t\t\t\tif (_R[id].layers[key].hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers[key][li]), id: id, mode: obj.mode, caller: obj.caller });\r\n\t\t\t\tif (_R[id].layers.static)\r\n\t\t\t\t\tfor (var li in _R[id].layers.static)\r\n\t\t\t\t\t\tif (_R[id].layers.static.hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers.static[li]), id: id, mode: obj.mode, caller: obj.caller });\r\n\t\t\t\tif (_R[id].mtl != undefined) _R[id].mtl.resume();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tupdateRowZones: function(obj) {\r\n\t\t\tif ((_R[obj.id].rowzones !== undefined && _R[obj.id].rowzones.length > 0 && obj.index >= 0 && (_R[obj.id].rowzones[Math.min(obj.index, _R[obj.id].rowzones.length)] && _R[obj.id].rowzones[Math.min(obj.index, _R[obj.id].rowzones.length)].length > 0)) || (_R[obj.id].srowzones !== undefined && _R[obj.id].srowzones.length > 0) || (_R[obj.id].smiddleZones !== undefined && _R[obj.id].smiddleZones.length > 0)) {\r\n\t\t\t\t_R.updateDims(obj.id);\r\n\t\t\t\t//requestAnimationFrame(function() {_R.updateMiddleZonesAndESG(obj.id);}); // CENTERED ROWS, SOLTION NOW VIA CSS\r\n\t\t\t\t_R.initLayer({ id: obj.id, skey: obj.key, slideIndex: obj.slide, mode: \"updateposition\" });\r\n\t\t\t\t_R.initLayer({ id: obj.id, skey: \"static\", slideIndex: 'static', mode: \"updateposition\" });\r\n\t\t\t\tif (obj.mode === \"start\" || obj.mode === \"preset\") _R.manageNavigation(obj.id);\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.putRowsInPosition(obj.id);});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tupdateLayerDimensions: function(obj) {\r\n\t\t\tvar changes = false;\r\n\t\t\t_R[obj.id].caches.calcResponsiveLayersList = [];\r\n\t\t\tif (obj.key !== undefined && (obj.key == \"individual\" || _R[obj.id].layers[obj.key] !== undefined) && _R.checkLayerDimensions({ id: obj.id, skey: obj.key, slideIndex: obj.slide })) changes = true;\r\n\t\t\t_R.initLayer({ id: obj.id, skey: obj.key, slideIndex: obj.slide, mode: \"updateAndResize\" });\r\n\t\t\tif (_R[obj.id].layers[\"static\"] && _R.checkLayerDimensions({ id: obj.id, skey: \"static\", slideIndex: 'static' })) { changes = true;\r\n\t\t\t\t_R.initLayer({ id: obj.id, skey: \"static\", slideIndex: 'static', mode: \"updateAndResize\" }); }\r\n\t\t\tif (changes) _R.updateLayersOnFullStage(obj.id);\r\n\t\t},\r\n\r\n\t\t// Update the Layers which are or will be animated currently .  i.e. Stage size changed based on Navigation outter size. (call from updateDimensions so far);\r\n\t\tupdateAnimatingLayerPositions: function(obj) {\r\n\t\t\t_R.initLayer({ id: obj.id, skey: obj.key, slideIndex: obj.slide, mode: \"updateposition\" })\r\n\t\t},\r\n\r\n\t\t//////////////////////////\r\n\t\t//\tREMOVE THE CAPTIONS //\r\n\t\t/////////////////////////\r\n\t\tremoveTheLayers: function(slide, id, allforce) {\r\n\r\n\t\t\tvar skey = _R.gA(slide[0], \"key\");\r\n\t\t\tif (_R[id].sloops && _R[id].sloops[skey] && _R[id].sloops[skey].tl) _R[id].sloops[skey].tl.pause();\r\n\t\t\t//REMOVE CURRENT LAYERS\r\n\t\t\tfor (var li in _R[id].layers[skey])\r\n\t\t\t\tif (_R[id].layers[skey].hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers[skey][li]), frame: \"frame_999\", mode: \"continue\", remove: true, id: id, allforce: allforce });\r\n\t\t\t\t//REMOVE STATIC LAYERS IF NEEDED\r\n\t\t\tfor (var li in _R[id].layers.static)\r\n\t\t\t\tif (_R[id].layers.static.hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers.static[li]), frame: \"frame_999\", mode: \"continue\", remove: true, id: id, allforce: allforce });\r\n\r\n\t\t},\r\n\r\n\t\t/************************************\r\n\t\t\t\tRENDER LAYER ANIMATIONS\r\n\t\t*************************************/\r\n\t\trenderLayerAnimation: function(obj) {\r\n\r\n\t\t\tvar L = obj.layer,\r\n\t\t\t\tid = obj.id,\r\n\t\t\t\tscren = _R[id].level,\r\n\t\t\t\t_ = _R[id]._L[L[0].id],\r\n\t\t\t\tfifame = \"frame_1\",\r\n\t\t\t\tcachetime = _.timeline !== undefined ? _.timeline.time() : undefined,\r\n\t\t\t\tignoreframes = false,\r\n\t\t\t\tcalledframereached = false,\r\n\t\t\t\tsl = \"none\",\r\n\t\t\t\tjumpToCacheTime = false,\r\n\t\t\t\ttPE;\r\n\r\n\t\t\tif ((obj.caller === \"containerResized_2\" || obj.caller === \"swapSlideProgress_2\") && _.animationRendered !== true) return;\r\n\t\t\t_.animationRendered = true;\r\n\r\n\t\t\t// ONLY PREPARE ELEMENTS WE REALLY NEED\r\n\t\t\tif (obj.mode === \"preset\" && _.frames.frame_1.timeline.waitoncall !== true && _.scrollBasedOffset === undefined) return;\r\n\t\t\tif (obj.mode == \"trigger\") _.triggeredFrame = obj.frame;\r\n\t\t\t//STATIC LAYERS CAN BE IGNORED IN SOME CASES\r\n\t\t\tif (_._isstatic) {\r\n\r\n\t\t\t\tvar cs = _R[id].sliderType === \"carousel\" && _R[id].carousel.oldfocused !== undefined ? parseInt(_R[id].carousel.oldfocused) + 1 : _R[id].focusedSlideIndex === undefined ? 0 : parseInt(_R[id].focusedSlideIndex, 0) + 1,\r\n\t\t\t\t\tns = _R[id].sliderType === \"carousel\" ?\r\n\t\t\t\t\t\t_R[id].pr_next_key === undefined ?\r\n\t\t\t\t\t\t\tcs == 0 ? 1 : cs\r\n\t\t\t\t\t\t\t: parseInt(_R[id].pr_next_key, 0) + 1 :\r\n\t\t\t\t\t\t\t_R[id].pr_processing_key === undefined ? cs==0 ? 1 : cs : parseInt(_R[id].pr_processing_key, 0) + 1,\r\n\t\t\t\t\tinrangecs = cs >= _.startslide && cs <= _.endslide,\r\n\t\t\t\t\tinrangens = ns >= _.startslide && ns <= _.endslide,\r\n\t\t\t\t\tleaveNotAtEnd =  _.frames.frame_999!==undefined &&_.frames.frame_999.timeline!==undefined &&  _.frames.frame_999.timeline.waitoncall!==true && (cs===_.endslide || cs===_.endslide-1);\r\n\r\n\r\n\t\t\t\t// OPENING MODAL / REOPENING MODAL  SHOULD PLAY THE GLOBAL LAYERS AGAIN\r\n\t\t\t\tif (_R[id].modal!==undefined && (obj.mode==\"start\" || obj.mode==\"continue\")) {\r\n\t\t\t\t\tif (obj.mode===\"continue\" && _R[id].modal.lastModalCall==\"close\") inrangens = false;\r\n\t\t\t\t\tif (obj.mode===\"start\" && (_R[id].modal.lastModalCall===\"show\" || _R[id].modal.lastModalCall===\"init\") &&  _R[id].modal.lastModalCall!==_.lastModalCall) {\r\n\t\t\t\t\t\t_.triggeredFrame = undefined;\r\n\t\t\t\t\t\t_.triggercache = \"reset\";\r\n\t\t\t\t\t\tif (_.timeline!==undefined && _.timeline.currentLabel()!==undefined && _.timeline.currentLabel().indexOf('frame_999')==-1) _.timeline.pause(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_.lastModalCall = _R[id].modal.lastModalCall;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tsl = obj.mode===\"start\" && leaveNotAtEnd ? true  : cs === _.endslide && obj.mode === \"continue\" ? true : obj.mode !== \"continue\" && cs !== _.endslide ? false : \"none\";\r\n\r\n\t\t\t\tif (_.animatedFrame===\"frame_999\" && (_.animatingFrame===\"done\" | _.animatingFrame==undefined)) _.lastRequestedMainFrame = \"frame_999\";\r\n\r\n\r\n\t\t\t\tif (_.timeline!==undefined && _.timeline.currentLabel()!==undefined && _.timeline.currentLabel().indexOf('frame_999')==-1) {\r\n\t\t\t\t\tjumpToCacheTime = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.allforce === true || sl === true) {\r\n\t\t\t\t\t//Force to Redo Whatever we need to do\r\n\t\t\t\t\tif (obj.mode===\"continue\" && inrangens && leaveNotAtEnd && _.timeline!==undefined) {\r\n\t\t\t\t\t\tif (_.timeline.currentLabel().indexOf('frame_999')>=0) _.timeline.pause(_.timeline.previousLabel());\r\n\t\t\t\t\t\telse _.timeline.pause(_.timeline.currentLabel());\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.mode === \"continue\" && obj.frame === \"frame_999\" && (inrangens || _.lastRequestedMainFrame === undefined)) return;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (obj.mode === \"preset\" && (_.elementHovered || !inrangens)) return;\r\n\t\t\t\t\tif (obj.mode === \"rebuild\" && !inrangecs && !inrangens) return;\r\n\t\t\t\t\t// In case Element animates before Slide End out, we need to check the Real Frame Position\r\n\t\t\t\t\tif (obj.mode === \"start\" && inrangens && _.lastRequestedMainFrame === \"frame_1\") return;\r\n\t\t\t\t\tif ((obj.mode === \"start\" || obj.mode === \"preset\") && _.lastRequestedMainFrame === \"frame_999\" && _.leftstage !== true) return;\r\n\t\t\t\t\tif ((obj.mode === \"continue\") && obj.frame === \"frame_999\" && (inrangens || _.lastRequestedMainFrame === undefined)) return;\r\n\t\t\t\t\tif (obj.mode === \"start\" && !inrangens) return;\r\n\t\t\t\t\tif (obj.mode === \"rebuild\" && _.elementHovered && _._isstatic && _.hovertimeline) return;\r\n\t\t\t\t\t//if (obj.mode === \"continue\" && _R[id].sliderType === \"carousel\" && ((cs==0 && ns==0 && !isNaN(_.lastRequestedMainFrame)) || (obj.frame==\"frame_999\" && inrangens))) return;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (obj.mode === \"start\" && _.triggercache !== \"keep\") _.triggeredFrame = undefined;\r\n\t\t\tif (L[0].id==\"kri\") console.log(obj.mode+\"  \"+_.triggeredFrame);\r\n\t\t\tif (obj.mode === \"start\") {\r\n\t\t\t\tif (_.layerLoop !== undefined) _.layerLoop.count = 0;\r\n\t\t\t\tobj.frame = _.triggeredFrame === undefined ? jumpToCacheTime ? undefined : 0 : _.triggeredFrame;\r\n\t\t\t}\r\n\r\n\t\t\tif ((obj.mode !== \"continue\" && obj.mode !== \"trigger\") && _.timeline !== undefined && (!_._isstatic || _.leftstage !== true)) {\r\n\t\t\t\t_.timeline.pause(0); //(!_._isstatic || _.leftstage!==true) is Fix for Closed Menu due Togglelayer action which reopens if this not exists\r\n\t\t\t}\r\n\r\n\t\t\tif ((obj.mode === \"continue\" || obj.mode === \"trigger\") && _.timeline !== undefined) _.timeline.pause();\r\n\r\n\t\t\t_.timeline = tpGS.gsap.timeline({ paused: true });\r\n\r\n\r\n\t\t\tif ((_.type === \"text\" || _.type === \"button\") && (_.splitText === undefined || (_.splitTextFix === undefined && (obj.mode === \"start\" || obj.mode === \"preset\")))) {\r\n\t\t\t\tupdateSplitContent({ layer: L, id: id });\r\n\t\t\t\tif (obj.mode === \"start\") _.splitTextFix = true;\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t// LETS GO THROUGH THE FRAMES\r\n\t\t\tfor (var fiin in _.ford) {\r\n\t\t\t\tif (!_.ford.hasOwnProperty(fiin)) continue;\r\n\r\n\t\t\t\tvar fi = _.ford[fiin],\r\n\t\t\t\t\trenderJustFrom = false;\r\n\t\t\t\tif (fi === \"frame_0\" || fi === \"frame_hover\" || fi === \"loop\") continue;\r\n\t\t\t\tif (fi === \"frame_999\" && !_.frames[fi].timeline.waitoncall && _.frames[fi].timeline.start >= _R[id].duration && obj.remove !== true) _.frames[fi].timeline.waitoncall = true;\r\n\r\n\t\t\t\t// IF SCENE STARTS, AND NO MEMORY SET, RESET CALL STATES\r\n\t\t\t\tif (obj.mode === \"start\" && _.triggercache !== \"keep\") _.frames[fi].timeline.callstate = _.frames[fi].timeline.waitoncall ? \"waiting\" : \"\";\r\n\r\n\t\t\t\t//SET TRIGGER STATE ON SINGLE FRAMES\r\n\t\t\t\tif (obj.mode === \"trigger\" && _.frames[fi].timeline.waitoncall) {\r\n\t\t\t\t\tif (fi === obj.frame) {\r\n\t\t\t\t\t\t_.frames[fi].timeline.triggered = true;\r\n\t\t\t\t\t\t_.frames[fi].timeline.callstate = \"called\";\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\t_.frames[fi].timeline.triggered = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.mode !== \"rebuild\" && !_.frames[fi].timeline.triggered) _.frames[fi].timeline.callstate = _.frames[fi].timeline.waitoncall ? \"waiting\" : \"\";\r\n\r\n\t\t\t\tif (obj.fastforward !== false) {\r\n\t\t\t\t\t// WE DONT NEED TO RENDER THE FRAMES COMING BEFORE THE TRIGGERED ONE !\r\n\t\t\t\t\tif ((obj.mode === \"continue\" || obj.mode === \"trigger\") && calledframereached === false && fi !== obj.frame) continue;\r\n\t\t\t\t\t// IF REBUILD, CHECK IF WE ALREADY CALLED SOMETHIGN ELSE THAN FRAME_1 and Skip frames before to fix Timeline Issues\r\n\t\t\t\t\tif ((obj.mode === \"rebuild\" || obj.mode === \"preset\") && calledframereached === false && (_.triggeredFrame !== undefined && fi !== _.triggeredFrame)) continue;\r\n\t\t\t\t\tif (fi === obj.frame || (obj.mode === \"rebuild\" && fi === _.triggeredFrame)) calledframereached = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (fi === obj.frame) calledframereached = true;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t//SKIP FRAME IF IT IS ON ACTION, IF TWO NEIGHBOUR ACTION BASED, SKIP ANYTHING ELSE\r\n\t\t\t\tif (fi !== obj.frame && _.frames[fi].timeline.waitoncall && _.frames[fi].timeline.callstate !== \"called\") ignoreframes = true;\r\n\t\t\t\tif (fi !== obj.frame && calledframereached) ignoreframes = ignoreframes === true && _.frames[fi].timeline.waitoncall ? 'skiprest' : ignoreframes === true ? false : ignoreframes;\r\n\r\n\t\t\t\tif (_.hideonfirststart === undefined && fi === \"frame_1\" && _.frames[fi].timeline.waitoncall) _.hideonfirststart = true;\r\n\r\n\r\n\r\n\t\t\t\t// COMING FRAME IGNORED, OR FRAME IS NOT CALLED YET, OR FRAME IS WAITING, BUT NEVER RENDERED YET ?\r\n\t\t\t\tif (ignoreframes && _.frames[fi].timeline.callstate === \"waiting\" && obj.mode === \"preset\" && _.firstTimeRendered != true) {\r\n\r\n\t\t\t\t\tif (_._isstatic && _.currentframe === undefined) continue;\r\n\t\t\t\t\trenderJustFrom = true;\r\n\t\t\t\t\t_.firstTimeRendered = true;\r\n\t\t\t\t} else\r\n\t\t\t\tif ((ignoreframes === \"skiprest\") || (_.frames[fi].timeline.callstate !== \"called\" && ignoreframes && obj.toframe !== fi)) continue;\r\n\r\n\r\n\r\n\t\t\t\tif (fi === \"frame_999\" && (sl === false) && (obj.mode === \"continue\" || obj.mode === \"start\" || obj.mode === \"rebuild\")) continue;\r\n\r\n\r\n\r\n\t\t\t\t_.fff = fi === fifame && (obj.mode !== \"trigger\" || _.currentframe === \"frame_999\" || _.currentframe === \"frame_0\" || _.currentframe === undefined);\r\n\t\t\t\tif (obj.mode === \"trigger\" && obj.frame === \"frame_1\" && _.leftstage === false) _.fff = false; // Fix When 1st Layer triggered after frame_999 started but not yet animated out !!\r\n\r\n\t\t\t\tif (!renderJustFrom) {\r\n\t\t\t\t\t_.frames[fi].timeline.callstate = \"called\";\r\n\t\t\t\t\t_.currentframe = fi;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar _frameObj = _.frames[fi],\r\n\t\t\t\t\t_fromFrameObj = _.fff ? _.frames.frame_0 : undefined,\r\n\t\t\t\t\tftl = tpGS.gsap.timeline(),\r\n\t\t\t\t\ttt = tpGS.gsap.timeline(),\r\n\t\t\t\t\taObj = _.c,\r\n\t\t\t\t\tsfx = _frameObj.sfx !== undefined ? checkSFXAnimations(_frameObj.sfx.effect, _.m, _frameObj.timeline.ease) : false,\r\n\t\t\t\t\tspeed = _frameObj.timeline.speed / 1000,\r\n\t\t\t\t\tmaxSplitDelay = 0,\r\n\t\t\t\t\tanim = convertTransformValues({ id: id, frame: _frameObj, layer: L, ease: _frameObj.timeline.ease, splitAmount: aObj.length, target: fi, forcefilter: (_.frames.frame_hover !== undefined && _.frames.frame_hover.filter !== undefined) }),\r\n\t\t\t\t\tfrom = _.fff ? convertTransformValues({ id: id, frame: _fromFrameObj, layer: L, ease: _frameObj.timeline.ease, splitAmount: aObj.length, target: \"frame_0\" }) : undefined,\r\n\t\t\t\t\tmask = _frameObj.mask !== undefined ? convertTransformValues({ id: id, frame: { transform: { x: _frameObj.mask.x, y: _frameObj.mask.y } }, layer: L, ease: anim.ease, target: \"mask\" }) : undefined,\r\n\t\t\t\t\tfrommask = mask !== undefined && _.fff ? convertTransformValues({ id: id, frame: { transform: { x: _fromFrameObj.mask.x, y: _fromFrameObj.mask.y } }, layer: L, ease: anim.ease, target: \"frommask\" }) : undefined,\r\n\t\t\t\t\torigEase = anim.ease;\r\n\r\n\t\t\t\tanim.force3D = true;\r\n\r\n\t\t\t\tif (sfx.type === \"block\") {\r\n\t\t\t\t\tsfx.ft[0].background = _frameObj.sfx.fxc;\r\n\t\t\t\t\t//_fromFrameObj.mask.overflow = \"hidden\";\r\n\t\t\t\t\t//_frameObj.mask.overflow = \"hidden\";\r\n\t\t\t\t\tsfx.ft[0].visibility = 'visible';\r\n\t\t\t\t\tsfx.ft[1].visibility = 'visible';\r\n\t\t\t\t\tftl.add(tpGS.gsap.fromTo(sfx.bmask_in, speed / 2, sfx.ft[0], sfx.ft[1], 0));\r\n\t\t\t\t\tftl.add(tpGS.gsap.fromTo(sfx.bmask_in, speed / 2, sfx.ft[1], sfx.t, speed / 2));\r\n\t\t\t\t\tif (fi === \"frame_0\" || fi === \"frame_1\") from.opacity = 0;\r\n\r\n\t\t\t\t\t// If the following line is added, the Layer Animation starts at wrong time (Already visible at start) if only SFX Block Out set to layer.\r\n\t\t\t\t\t//else if (fi===\"frame_999\" ) ftl.add(tt.staggerFromTo(aObj,0.05,{ autoAlpha:1},{autoAlpha:0,delay:speed/2},0),0.001);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// SET COLOR ON LAYER (TO AND FROM)\r\n\t\t\t\tif (_frameObj.color !== undefined) anim.color = _frameObj.color;\r\n\t\t\t\telse\r\n\t\t\t\tif (_.color !== undefined && _.color[scren] !== \"npc\") anim.color = _.color[scren];\r\n\r\n\t\t\t\tif (_fromFrameObj !== undefined && _fromFrameObj.color !== undefined) from.color = _fromFrameObj.color;\r\n\t\t\t\telse\r\n\t\t\t\tif (_fromFrameObj !== undefined && _.color !== undefined && _.color[scren] !== \"npc\") from.color = _.color[scren];\r\n\r\n\r\n\r\n\t\t\t\t// SET BACKGROUNDCOLOR ON LAYER (TO AND FROM)\r\n\t\t\t\tif (_frameObj.bgcolor !== undefined)\r\n\t\t\t\t\tif (_frameObj.bgcolor.indexOf(\"gradient\") >= 0) anim.background = _frameObj.bgcolor;\r\n\t\t\t\t\telse anim.backgroundColor = _frameObj.bgcolor;\r\n\t\t\t\telse\r\n\t\t\t\tif (_.bgcolinuse === true)\r\n\t\t\t\t\tif (_.bgcol.indexOf(\"gradient\") >= 0) anim.background = _.bgcol;\r\n\t\t\t\t\telse anim.backgroundColor = _.bgcol;\r\n\r\n\t\t\t\tif (_fromFrameObj !== undefined) {\r\n\t\t\t\t\tif (_fromFrameObj.bgcolor !== undefined)\r\n\t\t\t\t\t\tif (_fromFrameObj.bgcolor.indexOf(\"gradient\") >= 0) from.background = _fromFrameObj.bgcolor;\r\n\t\t\t\t\t\telse from.backgroundColor = _fromFrameObj.bgcolor;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.bgcolinuse === true)\r\n\t\t\t\t\t\tif (_.bgcol.indexOf(\"gradient\") >= 0) from.background = _.bgcol;\r\n\t\t\t\t\t\telse from.backgroundColor = _.bgcol;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ANIMATE CHARS, WORDS, LINES\r\n\t\t\t\tif (_.splitText !== undefined && _.splitText !== false) {\r\n\t\t\t\t\tfor (var i in splitTypes) if (splitTypes.hasOwnProperty(i)) {\r\n\t\t\t\t\t\tif (_frameObj[splitTypes[i]] !== undefined && !_.quickRendering) {\r\n\t\t\t\t\t\t\tvar sObj = _.splitText[splitTypes[i]],\r\n\t\t\t\t\t\t\t\tsanim = convertTransformValues({ id: id, frame: _frameObj, source: splitTypes[i], ease: origEase, layer: L, splitAmount: sObj.length, target: fi + \"_\" + splitTypes[i] }),\r\n\t\t\t\t\t\t\t\tsfrom = (_.fff ? convertTransformValues({ id: id, frame: _fromFrameObj, ease: sanim.ease, source: splitTypes[i], layer: L, splitAmount: sObj.length, target: \"frame_0_\" + splitTypes[i] }) : undefined),\r\n\t\t\t\t\t\t\t\tsDelay = _.frames[fi].dosplit ? _frameObj[splitTypes[i]].delay === undefined ? 0.05 : _frameObj[splitTypes[i]].delay / 100 : 0;\r\n\r\n\t\t\t\t\t\t\t// SET COLOR ON SPLIT  (TO AND FROM)\r\n\t\t\t\t\t\t\tif (_.color[scren] !== anim.color || fi !== \"frame_1\") sanim.color = anim.color; // ADDED IF TO RESPECT INLINE STYLES\r\n\t\t\t\t\t\t\tif (from !== undefined && _.color[scren] !== from.color) sfrom.color = from.color; // ADDED IF TO RESPECT INLINE STYLES\r\n\t\t\t\t\t\t\tif (sfrom !== undefined && sfrom.color !== anim.color) sanim.color = anim.color;\r\n\t\t\t\t\t\t\tvar $anim = _R.clone(sanim),\r\n\t\t\t\t\t\t\t\t$from = _.fff ? _R.clone(sfrom) : undefined,\r\n\t\t\t\t\t\t\t\tdir = _frameObj[splitTypes[i]].dir;\r\n\r\n\t\t\t\t\t\t\tdelete $anim.dir;\r\n\r\n\t\t\t\t\t\t\t$anim.data = { splitted: true };\r\n\r\n\t\t\t\t\t\t\t$anim.stagger = dir === \"center\" || dir === \"edge\" ? offsetStagger({ each: sDelay, offset: sDelay / 2, from: dir }) : { each: sDelay, from: dir };\r\n\t\t\t\t\t\t\t$anim.duration = speed;\r\n\r\n\t\t\t\t\t\t\tif ($from !== undefined) {\r\n\t\t\t\t\t\t\t\tif ($from.opacity!==undefined && (_R.ISM || window.isSafari11)) $from.opacity = Math.max(0.001,parseFloat($from.opacity));\r\n\t\t\t\t\t\t\t\tdelete $from.dir;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (_.fff) ftl.add(tt.fromTo(sObj, $from, $anim), 0);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tftl.add(tt.to(sObj, $anim), 0);\r\n\r\n\r\n\t\t\t\t\t\t\tmaxSplitDelay = Math.max(maxSplitDelay, (sObj.length * sDelay));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t//SPEED SYNC WITH THE SPLIT SPEEDS IF NECESSARY\r\n\t\t\t\tspeed = speed + maxSplitDelay;\r\n\t\t\t\tif (tPE === undefined) tPE = _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspectiveType === \"local\" ? anim.transformPerspective !== undefined ? anim.transformPerspective : _.fff && from.transfromPerspective !== undefined ? from.transfromPerspective : _R[id].perspective : _R[id].perspective;\r\n\t\t\t\t_.knowTransformPerspective = tPE;\r\n\r\n\t\t\t\t// MOVE FILTER FROM LAYER TO MASK\r\n\t\t\t\tif (_.fsom && (anim.filter!==undefined || (_.fff && from.filter!==undefined))) {\r\n\t\t\t\t\tmask.filter = anim.filter;\r\n\t\t\t\t\tmask['-webkit-filter'] = anim.filter;\r\n\t\t\t\t\tdelete anim.filter;\r\n\t\t\t\t\tdelete anim['-webkit-filter'];\r\n\t\t\t\t\tif (_.fff && from.filter!==undefined) {\r\n\t\t\t\t\t\tfrommask = frommask || {};\r\n\t\t\t\t\t\tfrommask.filter = from.filter;\r\n\t\t\t\t\t\tfrommask['-webkit-filter'] = from.filter;\r\n\t\t\t\t\t\tdelete from.filter;\r\n\t\t\t\t\t\tdelete from['-webkit-filter'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_.forceFsom = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.forceFsom = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ANIMATE MASK\r\n\t\t\t\t_.useMaskAnimation = (_.pxundermask || (mask !== undefined && ((_fromFrameObj !== undefined && _fromFrameObj.mask.overflow === \"hidden\") || _frameObj.mask.overflow === \"hidden\")));\r\n\r\n\t\t\t\tif (_.useMaskAnimation || _.forceFsom) {\r\n\t\t\t\t\tif (_.useMaskAnimation) ftl.add(tpGS.gsap.to(_.m, 0.001, { overflow: \"hidden\" }), 0); else ftl.add(tpGS.gsap.to(_.m, 0.001, { overflow: \"visible\" }), 0);\r\n\t\t\t\t\tif (_.type === \"column\" && _.cbgexists && _.useMaskAnimation) ftl.add(tpGS.gsap.to(_.cbgmask, 0.001, { overflow: \"hidden\" }), 0);\r\n\t\t\t\t\tif (_.btrans) {\r\n\t\t\t\t\t\tif (frommask) { frommask.rotationX = _.btrans.rX;\r\n\t\t\t\t\t\t\tfrommask.rotationY = _.btrans.rY;\r\n\t\t\t\t\t\t\tfrommask.rotationZ = _.btrans.rZ;\r\n\t\t\t\t\t\t\tfrommask.opacity = _.btrans.o; }\r\n\t\t\t\t\t\tmask.rotationX = _.btrans.rX;\r\n\t\t\t\t\t\tmask.rotationY = _.btrans.rY;\r\n\t\t\t\t\t\tmask.rotationZ = _.btrans.rZ;\r\n\t\t\t\t\t\tmask.opacity = _.btrans.o;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.fff)\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.fromTo((_.m!==undefined && _.cbgmask!==undefined ? [_.m, _.cbgmask] : _.m!==undefined ? _.m : _.cbgmask), speed, _R.clone(frommask), _R.clone(mask)), 0.001);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.to((_.m!==undefined && _.cbgmask!==undefined ? [_.m, _.cbgmask] : _.m!==undefined ? _.m : _.cbgmask), speed, _R.clone(mask)), 0.001);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_.btrans !== undefined) {\r\n\t\t\t\t\t\tvar mtrans = { x: 0, y: 0, filter: \"none\", opacity: _.btrans.o, rotationX: _.btrans.rX, rotationY: _.btrans.rY, rotationZ: _.btrans.rZ, overflow: \"visible\" }\r\n\t\t\t\t\t\tif (_.btrans.rX !== 0 || _.btrans.rY != 0) {\r\n\t\t\t\t\t\t\t_.maskHasPerspective = true;\r\n\t\t\t\t\t\t\tmtrans.transformPerspective = tPE;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.to(_.m, 0.001, mtrans), 0);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.to(_.m, 0.001, { clearProps: \"transform\", overflow: (_.ofHidOnHov==\"hidden\") ? \"hidden\" : \"visible\"}), 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tanim.force3D = \"auto\";\r\n\r\n\r\n\t\t\t\t// ANIMATE ELEMENT\r\n\t\t\t\tif (_.fff) {\r\n\t\t\t\t\tanim.visibility = \"visible\";\r\n\t\t\t\t\tif (_.cbg !== undefined) ftl.fromTo(_.cbg, speed, from, anim, 0);\r\n\r\n\t\t\t\t\t// safari bug fix\r\n\t\t\t\t\tif (_R[id].BUG_safari_clipPath && (from.clipPath || anim.clipPath || _.spike)) {\r\n\t\t\t\t\t\t//if (!from.z || !parseInt(from.z, 10)) from.z = -0.0001;\r\n\t\t\t\t\t\t//if (!anim.z || !parseInt(anim.z, 10)) anim.z = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tspeed = speed>0 ? speed - 0.001 : speed;\r\n\t\t\t\t\tif (_.cbg !== undefined && _.type === \"column\") ftl.fromTo(aObj, speed, reduceColumn(from), reduceColumn(anim), 0);\r\n\t\t\t\t\telse ftl.fromTo(aObj, speed, from, anim, 0);\r\n\t\t\t\t\tftl.invalidate();\r\n\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_.frame !== \"frame_999\") anim.visibility = \"visible\";\r\n\t\t\t\t\tif (_.cbg !== undefined) ftl.to(_.cbg, speed, anim, 0);\r\n\t\t\t\t\t// safari bug fix\r\n\t\t\t\t\t//if (_R[id].BUG_safari_clipPath && (anim.clipPath || _.spike) && (!anim.z || !parseInt(anim.z, 10))) anim.z = 0 - Math.random() * 0.01;\r\n\t\t\t\t\tif (_.cbg !== undefined && _.type === \"column\") ftl.to(aObj, speed, reduceColumn(anim), 0);\r\n\t\t\t\t\telse ftl.to(aObj, speed, anim, 0);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (origEase !== undefined && typeof origEase !== \"object\" && typeof origEase !== \"function\" && origEase.indexOf(\"SFXBounce\") >= 0) ftl.to(aObj, speed, { scaleY: 0.5, scaleX: 1.3, ease: anim.ease + \"-squash\", transformOrigin: \"bottom\" }, 0.0001);\r\n\r\n\t\t\t\t//WAITING FRAMES ADD DIRECTLY AFTER OTHER FRAMES\r\n\r\n\t\t\t\tvar pos = (obj.mode === \"trigger\" || ((ignoreframes === true || ignoreframes === \"skiprest\") && obj.mode === \"rebuild\")) && obj.frame !== fi && _frameObj.timeline.start !== undefined && _R.isNumeric(_frameObj.timeline.start) ?\r\n\t\t\t\t\t\"+=\" + parseInt(_frameObj.timeline.startRelative, 0) / 1000 :\r\n\t\t\t\t\t_frameObj.timeline.start === \"+=0\" || _frameObj.timeline.start === undefined ? \"+=0.001\" : parseInt(_frameObj.timeline.start, 0) / 1000;\r\n\r\n\r\n\t\t\t\t_.timeline.addLabel(fi, pos);\r\n\t\t\t\t_.timeline.add(ftl, pos);\r\n\t\t\t\t_.timeline.addLabel(fi + \"_end\", \"+=0.01\");\r\n\t\t\t\tftl.eventCallback(\"onStart\", tweenOnStart, [{ id: id, frame: fi, L: L, tPE: tPE }]);\r\n\t\t\t\tif (_.animationonscroll == \"true\" || _.animationonscroll == true) {\r\n\r\n\t\t\t\t\tftl.eventCallback(\"onUpdate\", tweenOnUpdate, [{ id: id, frame: fi, L: L }]);\r\n\t\t\t\t\tftl.smoothChildTiming = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tftl.eventCallback(\"onUpdate\", tweenOnUpdate, [{ id: id, frame: fi, L: L }]);\r\n\t\t\t\t}\r\n\t\t\t\tftl.eventCallback(\"onComplete\", tweenOnEnd, [{ id: id, frame: fi, L: L, tPE: tPE }]);\r\n\t\t\t}\r\n\r\n\t\t\t//RENDER LOOP ANIMATION\r\n\t\t\tif (_.frames.loop !== undefined) {\r\n\t\t\t\tvar lspeed = parseInt(_.frames.loop.timeline.speed, 0) / 1000,\r\n\t\t\t\t\tlstart = parseInt(_.frames.loop.timeline.start) / 1000 || 0,\r\n\t\t\t\t\tlsspeed = ((obj.mode !== \"trigger\" && obj.frame !== \"frame_999\") || obj.frame !== \"frame_999\") ? 0.2 : 0, // Check if it is triggered, or last frame called or triggered but not last frame called before adding animation delay!\r\n\t\t\t\t\tlssstart = lstart + lsspeed;\r\n\r\n\t\t\t\t_.loop = {\r\n\t\t\t\t\troot: tpGS.gsap.timeline({}),\r\n\t\t\t\t\tpreset: tpGS.gsap.timeline({}),\r\n\t\t\t\t\tmove: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_move }),\r\n\t\t\t\t\trotate: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_rotate }),\r\n\t\t\t\t\tscale: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_scale }),\r\n\t\t\t\t\tfilter: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_filter })\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar lif = _.frames.loop.frame_0,\r\n\t\t\t\t\tlof = _.frames.loop.frame_999,\r\n\t\t\t\t\tloopsfilter = 'blur(' + parseInt(lif.blur || 0, 0) + 'px) grayscale(' + parseInt(lif.grayscale || 0, 0) + '%) brightness(' + parseInt(lif.brightness || 100, 0) + '%)',\r\n\t\t\t\t\tloopendfilter = 'blur(' + (lof.blur || 0) + 'px) grayscale(' + (lof.grayscale || 0) + '%) brightness(' + (lof.brightness || 100) + '%)';\r\n\r\n\t\t\t\t_.loop.root.add(_.loop.preset, 0);\r\n\t\t\t\t_.loop.root.add(_.loop.move, lsspeed);\r\n\t\t\t\t_.loop.root.add(_.loop.rotate, lsspeed);\r\n\t\t\t\t_.loop.root.add(_.loop.scale, lsspeed);\r\n\t\t\t\t_.loop.root.add(_.loop.filter, lsspeed);\r\n\r\n\t\t\t\tif (loopsfilter === 'blur(0px) grayscale(0%) brightness(100%)' && loopendfilter === 'blur(0px) grayscale(0%) brightness(100%)') {\r\n\t\t\t\t\tloopsfilter = \"none\";\r\n\t\t\t\t\tloopendfilter = \"none\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//_.loop.root.delay = lssstart;\r\n\t\t\t\tlof.originX = lif.originX;\r\n\t\t\t\tlof.originY = lif.originY;\r\n\t\t\t\tlof.originZ = lif.originZ;\r\n\r\n\t\t\t\t//LOOP MOVE ANIMATION\r\n\t\t\t\tif (tPE === undefined) tPE = _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspectiveType === \"local\" ? anim !== undefined ? anim.transformPerspective !== undefined ? anim.transformPerspective : _.fff && from.transfromPerspective !== undefined ? from.transfromPerspective : _R[id].perspective : _R[id].perspective : _R[id].perspective;\r\n\r\n\t\t\t\tif (!_.frames.loop.timeline.curved) {\r\n\t\t\t\t\t// Check if it is triggered, or last frame called or triggered but not last frame called before reset values to loop_frame_0 !\r\n\t\t\t\t\tif ((obj.mode !== \"trigger\" && obj.frame !== \"frame_999\") || obj.frame !== \"frame_999\") _.loop.preset.fromTo(_.lp, lsspeed, { '-webkit-filter': loopsfilter, 'filter': loopsfilter, x: 0, y: 0, z: 0, minWidth: (_._incolumn || _._ingroup ? \"100%\" : _.eow === undefined ? 0 : _.eow), minHeight: (_._incolumn || _._ingroup ? \"100%\" : _.eoh === undefined ? 0 : _.eoh), scaleX: 1, scaleY: 1, skewX: 0, skewY: 0, rotationX: 0, rotationY: 0, rotationZ: 0, transformPerspective: tPE, transformOrigin: lof.originX + \" \" + lof.originY + \" \" + lof.originZ, opacity: 1 }, checkLoopSkew({ x: lif.x * _R[id].CM.w, y: lif.y * _R[id].CM.w, z: lif.z * _R[id].CM.w, scaleX: lif.scaleX, skewX: lif.skewX, skewY: lif.skewY, scaleY: lif.scaleY, rotationX: lif.rotationX, rotationY: lif.rotationY, rotationZ: lif.rotationZ, ease: \"sine.out\", opacity: lif.opacity, '-webkit-filter': loopsfilter, 'filter': loopsfilter }), 0);\r\n\t\t\t\t\t_.loop.move.to(_.lp, (_.frames.loop.timeline.yoyo_move ? lspeed / 2 : lspeed), { x: lof.x * _R[id].CM.w, y: lof.y * _R[id].CM.w, z: lof.z * _R[id].CM.w, ease: _.frames.loop.timeline.ease });\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//CALCULATE EDGES\r\n\t\t\t\t\tvar sangle = parseInt(_.frames.loop.timeline.radiusAngle, 0) || 0,\r\n\t\t\t\t\t\tv = [{ x: (lif.x - lif.xr) * _R[id].CM.w, y: 0, z: (lif.z - lif.zr) * _R[id].CM.w },\r\n\t\t\t\t\t\t\t{ x: 0, y: (lif.y + lif.yr) * _R[id].CM.w, z: 0 },\r\n\t\t\t\t\t\t\t{ x: (lof.x + lof.xr) * _R[id].CM.w, y: 0, z: (lof.z + lof.zr) * _R[id].CM.w },\r\n\t\t\t\t\t\t\t{ x: 0, y: (lof.y - lof.yr) * _R[id].CM.w, z: 0 }\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tmotionPath = { type: \"thru\", curviness: _.frames.loop.timeline.curviness, path: [], autoRotate: _.frames.loop.timeline.autoRotate };\r\n\r\n\t\t\t\t\tfor (var bind in v) {\r\n\t\t\t\t\t\tif (!v.hasOwnProperty((bind))) continue;\r\n\t\t\t\t\t\tmotionPath.path[bind] = v[sangle];\r\n\t\t\t\t\t\tsangle++;\r\n\t\t\t\t\t\tsangle = sangle == v.length ? 0 : sangle;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Check if it is triggered, or last frame called or triggered but not last frame called before reset values to loop_frame_0 !\r\n\t\t\t\t\tif ((obj.mode !== \"trigger\" && obj.frame !== \"frame_999\") || obj.frame !== \"frame_999\") _.loop.preset.fromTo(_.lp, lsspeed, { '-webkit-filter': loopsfilter, 'filter': loopsfilter, x: 0, y: 0, z: 0, minWidth: (_._incolumn || _._ingroup ? \"100%\" : _.eow === undefined ? 0 : _.eow), minHeight: (_._incolumn || _._ingroup ? \"100%\" : _.eoh === undefined ? 0 : _.eoh), scaleX: 1, scaleY: 1, skewX: 0, skewY: 0, rotationX: 0, rotationY: 0, rotationZ: 0, transformPerspective: tPE, transformOrigin: lof.originX + \" \" + lof.originY + \" \" + lof.originZ, opacity: 1 }, checkLoopSkew({ x: motionPath.path[3].x, y: motionPath.path[3].y, z: motionPath.path[3].z, scaleX: lif.scaleX, skewX: lif.skewX, skewY: lif.skewY, scaleY: lif.scaleY, rotationX: lif.rotationX, rotationY: lif.rotationY, rotationZ: lif.rotationZ, '-webkit-filter': loopsfilter, 'filter': loopsfilter, ease: \"sine.inOut\", opacity: lif.opacity }), 0);\r\n\t\t\t\t\tif (checkMotionPath(motionPath)) _.loop.move.to(_.lp, (_.frames.loop.timeline.yoyo_move ? lspeed / 2 : lspeed), { motionPath: motionPath, ease: _.frames.loop.timeline.ease });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//LOOP ROTATE ANIMATION\r\n\t\t\t\t_.loop.rotate.to(_.lp, (_.frames.loop.timeline.yoyo_rotate ? lspeed / 2 : lspeed), { rotationX: lof.rotationX, rotationY: lof.rotationY, rotationZ: lof.rotationZ, ease: _.frames.loop.timeline.ease });\r\n\r\n\t\t\t\t//LOOP SCALE ANIMATION\r\n\t\t\t\t_.loop.scale.to(_.lp, (_.frames.loop.timeline.yoyo_scale ? lspeed / 2 : lspeed), checkLoopSkew({ scaleX: lof.scaleX, scaleY: lof.scaleY, skewX: lof.skewX, skewY: lof.skewY, ease: _.frames.loop.timeline.ease }));\r\n\r\n\t\t\t\t//LOOP FILTER ANIMATION\r\n\t\t\t\tvar filtanim = { opacity: lof.opacity || 1, ease: _.frames.loop.timeline.ease, '-webkit-filter': loopendfilter, 'filter': loopendfilter };\r\n\t\t\t\t_.loop.filter.to(_.lp, (_.frames.loop.timeline.yoyo_filter ? lspeed / 2 : lspeed), filtanim);\r\n\t\t\t\t_.timeline.add(_.loop.root, lssstart);\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// RENDER HOVER ANIMATION\r\n\t\t\tif (_.frames.frame_hover !== undefined && (obj.mode === \"start\" || _.hoverframeadded === undefined)) {\r\n\r\n\t\t\t\t_.hoverframeadded = true;\r\n\t\t\t\tvar hoverspeed = _.frames.frame_hover.timeline.speed / 1000;\r\n\t\t\t\thoverspeed = hoverspeed === 0 ? 0.00001 : hoverspeed;\r\n\t\t\t\t_.cachedHoverSpeed = hoverspeed;\r\n\t\t\t\t//SET HOVER ANIMATION\r\n\t\t\t\tif (!_.hoverlistener) {\r\n\t\t\t\t\t_.hoverlistener = true;\r\n\t\t\t\t\t_R.document.on(\"mouseenter mousemove\", (_.type === \"column\" && _.cbg!==undefined ? \"#\" + _.cbg[0].id + \",\" : \"\") + \"#\" + _.c[0].id, function(e) {\r\n\t\t\t\t\t\t_.mouseIsOver = true;\r\n\t\t\t\t\t\tif (_.ignoreHoverFrames==true) return;\r\n\t\t\t\t\t\tif (e.type === \"mousemove\" && _.ignoremousemove === true) return;\r\n\t\t\t\t\t\tif (_.animationonscroll || _.readyForHover) {\r\n\t\t\t\t\t\t\t_.elementHovered = true;\r\n\t\t\t\t\t\t\t// only create new hover timeline if it doesn't already exist\r\n\t\t\t\t\t\t\tif (!_.hovertimeline) _.hovertimeline = tpGS.gsap.timeline({ paused: true });\r\n\r\n\t\t\t\t\t\t\tif (_.hovertimeline.progress() == 0 && (_.lastHoveredTimeStamp === undefined || ((new Date().getTime() - _.lastHoveredTimeStamp) > 150))) { //changed limit from 1500 to 150 for a shorter delay. \"Bug\" after animation hover is not directly available\r\n\t\t\t\t\t\t\t\t_.ignoremousemove = true; // Moved ingoremouse here, since first we can ignore it when the animation really runs 1st time.\r\n\t\t\t\t\t\t\t\t_.ofHidOnHov = (_.frames.frame_hover.mask ? \"hidden\" : \"visible\");\r\n\t\t\t\t\t\t\t\t_.hovertimeline.to((_.m!==undefined && _.cbgmask!==undefined ? [_.m, _.cbgmask] : _.m!==undefined ? _.m : _.cbgmask) , hoverspeed, { overflow: _.ofHidOnHov }, 0);\r\n\t\t\t\t\t\t\t\tif (_.type === \"column\" && _.cbg!=undefined) _.hovertimeline.to(_.cbg, hoverspeed, _R.clone(_R.convertHoverTransform(_.frames.frame_hover, _.cbg, { bgCol: _.bgcol, bg: _.styleProps.background })), 0);\r\n\t\t\t\t\t\t\t\tif ((_.type === \"text\" || _.type === \"button\") && _.splitText !== undefined && _.splitText !== false) _.hovertimeline.to([_.splitText.lines, _.splitText.words, _.splitText.chars], hoverspeed, { color: _.frames.frame_hover.color, ease: _.frames.frame_hover.transform.ease }, 0);\r\n\t\t\t\t\t\t\t\tif (_.type === \"column\")\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.c, hoverspeed, reduceColumn(_R.clone(_R.convertHoverTransform(_.frames.frame_hover, _.c, { bgCol: _.bgcol, bg: _.styleProps.background }))), 0);\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.c, hoverspeed, _R.clone(_R.convertHoverTransform(_.frames.frame_hover, _.c, { bgCol: _.bgcol, bg: _.styleProps.background })), 0);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (_.type === \"svg\") {\r\n\t\t\t\t\t\t\t\t\t_.svgHTemp = _R.clone(_.svgH);\r\n\t\t\t\t\t\t\t\t\tdelete _.svgHTemp.svgAll;\r\n\r\n\t\t\t\t\t\t\t\t\t// hover colors can exist on the different responsive levels\r\n\t\t\t\t\t\t\t\t\tvar fillColor = Array.isArray(_.svgHTemp.fill) ? _.svgHTemp.fill[_R[id].level] : _.svgHTemp.fill;\r\n\t\t\t\t\t\t\t\t\t_.svgHTemp.fill = fillColor;\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.svg, hoverspeed, _.svgHTemp, 0);\r\n\t\t\t\t\t\t\t\t\tif(_.svg.length <= 0) _.svg = L.find(\"svg\");\r\n\t\t\t\t\t\t\t\t\tif(_.svgPath.length <= 0) _.svgPath = _.svg.find(!_.svgI.svgAll ? 'path' : 'path, circle, ellipse, line, polygon, polyline, rect');\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.svgPath, hoverspeed, { fill: fillColor }, 0);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//_.hovertimeline.eventCallback('onStart',function(par) {}, [{ id: id,  _: _,}])\r\n\t\t\t\t\t\t\t_.hovertimeline.play();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_.lastHoveredTimeStamp = new Date().getTime();\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_R.document.on(\"mouseleave\", (_.type === \"column\" && _.cbg!==undefined ? \"#\" + _.cbg[0].id + \",\" : \"\") + \"#\" + _.c[0].id, function() {\r\n\t\t\t\t\t\t_.mouseIsOver = false;\r\n\t\t\t\t\t\tif (_.ignoreHoverFrames==true) return;\r\n\t\t\t\t\t\t_.elementHovered = false;\r\n\t\t\t\t\t\tif ((_.animationonscroll || _.readyForHover) && _.hovertimeline !== undefined) {\r\n\t\t\t\t\t\t\t_.hovertimeline.reverse();\r\n\t\t\t\t\t\t\t_.hovertimeline.eventCallback(\"onReverseComplete\", _R.hoverReverseDone, [{ id: id, L: L }]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t// Added _.currentframe to save last played Frame in Static Layer -> Slide change will nor restart animation of already triggered layers in groups when drawn on Static\r\n\t\t\tif (!renderJustFrom) _.lastRequestedMainFrame = obj.mode === \"start\" ? \"frame_1\" : obj.mode === \"continue\" ? obj.frame === undefined ? _.currentframe : obj.frame : _.lastRequestedMainFrame;\r\n\r\n\r\n\t\t\tif (obj.totime !== undefined) _.tSTART = obj.totime;\r\n\t\t\telse\r\n\t\t\tif (cachetime !== undefined && obj.frame === undefined) _.tSTART = cachetime;\r\n\t\t\telse\r\n\t\t\tif (obj.frame !== undefined) _.tSTART = obj.frame;\r\n\t\t\telse\r\n\t\t\t\t_.tSTART = 0;\r\n\r\n\t\t\tif (_.tSTART === 0 && _.startedAnimOnce === undefined && _.leftstage === undefined && _.startedAnimOnce === undefined && _.hideonfirststart === true && obj.mode === \"preset\") {\r\n\t\t\t\t//window.requestAnimationFrame(function() {\r\n\t\t\t\t//_R[id]._L[_R[id]._L[i]._ligid].childrenAtStartNotVisible\r\n\t\t\t\t_R[id]._L[L[0].id].pVisRequest = 0; //Hidden\r\n\t\t\t\t//_R[id]._L[L[0].id].p[0].classList.add(\"rs-forcehidden\");\r\n\t\t\t\t//});\r\n\t\t\t\t_.hideonfirststart = false;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ((_.tSTART === \"frame_999\" || _.triggeredFrame === \"frame_999\") && (_.leftstage || _.startedAnimOnce === undefined)) {\r\n\t\t\t\t// WE DONT NEED TO TOUCH THE LAYER, IT IS ANYWAY NOT VISIBLE\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (_.animationonscroll != \"true\" && _.animationonscroll != true)\r\n\t\t\t\t\t_.timeline.play(_.tSTART);\r\n\t\t\t\telse\r\n\t\t\t\t\t_.timeline.time(_.tSTART);\r\n\r\n\t\t\t\t// Move Children Timeline to the Right Position\r\n\t\t\t\tif (jQuery.inArray(_.type, [\"group\", \"row\", \"column\"]) >= 0 && obj.frame !== undefined) {\r\n\t\t\t\t\tif (_.childrenJS === undefined) {\r\n\t\t\t\t\t\t_.childrenJS = {};\r\n\r\n\t\t\t\t\t\tfor (var i in _R[id]._L)\r\n\t\t\t\t\t\t\tif (_R[id]._L[i]._lig !== undefined && _R[id]._L[i]._lig[0] !== undefined && _R[id]._L[i]._lig[0].id === L[0].id && _R[id]._L[i]._lig[0].id !== _R[id]._L[i].c[0].id)\r\n\t\t\t\t\t\t\t\t_.childrenJS[_R[id]._L[i].c[0].id] = _R[id]._L[i].c;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj.frame = obj.frame == \"0\" ? \"frame_0\" : obj.frame;\r\n\t\t\t\t\tobj.frame = obj.frame == \"1\" ? \"frame_1\" : obj.frame;\r\n\t\t\t\t\tobj.frame = obj.frame == \"999\" ? \"frame_999\" : obj.frame;\r\n\t\t\t\t\tvar totime = obj.totime === undefined ?\r\n\t\t\t\t\t\t_.frames[obj.frame].timeline.startAbsolute !== undefined ?\r\n\t\t\t\t\t\tparseInt(_.frames[obj.frame].timeline.startAbsolute, 0) / 1000 :\r\n\t\t\t\t\t\t_.frames[obj.frame].timeline.start !== undefined ?\r\n\t\t\t\t\t\t_R.isNumeric(_.frames[obj.frame].timeline.start) ?\r\n\t\t\t\t\t\tparseInt(_.frames[obj.frame].timeline.start, 0) / 1000 : 0 //obj.totime  Set to \"0\" if Start is Unknown.\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t0.001 :\r\n\t\t\t\t\t\tobj.totime;\r\n\t\t\t\t\tif (obj.updateChildren === true) {\r\n\r\n\r\n\t\t\t\t\t\tfor (var i in _.childrenJS)\r\n\t\t\t\t\t\t\tif (_.childrenJS.hasOwnProperty(i)) _R.renderLayerAnimation({ layer: _.childrenJS[i], fastforward: false, id: id, mode: \"continue\", updateChildren: true, totime: totime });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i in _.childrenJS) {\r\n\t\t\t\t\t\t\tif (!_.childrenJS.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\t\tif (_R[id]._L[i].pausedTrueParrent) {\r\n\t\t\t\t\t\t\t\t_R.renderLayerAnimation({ layer: _.childrenJS[i], fastforward: false, id: id, mode: \"continue\", updateChildren: true, totime: totime });\r\n\t\t\t\t\t\t\t\t_R[id]._L[i].pausedTrueParrent = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\t/**********************************************************************************************\r\n\t\t\t\t\t\t-\tTWEEN STARTS AND ENDS -\r\n\t**********************************************************************************************/\r\n\r\n\tvar reduceColumn = function(_) {\r\n\t\t\tvar r = _R.clone(_);\r\n\t\t\tdelete r.backgroundColor;\r\n\t\t\tdelete r.background;\r\n\t\t\tdelete r.backgroundImage;\r\n\t\t\tdelete r.borderSize;\r\n\t\t\tdelete r.borderStyle;\r\n\t\t\tdelete r['backdrop-filter'];\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\tcheckMotionPath = function(_) {\r\n\t\t\tif (_ === undefined || _.path === undefined || !Array.isArray(_.path)) return;\r\n\t\t\tvar x = 0,\r\n\t\t\t\ty = 0;\r\n\t\t\tfor (var i in _.path) {\r\n\t\t\t\tif (!_.path.hasOwnProperty(i) || x > 0 || y > 0) continue;\r\n\t\t\t\tx += _.path[i].x;\r\n\t\t\t\ty += _.path[i].y;\r\n\t\t\t}\r\n\t\t\treturn x == 0 && y == 0 ? false : true;\r\n\t\t},\r\n\r\n\t\tcheckLoopSkew = function(_) {\r\n\t\t\tif (_.skewX === undefined) delete _.skewX;\r\n\t\t\tif (_.skewY === undefined) delete _.skewY;\r\n\t\t\treturn _;\r\n\t\t},\r\n\t\t// reusable function that you can wrap around your stagger vars and define an \"offset\" value that'll get added to the 2nd half of the values\r\n\t\toffsetStagger = function(_) {\r\n\t\t\t_.from = _.from === \"edge\" ? \"edges\" : _.from;\r\n\t\t\tvar distributor = tpGS.gsap.utils.distribute(_);\r\n\t\t\treturn function(i, target, targets) {\r\n\t\t\t\treturn distributor(i, target, targets) + (i <= targets.length / 2 ? 0 : _.offset || 0);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// TWEEN EVENTS - START\r\n\t\ttweenOnStart = function(_) {\r\n\r\n\r\n\t\t\t// SAFARI CLIP-PATH BUG FIX\r\n\t\t\tif (_R[_.id].BUG_safari_clipPath) _.L[0].classList.remove(\"rs-pelock\");\r\n\r\n\t\t\t//Check if Group Element Animation should be paused\r\n\t\t\tif ((_R[_.id]._L[_.L[0].id]._ingroup || _R[_.id]._L[_.L[0].id]._incolumn || _R[_.id]._L[_.L[0].id]._inrow) && _R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid] !== undefined && _R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timeline !== undefined) {\r\n\t\t\t\tif (!_R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timeline.isActive() && _R[_.id]._L[_.L[0].id] !== undefined && _R[_.id]._L[_.L[0].id].frames[_R[_.id]._L[_.L[0].id].timeline.currentLabel()] !== undefined)\r\n\t\t\t\t\tif (_R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timezone == undefined || _R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timezone.to <= parseInt(_R[_.id]._L[_.L[0].id].frames[_R[_.id]._L[_.L[0].id].timeline.currentLabel()].timeline.start, 0))\r\n\t\t\t\t\t\tif (_R[_.id]._L[_.L[0].id].animOnScrollForceDisable !== true) {\r\n\t\t\t\t\t\t\t_R[_.id]._L[_.L[0].id].pausedTrueParrent = true;\r\n\t\t\t\t\t\t\t_R[_.id]._L[_.L[0].id].timeline.pause();\r\n\t\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// handle hover madness\r\n\t\t\tvar curLayer = _R[_.id]._L[_.L[0].id],\r\n\t\t\t\thovertimeline = curLayer.hovertimeline;\r\n\r\n\t\t\tif (hovertimeline && hovertimeline.time() > 0) {\r\n\t\t\t\thovertimeline.pause();\r\n\t\t\t\thovertimeline.time(0);\r\n\t\t\t\thovertimeline.kill();\r\n\t\t\t\tdelete curLayer.hovertimeline;\r\n\t\t\t}\r\n\r\n\t\t\tdelete _R[_.id]._L[_.L[0].id].childrenAtStartNotVisible;\r\n\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 1;\r\n\r\n\t\t\tvar data = { layer: _.L };\r\n\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnStart = true;\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatingFrame = _.frame;\r\n\t\t\t_R[_.id]._L[_.L[0].id].ignoremousemove = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].leftstage = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].readyForHover = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenDirection =_R[_.id]._L[_.L[0].id].animationonscroll == true || _R[_.id]._L[_.L[0].id].animationonscroll == \"true\" ? _R[_.id]._L[_.L[0].id].animteToTimeCache>_R[_.id]._L[_.L[0].id].animteToTime ? -1 : 1 : undefined;\r\n\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].layerLoop !== undefined) if (_R[_.id]._L[_.L[0].id].layerLoop.from === _.frame) _R[_.id]._L[_.L[0].id].layerLoop.count++;\r\n\r\n\t\t\t// BACKWARDS MOVING ANIMATION\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].tweenDirection!==undefined && _R[_.id]._L[_.L[0].id].tweenDirection==-1 && (_.frame === \"frame_0\" || _.frame==\"frame_1\") && !(_R[_.id]._L[_.L[0].id].type === \"column\" || _R[_.id]._L[_.L[0].id].type === \"row\" || _R[_.id]._L[_.L[0].id].type === \"group\"))  {\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].leftstage = true;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 0; //Hidden\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = \"none\"\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'leftstage', _.L[0].id); });\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Safari do not render Image transform well if its opacity === 0 !?\r\n\t\t\t\tif (_.frame === \"frame_1\" && window.RSBrowser === \"Safari\" && _R[_.id]._L[_.L[0].id].safariRenderIssue === undefined) {\r\n\t\t\t\t\ttpGS.gsap.set([_R[_.id]._L[_.L[0].id].c], { opacity: 1 });\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].safariRenderIssue = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.frame !== \"frame_999\") {\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].startedAnimOnce = true;\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = _R[_.id]._L[_.L[0].id].noPevents ? \"none\" : \"auto\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.eventtype = _.frame === \"frame_0\" || _.frame === \"frame_1\" ? \"enterstage\" : _.frame === \"frame_999\" ? \"leavestage\" : \"framestarted\";\r\n\t\t\t\t//FORWARDS, BACKWARDS ON SCROLL BASED ANIMATION\r\n\r\n\r\n\t\t\t// window.requestAnimationFrame(function() {\r\n\t\t\t\tif (_R[_.id]._L[_.L[0].id]._ingroup && _R[_.id]._L[_R[_.id]._L[_.L[0].id]._lig[0].id].frames.frame_1.timeline.waitoncall !== true) _R[_.id]._L[_R[_.id]._L[_.L[0].id]._lig[0].id].pVisRequest = 1;\r\n\t\t\t\t\t_R.requestLayerUpdates(_.id, data.eventtype, _.L[0].id, _R[_.id]._L[_.L[0].id].frames[_.frame] !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline.usePerspective == false ? _.tPE : \"ignore\");\r\n\t\t\t// });\r\n\t\t\t}\r\n\r\n\t\t\tdata.id = _.id;\r\n\t\t\tdata.layerid = _.L[0].id;\r\n\t\t\tdata.layertype = _R[_.id]._L[_.L[0].id].type;\r\n\t\t\tdata.frame_index = _.frame;\r\n\t\t\tdata.layersettings = _R[_.id]._L[_.L[0].id];\r\n\r\n\r\n\r\n\t\t\t_R[_.id].c.trigger(\"revolution.layeraction\", [data]);\r\n\t\t\tif (data.eventtype === \"enterstage\") _R.toggleState(_R[_.id]._L[_.L[0].id].layertoggledby);\r\n\t\t\tif (_.frame === \"frame_1\") _R.animcompleted(_.L, _.id);\r\n\r\n\t\t},\r\n\r\n\t\ttweenOnUpdate = function(_) {\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatingFrame = _.frame;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnStart = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnEnd = false;\r\n\t\t\tif (_.frame === \"frame_999\") {\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 1;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = _R[_.id]._L[_.L[0].id].noPevents ? \"none\" : \"auto\";\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].leftstage = false;\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'update', _.L[0].id); });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttweenOnEnd = function(_) {\r\n\r\n\t\t\tvar vis = true;\r\n\t\t\t//GET ZONE\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].type === \"column\" || _R[_.id]._L[_.L[0].id].type === \"row\" || _R[_.id]._L[_.L[0].id].type === \"group\") {\r\n\t\t\t\tvar cl = _R[_.id]._L[_.L[0].id].timeline.currentLabel(),\r\n\t\t\t\t\tnl = jQuery.inArray(cl, _R[_.id]._L[_.L[0].id].ford);\r\n\t\t\t\tnl++;\r\n\t\t\t\tnl = _R[_.id]._L[_.L[0].id].ford.length > nl ? _R[_.id]._L[_.L[0].id].ford[nl] : cl;\r\n\r\n\t\t\t\tif (_R[_.id]._L[_.L[0].id].frames[nl] !== undefined && _R[_.id]._L[_.L[0].id].frames[cl] !== undefined) {\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].timezone = { from: parseInt(_R[_.id]._L[_.L[0].id].frames[cl].timeline.startAbsolute, 0), to: parseInt(_R[_.id]._L[_.L[0].id].frames[nl].timeline.startAbsolute, 0) };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (_.frame !== \"frame_999\" && _R[_.id].isEdge && _R[_.id]._L[_.L[0].id].type === \"shape\") {\r\n\t\t\t\t// ISSUS FOR IE EDGE WHICH  BREAKS SHAPE MASK ANIMATIONS\r\n\t\t\t\tvar cachemw = _R[_.id]._L[_.L[0].id].c[0].style.opacity;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].c[0].style.opacity = cachemw - 0.0001\r\n\t\t\t\ttpGS.gsap.set(_R[_.id]._L[_.L[0].id].c[0], { opacity: (cachemw - 0.001), delay: 0.05 });\r\n\t\t\t\ttpGS.gsap.set(_R[_.id]._L[_.L[0].id].c[0], { opacity: cachemw, delay: 0.1 });\r\n\t\t\t}\r\n\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatingFrame = \"done\";\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatedFrame = _.frame;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnStart = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnEnd = true;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenDirection =_R[_.id]._L[_.L[0].id].animationonscroll == true || _R[_.id]._L[_.L[0].id].animationonscroll == \"true\" ? _R[_.id]._L[_.L[0].id].animteToTimeCache>_R[_.id]._L[_.L[0].id].animteToTime ? -1 : 1 : undefined;\r\n\r\n\t\t\tvar data = {};\r\n\t\t\tdata.layer = _.L;\r\n\t\t\tdata.eventtype = _.frame === \"frame_0\" || _.frame === \"frame_1\" ? \"enteredstage\" : _.frame === \"frame_999\" ? \"leftstage\" : \"frameended\";\r\n\t\t\t_R[_.id]._L[_.L[0].id].readyForHover = true;\r\n\t\t\tdata.layertype = _R[_.id]._L[_.L[0].id].type;\r\n\t\t\tdata.frame_index = _.frame;\r\n\t\t\tdata.layersettings = _R[_.id]._L[_.L[0].id];\r\n\t\t\t_R[_.id].c.trigger(\"revolution.layeraction\", [data]);\r\n\r\n\t\t\tif (_.frame === \"frame_999\" && data.eventtype === \"leftstage\") {\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].leftstage = true;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 0; //Hidden\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = \"none\"\r\n\t\t\t\tvis = false;\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'leftstage', _.L[0].id); });\r\n\t\t\t} else // If Perspective should not be used, and Frame Ended, we can remove the \"pseudo\" perspective which helps to animate things smoother, i.e. scale Animations\r\n\t\t\tif (_.L[0].id, _R[_.id]._L[_.L[0].id].frames[_.frame] !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline.usePerspective == false)\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'frameended', _.L[0].id, _.tPE); });\r\n\r\n\r\n\t\t\tif (data.eventtype === \"leftstage\" && _R[_.id].videos !== undefined && _R[_.id].videos[_.L[0].id] !== undefined && _R.stopVideo) _R.stopVideo(_.L, _.id);\r\n\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].type === \"column\" && _R[_.id]._L[_.L[0].id].cbg!==undefined) tpGS.gsap.to(_R[_.id]._L[_.L[0].id].cbg, 0.01, { visibility: \"visible\" });\r\n\r\n\t\t\tif (data.eventtype === \"leftstage\") {\r\n\t\t\t\t_R.unToggleState(_.layertoggledby);\r\n\t\t\t\t//RESET VIDEO AFTER REMOVING LAYER\r\n\t\t\t\tif (_R[_.id]._L[_.L[0].id].type === \"video\" && _R.resetVideo) setTimeout(function() {\r\n\t\t\t\t\t_R.resetVideo(_.L, _.id);\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[_.id].BUG_safari_clipPath && !vis) _.L[0].classList.add(\"rs-pelock\");\r\n\r\n\t\t\t// Loop Layer if Needed\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].layerLoop !== undefined && _R[_.id]._L[_.L[0].id].layerLoop.to === _.frame)\r\n\t\t\t\tif ((_R[_.id]._L[_.L[0].id].layerLoop.repeat == -1 || _R[_.id]._L[_.L[0].id].layerLoop.repeat > _R[_.id]._L[_.L[0].id].layerLoop.count))\r\n\t\t\t\t\t_R.renderLayerAnimation({ layer: _R[_.id]._L[_.L[0].id].c, frame: _R[_.id]._L[_.L[0].id].layerLoop.from, updateChildren: _R[_.id]._L[_.L[0].id].layerLoop.children, mode: \"continue\", fastforward: _R[_.id]._L[_.L[0].id].layerLoop.keep === true ? true : false, id: _.id });\r\n\r\n\t\t},\r\n\r\n\t\t/**********************************************************************************************\r\n\t\t\t\t\t\t\t-\tHELPER FUNCTIONS FOR LAYER TRANSFORMS -\r\n\t\t**********************************************************************************************/\r\n\t\t////////////////////////////////\r\n\t\t// EXTRA INTERNAL FUNCTIONS  //\r\n\t\t//////////////////////////////\r\n\t\tbuildFilter = function(f) {\r\n\t\t\tif (f === undefined) return \"\";\r\n\t\t\tvar r = \"\";\r\n\t\t\tif (_R.isChrome8889 && f.blur === 0) f.blur = 0.05;\r\n\t\t\tr = f.blur !== undefined ? 'blur(' + (f.blur || 0) + 'px)' : '';\r\n\t\t\tr += f.grayscale !== undefined ? (r.length > 0 ? ' ' : '') + 'grayscale(' + (f.grayscale || 0) + '%)' : '';\r\n\t\t\tr += f.brightness !== undefined ? (r.length > 0 ? ' ' : '') + 'brightness(' + (f.brightness || 100) + '%)' : '';\r\n\t\t\treturn r === \"\" ? \"none\" : r;\r\n\t\t},\r\n\r\n\t\tbuildBackdropFilter = function(f) {\r\n\t\t\tif (f === undefined) return \"\";\r\n\t\t\tvar r = \"\";\r\n\t\t\tif (_R.isChrome8889 && f.b_blur === 0) f.b_blur = 0.05;\r\n\t\t\tr = f.b_blur !== undefined ? 'blur(' + (f.b_blur || 0) + 'px)' : '';\r\n\t\t\tr += f.b_grayscale !== undefined ? (r.length > 0 ? ' ' : '') + 'grayscale(' + (f.b_grayscale || 0) + '%)' : '';\r\n\t\t\tr += f.b_sepia !== undefined ? (r.length > 0 ? ' ' : '') + 'sepia(' + (f.b_sepia || 0) + '%)' : '';\r\n\t\t\tr += f.b_invert !== undefined ? (r.length > 0 ? ' ' : '') + 'invert(' + (f.b_invert || 0) + '%)' : '';\r\n\t\t\tr += f.b_brightness !== undefined ? (r.length > 0 ? ' ' : '') + 'brightness(' + (f.b_brightness || 100) + '%)' : '';\r\n\t\t\treturn r === \"\" ? \"none\" : r;\r\n\t\t},\r\n\r\n\r\n\r\n\r\n\t\taddGradDegree = function(grad, deg) {\r\n\t\t\tgrad = grad.split('(');\r\n\t\t\tvar begin = grad[0];\r\n\t\t\tgrad.shift();\r\n\t\t\treturn begin + '(' + deg + 'deg, ' + grad.join('(');\r\n\t\t},\r\n\t\tgradDegree = function(grad) {\r\n\t\t\tif (grad.search('deg,') !== -1) {\r\n\t\t\t\tvar deg = grad.split('deg,')[0];\r\n\t\t\t\tif (deg.search(/\\(/) !== -1) return parseInt(deg.split('(')[1], 10);\r\n\t\t\t}\r\n\t\t\treturn 180;\r\n\t\t},\r\n\r\n\t\t_svgprep = function(a, id) {\r\n\t\t\tif (a !== undefined && a.indexOf('oc:t') >= 0) return {};\r\n\r\n\t\t\ta = a === undefined ? \"\" : a.split(\";\");\r\n\r\n\t\t\t// default fill needs to be responsive\r\n\t\t\tvar r = { fill: _R.revToResp('#ffffff', _R[id].rle), stroke: 'transparent', \"stroke-width\": \"0px\", \"stroke-dasharray\": \"0\", \"stroke-dashoffset\": \"0\" };\r\n\r\n\t\t\tfor (var u in a) {\r\n\t\t\t\tif (!a.hasOwnProperty(u)) continue;\r\n\t\t\t\tvar s = a[u].split(\":\");\r\n\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\t//case \"oc\": if (s[1]===\"t\") r.original=true;break;\r\n\t\t\t\t\tcase \"c\":\r\n\t\t\t\t\t\tr.fill = _R.revToResp(s[1], _R[id].rle, undefined, \"||\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sw\":\r\n\t\t\t\t\t\tr[\"stroke-width\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sc\":\r\n\t\t\t\t\t\tr.stroke = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"so\":\r\n\t\t\t\t\t\tr[\"stroke-dashoffset\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sa\":\r\n\t\t\t\t\t\tr[\"stroke-dasharray\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sall\":\r\n\t\t\t\t\t\tr[\"svgAll\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\tconvToCLR = function(a) {\r\n\t\t\treturn a === \"c\" ? \"center\" : a === \"l\" ? \"left\" : a === \"r\" ? \"right\" : a;\r\n\t\t},\r\n\r\n\r\n\t\t/*\r\n\t\tUPDATE SPLITTED OR NONE SPLITTED CONTENT\r\n\t\t*/\r\n\t\tupdateSplitContent = function(obj) {\r\n\t\t\tvar _ = _R[obj.id]._L[obj.layer[0].id],\r\n\t\t\t\tsplit = false;\r\n\t\t\tif (_.splitText && _.splitText !== false) _.splitText.revert();\r\n\t\t\tif (_.type === \"text\" || _.type === \"button\") {\r\n\t\t\t\tfor (var frame in _.frames) {\r\n\t\t\t\t\tif (_.frames[frame].chars !== undefined || _.frames[frame].words !== undefined || _.frames[frame].lines !== undefined) {\r\n\t\t\t\t\t\tsplit = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (split)\r\n\t\t\t\t\t_.splitText = new tpGS.SplitText(_.c, { type: \"lines,words,chars\", wordsClass: \"rs_splitted_words\", linesClass: \"rs_splitted_lines\", charsClass: \"rs_splitted_chars\" });\r\n\t\t\t\telse\r\n\t\t\t\t\t_.splitText = false;\r\n\t\t\t} else _.splitText = false;\r\n\t\t},\r\n\r\n\r\n\t\t// SFX ANIMATIONS\r\n\t\tcheckSFXAnimations = function(effect, mask, easedata) {\r\n\t\t\t// BLOCK SFX ANIMATIONS\r\n\t\t\tif (effect !== undefined && effect.indexOf(\"block\") >= 0) {\r\n\t\t\t\tvar sfx = {};\r\n\r\n\t\t\t\tif (mask[0].getElementsByClassName('tp-blockmask_in').length === 0) {\r\n\t\t\t\t\tmask.append('<div class=\"tp-blockmask_in\"></div>');\r\n\t\t\t\t\tmask.append('<div class=\"tp-blockmask_out\"></div>');\r\n\t\t\t\t}\r\n\t\t\t\teasedata = easedata === undefined ? \"power3.inOut\" : easedata;\r\n\r\n\t\t\t\tsfx.ft = [{ scaleY: 1, scaleX: 0, transformOrigin: \"0% 50%\" }, { scaleY: 1, scaleX: 1, ease: easedata, immediateRender: false }];\r\n\t\t\t\tsfx.t = { scaleY: 1, scaleX: 0, transformOrigin: \"100% 50%\", ease: easedata, immediateRender: false };\r\n\t\t\t\tsfx.bmask_in = mask.find('.tp-blockmask_in');\r\n\t\t\t\tsfx.bmask_out = mask.find('.tp-blockmask_out');\r\n\t\t\t\tsfx.type = \"block\";\r\n\r\n\t\t\t\tswitch (effect) {\r\n\t\t\t\t\tcase \"blocktoleft\":\r\n\t\t\t\t\tcase \"blockfromright\":\r\n\t\t\t\t\t\tsfx.ft[0].transformOrigin = \"100% 50%\";\r\n\t\t\t\t\t\tsfx.t.transformOrigin = \"0% 50%\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"blockfromtop\":\r\n\t\t\t\t\tcase \"blocktobottom\":\r\n\t\t\t\t\t\tsfx.ft = [{ scaleX: 1, scaleY: 0, transformOrigin: \"50% 0%\" }, { scaleX: 1, scaleY: 1, ease: easedata, immediateRender: false }];\r\n\t\t\t\t\t\tsfx.t = { scaleX: 1, scaleY: 0, transformOrigin: \"50% 100%\", ease: easedata, immediateRender: false };\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"blocktotop\":\r\n\t\t\t\t\tcase \"blockfrombottom\":\r\n\t\t\t\t\t\tsfx.ft = [{ scaleX: 1, scaleY: 0, transformOrigin: \"50% 100%\" }, { scaleX: 1, scaleY: 1, ease: easedata, immediateRender: false }];\r\n\t\t\t\t\t\tsfx.t = { scaleX: 1, scaleY: 0, transformOrigin: \"50% 0%\", ease: easedata, immediateRender: false };\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tsfx.ft[1].overwrite = \"auto\";\r\n\t\t\t\tsfx.t.overwrite = \"auto\";\r\n\t\t\t\treturn sfx;\r\n\t\t\t} else {\r\n\t\t\t\t//mask.find('.tp-blockmask').remove();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcheckReverse = function(a, r, t, atr, id) {\r\n\t\t\tif (_R[id].sdir === 0 || r === undefined) return a;\r\n\t\t\tif (t === \"mask\") atr = atr === \"x\" ? \"mX\" : atr === \"y\" ? \"mY\" : atr;\r\n\t\t\telse\r\n\t\t\tif (t === \"chars\") atr = atr === \"x\" ? \"cX\" : atr === \"y\" ? \"cY\" : atr === \"dir\" ? \"cD\" : atr;\r\n\t\t\telse\r\n\t\t\tif (t === \"words\") atr = atr === \"x\" ? \"wX\" : atr === \"y\" ? \"wY\" : atr === \"dir\" ? \"wD\" : atr;\r\n\t\t\telse\r\n\t\t\tif (t === \"lines\") atr = atr === \"x\" ? \"lX\" : atr === \"y\" ? \"lY\" : atr === \"dir\" ? \"lD\" : atr;\r\n\t\t\tif (r[atr] === undefined || r[atr] === false) return a;\r\n\t\t\telse\r\n\t\t\tif (r !== undefined && r[atr] === true) return a === \"t\" || a === \"top\" ? \"b\" : a === \"b\" || a === \"bottom\" ? \"t\" : a === \"l\" || a === \"left\" ? \"r\" : a === \"r\" || a === \"right\" ? \"l\" : (parseFloat(a) * -1) + ((\"\"+a).indexOf(\"px\")>=0 ? \"px\" : (\"\"+a).indexOf(\"%\")>=0 ? \"%\" : \"\");\r\n\t\t},\r\n\r\n\r\n\t\tconvertTransformValues = function(obj) {\r\n\r\n\t\t\tvar _ = _R[obj.id]._L[obj.layer[0].id],\r\n\t\t\t\ta = obj.source === undefined ? _R.clone(obj.frame.transform) : _R.clone(obj.frame[obj.source]),\r\n\t\t\t\tb,\r\n\t\t\t\ttorig = { originX: \"50%\", originY: \"50%\", originZ: \"0\" },\r\n\t\t\t\tparw = _._lig !== undefined ? _R[obj.id]._L[_._lig[0].id].eow : _R[obj.id].conw,\r\n\t\t\t\tparh = _._lig !== undefined ? _R[obj.id]._L[_._lig[0].id].eoh : _R[obj.id].conh;\r\n\r\n\r\n\r\n\t\t\tfor (var atr in a) {\r\n\t\t\t\tif (!a.hasOwnProperty(atr)) continue;\r\n\t\t\t\ta[atr] = (typeof a[atr] === \"object\") ? a[atr][_R[obj.id].level] : a[atr];\r\n\r\n\t\t\t\tif (a[atr] === \"inherit\" || atr === \"delay\" || atr === \"direction\" || atr === \"use\") delete a[atr]; // NOT FOR ANIMATION\r\n\t\t\t\telse\r\n\t\t\t\tif (atr === \"originX\" || atr === \"originY\" || atr === \"originZ\") { // COLLECT ORIGINS\r\n\t\t\t\t\ttorig[atr] = a[atr];\r\n\t\t\t\t\tdelete a[atr];\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (_R.isNumeric(a[atr], 0)) a[atr] = checkReverse(a[atr], obj.frame.reverse, obj.target, atr, obj.id, obj.id); // NUMERIC ?\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (a[atr][0] === \"r\" && a[atr][1] === \"a\" && a[atr][3] === \"(\") a[atr] = a[atr].replace(\"ran\", \"random\"); // RANDOM\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (a[atr].indexOf(\"cyc(\") >= 0) { // CYCLE\r\n\t\t\t\t\t\tvar cycar = a[atr].replace(\"cyc(\", \"\").replace(\")\", \"\").replace(\"[\", \"\").replace(\"]\", \"\").split(\"|\");\r\n\t\t\t\t\t\ta[atr] = new function(index) { return tpGS.gsap.utils.wrap(cycar, index) };\r\n\r\n\t\t\t\t\t} else // NUMERIC WITH %\r\n\t\t\t\t\tif (a[atr].indexOf(\"%\") >= 0 && _R.isNumeric(b = parseInt(a[atr], 0))) {\r\n\r\n\t\t\t\t\t\t/*a[atr]= atr===\"x\" ? function() { return checkReverse((_.eow||0)*b/100,obj.frame.reverse,obj.target,atr,obj.id)} :\r\n\t\t\t\t\t\t\t\tatr===\"y\" ?  function() { return checkReverse((_.eoh||0)*b/100,obj.frame.reverse,obj.target,atr,obj.id)} : a[atr];*/\r\n\r\n\t\t\t\t\t\ta[atr] = atr === \"x\" ? checkReverse((_.eow || 0) * b / 100, obj.frame.reverse, obj.target, atr, obj.id) : atr === \"y\" ? checkReverse((_.eoh || 0) * b / 100, obj.frame.reverse, obj.target, atr, obj.id) : a[atr];\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ta[atr] = a[atr].replace(\"[\", \"\").replace(\"]\", \"\");\r\n\t\t\t\t\t\ta[atr] = checkReverse(a[atr], obj.frame.reverse, obj.target, atr, obj.id, obj.id);\r\n\t\t\t\t\t\tvar zoneOffset = { t: 0, b: 0 };\r\n\t\t\t\t\t\tif (_.type === \"row\") {\r\n\t\t\t\t\t\t\tif (_.zone === \"rev_row_zone_top\" && _R[obj.id].topZones[_.slideIndex] !== undefined && _R[obj.id].topZones[_.slideIndex][0] !== undefined)\r\n\t\t\t\t\t\t\t\tzoneOffset = { t: 0, b: 0 };\r\n\t\t\t\t\t\t\telse if (_.zone === \"rev_row_zone_middle\" && _R[obj.id].middleZones[_.slideIndex] !== undefined && _R[obj.id].middleZones[_.slideIndex][0] !== undefined)\r\n\t\t\t\t\t\t\t\tzoneOffset = { t: Math.round(_R[obj.id].module.height / 2 - _R[obj.id].middleZones[_.slideIndex][0].offsetHeight / 2), b: Math.round(_R[obj.id].module.height / 2 + _R[obj.id].middleZones[_.slideIndex][0].offsetHeight / 2) };\r\n\t\t\t\t\t\t\telse if (_.zone === \"rev_row_zone_bottom\" && _R[obj.id].bottomZones[_.slideIndex] !== undefined && _R[obj.id].bottomZones[_.slideIndex][0] !== undefined)\r\n\t\t\t\t\t\t\t\tzoneOffset = { t: Math.round(_R[obj.id].module.height - _R[obj.id].bottomZones[_.slideIndex][0].offsetHeight), b: _R[obj.id].module.height + _R[obj.id].bottomZones[_.slideIndex][0].offsetHeight };\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tswitch (a[atr]) {\r\n\t\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\t\t\t\ta[atr] = (0 - (_.eoh || 0) - (_.type === \"column\" ? 0 : _.calcy || 0) - (_R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"v\")) - (_.type === \"row\" && _.marginTop !== undefined ? _.marginTop[_R[obj.id].level] : 0)) - zoneOffset.b;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\t\t\ta[atr] = (parh - (_.type === \"column\" || _.type === \"row\" ? 0 : _.calcy || 0) + (_R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"v\"))) - zoneOffset.t;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\t\t\t\ta[atr] = 0 - (_.type === \"row\" ? _.pow : (_.eow || 0)) - (_.type === \"column\" ? 0 : _.type === \"row\" ? _.rowcalcx : (_.calcx || 0)) - (_R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"h\"));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\t\t\ta[atr] = parw - (_.type === \"column\" ? 0 : _.type === \"row\" ? _.rowcalcx : _.calcx || 0) + _R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"h\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"m\":\r\n\t\t\t\t\t\t\tcase \"c\":\r\n\t\t\t\t\t\t\tcase \"middle\":\r\n\t\t\t\t\t\t\tcase \"center\":\r\n\t\t\t\t\t\t\t\ta[atr] = atr === \"x\" ? checkReverse((parw / 2 - (_.type === \"column\" ? 0 : _.calcx || 0) - (_.eow || 0) / 2), obj.frame.reverse, obj.target, atr, obj.id) : atr === \"y\" ? checkReverse((parh / 2 - (_.type === \"column\" ? 0 : (_.calcy || 0)) - (_.eoh || 0) / 2), obj.frame.reverse, obj.target, atr, obj.id) : a[atr];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// MANAGE SKEW CALCULATION\r\n\t\t\t\tif (atr === \"skewX\" && a[atr] !== undefined) {\r\n\t\t\t\t\ta['scaleY'] = a['scaleY'] === undefined ? 1 : parseFloat(a['scaleY']);\r\n\t\t\t\t\ta['scaleY'] *= Math.cos(parseFloat(a[atr]) * tpGS.DEG2RAD);\r\n\t\t\t\t}\r\n\t\t\t\tif (atr === \"skewY\" && a[atr] !== undefined) {\r\n\t\t\t\t\ta['scaleX'] = a['scaleX'] === undefined ? 1 : parseFloat(a['scaleX']);\r\n\t\t\t\t\ta['scaleX'] *= Math.cos(parseFloat(a[atr]) * tpGS.DEG2RAD);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ta.transformOrigin = torig.originX + \" \" + torig.originY + \" \" + torig.originZ;\r\n\r\n\t\t\t// CLIPPING EFFECTS\r\n\t\t\tif (!_R[obj.id].BUG_ie_clipPath && a.clip !== undefined && _.clipPath !== undefined && _.clipPath.use) {\r\n\t\t\t\ta.clipB = a.clipB==undefined ? 100 : a.clipB;\r\n\t\t\t\tvar cty = _.clipPath.type == \"rectangle\",\r\n\t\t\t\t\tcl = parseInt(a.clip, 0),\r\n\t\t\t\t\tclb = 100 - parseInt(a.clipB, 0),\r\n\t\t\t\t\tch = Math.round(cl / 2);\r\n\t\t\t\tswitch (_.clipPath.origin) {\r\n\t\t\t\t\tcase \"invh\":a.clipPath = \"polygon(0% 0%, 0% 100%, \" + cl + \"% 100%, \" + cl + \"% 0%, 100% 0%, 100% 100%, \" + clb + \"% 100%, \" + clb + \"% 0%, 0% 0%)\";break;\r\n\t\t\t\t\tcase \"invv\":a.clipPath = \"polygon(100% 0%, 0% 0%, 0% \" + cl + \"%, 100% \" + cl + \"%, 100% 100%, 0% 100%, 0% \" + clb + \"%, 100% \" + clb + \"%, 100% 0%)\";break;\r\n\t\t\t\t\tcase \"cv\":a.clipPath = cty ? \"polygon(\" + (50 - ch) + \"% 0%, \" + (50 + ch) + \"% 0%, \" + (50 + ch) + \"% 100%, \" + (50 - ch) + \"% 100%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t\tcase \"ch\":a.clipPath = cty ? \"polygon(0% \" + (50 - ch) + \"%, 0% \" + (50 + ch) + \"%, 100% \" + (50 + ch) + \"%, 100% \" + (50 - ch) + \"%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t\tcase \"l\":a.clipPath = cty ? \"polygon(0% 0%, \" + cl + \"% 0%, \" + cl + \"% 100%, 0% 100%)\" : \"circle(\" + cl + \"% at 0% 50%)\";break;\r\n\t\t\t\t\tcase \"r\":a.clipPath = cty ? \"polygon(\" + (100 - cl) + \"% 0%, 100% 0%, 100% 100%, \" + (100 - cl) + \"% 100%)\" : \"circle(\" + cl + \"% at 100% 50%)\";break;\r\n\t\t\t\t\tcase \"t\":a.clipPath = cty ? \"polygon(0% 0%, 100% 0%, 100% \" + cl + \"%, 0% \" + cl + \"%)\" : \"circle(\" + cl + \"% at 50% 0%)\";break;\r\n\t\t\t\t\tcase \"b\":a.clipPath = cty ? \"polygon(0% 100%, 100% 100%, 100% \" + (100 - cl) + \"%, 0% \" + (100 - cl) + \"%)\" : \"circle(\" + cl + \"% at 50% 100%)\";break;\r\n\t\t\t\t\tcase \"lt\":a.clipPath = cty ? \"polygon(0% 0%,\" + (2 * cl) + \"% 0%, 0% \" + (2 * cl) + \"%)\" : \"circle(\" + cl + \"% at 0% 0%)\";break;\r\n\t\t\t\t\tcase \"lb\":a.clipPath = cty ? \"polygon(0% \" + (100 - 2 * cl) + \"%, 0% 100%,\" + (2 * cl) + \"% 100%)\" : \"circle(\" + cl + \"% at 0% 100%)\";break;\r\n\t\t\t\t\tcase \"rt\":a.clipPath = cty ? \"polygon(\" + (100 - 2 * cl) + \"% 0%, 100% 0%, 100% \" + (2 * cl) + \"%)\" : \"circle(\" + cl + \"% at 100% 0%)\";break;\r\n\t\t\t\t\tcase \"rb\":a.clipPath = cty ? \"polygon(\" + (100 - 2 * cl) + \"% 100%, 100% 100%, 100% \" + (100 - 2 * cl) + \"%)\" : \"circle(\" + cl + \"% at 100% 100%)\";break;\r\n\t\t\t\t\tcase \"clr\":a.clipPath = cty ? \"polygon(0% 0%, 0% \" + cl + \"%, \" + (100 - cl) + \"% 100%, 100% 100%, 100% \" + (100 - cl) + \"%, \" + cl + \"% 0%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t\tcase \"crl\":a.clipPath = cty ? \"polygon(0% \" + (100 - cl) + \"%, 0% 100%, \" + cl + \"% 100%, 100% \" + cl + \"%, 100% 0%, \" + (100 - cl) + \"% 0%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t}\r\n\t\t\t\tif (_R.isFirefox(obj.id) !== true) a[\"-webkit-clip-path\"] = a.clipPath;\r\n\t\t\t\ta[\"clip-path\"] = a.clipPath;\r\n\r\n\t\t\t\t//a.overflow = \"hidden\" // MAYBE ADD TO AVOID SKEW ISSUES IN LOOPED AND MASKED LAYERS\r\n\t\t\t\tdelete a.clip;\r\n\t\t\t\tdelete a.clipB;\r\n\t\t\t} else {\r\n\t\t\t\tdelete a.clip;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (obj.target !== \"mask\") {\r\n\t\t\t\t// FILTER EFFECTS\r\n\t\t\t\tif (obj.frame !== undefined && (obj.frame.filter !== undefined || obj.forcefilter)) {\r\n\t\t\t\t\ta.filter = buildFilter(obj.frame.filter);\r\n\t\t\t\t\ta['-webkit-filter'] = a.filter;\r\n\t\t\t\t\tif(_R.useBackdrop) if (window.isSafari11)  a['-webkit-backdrop-filter'] = buildBackdropFilter(obj.frame.filter); else a['backdrop-filter'] = buildBackdropFilter(obj.frame.filter);\r\n\r\n\t\t\t\t\t//SAFARI BLUR FILTER FIX - Was rotationX but it negative influence Black Friday Letter Zooms\r\n\t\t\t\t\t// z - had issues with iPad\r\n\t\t\t\t\t// x - has issue on blurred element and mask\r\n\t\t\t\t\tif (window.isSafari11 && a.filter !== undefined && a[_.iOSFix==undefined || _.iOSFix==\"d\" ? _.type==\"shape\" ? \"z\" : \"x\" : _.iOSFix] === undefined && obj.frame.filter !== undefined && obj.frame.filter.blur !== undefined) a[_.iOSFix==undefined || _.iOSFix==\"d\" ? _.type==\"shape\" ? \"z\" : \"x\" : _.iOSFix] = 0.0001;\r\n\t\t\t\t}\r\n\t\t\t\tif (jQuery.inArray(obj.source, [\"chars\", \"words\", \"lines\"]) >= 0 && (obj.frame[obj.source].blur !== undefined || obj.forcefilter)) {\r\n\t\t\t\t\ta.filter = buildFilter(obj.frame[obj.source]);\r\n\t\t\t\t\ta['-webkit-filter'] = a.filter;\r\n\t\t\t\t}\r\n\t\t\t\tdelete a.grayscale;\r\n\t\t\t\tdelete a.blur;\r\n\t\t\t\tdelete a.brightness;\r\n\t\t\t}\r\n\r\n\t\t\t// EASE\r\n\t\t\ta.ease = a.ease !== undefined ? a.ease : (a.ease === undefined && obj.ease !== undefined) || (a.ease !== undefined && obj.ease !== undefined && a.ease === \"inherit\") ? obj.ease : obj.frame.timeline.ease;\r\n\t\t\ta.ease = a.ease === undefined || a.ease === \"default\" ? \"power3.inOut\" : a.ease;\r\n\r\n\r\n\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\r\n\t\tgetCycles = function(anim) {\r\n\t\t\tvar _;\r\n\t\t\tfor (var a in anim) if (anim.hasOwnProperty(a)) {\r\n\t\t\t\tif (typeof anim[a] === \"string\" && anim[a].indexOf(\"|\") >= 0) {\r\n\t\t\t\t\t_ = anim[a].replace(\"[\", \"\").replace(\"]\", \"\").split(\"|\");\r\n\t\t\t\t\tanim[a] = function(index) { return tpGS.gsap.utils.wrap(_, index) };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn anim;\r\n\t\t},\r\n\r\n\t\tshuffleArray = function(array) {\r\n\t\t\tvar currentIndex = array.length,\r\n\t\t\t\ttemporaryValue, randomIndex;\r\n\r\n\t\t\t// While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\r\n\t\t\t\t// Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\r\n\t\t\t\t// And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\treturn array;\r\n\t\t},\r\n\r\n\r\n\t\t// GET ANIMATION PARAMETERS 1 TIME\r\n\t\tgFrPar = function(_, id, wtl, transform, caller) {\r\n\r\n\t\t\tvar color,\r\n\t\t\t\tbgcolor,\r\n\t\t\t\tn = {},\r\n\t\t\t\tf = {},\r\n\t\t\t\tt = {};\r\n\t\t\ttransform = transform === undefined ? \"transform\" : transform;\r\n\r\n\t\t\tif (caller === \"loop\") {\r\n\t\t\t\tt.autoRotate = false;\r\n\t\t\t\tt.yoyo_filter = false;\r\n\t\t\t\tt.yoyo_rotate = false;\r\n\t\t\t\tt.yoyo_move = false;\r\n\t\t\t\tt.yoyo_scale = false;\r\n\t\t\t\tt.curved = false;\r\n\t\t\t\tt.curviness = 2;\r\n\t\t\t\tt.ease = \"none\";\r\n\t\t\t\tt.speed = 1000;\r\n\t\t\t\tt.st = 0;\r\n\t\t\t\tn.x = 0;\r\n\t\t\t\tn.y = 0;\r\n\t\t\t\tn.z = 0;\r\n\t\t\t\tn.xr = 0;\r\n\t\t\t\tn.yr = 0;\r\n\t\t\t\tn.zr = 0;\r\n\t\t\t\tn.scaleX = 1;\r\n\t\t\t\tn.scaleY = 1;\r\n\t\t\t\tn.originX = \"50%\";\r\n\t\t\t\tn.originY = \"50%\";\r\n\t\t\t\tn.originZ = \"0\";\r\n\t\t\t\tn.rotationX = \"0deg\";\r\n\t\t\t\tn.rotationY = \"0deg\";\r\n\t\t\t\tn.rotationZ = \"0deg\";\r\n\t\t\t} else {\r\n\t\t\t\tt.speed = 300;\r\n\t\t\t\tif (wtl)\r\n\t\t\t\t\tt.ease = \"default\";\r\n\t\t\t\telse\r\n\t\t\t\t\tn.ease = \"default\";\r\n\t\t\t}\r\n\t\t\tif (caller === \"sfx\") n.fxc = \"#ffffff\";\r\n\t\t\t_ = _.split(\";\");\r\n\t\t\tfor (var i in _) {\r\n\t\t\t\tif (!_.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar v = _[i].split(\":\");\r\n\r\n\t\t\t\tswitch (v[0]) {\r\n\t\t\t\t\tcase \"u\":n.use = v[1] === \"true\" || v[1] === \"t\" ? true : fasle;break;\r\n\t\t\t\t\t// BASIC VALUES\r\n\t\t\t\t\tcase \"c\":color = v[1];break;\r\n\t\t\t\t\tcase \"fxc\":n.fxc = v[1];break;\r\n\t\t\t\t\tcase \"bgc\":bgcolor = v[1];break;\r\n\t\t\t\t\tcase \"auto\":n.auto = v[1] === \"t\" || v[1] === undefined || v[1] === \"true\" ? true : false;break;\r\n\t\t\t\t\t// FRAME VALUES\r\n\t\t\t\t\tcase \"o\":n.opacity = v[1];break;\r\n\t\t\t\t\tcase \"oX\":n.originX = v[1];break;\r\n\t\t\t\t\tcase \"oY\":n.originY = v[1];break;\r\n\t\t\t\t\tcase \"oZ\":n.originZ = v[1];break;\r\n\t\t\t\t\tcase \"sX\":n.scaleX = v[1];break;\r\n\t\t\t\t\tcase \"sY\":n.scaleY = v[1];break;\r\n\t\t\t\t\tcase \"skX\":n.skewX = v[1];break;\r\n\t\t\t\t\tcase \"skY\":n.skewY = v[1];break;\r\n\t\t\t\t\tcase \"rX\":n.rotationX = v[1];if (v[1] != 0 && v[1] !== \"0deg\") _R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"rY\":n.rotationY = v[1];if (v[1] != 0 && v[1] !== \"0deg\") _R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"rZ\":n.rotationZ = v[1];break;\r\n\t\t\t\t\tcase \"sc\":n.color = v[1];break;\r\n\t\t\t\t\tcase \"se\":n.effect = v[1];break;\r\n\t\t\t\t\tcase \"bos\":n.borderStyle = v[1];break;\r\n\t\t\t\t\tcase \"boc\":n.borderColor = v[1];break;\r\n\t\t\t\t\tcase \"td\":n.textDecoration = v[1];break;\r\n\t\t\t\t\tcase \"zI\":n.zIndex = v[1];break;\r\n\t\t\t\t\tcase \"tp\":n.transformPerspective = _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspectiveType === \"global\" ? _R[id].perspective : v[1];break;\r\n\t\t\t\t\tcase \"cp\":n.clip = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"cpb\":n.clipB = parseInt(v[1], 0);break;//case \"fpr\": n.fpr = v[1]===\"t\" || v[1]===\"true\" || v[1]===true ? true : false; break;\r\n\r\n\t\t\t\t\t// TIMELINE LOOP VALUES\r\n\t\t\t\t\tcase \"aR\":t.autoRotate = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"rA\":t.radiusAngle = v[1];break;\r\n\t\t\t\t\tcase \"yyf\":t.yoyo_filter = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"yym\":t.yoyo_move = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"yyr\":t.yoyo_rotate = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"yys\":t.yoyo_scale = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"crd\":t.curved = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\t//RESPONSIVE VALUES\r\n\t\t\t\t\tcase \"x\":n.x = caller === \"reverse\" ? v[1] === \"t\" || v[1] === true || v[1] == 'true' ? true : false : caller === \"loop\" ? parseInt(v[1], 0) : _R.revToResp(v[1], _R[id].rle);break;\r\n\t\t\t\t\tcase \"y\":n.y = caller === \"reverse\" ? v[1] === \"t\" || v[1] === true || v[1] == 'true' ? true : false : caller === \"loop\" ? parseInt(v[1], 0) : _R.revToResp(v[1], _R[id].rle);break;\r\n\t\t\t\t\tcase \"z\":n.z = caller === \"loop\" ? parseInt(v[1], 0) : _R.revToResp(v[1], _R[id].rle);if (v[1] != 0) _R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"bow\":n.borderWidth = _R.revToResp(v[1], 4, 0).toString().replace(/,/g, \" \");break;\r\n\t\t\t\t\tcase \"bor\":n.borderRadius = _R.revToResp(v[1], 4, 0).toString().replace(/,/g, \" \");break;\r\n\t\t\t\t\t//USE HOVER MASK\r\n\t\t\t\t\tcase \"m\":n.mask = v[1] === \"t\" ? true : v[1] === \"f\" ? false : v[1];break;\r\n\t\t\t\t\tcase \"iC\":n.instantClick = v[1] === \"t\" ? true : v[1] === \"f\" ? false : v[1];break;\r\n\t\t\t\t\t//CONVERTED VALUES\r\n\t\t\t\t\tcase \"xR\":n.xr = parseInt(v[1], 0);_R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"yR\":n.yr = parseInt(v[1], 0);_R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"zR\":n.zr = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"iosfx\": if(v[1]!==\"default\" && v[1]!==\"d\") f.iosfx = v[1]; break;\r\n\t\t\t\t\tcase \"blu\":if (caller === \"loop\") n.blur = parseInt(v[1], 0);else f.blur = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"gra\":if (caller === \"loop\") n.grayscale = parseInt(v[1], 0);else f.grayscale = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bri\":if (caller === \"loop\") n.brightness = parseInt(v[1], 0);else f.brightness = parseInt(v[1], 0);break;\r\n\t\t\t\t\t// BACKDROP FILTERS\r\n\t\t\t\t\tcase \"bB\":f.b_blur = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bG\":f.b_grayscale = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bR\":f.b_brightness = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bI\":f.b_invert = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bS\":f.b_sepia = parseInt(v[1], 0);break;\r\n\r\n\t\t\t\t\tcase \"sp\":t.speed = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"d\":n.delay = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"crns\":t.curviness = parseInt(v[1], 0);break;\r\n\t\t\t\t\t//SPECIAL HANDLINGS\r\n\t\t\t\t\tcase \"st\":t.start = (v[1] === \"w\" || v[1] === \"a\" ? \"+=0\" : v[1]);t.waitoncall = (v[1] === \"w\" || v[1] === \"a\");break;\r\n\t\t\t\t\tcase \"sA\":t.startAbsolute = v[1];break;\r\n\t\t\t\t\tcase \"sR\":t.startRelative = v[1];break;\r\n\r\n\t\t\t\t\tcase \"e\":if (wtl) t.ease = v[1];else n.ease = v[1];break;\r\n\r\n\t\t\t\t\t//DEFAULT\r\n\t\t\t\t\tdefault:if (v[0].length > 0) n[v[0]] = v[1] === \"t\" ? true : v[1] === \"f\" ? false : v[1];break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar r = { timeline: t };\r\n\t\t\tif (!jQuery.isEmptyObject(f))\r\n\t\t\t\tif (caller === \"split\") n = jQuery.extend(true, n, f);\r\n\t\t\t\telse r.filter = f;\r\n\r\n\t\t\tif (caller === \"split\") n.dir = n.dir === undefined ? \"start\" : n.dir === \"backward\" ? \"end\" : n.dir === \"middletoedge\" ? \"center\" : n.dir === \"edgetomiddle\" ? \"edge\" : n.dir;\r\n\r\n\t\t\tif (!jQuery.isEmptyObject(color)) r.color = color;\r\n\r\n\r\n\t\t\tif (!jQuery.isEmptyObject(bgcolor)) r.bgcolor = bgcolor;\r\n\t\t\tr[transform] = n;\r\n\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\tBUILD THE FRAME OBJECT STRUCTURE\r\n\t\t*/\r\n\t\tbuildFrameObj = function(_, id) {\r\n\t\t\tvar n = {},\r\n\t\t\t\ti = 0;\r\n\t\t\tif (_R[id]._rdF0 === undefined) {\r\n\t\t\t\tvar b = gFrPar(\"x:0;y:0;z:0;rX:0;rY:0;rZ:0;o:0;skX:0;skY:0;sX:0;sY:0;oX:50%;oY:50%;oZ:0;dir:forward;d:5\", id).transform;\r\n\t\t\t\t_R[id]._rdF0 = _R[id]._rdF1 = {\r\n\t\t\t\t\ttransform: gFrPar(\"x:0;y:0;z:0;rX:0;rY:0;rZ:0;o:0;skX:0;skY:0;sX:0;sY:0;oX:50%;oY:50%;oZ:0;tp:600px\", id, true).transform,\r\n\t\t\t\t\tmask: gFrPar(\"x:0;y:0\", id, true).transform,\r\n\t\t\t\t\tchars: jQuery.extend(true, { blur: 0, grayscale: 0, brightness: 100 }, b),\r\n\t\t\t\t\twords: jQuery.extend(true, { blur: 0, grayscale: 0, brightness: 100 }, b),\r\n\t\t\t\t\tlines: jQuery.extend(true, { blur: 0, grayscale: 0, brightness: 100 }, b)\r\n\t\t\t\t};\r\n\t\t\t\t_R[id]._rdF1.transform.opacity = _R[id]._rdF1.chars.opacity = _R[id]._rdF1.words.opacity = _R[id]._rdF1.lines.opacity = _R[id]._rdF1.transform.scaleX = _R[id]._rdF1.chars.scaleX = _R[id]._rdF1.words.scaleX = _R[id]._rdF1.lines.scaleX = _R[id]._rdF1.transform.scaleY = _R[id]._rdF1.chars.scaleY = _R[id]._rdF1.words.scaleY = _R[id]._rdF1.lines.scaleY = 1;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (_.frame_0 === undefined) _.frame_0 = \"x:0\";\r\n\t\t\tif (_.frame_1 === undefined) _.frame_1 = \"x:0\";\r\n\t\t\t_.dddNeeded = false;\r\n\r\n\t\t\t// GET ANIMATION FRAME DATAS\r\n\t\t\tfor (var i in _.ford) {\r\n\t\t\t\tif (!_.ford.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar q = _.ford[i];\r\n\r\n\t\t\t\tif (_[q]) {\r\n\t\t\t\t\tn[q] = gFrPar(_[q], id, true);\r\n\t\t\t\t\tif (n[q].bgcolor !== undefined) _.bgcolinuse = true;\r\n\t\t\t\t\t//IE FIX FOR CLIP PATH\r\n\t\t\t\t\tif (_R[id].BUG_ie_clipPath && _.clipPath !== undefined && _.clipPath.use && n[q].transform.clip !== undefined) {\r\n\t\t\t\t\t\tvar cl = _.clipPath.type === \"rectangle\" ? 100 - parseInt(n[q].transform.clip) : 100 - Math.min(100, (2 * parseInt(n[q].transform.clip)));\r\n\t\t\t\t\t\tswitch (_.clipPath.origin) {\r\n\t\t\t\t\t\t\tcase \"clr\":\r\n\t\t\t\t\t\t\tcase \"rb\":\r\n\t\t\t\t\t\t\tcase \"rt\":\r\n\t\t\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;x:\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.x = _R.revToResp(\"-\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"crl\":\r\n\t\t\t\t\t\t\tcase \"lb\":\r\n\t\t\t\t\t\t\tcase \"lt\":\r\n\t\t\t\t\t\t\tcase \"cv\":\r\n\t\t\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;x:-\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.x = _R.revToResp(\"\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"ch\":\r\n\t\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;y:-\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.y = _R.revToResp(\"\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;y:\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.y = _R.revToResp(\"-\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete n[q].transform.clip;\r\n\t\t\t\t\t\tdelete n[q].transform.clipB;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_[q + \"_mask\"]) n[q].mask = gFrPar(_[q + \"_mask\"], id).transform;\r\n\t\t\t\t\tif (n[q].mask != undefined && n[q].mask.use) {\r\n\t\t\t\t\t\tn[q].mask.x = n[q].mask.x === undefined ? 0 : n[q].mask.x;\r\n\t\t\t\t\t\tn[q].mask.y = n[q].mask.y === undefined ? 0 : n[q].mask.y;\r\n\t\t\t\t\t\tdelete n[q].mask.use;\r\n\t\t\t\t\t\tn[q].mask.overflow = \"hidden\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tn[q].mask = { ease: \"default\", overflow: \"visible\" };\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_[q + \"_chars\"]) n[q].chars = gFrPar(_[q + \"_chars\"], id, undefined, undefined, \"split\").transform;\r\n\t\t\t\t\tif (_[q + \"_words\"]) n[q].words = gFrPar(_[q + \"_words\"], id, undefined, undefined, \"split\").transform;\r\n\t\t\t\t\tif (_[q + \"_lines\"]) n[q].lines = gFrPar(_[q + \"_lines\"], id, undefined, undefined, \"split\").transform;\r\n\r\n\r\n\r\n\t\t\t\t\tif (_[q + \"_chars\"] || _[q + \"_words\"] || _[q + \"_lines\"]) n[q].dosplit = true;\r\n\t\t\t\t\tn.frame_0 = n.frame_0 === undefined ? { transform: {} } : n.frame_0;\r\n\t\t\t\t\tif (n[q].transform.auto) {\r\n\r\n\t\t\t\t\t\tn[q].transform = _R.clone(n.frame_0.transform);\r\n\t\t\t\t\t\tn[q].transform.opacity = n[q].transform.opacity === undefined ? 0 : n[q].transform.opacity;\r\n\t\t\t\t\t\tif (n.frame_0.filter !== undefined) n[q].filter = _R.clone(n.frame_0.filter);\r\n\t\t\t\t\t\tif (n.frame_0.mask !== undefined) n[q].mask = _R.clone(n.frame_0.mask);\r\n\t\t\t\t\t\tif (n.frame_0.chars !== undefined) n[q].chars = _R.clone(n.frame_0.chars);\r\n\t\t\t\t\t\tif (n.frame_0.words !== undefined) n[q].words = _R.clone(n.frame_0.words);\r\n\t\t\t\t\t\tif (n.frame_0.lines !== undefined) n[q].lines = _R.clone(n.frame_0.lines);\r\n\t\t\t\t\t\tif (n.frame_0.chars !== undefined || n.frame_0.words !== undefined || n.frame_0.lines !== undefined) n[q].dosplit = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_[q + \"_sfx\"]) n[q].sfx = gFrPar(_[q + \"_sfx\"], id, false, undefined, \"sfx\").transform;\r\n\t\t\t\t\tif (_[q + \"_reverse\"]) n[q].reverse = gFrPar(_[q + \"_reverse\"], id, false, undefined, \"reverse\").transform;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (n.frame_0.dosplit) n.frame_1.dosplit = true;\r\n\r\n\r\n\t\t\t// GET HOVER DATAS\r\n\t\t\tif (_.frame_hover !== undefined || _.svgh !== undefined) {\r\n\t\t\t\tn.frame_hover = gFrPar((_.frame_hover === undefined ? \"\" : _.frame_hover), id);\r\n\t\t\t\tif (_R.ISM && (n.frame_hover.transform.instantClick == 'true' || n.frame_hover.transform.instantClick == true)) delete n.frame_hover;\r\n\t\t\t\telse {\r\n\t\t\t\t\tdelete n.frame_hover.transform.instantClick;\r\n\t\t\t\t\tn.frame_hover.transform.color = n.frame_hover.color;\r\n\t\t\t\t\tif (n.frame_hover.transform.color === undefined) delete n.frame_hover.transform.color;\r\n\r\n\t\t\t\t\tif (n.frame_hover.bgcolor !== undefined && n.frame_hover.bgcolor.indexOf(\"gradient\") >= 0) n.frame_hover.transform.backgroundImage = n.frame_hover.bgcolor;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (n.frame_hover.bgcolor !== undefined) n.frame_hover.transform.backgroundColor = n.frame_hover.bgcolor;\r\n\r\n\t\t\t\t\tif (n.frame_hover.bgcolor !== undefined) _.bgcolinuse = true;\r\n\r\n\t\t\t\t\tn.frame_hover.transform.opacity = n.frame_hover.transform.opacity === undefined ? 1 : n.frame_hover.transform.opacity;\r\n\t\t\t\t\tn.frame_hover.mask = n.frame_hover.transform.mask === undefined ? false : n.frame_hover.transform.mask;\r\n\t\t\t\t\tdelete n.frame_hover.transform.mask;\r\n\t\t\t\t\t//CHECK FOR DEFAULT BORDER STYLING:\r\n\t\t\t\t\tif (n.frame_hover.transform !== undefined) {\r\n\r\n\t\t\t\t\t\tif (n.frame_hover.transform.borderWidth || n.frame_hover.transform.borderStyle) n.frame_hover.transform.borderColor = n.frame_hover.transform.borderColor === undefined ? \"transparent\" : n.frame_hover.transform.borderColor;\r\n\t\t\t\t\t\tif (n.frame_hover.transform.borderStyle !== \"none\" && n.frame_hover.transform.borderWidth === undefined) n.frame_hover.transform.borderWidth = _R.revToResp(0, 4, 0).toString().replace(/,/g, \" \");\r\n\t\t\t\t\t\tif (_.bordercolor === undefined && n.frame_hover.transform.borderColor !== undefined) _.bordercolor = \"transparent\";\r\n\t\t\t\t\t\tif (_.borderwidth === undefined && n.frame_hover.transform.borderWidth !== undefined) _.borderwidth = _R.revToResp(n.frame_hover.transform.borderWidth, 4, 0);\r\n\t\t\t\t\t\tif (_.borderstyle === undefined && n.frame_hover.transform.borderStyle !== undefined) _.borderstyle = _R.revToResp(n.frame_hover.transform.borderStyle, 4, 0);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t// Single Loop of Layer\r\n\t\t\tif (_.tloop !== undefined) {\r\n\t\t\t\t_.layerLoop = { from: \"frame_1\", to: \"frame_999\", repeat: -1, keep: true, children: true };\r\n\t\t\t\tvar tlo = _.tloop.split(\";\");\r\n\t\t\t\tfor (var i in tlo) {\r\n\t\t\t\t\tif (!tlo.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tvar v = tlo[i].split(\":\");\r\n\t\t\t\t\tswitch (v[0]) {\r\n\t\t\t\t\t\tcase \"f\":\r\n\t\t\t\t\t\t\t_.layerLoop.from = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\t_.layerLoop.to = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"k\":\r\n\t\t\t\t\t\t\t_.layerLoop.keep = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t\t_.layerLoop.repeat = parseInt(v[1], 0);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"c\":\r\n\t\t\t\t\t\t\t_.layerLoop.children = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t_.layerLoop.count = 0;\r\n\t\t\t}\r\n\r\n\t\t\t// GET LOOP DATAS\r\n\t\t\tif (_.loop_0 || _.loop_999) {\r\n\t\t\t\tn.loop = gFrPar(_.loop_999, id, true, \"frame_999\", \"loop\");\r\n\t\t\t\tn.loop.frame_0 = gFrPar(_.loop_0 || \"\", id, false, undefined, \"loop\").transform;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//OPACITY VALUES FOR START\r\n\t\t\tn.frame_0.transform.opacity = n.frame_0.transform.opacity === undefined ? 0 : n.frame_0.transform.opacity;\r\n\t\t\tn.frame_1.transform.opacity = n.frame_1.transform.opacity === undefined ? 1 : n.frame_1.transform.opacity;\r\n\t\t\tn.frame_999.transform.opacity = n.frame_999.transform.opacity === undefined ? \"inherit\" : n.frame_999.transform.opacity;\r\n\r\n\t\t\tif (_.clipPath && _.clipPath.use) {\r\n\t\t\t\tn.frame_0.transform.clip = n.frame_0.transform.clip === undefined ? 100 : parseInt(n.frame_0.transform.clip);\r\n\t\t\t\tn.frame_1.transform.clip = n.frame_1.transform.clip === undefined ? 100 : parseInt(n.frame_1.transform.clip);\r\n\t\t\t}\r\n\r\n\t\t\t// Reset Filters at Start if Needed !\r\n\t\t\t_.resetfilter = false;\r\n\t\t\t_.useFilter = { blur: false, grayscale: false, brightness: false, b_blur: false, b_grayscale: false, b_brightness: false, b_invert: false, b_sepia: false };\r\n\r\n\t\t\tfor (var i in n)\r\n\t\t\t\tif (n.hasOwnProperty(i) && n[i].filter !== undefined) {\r\n\t\t\t\t\t_.resetfilter = true;\r\n\t\t\t\t\t_.useFilter = useFilter(_.useFilter, n[i].filter);\r\n\t\t\t\t}\r\n\t\t\tif (_.resetFilter !== true && n.frame_hover !== undefined) _.useFilter = useFilter(_.useFilter, n.frame_hover);\r\n\r\n\t\t\tif (_.resetfilter) {\r\n\t\t\t\tn.frame_0.filter = _R.clone(n.frame_0.filter);\r\n\t\t\t\tn.frame_0.filter = resetSingleFilter(_.useFilter, _R.clone(n.frame_0.filter));\r\n\t\t\t\tfor (var i in n)\r\n\t\t\t\t\tif (n.hasOwnProperty(i) && n[i].filter !== undefined && i !== \"frame_1\" && i !== \"frame_0\") {\r\n\t\t\t\t\t\tn[i].filter = _R.clone(n[i].filter);\r\n\t\t\t\t\t\tn[i].filter = resetSingleFilter(_.useFilter, _R.clone(n[i].filter));\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (n.frame_0.filter !== undefined) {\r\n\t\t\t\tn.frame_1.filter = _R.clone(n.frame_1.filter);\r\n\t\t\t\tif (n.frame_0.filter.blur !== undefined && n.frame_1.filter.blur !== 0) n.frame_1.filter.blur = n.frame_1.filter.blur === undefined ? 0 : n.frame_1.filter.blur;\r\n\t\t\t\tif (n.frame_0.filter.brightness !== undefined && n.frame_1.filter.brightness !== 100) n.frame_1.filter.brightness = n.frame_1.filter.brightness === undefined ? 100 : n.frame_1.filter.brightness;\r\n\t\t\t\tif (n.frame_0.filter.grayscale !== undefined && n.frame_1.filter.grayscale !== 0) n.frame_1.filter.grayscale = n.frame_1.filter.grayscale === undefined ? 0 : n.frame_1.filter.grayscale;\r\n\r\n\t\t\t\tif (n.frame_0.filter.b_blur !== undefined && n.frame_1.filter.b_blur !== 0) n.frame_1.filter.b_blur = n.frame_1.filter.b_blur === undefined ? 0 : n.frame_1.filter.b_blur;\r\n\t\t\t\tif (n.frame_0.filter.b_brightness !== undefined && n.frame_1.filter.b_brightness !== 100) n.frame_1.filter.b_brightness = n.frame_1.filter.b_brightness === undefined ? 100 : n.frame_1.filter.b_brightness;\r\n\t\t\t\tif (n.frame_0.filter.b_grayscale !== undefined && n.frame_1.filter.b_grayscale !== 0) n.frame_1.filter.b_grayscale = n.frame_1.filter.b_grayscale === undefined ? 0 : n.frame_1.filter.b_grayscale;\r\n\t\t\t\tif (n.frame_0.filter.b_invert !== undefined && n.frame_1.filter.b_invert !== 0) n.frame_1.filter.b_invert = n.frame_1.filter.b_invert === undefined ? 0 : n.frame_1.filter.b_invert;\r\n\t\t\t\tif (n.frame_0.filter.b_sepia !== undefined && n.frame_1.filter.b_sepia !== 0) n.frame_1.filter.b_sepia = n.frame_1.filter.b_sepia === undefined ? 0 : n.frame_1.filter.b_sepia;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Sync the Frames\r\n\t\t\treturn syncFrames(n, id, _);\r\n\t\t},\r\n\r\n\t\tresetSingleFilter = function(a, f) {\r\n\t\t\t//NORMAL FILTERS\r\n\t\t\tif (a.blur) f.blur = f.blur === undefined ? 0 : f.blur;\r\n\t\t\telse delete f.blur;\r\n\t\t\tif (a.brightness) f.brightness = f.brightness === undefined ? 100 : f.brightness;\r\n\t\t\telse delete f.brightness;\r\n\t\t\tif (a.grayscale) f.grayscale = f.grayscale === undefined ? 0 : f.grayscale;\r\n\t\t\telse delete f.grayscale;\r\n\r\n\t\t\t//BACKDROP FILTERS\r\n\t\t\tif (a.b_blur) f.b_blur = f.b_blur === undefined ? 0 : f.b_blur;\r\n\t\t\telse delete f.b_blur;\r\n\t\t\tif (a.b_brightness) f.b_brightness = f.b_brightness === undefined ? 100 : f.b_brightness;\r\n\t\t\telse delete f.b_brightness;\r\n\t\t\tif (a.b_grayscale) f.b_grayscale = f.b_grayscale === undefined ? 0 : f.b_grayscale;\r\n\t\t\telse delete f.b_grayscale;\r\n\t\t\tif (a.b_invert) f.b_invert = f.b_invert === undefined ? 0 : f.b_invert;\r\n\t\t\telse delete f.b_invert;\r\n\t\t\tif (a.b_sepia) f.b_sepia = f.b_sepia === undefined ? 0 : f.b_sepia;\r\n\t\t\telse delete f.b_sepia;\r\n\r\n\t\t\treturn f;\r\n\t\t},\r\n\t\tuseFilter = function(a, f) {\r\n\t\t\t//NORMAL FILTERS\r\n\t\t\ta.blur = a.blur === true || (f.blur !== undefined && f.blur !== 0 && f.blur !== \"0px\") ? true : false;\r\n\t\t\ta.grayscale = a.grayscale === true || (f.grayscale !== undefined && f.grayscale !== 0 && f.grayscale !== \"0%\") ? true : false;\r\n\t\t\ta.brightness = a.brightness === true || (f.brightness !== undefined && f.brightness !== 100 && f.brightness !== \"100%\") ? true : false;\r\n\r\n\t\t\t//BACKDROP FILTERS\r\n\t\t\ta.b_blur = a.b_blur === true || (f.b_blur !== undefined && f.b_blur !== 0 && f.b_blur !== \"0px\") ? true : false;\r\n\t\t\ta.b_grayscale = a.b_grayscale === true || (f.b_grayscale !== undefined && f.b_grayscale !== 0 && f.b_grayscale !== \"0%\") ? true : false;\r\n\t\t\ta.b_brightness = a.b_brightness === true || (f.b_brightness !== undefined && f.b_brightness !== 100 && f.b_brightness !== \"100%\") ? true : false;\r\n\t\t\ta.b_invert = a.b_invert === true || (f.b_invert !== undefined && f.b_invert !== 0 && f.b_invert !== \"0%\") ? true : false;\r\n\t\t\ta.b_sepia = a.b_sepia === true || (f.b_sepia !== undefined && f.b_sepia !== 0 && f.b_sepia !== \"0%\") ? true : false;\r\n\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\t\tneedPerspective = function(a) {\r\n\t\t\treturn (a !== undefined && (a.rotationY !== undefined || a.rotationX !== undefined || a.z !== undefined));\r\n\t\t},\r\n\r\n\t\t// Sync The Frames, and use the same Attributes on each Frame\r\n\t\t// Sync The Frames, and use the same Attributes on each Frame\r\n\t\tsyncFrames = function(_, id, LObj) {\r\n\t\t\tvar e = {},\r\n\t\t\t\tc = [\"transform\", \"words\", \"chars\", \"lines\", \"mask\"],\r\n\t\t\t\tt,\r\n\t\t\t\ttPE = _R[id].perspectiveType == \"global\" ? _R[id].perspective : 0,\r\n\t\t\t\tignorePerspective = true,\r\n\t\t\t\tsetPreserve3D = false; // set preserve 3D on layer to fix chars/words/lines bug in iOS\r\n\r\n\t\t\t//Collect All Information\r\n\t\t\tfor (var f in _) { if (f !== 'loop' && f !== 'frame_hover') e = jQuery.extend(true, e, _[f]); }\r\n\r\n\t\t\t//All Frame should have the Same Attributes set to a Definitive Value\r\n\t\t\tfor (var f in _) {\r\n\t\t\t\tif (!_.hasOwnProperty(f)) continue;\r\n\t\t\t\tif (_[f].timeline !== undefined) _[f].timeline.usePerspective = false;\r\n\t\t\t\tif (f !== 'loop' && f !== 'frame_hover') {\r\n\t\t\t\t\tfor (t in e.transform) {\r\n\t\t\t\t\t\tif (!e.transform.hasOwnProperty(t)) continue;\r\n\t\t\t\t\t\te.transform[t] = _[f].transform[t] === undefined ? f === \"frame_0\" ? _R[id]._rdF0.transform[t] : f === \"frame_1\" ? _R[id]._rdF1.transform[t] : e.transform[t] : _[f].transform[t];\r\n\t\t\t\t\t\t_[f].transform[t] = _[f].transform[t] === undefined ? e.transform[t] : _[f].transform[t];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var ci = 1; ci <= 4; ci++)\r\n\t\t\t\t\t\tfor (t in e[c[ci]]) {\r\n\t\t\t\t\t\t\tif (!e[c[ci]].hasOwnProperty(t)) continue;\r\n\t\t\t\t\t\t\t_[f][c[ci]] = _[f][c[ci]] === undefined ? {} : _[f][c[ci]];\r\n\t\t\t\t\t\t\te[c[ci]][t] = _[f][c[ci]][t] === undefined ? f === \"frame_0\" ? _R[id]._rdF0[c[ci]][t] : f === \"frame_1\" ? _R[id]._rdF1[c[ci]][t] : e[c[ci]][t] : _[f][c[ci]][t];\r\n\t\t\t\t\t\t\t_[f][c[ci]][t] = _[f][c[ci]][t] === undefined ? e[c[ci]][t] : _[f][c[ci]][t];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tif (_[f].timeline !== undefined && _[f].timeline.usePerspective === false && _[f].transform !== undefined && (_[f].transform.rotationY !== undefined || _[f].transform.rotationX !== undefined || _[f].transform.z !== undefined || needPerspective(_[f].chars) || needPerspective(_[f].words) || needPerspective(_[f].lines))) {\r\n\t\t\t\t\t\ttPE = _R[id].perspectiveType == \"local\" ? _[f].transform.transformPerspective === undefined ? 600 : _[f].transform.transformPerspective : tPE;\r\n\t\t\t\t\t\t_[f].timeline.usePerspective = true;\r\n\t\t\t\t\t\tif ((needPerspective(_[f].chars) || needPerspective(_[f].words) || needPerspective(_[f].lines)) && !_R.isFirefox(id)) setPreserve3D = true;\r\n\t\t\t\t\t\tignorePerspective = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (setPreserve3D) requestAnimationFrame(function() { tpGS.gsap.set(LObj.c, { transformStyle: 'preserve-3d' }); });\r\n\r\n\t\t\t// SET START PERSPECTIVE\r\n\t\t\tif (_.frame_0.timeline !== undefined && _.frame_0.timeline.usePerspective) _.frame_0.transform.transformPerspective = _R[id].perspectiveType === \"local\" ? _.frame_0.transform.transformPerspective === undefined ? tPE : _.frame_0.transform.transformPerspective : _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspective;\r\n\r\n\r\n\t\t\t//REMOVE UNNEEDED PERSPECTITVES IF LAYER NOT NEED IT AT ALL\r\n\t\t\tif (ignorePerspective)\r\n\t\t\t\tfor (var f in _)\r\n\t\t\t\t\tif (!_.hasOwnProperty(f) || _[f].transform === undefined) continue;\r\n\t\t\t\t\telse delete _[f].transform.transformPerspective;\r\n\r\n\t\t\treturn _;\r\n\t\t},\r\n\t\tgetLayersInSlide = function(slide, cname, nocname) {\r\n\t\t\tif (slide.length === 0) return {};\r\n\t\t\tvar ar = slide[0].getElementsByClassName(cname),\r\n\t\t\t\tret = {}; //(ar[i].dataset.type===\"row\" ? \"0\" : ar[i].dataset.type===\"column\" ? \"1\" : \"2\")+\"_\"+\r\n\t\t\tfor (var i = 0; i < ar.length; i++)\r\n\t\t\t\tif (nocname === undefined || ar[i].className.indexOf(nocname) === -1) ret[ar[i].id] = ar[i];\r\n\t\t\tif (slide[1] !== undefined) {\r\n\t\t\t\tar = slide[1].getElementsByClassName(cname);\r\n\t\t\t\tfor (i = 0; i < ar.length; i++)\r\n\t\t\t\t\tif (nocname === undefined || ar[i].className.indexOf(nocname) === -1) ret[ar[i].id] = ar[i];\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\tFWS = function(a) {\r\n\t\t\ta = _R.isNumeric(a) ? a : a.toLowerCase();\r\n\t\t\treturn (a === \"thin\" ? '00' : a === \"extra light\" ? 200 : a === \"light\" ? 300 : a === \"normal\" ? 400 : a === \"medium\" ? 500 : a === \"semi bold\" ? 600 : a === \"bold\" ? 700 : a === \"extra bold\" ? 800 : a === \"ultra bold\" ? 900 : a === \"black\" ? 900 : a);\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\tCOLLECT CSS VALUES FROM ELEMENT\r\n\t\t*/\r\n\t\tgetStyleAtStart = function(L, level, id) {\r\n\r\n\t\t\tvar i;\r\n\t\t\tif (L[0].nodeName == \"BR\" || L[0].tagName == \"br\" || (typeof L[0].className !== \"object\" && L[0].className.indexOf(\"rs_splitted_\") >= 0)) return false;\r\n\t\t\t_R.sA(L[0], \"stylerecorder\", true);\r\n\r\n\t\t\tif (L[0].id === undefined) L[0].id = \"rs-layer-sub-\" + Math.round(Math.random() * 1000000);\r\n\r\n\t\t\t_R[id].computedStyle[L[0].id] = window.getComputedStyle(L[0], null);\r\n\r\n\t\t\tvar d = L[0].id !== undefined && _R[id]._L[L[0].id] !== undefined ? _R[id]._L[L[0].id] : L.data(),\r\n\t\t\t\tpc = level === \"rekursive\" ? jQuery(_R.closestClass(L[0], 'rs-layer')) : undefined;\r\n\r\n\t\t\tif (pc !== undefined) _R[id].computedStyle[pc[0].id] = _R[id].computedStyle[pc[0].id] === undefined ? window.getComputedStyle(pc[0], null) : _R[id].computedStyle[pc[0].id];\r\n\r\n\t\t\tvar gp = pc !== undefined && (_R[id].computedStyle[L[0].id].fontSize == _R[id].computedStyle[pc[0].id].fontSize && FWS(_R[id].computedStyle[L[0].id].fontWeight) == FWS(_R[id].computedStyle[pc[0].id].fontWeight) && _R[id].computedStyle[L[0].id].lineHeight == _R[id].computedStyle[pc[0].id].lineHeight) ? true : false,\r\n\t\t\t\tdpc = gp ? pc[0].id !== undefined && _R[id]._L[pc[0].id] !== undefined ? _R[id]._L[pc[0].id] : pc.data() : undefined,\r\n\t\t\t\tlhdef = 0;\r\n\r\n\t\t\td.basealign = d.basealign === undefined ? \"grid\" : d.basealign;\r\n\r\n\t\t\tif (!d._isnotext) {\r\n\r\n\t\t\t\td.fontSize = _R.revToResp(gp ? dpc.fontsize === undefined ? parseInt(_R[id].computedStyle[pc[0].id].fontSize, 0) || 20 : dpc.fontsize : d.fontsize === undefined ? (level !== \"rekursive\" ? 20 : \"inherit\") : d.fontsize, _R[id].rle);\r\n\t\t\t\td.fontWeight = _R.revToResp(gp ? dpc.fontweight === undefined ? _R[id].computedStyle[pc[0].id].fontWeight || \"inherit\" : dpc.fontweight : d.fontweight === undefined ? _R[id].computedStyle[L[0].id].fontWeight || \"inherit\" : d.fontweight, _R[id].rle);\r\n\t\t\t\td.whiteSpace =  _R.revToResp(gp ? dpc.whitespace === undefined ? \"nowrap\" : dpc.whitespace : d.whitespace === undefined ? \"nowrap\" : d.whitespace, _R[id].rle);\r\n\r\n\t\t\t\td.textAlign = _R.revToResp(gp ? dpc.textalign === undefined ? \"left\" : dpc.textalign : d.textalign === undefined ? \"left\" : d.textalign, _R[id].rle);\r\n\t\t\t\td.letterSpacing = _R.revToResp(gp ? dpc.letterspacing === undefined ? parseInt(_R[id].computedStyle[pc[0].id].letterSpacing, 0) || \"inherit\" : dpc.letterspacing : d.letterspacing === undefined ? parseInt(_R[id].computedStyle[L[0].id].letterSpacing === \"normal\" ? 0 : _R[id].computedStyle[L[0].id].letterSpacing, 0) || \"inherit\" : d.letterspacing, _R[id].rle);\r\n\t\t\t\td.textDecoration = gp ? dpc.textDecoration === undefined ? \"none\" : dpc.textDecoration : d.textDecoration === undefined ? \"none\" : d.textDecoration;\r\n\t\t\t\tlhdef = 25;\r\n\r\n\t\t\t\tlhdef = pc !== undefined && (L[0].tagName === \"I\" || L[0].tagName === \"STRONG\") ? \"inherit\" : lhdef;\r\n\t\t\t\tif (d.tshadow !== undefined) {\r\n\t\t\t\t\td.tshadow.b = _R.revToResp(d.tshadow.b, _R[id].rle);\r\n\t\t\t\t\td.tshadow.h = _R.revToResp(d.tshadow.h, _R[id].rle);\r\n\t\t\t\t\td.tshadow.v = _R.revToResp(d.tshadow.v, _R[id].rle);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (d.type===\"group\") {\r\n\t\t\t\td.whiteSpace = \"normal\";\r\n\t\t\t\td.textAlign = _R.revToResp(gp ? dpc.textalign === undefined ? \"left\" : dpc.textalign : d.textalign === undefined ? \"left\" : d.textalign, _R[id].rle);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (d.bshadow !== undefined) {\r\n\t\t\t\td.bshadow.b = _R.revToResp(d.bshadow.b, _R[id].rle);\r\n\t\t\t\td.bshadow.h = _R.revToResp(d.bshadow.h, _R[id].rle);\r\n\t\t\t\td.bshadow.v = _R.revToResp(d.bshadow.v, _R[id].rle);\r\n\t\t\t\td.bshadow.s = _R.revToResp(d.bshadow.s, _R[id].rle);\r\n\t\t\t}\r\n\r\n\t\t\tif (d.tstroke !== undefined) d.tstroke.w = _R.revToResp(d.tstroke.w, _R[id].rle);\r\n\r\n\r\n\t\t\td.display = gp ? dpc.display === undefined ? _R[id].computedStyle[pc[0].id].display : dpc.display : d.display === undefined ? _R[id].computedStyle[L[0].id].display : d.display;\r\n\t\t\td.float = _R.revToResp(gp ? dpc.float === undefined ? _R[id].computedStyle[pc[0].id].float || \"none\" : dpc.float : d.float === undefined ? \"none\" : d.float, _R[id].rle);\r\n\t\t\td.clear = _R.revToResp(gp ? dpc.clear === undefined ? _R[id].computedStyle[pc[0].id].clear || \"none\" : dpc.clear : d.clear === undefined ? \"none\" : d.clear, _R[id].rle);\r\n\r\n\r\n\t\t\td.lineHeight = _R.revToResp(!L.is('img') && jQuery.inArray(d.layertype, [\"video\", \"image\", \"audio\"]) == -1 ?\r\n\t\t\t\tgp ?\r\n\t\t\t\tdpc.lineheight === undefined ? parseInt(_R[id].computedStyle[pc[0].id].lineHeight, 0) || lhdef : dpc.lineheight :\r\n\t\t\t\td.lineheight === undefined ? lhdef :\r\n\t\t\t\td.lineheight :\r\n\t\t\t\tlhdef, _R[id].rle);\r\n\r\n\r\n\r\n\t\t\td.zIndex = gp ? dpc.zindex === undefined ? parseInt(_R[id].computedStyle[pc[0].id].zIndex, 0) || \"inherit\" : dpc.zindex : d.zindex === undefined ? parseInt(_R[id].computedStyle[L[0].id].zIndex, 0) || \"inherit\" : d.zindex;\r\n\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\td['padding' + HR[i]] = _R.revToResp(d['padding' + hr[i]] === undefined ? parseInt(_R[id].computedStyle[L[0].id]['padding' + HR[i]], 0) || 0 : d['padding' + hr[i]], _R[id].rle);\r\n\t\t\t\td['margin' + HR[i]] = _R.revToResp(d['margin' + hr[i]] === undefined ? parseInt(_R[id].computedStyle[L[0].id]['margin' + HR[i]], 0) || 0 : d['margin' + hr[i]], _R[id].rle);\r\n\t\t\t\td['border' + HR[i] + 'Width'] = d.borderwidth === undefined ? parseInt(_R[id].computedStyle[L[0].id]['border' + HR[i] + 'Width'], 0) || 0 : d.borderwidth[i];\r\n\r\n\t\t\t\td['border' + HR[i] + 'Color'] = d.bordercolor === undefined ? _R[id].computedStyle[L[0].id][\"border-\" + hr[i] + \"-color\"] : d.bordercolor;\r\n\t\t\t\td['border' + CO[i] + 'Radius'] = _R.revToResp(d.borderradius === undefined ? _R[id].computedStyle[L[0].id]['border' + CO[i] + 'Radius'] || 0 : d.borderradius[i], _R[id].rle);\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\td.borderStyle = _R.revToResp(d.borderstyle === undefined ? _R[id].computedStyle[L[0].id].borderStyle || 0 : d.borderstyle, _R[id].rle);\r\n\r\n\r\n\t\t\tif (level !== \"rekursive\") {\r\n\t\t\t\td.color = _R.revToResp(d.color === undefined ? \"#ffffff\" : d.color, _R[id].rle, undefined, \"||\");\r\n\t\t\t\td.minWidth = _R.revToResp(d.minwidth === undefined ? parseInt(_R[id].computedStyle[L[0].id].minWidth, 0) || 0 : d.minwidth, _R[id].rle);\r\n\t\t\t\td.minHeight = _R.revToResp(d.minheight === undefined ? parseInt(_R[id].computedStyle[L[0].id].minHeight, 0) || 0 : d.minheight, _R[id].rle);\r\n\t\t\t\td.width = _R.revToResp(d.width === undefined ? \"auto\" : _R.smartConvertDivs(d.width), _R[id].rle);\r\n\t\t\t\td.height = _R.revToResp(d.height === undefined ? \"auto\" : _R.smartConvertDivs(d.height), _R[id].rle);\r\n\t\t\t\td.maxWidth = _R.revToResp(d.maxwidth === undefined ? parseInt(_R[id].computedStyle[L[0].id].maxWidth, 0) || \"none\" : d.maxwidth, _R[id].rle);\r\n\t\t\t\td.maxHeight = _R.revToResp(jQuery.inArray(d.type, [\"column\", \"row\"]) !== -1 ? \"none\" : d.maxheight !== undefined ? parseInt(_R[id].computedStyle[L[0].id].maxHeight, 0) || \"none\" : d.maxheight, _R[id].rle);\r\n\t\t\t} else\r\n\t\t\tif (d.layertype === \"html\") {\r\n\t\t\t\td.width = _R.revToResp(L[0].width, _R[id].rle);\r\n\t\t\t\td.height = _R.revToResp(L[0].height, _R[id].rle);\r\n\t\t\t}\r\n\r\n\t\t\tif(d._incolumn){\r\n\t\t\t\tfor(var i = 0; i < d.height.length; i++){\r\n\t\t\t\t\tif(d.height[i].indexOf('%') !== -1 && parseFloat(d.height[i]) > 98) d.height[i] = d.height[i].replace('%', 'px');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\td.styleProps = {\r\n\t\t\t\t\"background\": L[0].style.background,\r\n\t\t\t\t\"background-color\": L[0].style[\"background-color\"],\r\n\t\t\t\t\"color\": L[0].style.color,\r\n\t\t\t\t\"cursor\": L[0].style.cursor,\r\n\t\t\t\t\"font-style\": L[0].style[\"font-style\"]\r\n\t\t\t};\r\n\t\t\tif (d.bshadow == undefined) d.styleProps.boxShadow = L[0].style.boxShadow;\r\n\t\t\tif (d.styleProps.background === \"\" || d.styleProps.background === undefined || d.styleProps.background === d.styleProps[\"background-color\"]) delete d.styleProps.background;\r\n\r\n\t\t\tif (d.styleProps.color == \"\") d.styleProps.color = _R[id].computedStyle[L[0].id].color;\r\n\r\n\r\n\t\t\t//REMOVE UNNEEDD THINGS\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\tif (notNeeded(d['padding' + HR[i]], 0)) delete d['padding' + HR[i]];\r\n\t\t\t\tif (notNeeded(d['margin' + HR[i]], 0)) delete d['margin' + HR[i]];\r\n\t\t\t\tif (notNeeded(d['border' + CO[i] + 'Radius'], '0px')) delete d['border' + CO[i] + 'Radius'];\r\n\t\t\t\telse if (notNeeded(d['border' + CO[i] + 'Radius'], \"0\")) delete d['border' + CO[i] + 'Radius'];\r\n\t\t\t}\r\n\r\n\t\t\tif (notNeeded(d.borderStyle, 'none')) {\r\n\r\n\t\t\t\tdelete d.borderStyle;\r\n\t\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\t\tdelete d['border' + HR[i] + 'Width'];\r\n\t\t\t\t\tdelete d['border' + HR[i] + 'Color'];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t},\r\n\r\n\t\tnotNeeded = function(a, d) { return (d === a[0] && d === a[1] && d === a[2] && d === a[3]); },\r\n\t\tgetLayerResponsiveValues = function(L, id, RSL) {\r\n\r\n\t\t\tif (L === undefined) return;\r\n\t\t\tif (L[0].nodeName == \"BR\" || L[0].tagName == \"br\") return false;\r\n\r\n\t\t\tvar l = _R[id].level,\r\n\t\t\t\ti,\r\n\t\t\t\t_ = L[0] !== undefined && L[0].id !== undefined && _R[id]._L[L[0].id] !== undefined ? _R[id]._L[L[0].id] : L.data();\r\n\r\n\t\t\t_ = _.basealign === undefined ? RSL.data() : _;\r\n\t\t\tif (_._isnotext === undefined) _._isnotext = RSL !== undefined && RSL[0] !== undefined && RSL[0].length > 0 ? _R.gA(RSL[0], '_isnotext') : _._isnotext;\r\n\r\n\t\t\tvar ret = {\r\n\t\t\t\tbasealign: _.basealign === undefined ? \"grid\" : _.basealign,\r\n\t\t\t\tlineHeight: _.basealign === undefined ? \"inherit\" : parseInt(_.lineHeight[l]),\r\n\t\t\t\tcolor: _.color === undefined ? undefined : _.color[l],\r\n\t\t\t\twidth: _.width === undefined ? undefined : _.width[l] === \"a\" ? \"auto\" : _.width[l],\r\n\t\t\t\theight: _.height === undefined ? undefined : _.height[l] === \"a\" ? \"auto\" : _.height[l],\r\n\t\t\t\tminWidth: _.minWidth === undefined ? undefined : _.minWidth[l] === \"n\" ? \"none\" : _.minWidth[l],\r\n\t\t\t\tminHeight: _.minHeight === undefined ? undefined : _.minHeight[l] == \"n\" ? \"none\" : _.minHeight[l],\r\n\t\t\t\tmaxWidth: _.maxWidth === undefined ? undefined : _.maxWidth[l] == \"n\" ? \"none\" : _.maxWidth[l],\r\n\t\t\t\tmaxHeight: _.maxHeight === undefined ? undefined : _.maxHeight[l] == \"n\" ? \"none\" : _.maxHeight[l],\r\n\t\t\t\tfloat: _.float[l],\r\n\t\t\t\tclear: _.clear[l]\r\n\t\t\t};\r\n\r\n\r\n\r\n\t\t\tif (_.borderStyle) ret.borderStyle = _.borderStyle[l];\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\tif (_['padding' + HR[i]]) ret['padding' + HR[i]] = _['padding' + HR[i]][l];\r\n\t\t\t\tif (_['margin' + HR[i]]) ret['margin' + HR[i]] = parseInt(_['margin' + HR[i]][l]);\r\n\t\t\t\tif (_['border' + CO[i] + 'Radius']) ret['border' + CO[i] + 'Radius'] = _['border' + CO[i] + 'Radius'][l];\r\n\r\n\t\t\t\tif (ret.borderStyle!==undefined && ret.borderStyle!==\"none\") {\r\n\t\t\t\t\tif (_['border' + HR[i] + 'Color']) ret['border' + HR[i] + 'Color'] = _['border' + HR[i] + 'Color'];\r\n\t\t\t\t\tif (_['border' + HR[i] + 'Width']) ret['border' + HR[i] + 'Width'] = parseInt(_['border' + HR[i] + 'Width']);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!_._isnotext) {\r\n\t\t\t\tret.textDecoration = _.textDecoration;\r\n\t\t\t\tret.fontSize = parseInt(_.fontSize[l]);\r\n\t\t\t\tret.fontWeight = parseInt(_.fontWeight[l]);\r\n\t\t\t\tret.letterSpacing = parseInt(_.letterSpacing[l]) || 0;\r\n\t\t\t\tret.textAlign = _.textAlign[l];\r\n\t\t\t\tret.whiteSpace = _.whiteSpace[l];\r\n\t\t\t\t//if (_.x!==undefined && _.x[_R[id].level]==\"r\" && ret.width === \"auto\" && ret.whiteSpace === \"normal\" && ((_._incolumn !== true  && _._ingroup !== true) || _.position!==\"relative\")) ret.whiteSpace = \"nowrap\";\r\n\t\t\t\tret.whiteSpace = ret.whiteSpace === \"normal\" && ret.width === \"auto\" &&  ((_._incolumn !== true  && _._ingroup !== true) || _.position!==\"relative\")? \"nowrap\" : ret.whiteSpace;\r\n\t\t\t\tret.display = _.display;\r\n\t\t\t\tif (_.tshadow !== undefined) ret.textShadow = \"\" + parseInt(_.tshadow.h[l], 0) + \"px \" + parseInt(_.tshadow.v[l], 0) + \"px \" + _.tshadow.b[l] + \" \" + _.tshadow.c;\r\n\t\t\t\tif (_.tstroke !== undefined) ret.textStroke = \"\" + parseInt(_.tstroke.w[l], 0) + \"px \" + _.tstroke.c;\r\n\t\t\t}\r\n\r\n\t\t\tif (_.type===\"group\") {\r\n\t\t\t\tret.whiteSpace = _.whiteSpace;\r\n\t\t\t\tret.textAlign = _.textAlign[l];\r\n\t\t\t\tret.display = _.display;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (_.bshadow !== undefined) ret.boxShadow = \"\" + parseInt(_.bshadow.h[l], 0) + \"px \" + parseInt(_.bshadow.v[l], 0) + \"px \" + parseInt(_.bshadow.b[l], 0) + \"px \" + parseInt(_.bshadow.s[l], 0) + \"px \" + _.bshadow.c;\r\n\r\n\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\r\n\t\tminmaxconvert = function(a, m, r, fr, b) {\r\n\t\t\tvar sfx = !_R.isNumeric(a) && a !== undefined ? a.indexOf(\"px\") >= 0 ? \"px\" : a.indexOf(\"%\") >= 0 ? \"%\" : \"\" : \"\";\r\n\t\t\ta = _R.isNumeric(parseInt(a)) ? parseInt(a) : a;\r\n\t\t\ta = _R.isNumeric(a) ? (a * m) + sfx : a;\r\n\t\t\ta = a === \"full\" ? fr : a === \"auto\" || a === \"none\" ? r : a;\r\n\t\t\ta = a == undefined ? b : a;\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\t\tfixInnerBorderRadius = function(a) {\r\n\t\t\tvar _ = _R.clone(a);\r\n\t\t\t_.top  = 0 - ((parseInt(_.borderTopWidth) || 0) +  (parseInt(_.borderBottomWidth) || 0))  / 2 + \"px\";\r\n\t\t\t_.left  = 0 - ((parseInt(_.borderLeftWidth) || 0) +  (parseInt(_.borderRightWidth) || 0))  / 2 + \"px\";\r\n\t\t\t_.borderStyle = _.borderTopWidth!==undefined || _.borderBottomWidth!==undefined || _.borderLeftWidth!==undefined || _.borderRightWidth!==undefined ? \"solid\" : \"none\";\r\n\t\t\t_.borderColor =\"transparent\";\r\n\t\t\t_.boxSizing = \"content-box\";\r\n\t\t\treturn _;\r\n\t\t},\r\n\r\n\t\tnotzero = function(a) {\r\n\t\t\treturn a !== undefined && a !== null && parseInt(a, 0) !== 0;\r\n\t\t},\r\n\r\n\t\t/////////////////////////////////////////////////////////////////\r\n\t\t//\t-\tCALCULATE THE RESPONSIVE SIZES OF THE CAPTIONS\t-\t  //\r\n\t\t/////////////////////////////////////////////////////////////////\r\n\t\tcalcResponsiveLayer = function(inobj) {\r\n\r\n\r\n\t\t\tvar i,\r\n\t\t\t\tS, a, b, c, d,\r\n\t\t\t\tframs, prop,\r\n\t\t\t\tL = inobj.a,\r\n\t\t\t\tid = inobj.b,\r\n\t\t\t\tlevel = inobj.c,\r\n\t\t\t\tresponsive = inobj.d,\r\n\t\t\t\tslideIndex = inobj.e,\r\n\t\t\t\twinw, winh, LOBJ = {},\r\n\t\t\t\tMOBJ = {},\r\n\t\t\t\t_ = _R[id]._L[L[0].id],\r\n\t\t\t\tclasName = L[0].className;\r\n\r\n\r\n\t\t\t_ = _ === undefined ? {} : _;\r\n\r\n\t\t\t// svg elements and their children can return an Object as their \"className\" which then fails when calling \"L[0].className.indexOf\"\r\n\t\t\tif (typeof clasName === 'object') clasName = '';\r\n\r\n\t\t\tif (L !== undefined && L[0] !== undefined && (clasName.indexOf(\"rs_splitted\") >= 0 || L[0].nodeName == \"BR\" || L[0].tagName == \"br\" || L[0].tagName.indexOf(\"FCR\") > 0 || L[0].tagName.indexOf(\"BCR\") > 0)) return false;\r\n\r\n\t\t\tslideIndex = slideIndex === \"individual\" ? _.slideIndex : slideIndex;\r\n\r\n\t\t\tvar obj = getLayerResponsiveValues(L, id, inobj.RSL),\r\n\t\t\t\tbw = responsive === \"off\" ? 1 : _R[id].CM.w,\r\n\t\t\t\tobjCache;\r\n\t\t\tif (_._isnotext === undefined) _._isnotext = obj.RSL !== undefined && obj.RSL[0] !== undefined && obj.RSL[0].length > 0 ? _R.gA(obj.RSL[0], '_isnotext') : _._isnotext;\r\n\r\n\t\t\t// PROTECTION AGAINST LAYERS HEIGHT % BASED in COLUMNS\r\n\t\t\tif (_._incolumn && (_.type===\"shape\" || _.type===\"text\" || _.type===\"button\") && (\"\"+obj.height).indexOf('%'>0)) {\r\n\t\t\t\tobj.height = obj.height;\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t_.OBJUPD = _.OBJUPD == undefined ? {} : _.OBJUPD;\r\n\t\t\t_.caches = _.caches == undefined ? {} : _.caches;\r\n\r\n\t\t\t// Column Gets Margin as Padding\r\n\t\t\tif (_.type === \"column\") {\r\n\t\t\t\tS = {};\r\n\t\t\t\tobjCache = {};\r\n\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) {\r\n\t\t\t\t\t\tS['padding' + HR[i]] = Math.round(obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\t\tobjCache['margin' + HR[i]] = obj['margin' + HR[i]];\r\n\t\t\t\t\t\tdelete obj['margin' + HR[i]];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif (!jQuery.isEmptyObject(S)) tpGS.gsap.set(_._column, S);\r\n\t\t\t}\r\n\r\n\t\t\tvar POBJ = _R.clone(_.OBJUPD.POBJ),\r\n\t\t\t\tLPOBJ = _R.clone(_.OBJUPD.LPOBJ);\r\n\r\n\r\n\t\t\tif (clasName.indexOf(\"rs_splitted_\") === -1) {\r\n\t\t\t\tS = { overwrite: \"auto\" }\r\n\t\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\t\tif (obj['border' + CO[i] + 'Radius'] !== undefined) S['border' + CO[i] + 'Radius'] = obj['border' + CO[i] + 'Radius'];\r\n\t\t\t\t\tif (obj['padding' + HR[i]] !== undefined) S['padding' + HR[i]] = Math.round(obj['padding' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined && (!_._incolumn && (!_._ingroup || _.position==\"absolute\"))) S['margin' + HR[i]] = _.type === \"row\" ? 0 : Math.round(obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t}\r\n\t\t\t\tif (_.spike !== undefined) S[\"clip-path\"] = S[\"-webkit-clip-path\"] = _.spike;\r\n\t\t\t\tif (obj.boxShadow) S.boxShadow = obj.boxShadow;\r\n\r\n\r\n\t\t\t\tif (_.type !== \"column\") {\r\n\t\t\t\t\tif (obj.borderStyle !== undefined && obj.borderStyle !== \"none\" && (obj.borderTopWidth !== 0 || obj.borderBottomWidth > 0 || obj.borderLeftWidth > 0 || obj.borderRightWidth > 0)) {\r\n\r\n\t\t\t\t\t\tS.borderTopWidth = Math.round(obj.borderTopWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderBottomWidth = Math.round(obj.borderBottomWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderLeftWidth = Math.round(obj.borderLeftWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderRightWidth = Math.round(obj.borderRightWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderStyle = obj.borderStyle;\r\n\t\t\t\t\t\tS.borderTopColor = obj.borderTopColor;\r\n\t\t\t\t\t\tS.borderBottomColor = obj.borderBottomColor;\r\n\t\t\t\t\t\tS.borderLeftColor = obj.borderLeftColor;\r\n\t\t\t\t\t\tS.borderRightColor = obj.borderRightColor;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (obj.borderStyle === \"none\") S.borderStyle = \"none\";\r\n\t\t\t\t\t\tif (obj.borderTopColor!==undefined) S.borderTopColor = obj.borderTopColor;\r\n\t\t\t\t\t\tif (obj.borderBottomColor!==undefined) S.borderBottomColor = obj.borderBottomColor;\r\n\t\t\t\t\t\tif (obj.borderLeftColor!==undefined) S.borderLeftColor = obj.borderLeftColor;\r\n\t\t\t\t\t\tif (obj.borderRightColor!==undefined) S.borderRightColor = obj.borderRightColor;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((_.type === \"shape\" || _.type === \"image\") && (notzero(obj.borderTopLeftRadius) || notzero(obj.borderTopRightRadius) || notzero(obj.borderBottomLeftRadius) || notzero(obj.borderBottomRightRadius))) S.overflow = \"hidden\";\r\n\r\n\t\t\t\tif (!_._isnotext) {\r\n\t\t\t\t\tif (_.type !== \"column\") {\r\n\t\t\t\t\t\tS.fontSize = Math.round((obj.fontSize * bw)) + \"px\";\r\n\t\t\t\t\t\tS.fontWeight = obj.fontWeight;\r\n\t\t\t\t\t\tS.letterSpacing = (obj.letterSpacing * bw) + \"px\";\r\n\t\t\t\t\t\tif (obj.textShadow) S.textShadow = obj.textShadow;\r\n\t\t\t\t\t\tif (obj.textStroke) S['-webkit-text-stroke'] = obj.textStroke;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tS.lineHeight = Math.round(obj.lineHeight * bw) + \"px\";\r\n\t\t\t\t\tS.textAlign = (obj.textAlign);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//FIX Video Border Radius Issue on some GPU\r\n\t\t\t\tif (_.type===\"video\" && _.html5vid && _.deepmedia!==undefined && _.deepmedia[0]!==undefined && _.deepmedia[0].parentNode!=undefined && (notzero(obj.borderTopLeftRadius) || notzero(obj.borderTopRightRadius) || notzero(obj.borderBottomLeftRadius) || notzero(obj.borderBottomRightRadius))) {\r\n\t\t\t\t\ttpGS.gsap.set(_.deepmedia[0].parentNode, fixInnerBorderRadius(S));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.type === \"column\" && _.cbg!==undefined) {\r\n\t\t\t\t\tif (_.cbg_set === undefined) {\r\n\t\t\t\t\t\t_.cbg_set = _.styleProps[\"background-color\"];\r\n\t\t\t\t\t\t_.cbg_set = _.cbg_set == \"\" || _.cbg_set === undefined || _.cbg_set.length == 0 ? \"transparent\" : _.cbg_set;\r\n\r\n\t\t\t\t\t\t_.cbg_img = L[0].dataset.bglazy!==undefined ? 'url(\"'+L[0].dataset.bglazy+'\")' : L.css('backgroundImage');\r\n\r\n\t\t\t\t\t\tif (_.cbg_img !== \"\" && _.cbg_img !== undefined && _.cbg_img !== \"none\") {\r\n\t\t\t\t\t\t\t_.cbg_img_r = L.css('backgroundRepeat');\r\n\t\t\t\t\t\t\t_.cbg_img_p = L.css('backgroundPosition');\r\n\t\t\t\t\t\t\t_.cbg_img_s = L.css('backgroundSize');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_.cbg_o = _.bgopacity ? 1 : _.bgopacity;\r\n\t\t\t\t\t\tLOBJ.backgroundColor = \"transparent\";\r\n\t\t\t\t\t\tLOBJ.backgroundImage = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tS.backgroundColor = \"transparent\";\r\n\t\t\t\t\tS.backgroundImage = \"none\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_._isstatic && _.elementHovered) {\r\n\t\t\t\t\tframs = L.data('frames');\r\n\t\t\t\t\tif (frams && frams.frame_hover && frams.frame_hover.transform)\r\n\t\t\t\t\t\tfor (prop in S)\r\n\t\t\t\t\t\t\tif (S.hasOwnProperty(prop) && frams.frame_hover.transform.hasOwnProperty(prop)) delete S[prop];\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (L[0].nodeName == \"IFRAME\" && _R.gA(L[0], \"layertype\") === \"html\") {\r\n\t\t\t\t\twinw = obj.basealign == \"slide\" ? _R[id].module.width : _R.iWA(id, slideIndex);\r\n\t\t\t\t\twinh = obj.basealign == \"slide\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation === \"v\") ? _R[id].module.height : _R.iHE(id); //*(_R[id].keepBPHeight || _R[id].currentRowsHeight>_R[id].gridheight[_R[id].level] ? 1 :_R[id].CM.h)\r\n\t\t\t\t\tS.width = !_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winw * parseInt(obj.width, 0) / 100 : obj.width : minmaxconvert(obj.width, bw, \"auto\", winw, \"auto\");\r\n\t\t\t\t\tS.height = !_R.isNumeric(obj.height) && obj.height.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winh * parseInt(obj.height, 0) / 100 : obj.height : minmaxconvert(obj.height, bw, \"auto\", winw, \"auto\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tLOBJ = jQuery.extend(true, LOBJ, S);\r\n\t\t\t\t_R[id].firstLayerCalculated = true;\r\n\t\t\t\tif (level != \"rekursive\") {\r\n\t\t\t\t\twinw = obj.basealign == \"slide\" ? _R[id].module.width : _R.iWA(id, slideIndex);\r\n\t\t\t\t\twinh = obj.basealign == \"slide\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation === \"v\") ? _R[id].module.height : _R.iHE(id); //*(_R[id].keepBPHeight || _R[id].currentRowsHeight>_R[id].gridheight[_R[id].level] ? 1 :_R[id].CM.h)\r\n\r\n\r\n\t\t\t\t\tvar swid = !_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winw * parseInt(obj.width, 0) / 100 : obj.width : minmaxconvert(obj.width, bw, \"auto\", winw, \"auto\"),\r\n\t\t\t\t\t\tshei = !_R.isNumeric(obj.height) && obj.height.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winh * parseInt(obj.height, 0) / 100 : obj.height : minmaxconvert(obj.height, bw, \"auto\", winw, \"auto\"),\r\n\t\t\t\t\t\tSr = {\r\n\t\t\t\t\t\t\tmaxWidth: minmaxconvert(obj.maxWidth, bw, \"none\", winw, \"none\"),\r\n\t\t\t\t\t\t\tmaxHeight: minmaxconvert(obj.maxHeight, bw, \"none\", winh, \"none\"),\r\n\t\t\t\t\t\t\tminWidth: minmaxconvert(obj.minWidth, bw, \"0px\", winw, 0),\r\n\t\t\t\t\t\t\tminHeight: minmaxconvert(obj.minHeight, bw, \"0px\", winh, 0),\r\n\t\t\t\t\t\t\theight: shei,\r\n\t\t\t\t\t\t\twidth: swid,\r\n\t\t\t\t\t\t\toverwrite: \"auto\"\r\n\t\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tif (_.heightSetByVideo == true) Sr.height = _.vidOBJ.height;\r\n\r\n\t\t\t\t\tvar POBJ_HEIGHT_PERCENTAGE = false;\r\n\r\n\t\t\t\t\t// FIX FOR OLD VERSION KILLS MAX WIDTH CONTAINERS IN COLUMNS IN NEW VERSION\r\n\t\t\t\t\t//swid = obj.float===\"none\" && (obj.display===\"block\" || _.display===\"block\") && _._incolumn && _.type!==\"column\" ? \"auto\" : swid;\r\n\r\n\t\t\t\t\tif (_._incolumn) {\r\n\t\t\t\t\t\tPOBJ = jQuery.extend(true, POBJ, { minWidth: swid, maxWidth: swid, float: obj.float, clear: obj.clear });\r\n\t\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) POBJ['margin' + HR[i]] = (obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\t\tLPOBJ.width = \"100%\";\r\n\t\t\t\t\t\tif (obj.display === undefined || obj.display === \"inline-block\") MOBJ = { width: \"100%\" };\r\n\t\t\t\t\t\tSr.width = !_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0 ? \"100%\" : swid;\r\n\t\t\t\t\t\tif (_.type === \"image\") tpGS.gsap.set(_.img, { width: \"100%\" /*Sr.width*/ });\r\n\t\t\t\t\t\t// Make sure Image Inside Layer has 100% Width to fill Inline Block Elements in Columns\r\n\t\t\t\t\t\t// Put 100% now back to make sure that Borders are visible well on Images in Column.\r\n\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (!_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0) {\r\n\r\n\t\t\t\t\t\tif ((_._isgroup && _.position===\"absolute\") || (_._ingroup===true || _._incolumn==true) && (_.position===\"relative\") || (_.reqWrp!==undefined && (!_.reqWrp.loop || !_.reqWrp.mask)))\r\n\t\t\t\t\t\t\tPOBJ.width = _.basealign === \"slide\" || _._ingroup === true || _._isstatic ? swid : (_R.iWA(id, slideIndex) * _R[id].CM.w) * parseInt(swid) / 100 + \"px\";\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tPOBJ.minWidth = _.basealign === \"slide\" || _._ingroup === true || _._isstatic? swid : (_R.iWA(id, slideIndex) * _R[id].CM.w) * parseInt(swid) / 100 + \"px\";\r\n\r\n\t\t\t\t\t\tLPOBJ.width = \"100%\";\r\n\t\t\t\t\t\tMOBJ.width = \"100%\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//if (obj.width==\"auto\") POBJ.maxWidth = \"100%\"\r\n\r\n\r\n\r\n\t\t\t\t\tif (_._ingroup===true && _.position===\"relative\") {\r\n\t\t\t\t\t\tPOBJ.float = obj.float;\r\n\t\t\t\t\t\tPOBJ.lineHeight=obj.lineHeight+\"px\";\r\n\t\t\t\t\t\tLOBJ.verticalAlign = \"top\";\r\n\t\t\t\t\t\tMOBJ.verticalAlign = \"top\";\r\n\t\t\t\t\t\tLPOBJ.verticalAlign = \"top\";\r\n\t\t\t\t\t\tPOBJ.verticalAlign = \"inherit\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!_R.isNumeric(obj.height) && obj.height.indexOf(\"%\") >= 0) {\r\n\t\t\t\t\t\tPOBJ.minHeight = _.basealign === \"slide\" || _._ingroup === true ||  _._isstatic ? shei : (_R.iHE(id) * ( /*_R[id].keepBPHeight ||*/ _R[id].currentRowsHeight > _R[id].gridheight[_R[id].level] ? 1 : _R[id].CM.w)) * parseInt(shei) / 100 + \"px\";\r\n\t\t\t\t\t\tif ((_.reqWrp!==undefined && !_.reqWrp.loop && !_.reqWrp.mask)) POBJ.height = POBJ.minHeight;\r\n\t\t\t\t\t\tLPOBJ.height = \"100%\";\r\n\t\t\t\t\t\tMOBJ.height = \"100%\";\r\n\t\t\t\t\t\tPOBJ_HEIGHT_PERCENTAGE = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!_._isnotext) {\r\n\r\n\t\t\t\t\t\tSr.whiteSpace = obj.whiteSpace;\r\n\t\t\t\t\t\tSr.textAlign = obj.textAlign;\r\n\t\t\t\t\t\tSr.textDecoration = obj.textDecoration;\r\n\t\t\t\t\t} else if (_.type == \"group\") Sr.whiteSpace = \"normal\";\r\n\t\t\t\t\tif (obj.color != \"npc\" && obj.color !== undefined) Sr.color = obj.color;\r\n\r\n\t\t\t\t\tif (_._ingroup) {\r\n\t\t\t\t\t\t_._groupw = Sr.minWidth;\r\n\t\t\t\t\t\t_._grouph = Sr.minHeight;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.type === \"row\" && (_R.isNumeric(Sr.minHeight) || Sr.minHeight.indexOf(\"px\") >= 0) && Sr.minHeight !== \"0px\" && Sr.minHeight !== 0 && Sr.minHeight !== \"0\" && Sr.minHeight !== \"none\")\r\n\t\t\t\t\t\tSr.height = Sr.minHeight;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type === \"row\")\r\n\t\t\t\t\t\tSr.height = \"auto\";\r\n\r\n\t\t\t\t\t// see blocked comment block above\r\n\t\t\t\t\tif (_._isstatic && _.elementHovered) {\r\n\t\t\t\t\t\tframs = L.data('frames');\r\n\t\t\t\t\t\tif (frams && frams.frame_hover && frams.frame_hover.transform) {\r\n\t\t\t\t\t\t\tfor (prop in Sr) {\r\n\t\t\t\t\t\t\t\tif (Sr.hasOwnProperty(prop) && frams.frame_hover.transform.hasOwnProperty(prop)) delete Sr[prop];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.type !== \"group\" && _.type !== \"row\" && _.type !== \"column\") {\r\n\t\t\t\t\t\tif (!_R.isNumeric(Sr.width) && Sr.width.indexOf(\"%\") >= 0) Sr.width = \"100%\";\r\n\t\t\t\t\t\tif (!_R.isNumeric(Sr.height) && Sr.height.indexOf(\"%\") >= 0) Sr.height = \"100%\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_._isgroup) {\r\n\t\t\t\t\t\tif (!_R.isNumeric(Sr.width) && Sr.width.indexOf(\"%\") >= 0) Sr.width = \"100%\";\r\n\t\t\t\t\t\t//Groups on Top Level must have a Height, and Child Object must have 100% Height\r\n\t\t\t\t\t\tif (_.position==\"absolute\" && !_._ingroup && !_._incolumn && POBJ_HEIGHT_PERCENTAGE) {\r\n\t\t\t\t\t\t\tPOBJ.height = POBJ.minHeight;\r\n\t\t\t\t\t\t\tSr.height = \"100%\";\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tPOBJ.height = POBJ_HEIGHT_PERCENTAGE ? \"100%\" : Sr.height;\r\n\t\t\t\t\t\tSr.lineHeight = obj.lineHeight===undefined || POBJ_HEIGHT_PERCENTAGE ? \"initial\" : obj.lineHeight + \"px\";\r\n\t\t\t\t\t\tSr.verticalAlign = _.verticalalign;\r\n\t\t\t\t\t\tSr.textAlign = obj.textAlign;\r\n\t\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\t\tif (LOBJ['border' + CO[i] + 'Radius'] !== undefined) {\r\n\t\t\t\t\t\t\t\tMOBJ['border' + CO[i] + 'Radius'] = LOBJ['border' + CO[i] + 'Radius'];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (_.position==\"relative\" && obj.display!==undefined) POBJ.display = obj.display\r\n\t\t\t\t\t\tif (obj.width==\"auto\") MOBJ.position = \"relative\";\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\tLOBJ = jQuery.extend(true, LOBJ, Sr);\r\n\r\n\t\t\t\t\tif (_.svg_src != undefined && _.svgI !== undefined) {\r\n\t\t\t\t\t\t// patch, as this value can sometimes exist as a string\r\n\t\t\t\t\t\tif (typeof _.svgI.fill === 'string') _.svgI.fill = [_.svgI.fill];\r\n\r\n\r\n\t\t\t\t\t\t_.svgTemp = _R.clone(_.svgI);\r\n\t\t\t\t\t\tdelete _.svgTemp.svgAll;\r\n\t\t\t\t\t\tif (_.svgTemp.fill !== undefined && (_.elementHovered && _._isstatic)!==true) {  // IGNORE IF WE ARE IN STATIC LAYERS AND ON HOVER MODE !!\r\n\t\t\t\t\t\t\t_.svgTemp.fill = _.svgTemp.fill[_R[id].level];\r\n\t\t\t\t\t\t\tif(_.svg.length <= 0) _.svg = L.find(\"svg\");\r\n\t\t\t\t\t\t\tif(_.svgPath.length <= 0) _.svgPath = _.svg.find(!_.svgI.svgAll ? 'path' : 'path, circle, ellipse, line, polygon, polyline, rect');\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_.svgPath, { fill: _.svgI.fill[_R[id].level] });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttpGS.gsap.set(_.svg, _.svgTemp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ROW MARGIN SHOULD BE SET AS PADDING\r\n\t\t\t\tif (_.type === \"row\")\r\n\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) POBJ['padding' + HR[i]] = (obj['margin' + HR[i]] * bw) + \"px\";\r\n\r\n\t\t\t\t// LAYERS WITH RELATIVE POSITIONS IN GROUP NEED TO HAVE MARGINS ON THE WRAPPER\r\n\t\t\t\tif (_._ingroup && _.position==\"relative\") {\r\n\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) POBJ['margin' + HR[i]] = (obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\t\tif (_.type===\"shape\" && MOBJ.width==\"100%\" && MOBJ.height==\"100%\") MOBJ.position = \"absolute\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.type === \"column\" && _.cbg && _.cbg.length > 0) {\r\n\t\t\t\t\t// DYNAMIC HEIGHT AUTO CALCULATED BY BROWSER\r\n\t\t\t\t\tif (_.cbg_img_s !== undefined && _.cbg!==undefined) _.cbg[0].style.backgroundSize = _.cbg_img_s;\r\n\t\t\t\t\tS = {};\r\n\t\t\t\t\tif (_.styleProps.cursor !== \"\") S.cursor = _.styleProps.cursor;\r\n\t\t\t\t\tif (_.cbg_set !== \"\" && _.cbg_set !== \"transparent\") S.backgroundColor = _.cbg_set;\r\n\t\t\t\t\tif (_.cbg_img !== \"\" && _.cbg_img !== \"none\") {\r\n\t\t\t\t\t\tS.backgroundImage = _.cbg_img;\r\n\t\t\t\t\t\tif (_.cbg_img_r !== \"\") S.backgroundRepeat = _.cbg_img_r;\r\n\t\t\t\t\t\tif (_.cbg_img_p !== \"\") S.backgroundPosition = _.cbg_img_p;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.cbg_o !== \"\" && _.cbg_o !== undefined) S.opacity = _.cbg_o;\r\n\r\n\t\t\t\t\tfor (i = 0; i < 4; i++) {\r\n\r\n\t\t\t\t\t\tif (obj.borderStyle !== undefined && obj.borderStyle !== \"none\") {\r\n\t\t\t\t\t\t\tif (obj['border' + HR[i] + 'Width'] !== undefined) S['border' + HR[i] + 'Width'] = Math.round(parseInt(obj['border' + HR[i] + 'Width']) * bw) + \"px\";\r\n\t\t\t\t\t\t\tif (obj['border' + HR[i] + 'Color'] !== undefined) S['border' + HR[i] + 'Color'] = obj['border' + HR[i] + 'Color'];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (obj['border' + CO[i] + 'Radius']) S['border' + CO[i] + 'Radius'] = obj['border' + CO[i] + 'Radius'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.borderStyle !== undefined && obj.borderStyle !== \"none\") S.borderStyle = obj.borderStyle;\r\n\r\n\r\n\t\t\t\t\ta = JSON.stringify(S);\r\n\t\t\t\t\tif (a !== _R[id].emptyObject && a !== _.caches.cbgS) tpGS.gsap.set(_.cbg, S);\r\n\t\t\t\t\t_.caches.cbgS = a;\r\n\r\n\t\t\t\t\tS = {};\r\n\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\tif (objCache['margin' + HR[i]]) S[hr[i]] = (objCache['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\ta = JSON.stringify(S);\r\n\t\t\t\t\tif (a !== _R[id].emptyObject && a !== _.caches.cbgmaskS) { tpGS.gsap.set(_.cbgmask, S);\r\n\t\t\t\t\t\t_.caches.cbgmaskS = a; }\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.reqWrp!==undefined && !_.reqWrp.loop && !_.reqWrp.mask &&  LOBJ.width==\"100%\" && LOBJ.height==\"100%\")\r\n\t\t\t\t\tLOBJ.position = \"absolute\"; // If no Mask and loop added, content need to be positioned to top leftcorner with absolute to have dimension, Parent has only min-width and min-height !!\r\n\r\n\t\t\t\tif (POBJ.maxWidth === \"auto\") POBJ.maxWidth = \"inherit\";\r\n\t\t\t\tif (POBJ.maxHeight === \"auto\") POBJ.maxHeight = \"inherit\";\r\n\t\t\t\tif (MOBJ.maxWidth === \"auto\") MOBJ.maxWidth = \"inherit\";\r\n\t\t\t\tif (MOBJ.maxHeight === \"auto\") MOBJ.maxHeight = \"inherit\";\r\n\t\t\t\tif (LPOBJ.maxWidth === \"auto\") LPOBJ.maxWidth = \"inherit\";\r\n\t\t\t\tif (LPOBJ.maxHeight === \"auto\") LPOBJ.maxHeight = \"inherit\";\r\n\r\n\r\n\t\t\t\t//SPECIAL CASES FOR INSET SIZES WITH 100% + MARGIN\r\n\t\t\t\tif (_.fullinset && _._ingroup==true && _.position===\"absolute\") {\r\n\t\t\t\t\tPOBJ.width = \"auto\";\r\n\t\t\t\t\tPOBJ.minHeight = \"auto\";\r\n\t\t\t\t\tPOBJ.height = \"auto\";\r\n\t\t\t\t\tPOBJ.left =  LOBJ.marginLeft!==undefined && LOBJ.marginLeft!==\"0px\" ? LOBJ.marginLeft : \"0px\";\r\n\t\t\t\t\tPOBJ.right = LOBJ.marginRight!==undefined && LOBJ.marginRight!==\"0px\" ? LOBJ.marginRight : \"0px\";\r\n\t\t\t\t\tPOBJ.top =  LOBJ.marginTop!==undefined && LOBJ.marginTop!==\"0px\" ? LOBJ.marginTop : \"0px\";\r\n\t\t\t\t\tPOBJ.bottom = LOBJ.marginBottom!==undefined && LOBJ.marginBottom!==\"0px\" ? LOBJ.marginBottom : \"0px\";\r\n\t\t\t\t\tdelete LOBJ.marginLeft;\r\n\t\t\t\t\tdelete LOBJ.marginRight;\r\n\t\t\t\t\tdelete LOBJ.marginTop;\r\n\t\t\t\t\tdelete LOBJ.marginBottom;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// PRESETS\r\n\t\t\t\t// VIDEO OBJECT INFLUENCE ON LAYER\r\n\t\t\t\tif (_.vidOBJ !== undefined) {\r\n\t\t\t\t\tLOBJ.width = _.vidOBJ.width;\r\n\t\t\t\t\tLOBJ.height = _.vidOBJ.height;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// VIDEO INFLUENCE ON PARRENT ELEMENTS\r\n\t\t\t\tif (_.OBJUPD.lppmOBJ !== undefined) {\r\n\t\t\t\t\tif (_.OBJUPD.lppmOBJ.minWidth !== undefined) {\r\n\t\t\t\t\t\tLPOBJ.minWidth = _.OBJUPD.lppmOBJ.minWidth;\r\n\t\t\t\t\t\tMOBJ.minWidth = _.OBJUPD.lppmOBJ.minWidth;\r\n\t\t\t\t\t\t//POBJ.minWidth = _.OBJUPD.lppmOBJ.minWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.OBJUPD.lppmOBJ.minHeight !== undefined) {\r\n\t\t\t\t\t\tLPOBJ.minHeight = _.OBJUPD.lppmOBJ.minHeight;\r\n\t\t\t\t\t\tMOBJ.minHeight = _.OBJUPD.lppmOBJ.minHeight;\r\n\t\t\t\t\t\tPOBJ.minHeight = _.OBJUPD.lppmOBJ.minHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//In Column Group width 100% should adjust Group Mask to 100% Also\r\n\t\t\t\tif (_._incolumn && _.type==\"group\" && POBJ!==undefined && POBJ.minWidth==\"100%\") {\r\n\t\t\t\t\tMOBJ.width = \"100%\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Special Solution for thFixed to get lpobj at relative groups also relativ\r\n\t\t\t\tif (_._isgroup && _.thFixed && _.reqWrp!==undefined && _.reqWrp.loop && _.reqWrp.mask && obj.width==\"auto\") {\r\n\t\t\t\t\tLPOBJ.position=\"relative\";\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\t//In Group 100%Height with Elements without Mask and Loop Wrapper need to set 100% Height\r\n\t\t\t\tif (_._ingroup && !_.reqWrp.loop && !_.reqWrp.mask  && _.position==\"absolute\" && POBJ.minHeight==\"100%\") POBJ.height = \"100%\";\r\n\t\t\t\t//HOOK SETTINGS OF LAYERS IF NEEDED\r\n\t\t\t\tfor (var hooki in _R[id].calcResponsiveLayerHooks) {\r\n\t\t\t\t\tvar returns = _R[id].calcResponsiveLayerHooks[hooki]({id:id,L:L,obj:obj,_:_,inobj:inobj,LOBJ:LOBJ, LPOBJ:LPOBJ, MOBJ:MOBJ, POBJ:POBJ});\r\n\t\t\t\t\tif (returns==undefined) continue;\r\n\t\t\t\t\tif (returns.obj!==undefined) obj = jQuery.extend(true,obj,returns.obj);\r\n\t\t\t\t\tif (returns.LOBJ!==undefined) LOBJ = jQuery.extend(true,LOBJ,returns.LOBJ);\r\n\t\t\t\t\tif (returns.LPOBJ!==undefined) LPOBJ = jQuery.extend(true,LPOBJ,returns.LPOBJ);\r\n\t\t\t\t\tif (returns.MOBJ!==undefined) MOBJ = jQuery.extend(true,MOBJ,returns.MOBJ);\r\n\t\t\t\t\tif (returns.POBJ!==undefined) POBJ = jQuery.extend(true,POBJ,returns.POBJ);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\ta = JSON.stringify(LOBJ);\r\n\t\t\t\tb = JSON.stringify(LPOBJ);\r\n\t\t\t\tc = JSON.stringify(MOBJ);\r\n\t\t\t\td = JSON.stringify(POBJ);\r\n\r\n\t\t\t\t//IMG Object Update If Necessary\r\n\t\t\t\tif (_.imgOBJ !== undefined && (_.caches.imgOBJ === undefined || _.caches.imgOBJ.width !== _.imgOBJ.width || _.caches.imgOBJ.height !== _.imgOBJ.height || _.caches.imgOBJ.left !== _.imgOBJ.left || _.caches.imgOBJ.right !== _.imgOBJ.right || _.caches.imgOBJ.top !== _.imgOBJ.top || _.caches.imgOBJ.bottom !== _.imgOBJ.bottom)) {\r\n\t\t\t\t\t_.caches.imgOBJ = _R.clone(_.imgOBJ);\r\n\t\t\t\t\t_.imgOBJ.position = \"relative\";\r\n\t\t\t\t\ttpGS.gsap.set(_.img, _.imgOBJ);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t//UPDATE MEDIA OBJ IF NEEDED\r\n\t\t\t\tif (_.mediaOBJ !== undefined && (_.caches.mediaOBJ === undefined || _.caches.mediaOBJ.width !== _.mediaOBJ.width || _.caches.mediaOBJ.height !== _.mediaOBJ.height || _.caches.mediaOBJ.display !== _.mediaOBJ.display)) {\r\n\t\t\t\t\t_.caches.mediaOBJ = _R.clone(_.mediaOBJ);\r\n\t\t\t\t\t_.media.css(_.mediaOBJ);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tif (a != _R[id].emptyObject && a != _.caches.LOBJ) { tpGS.gsap.set(L, LOBJ);\r\n\t\t\t\t\t_.caches.LOBJ = a; }\r\n\t\t\t\tif (_.lp!==undefined && b != _R[id].emptyObject && b != _.caches.LPOBJ) { tpGS.gsap.set(_.lp, LPOBJ);\r\n\t\t\t\t\t_.caches.LPOBJ = b; }\r\n\t\t\t\tif (c != _R[id].emptyObject && c != _.caches.MOBJ) { tpGS.gsap.set(_.m, MOBJ);_.caches.MOBJ = c; }\r\n\t\t\t\tif (d != _R[id].emptyObject && d != _.caches.POBJ) { tpGS.gsap.set(_.p, POBJ);\r\n\t\t\t\t\t_.caches.POBJ = d;\r\n\t\t\t\t\t_.caches.POBJ_LEFT = POBJ.left;\r\n\t\t\t\t\t_.caches.POBJ_TOP = POBJ.top }\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetSpikePath = function(_) {\r\n\t\t\tvar c = { l: \"none\", lw: 10, r: \"none\", rw: 10 };\r\n\t\t\t_ = _.split(\";\");\r\n\r\n\t\t\tfor (var u in _) {\r\n\t\t\t\tif (!_.hasOwnProperty(u)) continue;\r\n\t\t\t\tvar s = _[u].split(\":\");\r\n\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\tc.l = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\tc.r = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"lw\":\r\n\t\t\t\t\t\tc.lw = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"rw\":\r\n\t\t\t\t\t\tc.rw = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"polygon(\" + getClipPaths(c.l, 0, parseFloat(c.lw)) + \",\" + getClipPaths(c.r, 100, (100 - parseFloat(c.rw)), true) + \")\";\r\n\t\t},\r\n\r\n\t\tgetClipPaths = function(_, o, i, reverse) {\r\n\t\t\tvar r;\r\n\t\t\tswitch (_) {\r\n\t\t\t\tcase \"none\":\r\n\t\t\t\t\tr = o + '% 100%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"top\":\r\n\t\t\t\t\tr = i + '% 100%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"middle\":\r\n\t\t\t\t\tr = i + '% 100%,' + o + '% 50%,' + i + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"two\":\r\n\t\t\t\t\tr = i + '% 100%,' + o + '% 75%,' + i + '% 50%,' + o + '% 25%,' + i + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"three\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 75%,' + o + '% 50%,' + i + '% 25%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"four\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 87.5%,' + o + '% 75%,' + i + '% 62.5%,' + o + '% 50%,' + i + '% 37.5%,' + o + '% 25%,' + i + '% 12.5%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"five\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 90%,' + o + '% 80%,' + i + '% 70%,' + o + '% 60%,' + i + '% 50%,' + o + '% 40%,' + i + '% 30%,' + o + '% 20%,' + i + '% 10%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (reverse) {\r\n\t\t\t\tvar s = r.split(\",\");\r\n\t\t\t\tr = \"\";\r\n\t\t\t\tfor (var i in s) {\r\n\t\t\t\t\tif (!s.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tr += s[(s.length - 1) - i] + (i < s.length - 1 ? \",\" : \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t};\r\n\t//Support Defer and Async and Footer Loads\r\n\twindow.RS_MODULES = window.RS_MODULES || {};\r\n\twindow.RS_MODULES.layeranimation = { loaded: true, version: version };\r\n\tif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.panzoom.js":"/********************************************\r\n * REVOLUTION EXTENSION - PANZOOM\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n    \"use strict\";\r\n\r\n\r\n    // CHECK IF WE SCRIPT RUNNING IN EDITOR OR IN FRONTEND\r\n    if (window._R_is_Editor) RVS._R = RVS._R===undefined ? {} : RVS._R; else window._R_is_Editor=false;\r\n\r\n    jQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\r\nvar  _R = _R_is_Editor ? RVS._R : jQuery.fn.revolution, version = \"6.6.0\";\r\n\r\n    ///////////////////////////////////////////\r\n    // \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n    ///////////////////////////////////////////\r\n    jQuery.extend(true,_R, {\r\n\r\n        bgW : function(id,slide) { return _R_is_Editor ? RVS.RMD.width : _R[id].sliderType===\"carousel\" ? _R[id].justifyCarousel ? _R[id].carousel.slide_widths[slide!==undefined ? slide : _R[id].carousel.focused] : _R[id].carousel.slide_width : _R[id].module.width;},\r\n        bgH : function(id,slide) { return _R_is_Editor ? RVS.RMD.height :_R[id].sliderType===\"carousel\" ? _R[id].carousel.slide_height : _R[id].module.height;},\r\n        getPZSides : function(w,h,f,cw,ch,ho,vo) {\r\n            var tw = w * f,\r\n                th = h * f,\r\n                hd = Math.abs(cw-tw),\r\n                vd = Math.abs(ch-th),\r\n                s = new Object();\r\n            s.l = (0-ho)*hd;\r\n            s.r = s.l + tw;\r\n            s.t = (0-vo)*vd;\r\n            s.b = s.t + th;\r\n            s.h = ho;\r\n            s.v = vo;\r\n            return s;\r\n        },\r\n        getPZCorners : function(d,cw,ch,o) {\r\n            var p = d.bgposition.split(\" \") || \"center center\",\r\n                ho = p[0] == \"center\"  ? \"50%\" : p[0] == \"left\" || p [1] == \"left\" ? \"0%\" : p[0]==\"right\" || p[1] ==\"right\" ? \"100%\" : p[0],\r\n                vo = p[1] == \"center\" ? \"50%\" : p[0] == \"top\" || p [1] == \"top\" ? \"0%\" : p[0]==\"bottom\" || p[1] ==\"bottom\" ? \"100%\" : p[1];\r\n\r\n            ho = parseInt(ho,0)/100 || 0;\r\n            vo = parseInt(vo,0)/100 || 0;\r\n\r\n            var sides = new Object();\r\n\r\n            sides.start = _R.getPZSides(o.start.width,o.start.height,o.start.scale,cw,ch,ho,vo);\r\n            sides.end = _R.getPZSides(o.start.width,o.start.height,o.end.scale,cw,ch,ho,vo);\r\n\r\n\r\n            return sides;\r\n        },\r\n        getPZValues : function(d) {\r\n            var attrs = d.panzoom.split(\";\"),\r\n                _ = {duration:10, ease:'none', scalestart:1, scaleend:1, rotatestart:0.01, rotateend:0, blurstart:0, blurend:0, offsetstart:\"0/0\", offsetend:\"0/0\"};\r\n\r\n\r\n            for (var k in attrs) {\r\n                if (!attrs.hasOwnProperty(k)) continue;\r\n                var _bas = attrs[k].split(\":\"),\r\n                    key = _bas[0],\r\n                    val = _bas[1];\r\n                switch (key) {\r\n                    case \"d\": _.duration = parseInt(val,0) / 1000; break;\r\n                    case \"e\": _.ease = val;break;\r\n                    case \"ss\": _.scalestart=parseInt(val,0)/100;break;\r\n                    case \"se\": _.scaleend=parseInt(val,0)/100;break;\r\n                    case \"rs\": _.rotatestart=parseInt(val,0);break;\r\n                    case \"re\": _.rotateend=parseInt(val,0);break;\r\n                    case \"bs\": _.blurstart=parseInt(val,0);break;\r\n                    case \"be\": _.blurend=parseInt(val,0);break;\r\n                    case \"os\": _.offsetstart=val;break;\r\n                    case \"oe\": _.offsetend=val;break;\r\n                }\r\n            }\r\n            _.offsetstart = _.offsetstart.split(\"/\") || [0,0];\r\n            _.offsetend = _.offsetend.split(\"/\") || [0,0];\r\n            _.rotatestart = _.rotatestart===0 ? 0.01 : _.rotatestart;\r\n            d.panvalues = _;\r\n\r\n            d.bgposition = d.bgposition == \"center center\" ? \"50% 50%\" : d.bgposition;\r\n            return _;\r\n        },\r\n        pzCalcL : function(cw,ch,d) {\r\n\r\n            var c,iws,ihs,iwe,ihe,newf,\r\n                _ = d.panvalues === undefined ? jQuery.extend(true,{},_R.getPZValues(d)) : jQuery.extend(true,{},d.panvalues),\r\n                ofs = _.offsetstart,\r\n                ofe = _.offsetend,\r\n                o = {start:{\r\n                                width:cw,\r\n                                height:_R_is_Editor ?  cw / d.loadobj.width * d.loadobj.height : cw / d.owidth*d.oheight,\r\n\t\t\t\t\t\t\trotation:(Math.PI / 180) * _.rotatestart,\r\n\t\t\t\t\t\t\trotationV:_.rotatestart,\r\n                                scale:_.scalestart,\r\n                                transformOrigin:\"0% 0%\" },\r\n\t\t\t\t end:{\trotation:(Math.PI / 180) * _.rotateend,\r\n\t\t\t\t \t\trotationV: _.rotateend,\r\n                             scale:_.scaleend },\r\n                     },\r\n                sw = cw*_.scalestart,\r\n                sh = sw/d.owidth * d.oheight,\r\n                ew = cw*_.scaleend,\r\n                eh = ew/d.owidth * d.oheight;\r\n\r\n\r\n\r\n            if (o.start.height<ch) {\r\n                newf = ch / o.start.height;\r\n                o.start.height = ch;\r\n                o.start.width = o.start.width*newf;\r\n            }\r\n\r\n            if (_.rotatestart===0.01 && _.rotateend===0) {\r\n                delete o.start.rotation;\r\n                delete o.end.rotation;\r\n            }\r\n\r\n\r\n\r\n            // MAKE SURE THAT OFFSETS ARE NOT TOO HIGH\r\n            c = _R.getPZCorners(d,cw,ch,o);\r\n\r\n\r\n            ofs[0] = parseFloat(ofs[0]) + c.start.l;\r\n            ofe[0] = parseFloat(ofe[0]) + c.end.l;\r\n\r\n            ofs[1] = parseFloat(ofs[1]) + c.start.t;\r\n            ofe[1] = parseFloat(ofe[1]) + c.end.t;\r\n\r\n            iws = c.start.r - c.start.l;\r\n            ihs\t= c.start.b - c.start.t;\r\n            iwe = c.end.r - c.end.l;\r\n            ihe\t= c.end.b - c.end.t;\r\n\r\n            ofs[0] = ofs[0]>0 ? 0 : iws + ofs[0] < cw ? cw-iws : ofs[0];\r\n            ofe[0] = ofe[0]>0 ? 0 : iwe + ofe[0] < cw ? cw-iwe : ofe[0];\r\n\r\n            ofs[1] = ofs[1]>0 ? 0 : ihs + ofs[1] < ch ? ch-ihs : ofs[1];\r\n            ofe[1] = ofe[1]>0 ? 0 : ihe + ofe[1] < ch ? ch-ihe : ofe[1];\r\n\r\n            o.start.x = ofs[0];\r\n            o.start.y = ofs[1];\r\n            o.end.x = ofe[0];\r\n            o.end.y = ofe[1];\r\n            o.end.ease =  _.ease;\r\n            return o;\r\n        },\r\n\r\n\tpzDrawShadow : function(id,nBG,a) {\r\n\t\t// During Animation OR in case no panFake exists use Canvas\r\n\t\tif ((nBG.currentState===\"animating\" || nBG.panFake==undefined) || nBG.pzLastFrame) {\r\n\t\t\tnBG.pzLastFrame = false;\r\n\t\t\tnBG.shadowCTX.clearRect(0,0,nBG.shadowCanvas.width, nBG.shadowCanvas.height);\r\n\t\t\tnBG.shadowCTX.save();\r\n\t\t\tif (a.rotation!==undefined)\r\n\t\t\t\tnBG.shadowCTX.transform(Math.cos(a.rotation) * a.scale, Math.sin(a.rotation) * a.scale,Math.sin(a.rotation) * -a.scale,Math.cos(a.rotation) * a.scale,a.x,a.y);\r\n\t\t\telse\r\n\t\t\t\tnBG.shadowCTX.transform(a.scale, 0, 0, a.scale,a.x,a.y);\r\n\r\n\t\t\tnBG.shadowCTX.drawImage(nBG.loadobj.img, 0,0,a.width, a.height);\r\n\t\t\tnBG.shadowCTX.restore();\r\n\t\t}\r\n\r\n\t\t// If Not Animating\r\n            if (nBG.currentState!==\"animating\") {\r\n\t\t\tif (nBG.panFake!=undefined) {\r\n\t\t\t\tif (!nBG.panFake.visible) {\r\n\t\t\t\t\tnBG.panFake.visible = true;\r\n\t\t\t\t\tnBG.panFake.img.style.opacity = 1;\r\n\t\t\t\t\tnBG.canvas.style.opacity = 0;\r\n\t\t\t\t}\r\n\t\t\t\ttpGS.gsap.set(nBG.panFake.img,{width:a.width, height:a.height,force3D:true,x:a.x,y:a.y,transformOrigin:\"0% 0%\", rotationZ:a.rotationV+\"deg\", scale:a.scale});\r\n\t\t\t\tif (a.blur!==undefined) nBG.panFake.img.style.filter = a.blur===0 ? \"none\" : \"blur(\"+a.blur+\"px)\";\r\n\t\t\t} else {\r\n\t\t\t\t_R.updateSlideBGs(id,a.slidekey,nBG,true);\r\n\t\t\t\tif (a.blur!==undefined) nBG.canvas.style.filter = a.blur===0 ? \"none\" : \"blur(\"+a.blur+\"px)\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (nBG.panFake!==undefined && nBG.panFake.visible!==false) {\r\n\t\t\t\tnBG.panFake.visible = false;\r\n\t\t\t\tnBG.panFake.img.style.opacity = 0;\r\n\t\t\t\tnBG.canvas.style.opacity = 1;\r\n\t\t\t\tnBG.panFake.img.style.filter =  \"none\";\r\n\t\t\t}\r\n\t\t\tif (a.blur!==undefined && nBG.canvasFilter) nBG.canvasFilterBlur = a.blur; else nBG.canvas.style.filter = a.blur===0 ? \"none\" : \"blur(\"+a.blur+\"px)\";\r\n\t\t}\r\n        },\r\n\r\n        startPanZoom :  function(l,id,prgs,cid,prepare,key) {\r\n            var d = _R_is_Editor ? l : l.data();\r\n            if (d.panzoom===undefined || d.panzoom===null) return;\r\n            var\tnBG = _R_is_Editor ? d : _R[id].sbgs[key];\r\n\r\n            if (!_R_is_Editor && _R[id].sliderType===\"carousel\") {\r\n                 if (_R[id].carousel.justify && _R[id].carousel.slide_widths===undefined) _R.setCarouselDefaults(id,true);\r\n                 if (!_R[id].carousel.justify) {\r\n                     if (_R[id].carousel.slide_width===undefined) _R[id].carousel.slide_width = _R[id].carousel.stretch!==true ? _R[id].gridwidth[_R[id].level]*(_R[id].CM.w===0 ? 1 : _R[id].CM.w) : _R[id].canv.width;\r\n                     if (_R[id].carousel.slide_height===undefined) _R[id].carousel.slide_height = _R[id].carousel.stretch!==true ? _R[id].gridheight[_R[id].level]*(_R[id].CM.w===0 ? 1 : _R[id].CM.w) : _R[id].canv.height;\r\n                 }\r\n             }\r\n\r\n            var hDIM = _R.getmDim(id,cid, nBG);\r\n            var\tanim = _R.pzCalcL(hDIM.width,hDIM.height,d),\r\n                PZ;\r\n\t\tnBG.pzAnim = anim;\r\n            if (!_R_is_Editor) {\r\n                _R[id].panzoomTLs = _R[id].panzoomTLs===undefined ? {} : _R[id].panzoomTLs;\r\n                _R[id].panzoomBGs = _R[id].panzoomBGs===undefined ? {} : _R[id].panzoomBGs;\r\n                if (_R[id].panzoomBGs[cid]===undefined) _R[id].panzoomBGs[cid] = l;\r\n                PZ = _R[id].panzoomTLs[cid];\r\n            }\r\n\r\n\r\n            prgs = prgs || 0;\r\n\r\n            if (PZ!==undefined) { PZ.pause(); PZ.kill(); PZ = undefined;}\r\n            PZ =  tpGS.gsap.timeline({paused:true});\r\n\r\n            d.panvalues.duration = d.panvalues.duration===NaN || d.panvalues.duration===undefined ? 10 : d.panvalues.duration;\r\n\r\n            if (!_R_is_Editor && d!==undefined && nBG!==undefined) nBG.panvalues = d.panvalues;\r\n\r\n\r\n            if (nBG!==undefined) {\r\n\r\n                if (nBG.shadowCanvas===undefined) {\r\n                    nBG.shadowCanvas = document.createElement('canvas');\r\n                    nBG.shadowCTX = nBG.shadowCanvas.getContext('2d');\r\n                    nBG.shadowCanvas.style.background = \"transparent\";\r\n                    nBG.shadowCanvas.style.opacity = 1;\r\n                }\r\n\r\n                if(nBG.shadowCanvas.width !== hDIM.width) nBG.shadowCanvas.width = hDIM.width;\r\n                if(nBG.shadowCanvas.height !== hDIM.height) nBG.shadowCanvas.height = hDIM.height;\r\n\r\n                anim.slideindex = cid;\r\n                anim.slidekey = _R_is_Editor ? undefined : key;\r\n\r\n                anim.start.slidekey = anim.slidekey;\r\n                _R.pzDrawShadow(id,nBG,anim.start);\r\n                anim.end.onUpdate = function() {_R.pzDrawShadow(id,nBG,anim.start);}\r\n\r\n                nBG.panStart = jQuery.extend(true,{},anim.start);\r\n\r\n\r\n                if (d.panvalues.blurstart!==undefined && d.panvalues.blurend!==undefined &&  (d.panvalues.blurstart!==0 || d.panvalues.blurend!==0)) {\r\n                    anim.start.blur = d.panvalues.blurstart;\r\n                    anim.end.blur = d.panvalues.blurend;\r\n                }\r\n\r\n                //iOS Canvas PAN BUG Workaround\r\n                if (!_R_is_Editor && anim.start.blur===undefined && !_R.isFF || (window.isSafari11 && _R.ISM)) {\r\n                    nBG.panFake= nBG.panFake===undefined ? { img : nBG.loadobj.img.cloneNode(true)} : nBG.panFake;\r\n                    if (nBG.panFake!==undefined) {\r\n                        if (nBG.panFake.appended!==true) {\r\n                            nBG.panFake.appended = true;\r\n                            nBG.sbg.appendChild(nBG.panFake.img);\r\n                            nBG.panFake.img.style.position=\"absolute\";\r\n                            nBG.panFake.img.style.display = \"block\";\r\n                            nBG.panFake.img.style.zIndex = 0;\r\n                            nBG.panFake.img.style.opacity = 0;\r\n                            nBG.panFake.img.style.top = \"0px\";\r\n                            nBG.panFake.img.style.left = \"0px\";\r\n                        }\r\n                        nBG.panFake.img.width = anim.start.width;\r\n                        nBG.panFake.img.height = anim.start.height;\r\n                    }\r\n                }\r\n\r\n                PZ.add(tpGS.gsap.to(anim.start,d.panvalues.duration,anim.end),0);\r\n                PZ.progress(prgs);\r\n\r\n                if (prepare==='play' || prepare===\"first\") PZ.play();\r\n\r\n                if (!_R_is_Editor) _R[id].panzoomTLs[cid] = PZ; else RVS.TL[RVS.S.slideId].panzoom=PZ;\r\n\r\n            }\r\n        }\r\n    });\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.panzoom = {loaded:true, version:version};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n\r\n    })(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.slideanims.js":"/********************************************\r\n * REVOLUTION EXTENSION - SLIDE ANIMATIONS\r\n * @date:06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n    \"use strict\";\r\n\r\n\r\n    // CHECK IF WE SCRIPT RUNNING IN EDITOR OR IN FRONTEND\r\n    if (window._R_is_Editor) RVS._R = RVS._R===undefined ? {} : RVS._R; else window._R_is_Editor=false;\r\n\r\n\r\nvar version = \"6.6.0\",\r\n        p1i = \"power1.in\",  p1o = \"power1.out\", p1io = \"power1.inOut\", p2i = \"power2.in\", p2o = \"power2.out\", p2io = \"power2.inOut\",p3i = \"power3.in\", p3o = \"power3.out\", p3io = \"power3.inOut\";\r\n\r\n    jQuery.fn.revolution = jQuery.fn.revolution || {};\r\n    var _R = _R_is_Editor ? RVS._R : jQuery.fn.revolution;\r\n\r\n\r\n            // Function References\r\n            if (_R_is_Editor) RVS._R.isNumeric = RVS.F.isNumeric;\r\n\r\n\r\n        ///////////////////////////////////////////\r\n        // \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n        ///////////////////////////////////////////\r\n        jQuery.extend(true,_R, {\r\n\r\n            // Read DATA Values from Slide DOM Element and Return the Animation Attributes\r\n            getSlideAnimationObj : function(id,_,key) {\r\n                var ret = {},attrs,basic;\r\n\r\n                if (_.anim===undefined && _.in==undefined) _.in = \"o:0\";\r\n                for (var i in _) {\r\n                    if (!_.hasOwnProperty(i) || _[i]===undefined) continue;\r\n                    var attrs = _[i].split(\";\");\r\n                    for (var k in attrs) {\r\n                        if (!attrs.hasOwnProperty(k)) continue;\r\n                            basic = attrs[k].split(\":\");\r\n                        if (basic[0]!==undefined && basic[1]!==undefined) {\r\n                            ret[i] = ret[i]===undefined ? {} : ret[i];\r\n                            ret[i][basic[0]] = i===\"d3\" && basic[0]===\"c\" ? basic[1] : basic[1].split(\",\")[0];\r\n                        }\r\n                    }\r\n                }\r\n                ret.in = ret.in===undefined ? {} : ret.in;\r\n                ret.anim = ret.anim===undefined ? {e:\"basic\"} : ret.anim;\r\n                // If Presets Exists, load the Preset Library and build the Random List\r\n                if (!_R_is_Editor && ret.in!==undefined && ret.in.prst!==undefined) _R.loadSlideAnimLibrary(id,{key:key,prst:ret.in.prst});\r\n                _R[id].sbgs[key].slideanimationRebuild = false;\r\n                return ret;\r\n            },\r\n\r\n            loadSlideAnimLibrary : function(id,rnd) {\r\n                if (_R.SLTR===undefined && _R.SLTR_loading!==true) {\r\n                    _R.SLTR_loading=true;\r\n                    jQuery.ajax({type:'post',url:_R[id].ajaxUrl,dataType:'json',data:{action:'revslider_ajax_call_front', client_action:'get_transitions' /*, token:_R[id].ajaxNonce*/},\r\n                        success:function(ret, textStatus, XMLHttpRequest) { if(ret.success == true) {_R.SLTR = ret.transitions; if (rnd!==undefined) _R.setRandomDefaults(id,rnd.key,rnd.prst); }},\r\n                        error:function(e) { console.log(\"Transition Table can not be loaded\"); console.log(e);}\r\n                    });\r\n                } else if (rnd!==undefined && _R.SLTR!==undefined) _R.setRandomDefaults(id,rnd.key,rnd.prst);\r\n            },\r\n\r\n            convertSlideAnimVals : function (_) {\r\n                return  {\tanim : { eng:_.eng, ms:parseInt(_.speed,0), o:_.o, e:_.e, f:_.f, p:_.p ,d:parseInt(_.d,0), adpr: _.adpr},\r\n                            d3 : {f:_.d3.f, d:_.d3.d, z:_.d3.z, t:_.d3.t, c:_.d3.c, e:_.d3.e, fdi:_.d3.fdi, fdo:_.d3.fdo, fz:_.d3.fz,  su:_.d3.su, smi:_.d3.smi, sma:_.d3.sma, sc:_.d3.sc, sl:_.d3.sl},\r\n                            in : { eng:_.in.eng,  o:_R_is_Editor && _.preset!==undefined && _.preset.indexOf(\"rnd\")===0 ? 0 : _R.valBeau(_.in.o), x:_R.valBeau(_.in.x), y:_R.valBeau(_.in.y), r:_R.valBeau(_.in.r), sx:_R.valBeau(_.in.sx), sy:_R.valBeau(_.in.sy), m:_.in.m, e:_.in.e, row:_.in.row, col:_.in.col,  mo:_.in.mou!==\"false\" && _.in.mou!==false ? _R.valBeau(_.in.mo) : 0, moo:_.in.mou!==\"false\" && _.in.mou!==false ? _R.valBeau(_.in.moo) : 'none', mou:_.in.mou},\r\n                            out:_.out.a===undefined || _.out.a=='true' || _.out.a===true ? undefined : { a: tf(_.out.a), o:_R.valBeau(_.out.o), x:_R.valBeau(_.out.x), y:_R.valBeau(_.out.y), r:_R.valBeau(_.out.r), sx:_R.valBeau(_.out.sx), sy:_R.valBeau(_.out.sy), m:_.out.m, e:_.out.e, row:_R.valBeau(_.out.row), col:_R.valBeau(_.out.col)},\r\n                            filter: {u:_.filter.u, e:_.filter.e, b:_.filter.b, g:_.filter.g, h:_.filter.h,  s:_.filter.s,  c:_.filter.c, i:_.filter.i},\r\n                            addOns: _.addOns\r\n                        };\r\n            },\r\n\r\n            setRandomDefaults : function(id,key,prst) {\r\n                _R[id].sbgs[key].random = _R.getAnimObjectByKey(prst,_R.SLTR);\r\n            },\r\n\r\n            getSlideAnim_AddonDefaults : function() {\r\n                var r = {};\r\n                for (var i in _R.enabledSlideAnimAddons) if (_R.enabledSlideAnimAddons.hasOwnProperty(i)) r  = jQuery.extend(true,r,_R[_R.enabledSlideAnimAddons[i]].defaults());\r\n                return r;\r\n            },\r\n\r\n\r\n            getSlideAnim_EmptyObject:function() {\r\n                return {\r\n\t\t\t\t\tspeed:1000, o:'inout', e:'basic', f:'start', p:'none', d:15, eng:'animateCore', adpr: true,\r\n                        d3 : {f:'none', d:'horizontal', z:300, t:0, c:'#ccc', e:'power2.inOut',fdi:1.5,fdo:2, fz:0, su:false, smi:0, sma:0.5, sc:'#000' , sl:1},\r\n                        filter: {u:false, e:\"default\", b:0, g:0, h:100,  s:0,  c:100, i:0},\r\n                        in: { o:1, x:0, y:0, r:0, sx:1, sy:1, m:false, e:'power2.inOut', row:1, col:1,  mo:80, mou:false},\r\n                        out:{ a:'true', o:1, x:0, y:0, r:0, sx:1, sy:1, m:false, e:'power2.inOut', row:1, col:1},\r\n                        addOns: _R.getSlideAnim_AddonDefaults()\r\n                        }\r\n            },\r\n\r\n            //Get the Right Animation\r\n            getAnimObjectByKey : function(key,lib) {\r\n                //Cache Last Found\r\n                if (_R.getAnimObjectCacheKey===key) return _R.getAnimObjectCache;\r\n                _R.getAnimObjectCacheKey = key;\r\n\r\n                var r;\r\n                for (var main in lib)  if (lib.hasOwnProperty(main) && r===undefined)\r\n                    for (var group in lib[main]) if (lib[main].hasOwnProperty(group) && r===undefined)\r\n                        if (key===group && key.indexOf(\"rnd\")===0) {\r\n                            r = lib[main][group];\r\n                            r.main = main;\r\n                            r.group = group;\r\n                        } else\r\n                        for (var element in lib[main][group]) if (lib[main][group].hasOwnProperty(element) && r===undefined && element===key) {\r\n                            r = lib[main][group][element];\r\n                            r.main = main;\r\n                            r.group = group;\r\n                        }\r\n\r\n                //Cache the R into Global Variable\r\n                _R.getAnimObjectCache = jQuery.extend(true,{},r);\r\n                return r;\r\n            },\r\n\r\n            getRandomSlideTrans : function(main,grp,lib) {\r\n                if (_R.randomSlideAnimCache!==undefined && _R.randomSlideAnimCache[main]!==undefined && _R.randomSlideAnimCache[main][grp]!==undefined)\r\n                    return _R.randomSlideAnimCache[main][grp][Math.floor(Math.random() *  _R.randomSlideAnimCache[main][grp].length)];\r\n\r\n                _R.randomSlideAnimCache = _R.randomSlideAnimCache===undefined ? {} : _R.randomSlideAnimCache;\r\n                _R.randomSlideAnimCache[main] = _R.randomSlideAnimCache[main]===undefined ? {} : _R.randomSlideAnimCache[main];\r\n                _R.randomSlideAnimCache[main][grp] = _R.randomSlideAnimCache[main][grp]===undefined ? [] : _R.randomSlideAnimCache[main][grp];\r\n\r\n                for (var m in lib) if (lib.hasOwnProperty(m) && m!==\"random\" && m!==\"custom\" && (main==\"all\" || m==main))\r\n                    for (var g in lib[m]) if (lib[m].hasOwnProperty(g) && g!==\"icon\" && (\"\"+grp==\"undefined\" || grp.indexOf(g)>=0))\r\n                        for (var e in lib[m][g])  if (lib[m][g].hasOwnProperty(e) && jQuery.inArray(lib[m][g][e].title,[\"*north*\",\"*south*\",\"*east*\",\"*west*\"])==-1) _R.randomSlideAnimCache[main][grp].push(e);\r\n                return _R.randomSlideAnimCache[main][grp][Math.floor(Math.random() *  _R.randomSlideAnimCache[main][grp].length)];\r\n            },\r\n\r\n            cbgW : function(id,slide) { return _R_is_Editor ? RVS.RMD.width : _R[id].sliderType===\"carousel\" ? _R[id].justifyCarousel ? _R[id].carousel.slide_widths[slide!==undefined ? slide : _R[id].carousel.focused] : _R[id].carousel.slide_width : _R[id].canv.width;},\r\n\t\tcbgH : function(id,slide) { return _R_is_Editor ? RVS.RMD.height :_R[id].sliderType===\"carousel\" ? (_R[id].carousel.orientation=='v' && _R[id].sliderLayout===\"fullscreen\") ? _R[id].carousel.slide_height : (_R[id].carousel.justify===true ? _R[id].carousel.slide_height : _R[id].sliderLayout===\"fullscreen\" ? _R[id].module.height : Math.min(_R[id].canv.height,_R[id].gridheight[_R[id].level])) : _R[id].maxHeight!==undefined && _R[id].maxHeight>0 && !_R[id].fixedOnTop ? Math.min(_R[id].canv.height,_R[id].maxHeight) : _R[id].canv.height;},\r\n\r\n            valBeau : function(a) {\r\n                a = (\"\"+a).split(\",\").join('|');\r\n                a = (\"\"+a).replace(\"{\",'ran(');\r\n                a = (\"\"+a).replace(\"}\",')');\r\n                a = (\"\"+a).replace(\"[\",'cyc(');\r\n                a = (\"\"+a).replace(\"]\",')');\r\n\r\n                return a;\r\n            },\r\n\r\n            animateSlide : function(id,obj) {\r\n                if (_R_is_Editor) RVS.F.resetSlideTL();\r\n                if (tpGS.eases.late===undefined) {\r\n                    tpGS.CustomEase.create(\"late\", \"M0,0,C0,0,0.474,0.078,0.724,0.26,0.969,0.438,1,1,1,1\");\r\n                    tpGS.CustomEase.create(\"late2\", \"M0,0 C0,0 0.738,-0.06 0.868,0.22 1,0.506 1,1 1,1 \");\r\n                    tpGS.CustomEase.create(\"late3\", \"M0,0,C0,0,0.682,0.157,0.812,0.438,0.944,0.724,1,1,1,1\");\r\n                }\r\n                return prepareSlideAnimation(id,obj);\r\n            },\r\n\r\n            //Get Basic Animation Object\r\n            getBasic : function(o) {\r\n                //attr -> Which attribute should be compared to incoming options from Slide Options\r\n                return jQuery.extend(true,{ attr:o==undefined || o.attr===undefined ? ['o', 'r', 'sx', 'sy', 'x','y', 'm', 'e', 'row', 'col','mo', 'moo'] : o.attr,\r\n                                        in :{ f:\"start\", m:false, o:1, r:0, sx:1, sy:1, x:0,y:0,row:1,col:1, e:p2io, ms:1000, mo:0, moo: 'none'},\r\n                                        out:{ f:\"start\", m:false, o:1, r:0, sx:1, sy:1, x:0,y:0,row:1,col:1, e:p2io, ms:1000}\r\n                                },o);\r\n            },\r\n\r\n            playBGVideo : function(id,key,nBG) {\r\n\r\n                if (_R_is_Editor) nBG = nBG===undefined ? RVS.SBGS[RVS.S.slideId].n : nBG; else {\r\n                    if (nBG===undefined && (_R[id].pr_next_bg===undefined || _R[id].pr_next_bg.length===0)) return;\r\n                    nBG = nBG===undefined ? _R[id].sbgs[key===undefined ? _R[id].pr_next_bg[0].dataset.key : key] : nBG;\r\n                }\r\n                if (nBG.bgvid!==undefined && nBG.bgvid.length>0) {\r\n                    setBGVideoHandling(id,{},nBG,\"in\");\r\n                    _R.resetVideo(nBG.bgvid,id);\r\n                    _R.playVideo(nBG.bgvid,id,true);\r\n                    tpGS.gsap.to(nBG.bgvid[0],0.2,{zIndex:30, display:\"block\", autoAlpha:1,delay:0.075, overwrite:\"all\"});\r\n\r\n\r\n                }\r\n\r\n            },\r\n\r\n            stopBGVideo : function(id,key,nBG) {\r\n                if (_R_is_Editor) nBG = nBG===undefined ? RVS.SBGS[RVS.S.slideId].n : nBG; else {\r\n                    if (nBG===undefined && (_R[id].pr_next_bg===undefined || _R[id].pr_next_bg.length===0)) return;\r\n                    nBG = nBG===undefined ? _R[id].sbgs[key===undefined ? _R[id].pr_next_bg[0].dataset.key : key] : nBG;\r\n                }\r\n\r\n                if (nBG.bgvid!==undefined && nBG.bgvid.length>0) {\r\n                    nBG.drawVideoCanvasImagesRecall = false;\r\n                    _R.stopVideo(nBG.bgvid,id);\r\n                    tpGS.gsap.to(nBG.bgvid[0],0.2,{autoAlpha:0,zIndex:0, display:\"none\"})\r\n\r\n\r\n                }\r\n            },\r\n\r\n            SATools : {\r\n                // CALCULATE OFFSET BASED ON SIZE AND % or PX  //\r\n                getOffset : function(v,size,sdir,ind) {\r\n                    var p = (\"\"+v).indexOf(\"%\")>=0;\r\n                    v = _R.SATools.getSpecialValue(v,ind,sdir);\r\n                    return v==0 || v===undefined ? 0 : p ? size * (parseInt(v) / 100) : parseInt(v);\r\n                },\r\n\r\n                // Get Special Values like RANDOM||45  or WRAP||10,20,10,25,...//\r\n                getSpecialValue : function(v,ind,sdir,p) {\r\n                    if (_R.isNumeric(parseFloat(v,0))) return parseFloat(v,0);\r\n\r\n                    var type = (\"\"+v).split(\"ran(\").length>1 ? \"random\" : (\"\"+v).split(\"cyc(\").length>1 ? \"wrap\" : (\"\"+v).split(\"(\").length>1 ?  \"dir\" : \"unknown\",\r\n                        s = type===\"random\" ? v.slice(4,-1) : type===\"wrap\" ? v.slice(4,-1) : v.slice(1,-1),\r\n                        vals = s.split(\"|\");\r\n\r\n                    if (type===\"random\") return tpGS.gsap.utils.random(parseFloat(vals[0]),parseFloat((vals.length>1 ? vals[1] : 0-vals[0])));\r\n                    else\r\n                    if (type===\"wrap\") {\r\n                        var r = tpGS.gsap.utils.wrap(vals,ind);\r\n                        return  (\"\"+r).split(\"(\").length>1 ? (parseFloat((r.slice(1,-1))) * sdir) + (p ? \"%\" : \"\") : r;\r\n                    } else\r\n                    if (type===\"dir\") return (parseFloat(vals[0]) * sdir) + (p ? \"%\" : \"\");\r\n                }\r\n            },\r\n\r\n            getmDim : function(id,key, nBG) {\r\n                var w = _R.cbgW(id,key),\r\n                    h = _R.cbgH(id,key);\r\n\t\t\tnBG.DPR = _R_is_Editor ? Math.min(window.devicePixelRatio, 2) : _R[id].DPR;\r\n                return _R.maxDimCheck(nBG,w,h);\r\n            },\r\n\r\n            maxDimCheck : function(nBG,w,h) {\r\n                //CHECK IF CONTAINER WIDTH / HEIGHT BIGGER THEN THE ORIGINAL SOURCE\r\n                var isVidImg = nBG.video!==undefined && (nBG.video.tagName===\"img\" || nBG.video.videoWidth==undefined ||  nBG.video.videoWidth==0),\r\n                    newW,\r\n                    newH;\r\n\r\n\t\t\tif ((nBG.currentState!==\"animating\" && nBG.panzoom==undefined) || (nBG.currentState===\"animating\" && nBG.panzoom==undefined && (nBG.slideanimation==undefined || nBG.slideanimation.anim==undefined || nBG.slideanimation.anim.adpr !== 'true'))) {\r\n                    if (nBG.DPR>1 && _R.ISM && h>1024) {\r\n                        nBG.DPR = 1;\r\n                        newW = w;\r\n                        newH = h;\r\n                    } else {\r\n                        var od = {\r\n                            w : nBG.video==undefined || nBG.isVidImg ? nBG.loadobj.width : nBG.video.videoWidth==0 ? nBG.loadobj.width : nBG.video.videoWidth,\r\n                            h : nBG.video==undefined || nBG.isVidImg ? nBG.loadobj.height : nBG.video.videoHeight==0 ? nBG.loadobj.height : nBG.video.videoHeight\r\n                        }\r\n\r\n\t\t\t\t\tif(od.w === undefined) od.w = nBG.loadobj.width;\r\n\t\t\t\t\tif(od.h === undefined) od.h = nBG.loadobj.height;\r\n\r\n                        var vDPR = h/od.w,\r\n                            hDPR = w/od.h,\r\n                            naturalDPR = Math.max(vDPR,hDPR);\r\n                        if (naturalDPR>nBG.DPR || (vDPR>=1 && hDPR>=1)) nBG.DPR = 1;\r\n                        else if (nBG.DPR>naturalDPR) nBG.DPR = Math.min(nBG.DPR,nBG.DPR/naturalDPR);\r\n\r\n                        newW = w * nBG.DPR;\r\n                        newH = h * nBG.DPR;\r\n\r\n\r\n                        if (nBG.DPR>1) {\r\n                            var ratio = w/h;\r\n                            if(od.w > od.h && od.w < newW){\r\n                                newW = Math.max(w,od.w);\r\n                                newH = newW / ratio;\r\n                                nBG.DPR = 1;\r\n                            } else if( od.h > od.w && od.h < newH){\r\n                                newH = Math.max(h,od.h);\r\n                                newW = newH * ratio;\r\n                                nBG.DPR = 1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    nBG.DPR = 1;\r\n                    newW = w;\r\n                    newH = h;\r\n                }\r\n\r\n                return {width:Math.round(newW), height: Math.round(newH), w: w, h: h};\r\n            },\r\n\r\n            // Upodate The Slide Background Rescaling and Redrwaing the Canvas\r\n            updateSlideBGs : function(id,key,nBG,ignore) {\r\n\r\n\r\n                if (_R_is_Editor) nBG = nBG===undefined ? RVS.SBGS[RVS.S.slideId].n : nBG; else {\r\n                    if (nBG===undefined && (_R[id].pr_next_bg===undefined || _R[id].pr_next_bg.length===0)) return;\r\n                    nBG = nBG===undefined ? _R[id].sbgs[key===undefined ? _R[id].pr_next_bg[0].dataset.key : key] : nBG;\r\n                }\r\n\r\n                ignore = nBG.mDIM===undefined ? false : ignore;\r\n\r\n                if (!ignore) nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n\r\n                if (nBG.video!==undefined) { // Reset and Force Recalculating of Canvas Size of Video\r\n                    if (nBG.video.tagName!==\"IMG\") nBG.isVidImg=\"\";\r\n                    //if (_R[id].sliderType===\"carousel\") {\r\n                        nBG.cDIMS = _R.getBGCanvasDetails(id,nBG);\r\n                        nBG.canvas.width = nBG.mDIM.width;\r\n                        nBG.canvas.height = nBG.mDIM.height;\r\n\r\n                        nBG.ctx.clearRect(0,0,nBG.mDIM.width, nBG.mDIM.height);\r\n                        nBG.ctx.drawImage( nBG.shadowCanvas , 0,0);\r\n                    //}\r\n                } else { // Recalculate Dimensions of Canvas\r\n                    nBG.cDIMS = _R.getBGCanvasDetails(id,nBG,ignore);\r\n                    nBG.canvas.width = nBG.mDIM.width;\r\n                    nBG.canvas.height = nBG.mDIM.height;\r\n                    if (nBG.currentState!==\"panzoom\" && nBG.currentState!==\"animating\" && (nBG.currentState!==undefined || _R_is_Editor || _R[id].sliderType ==\"carousel\")) {\r\n                        nBG.ctx.clearRect(0,0,nBG.mDIM.width, nBG.mDIM.height);\r\n\t\t\t\t\tif(nBG.shadowCanvas.width !== 0 && nBG.shadowCanvas.height !== 0) nBG.ctx.drawImage(nBG.shadowCanvas, 0, 0);\r\n                    }\r\n                }\r\n\r\n\r\n                if (nBG.currentState===\"animating\" && _R[id].sliderType!==\"carousel\") _R.animatedCanvasUpdate(id,nBG);\r\n\r\n            },\r\n\r\n            addCanvas : function() {\r\n                var c = document.createElement('canvas');\r\n                x = c.getContext('2d');\r\n                c.style.background = \"transparent\";\r\n                c.style.opacity =1;\r\n                return x;\r\n            },\r\n\r\n            // Playing HTML5 Video Frames or Cover Image\r\n            updateVideoFrames : function(id,nBG,force) {\r\n\r\n                    nBG.now = Date.now();\r\n                    nBG.then = nBG.then===undefined ? nBG.now-500 : nBG.then;\r\n                    nBG.elapsed = (nBG.now - nBG.then);\r\n                    nBG.fps = nBG.currentState===\"animating\" && window._rs_firefox ? 50 : 33;\r\n                    if (nBG.elapsed>nBG.fps) {\r\n                        nBG.then = nBG.now - (nBG.elapsed % nBG.fps);\r\n                    //Draw Frames on the Shadow Canvas\r\n                    var isVidImg = nBG.video.tagName===\"img\" || nBG.video.videoWidth==undefined ||  nBG.video.videoWidth==0;\r\n                    if (nBG.video!==undefined && !nBG.video.BGrendered && nBG.loadobj!==undefined && nBG.loadobj.img!==undefined || (_R.ISM && _R.isFirefox(id))) {\r\n\r\n                        nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n                        nBG.pDIMS = getContentDimensions(nBG.mDIM,nBG,{width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0, contw: nBG.loadobj.width, conth: nBG.loadobj.height});\r\n\t\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                        nBG.shadowCTX.drawImage(nBG.loadobj.img,nBG.pDIMS.x, nBG.pDIMS.y, nBG.pDIMS.width, nBG.pDIMS.height);\r\n\r\n\r\n                    } else {\r\n                        if (force || nBG.sDIMS===undefined || isVidImg!==nBG.isVidImg || nBG.sDIMS.width===0 || nBG.sDIMS.height===0 ) {\r\n                            nBG.isVidImg = isVidImg;\r\n                            nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n\t\t\t\t\t\tnBG.sDIMS = getContentDimensions(nBG.mDIM,nBG,{width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0, contw: ( nBG.isVidImg ? nBG.loadobj.width : nBG.video.videoWidth), conth: (nBG.isVidImg ? nBG.loadobj.height : nBG.video.videoHeight)});\r\n                        }\r\n\r\n                        if (nBG.sDIMS!==undefined && nBG.sDIMS.width!==0 && nBG.sDIMS.height!==0) {\r\n                            if (nBG.currentState===\"animating\")\t{   // It is still animating, so create Shadow Canvas First\r\n\t\t\t\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                                nBG.shadowCTX.drawImage(nBG.video,nBG.sDIMS.x, nBG.sDIMS.y, nBG.sDIMS.width, nBG.sDIMS.height);\r\n                            } else\r\n                            if(nBG.animateDirection===undefined) {  // If not in Animating and/or Out Animating, than simple draw straight on the Real Canvas, no need Shadow Canvas any more\r\n\t\t\t\t\t\t\tif(nBG.canvas.width !== nBG.mDIM.width) nBG.canvas.width = nBG.mDIM.width;\r\n\t\t\t\t\t\t\tif(nBG.canvas.height !== nBG.mDIM.height)  nBG.canvas.height = nBG.mDIM.height;\r\n                                nBG.ctx.drawImage(nBG.video, nBG.sDIMS.x, nBG.sDIMS.y, nBG.sDIMS.width, nBG.sDIMS.height);\r\n                            }\r\n                            nBG.shadowCanvas_Drawn = true;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (force || (nBG.drawVideoCanvasImagesRecall && nBG.currentState===\"animating\") || (nBG.currentState===\"animating\" && nBG.shadowCanvas_Drawn===undefined))\r\n                    window.requestAnimationFrame(function() {_R.updateVideoFrames(id,nBG);})\r\n\r\n            },\r\n\r\n            createOverlay : function(id,type,len,colors) {\r\n                if(type === \"none\") return \"none\";\r\n                type = type===undefined ? 1 : type;\r\n                len = len===undefined ? 1 : len;\r\n                var colors = colors === undefined ? {\r\n                        0: 'rgba(0, 0, 0, 0)',\r\n                        1: 'rgba(0, 0, 0, 1)',\r\n                    } : colors,\r\n                    patterns = {none:[[0]],\r\n                                1:[[1, 0],[0, 0]],\r\n                                    2:[[1, 0,0],[0,0,0],[0,0,0]],\r\n                                    3:[[1,0,0,0],[0,0,0,0],[0,0,0,0]],\r\n                                    4:[[1],[0]],\r\n                                    5:[[1],[0],[0]],\r\n                                    6:[[1],[0],[0],[0]],\r\n                                    7:[[1,0]],\r\n                                    8:[[1,0,0]],\r\n                                    9:[[1,0,0,0]],\r\n                                10:[[1,0,0,0,0],[0,1,0,1,0],[0,0,0,0,0],[0,1,0,1,0],[0,0,0,0,1]],\r\n                                11:[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],\r\n                                12:[[1,0,0],[0,1,0],[0,0,1]],\r\n                                13:[[0,0,1],[0,1,0],[1,0,0]],\r\n                                14:[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0]],\r\n                                15:[[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0]],\r\n                                16:[[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]]\r\n                                },\r\n                    pattern = patterns[type]===undefined ? patterns['2'] : patterns[type];\r\n                if (_R_is_Editor) _R[id] = _R[id]===undefined ? {} : _R[id];\r\n                _R[id].patternCanvas = document.createElement('canvas');\r\n                _R[id].patternCtx = _R[id].patternCanvas.getContext(\"2d\");\r\n                    _R[id].patternCanvas.width = pattern[0].length * len;\r\n                    _R[id].patternCanvas.height = pattern.length * len;\r\n                    for(var i = 0; i < pattern.length; i++)\r\n                    for(var j = 0; j < pattern[i].length; j++ ){\r\n                        if (colors[pattern[i][j]]==\"transparent\") continue;\r\n                        _R[id].patternCtx.fillStyle = colors[pattern[i][j]];\r\n                        _R[id].patternCtx.fillRect(j * len, i * len, len, len);\r\n                    }\r\n\r\n                var dataURL = _R[id].patternCanvas.toDataURL();\r\n                return \"url(\" + dataURL + \")\";\r\n\r\n            },\r\n            //Get, Build BG Infos like Size, Content, Shadow Canvas\r\n            getBGCanvasDetails : function(id,nBG,ignore) {\r\n                var r ;\r\n                if (!ignore) nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n                nBG.usepattern = (nBG.bgfit===\"auto\" || nBG.bgfit.indexOf('%')>=0) && (nBG.loadobj===undefined || nBG.loadobj.useBGColor!==true);\r\n                if (_R_is_Editor && nBG.panzoom===undefined) delete nBG.shadowCanvas;\r\n                //Create a Shadow Canvas where we get the Content from later\r\n                if (nBG.shadowCanvas===undefined) {\r\n                    nBG.shadowCanvas = document.createElement('canvas');\r\n                    nBG.shadowCTX = nBG.shadowCanvas.getContext('2d');\r\n                    nBG.shadowCanvas.style.background = \"transparent\";\r\n                    nBG.shadowCanvas.style.opacity =1;\r\n                }\r\n\r\n                if (nBG.replaceShadowCanvas!==true && nBG.loadobj.bgColor!==true && nBG.usebgColor!==true && nBG.panzoom===undefined && (nBG.isHTML5==undefined || nBG.poster==true) && !nBG.usepattern) {  // IT IS AN IMAGE AND NOT A BACKGROUND COLOR\r\n                    r = getContentDimensions(nBG.mDIM,nBG,{width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0, contw: nBG.loadobj.width, conth: nBG.loadobj.height});\r\n\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                    if (nBG.loadobj!==undefined && nBG.loadobj.img!==undefined){\r\n                        nBG.shadowCTX.drawImage(nBG.loadobj.img,r.x, r.y, r.width, r.height);\r\n                    }\r\n                    r = {width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0}\r\n\r\n                } else {\r\n\r\n                    r = {width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0}\r\n                    if (nBG.usepattern && nBG.loadobj!==undefined && nBG.loadobj.img!==undefined)\r\n                        _R.getCanvasPattern(id,nBG, { ratio : nBG.loadobj.height / nBG.loadobj.width});\r\n                    else\r\n                    if (nBG.loadobj.bgColor || nBG.usebgColor) {\r\n\t\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                        _R.getCanvasGradients(id,nBG);\r\n                    }\r\n                }\r\n\r\n                return r;\r\n            },\r\n            getCanvasPattern : function(id,nBG,r) {\r\n                // CREATE PATTERN\r\n                if (nBG.patternImageCanvas===undefined) {\r\n                    nBG.patternImageCanvas = document.createElement('canvas');\r\n                    nBG.patternImageCTX = nBG.patternImageCanvas.getContext('2d');\r\n                }\r\n                var fit = nBG.bgfit.split(\" \");\r\n                if (fit.length===1) fit[1] = fit[0];\r\n\r\n                r.width = fit[0]===\"auto\" ? nBG.loadobj.width : nBG.loadobj.width * (parseInt(fit[0],0)/100);\r\n                r.height = fit[1]===\"auto\" ? nBG.loadobj.height : r.width * r.ratio;\r\n\r\n                nBG.DPR = _R_is_Editor ? Math.min(window.devicePixelRatio, 2) : _R[id].DPR;\r\n                var ratio = r.width/r.height;\r\n                r.width = r.width * nBG.DPR;\r\n                r.height = r.height * nBG.DPR;\r\n\r\n                if(_R.isIOS && r.width * r.height > 60*1024*1024/4){\r\n                    if(nBG.mDIM.width > nBG.mDIM.height){\r\n                        r.width = nBG.mDIM.width;\r\n                        r.height = Math.round(nBG.mDIM.width / ratio);\r\n                    } else {\r\n                        r.height = nBG.mDIM.height;\r\n                        r.width = Math.round(nBG.mDIM.height * ratio);\r\n                    }\r\n                }\r\n\r\n                nBG.patternImageCanvas.width = r.width;\r\n                nBG.patternImageCanvas.height = r.height;\r\n                nBG.patternImageCTX.drawImage(nBG.loadobj.img,0,0,r.width,r.height);\r\n\r\n\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n\t\t\tnBG.shadowCTX.clearRect(0, 0, nBG.shadowCTX.canvas.width, nBG.shadowCTX.canvas.height);\r\n                nBG.pattern = nBG.shadowCTX.createPattern(nBG.patternImageCanvas, nBG.bgrepeat);\r\n                nBG.shadowCTX.fillStyle = nBG.pattern;\r\n\r\n                nBG.shadowShifts = {  h: nBG.bgposition.split(\" \")[0], v:nBG.bgposition.split(\" \")[1]};\r\n\r\n                nBG.shadowShifts.hperc = _R.isNumeric(parseInt(nBG.shadowShifts.h)) ? parseInt(nBG.shadowShifts.h)/100 * nBG.mDIM.width : 0;\r\n                nBG.shadowShifts.vperc = _R.isNumeric(parseInt(nBG.shadowShifts.v)) ? parseInt(nBG.shadowShifts.v)/100 * nBG.mDIM.height : 0;\r\n\r\n                nBG.shadowShifts.x = nBG.shadowShifts.h===\"left\" ? 0 : nBG.shadowShifts.h===\"center\" || nBG.shadowShifts.h==\"50%\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-x\" ? (nBG.mDIM.width/2 - r.width/2) - Math.ceil((nBG.mDIM.width/2)/r.width)*r.width : (nBG.mDIM.width/2 - r.width/2) : nBG.shadowShifts.h===\"right\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-x\" ? -(r.width-(nBG.mDIM.width%r.width)) :nBG.mDIM.width-r.width  : nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-x\" ?  -(r.width -(nBG.shadowShifts.hperc%r.width))  : nBG.shadowShifts.hperc ;\r\n                nBG.shadowShifts.y = nBG.shadowShifts.v===\"top\" ? 0 : nBG.shadowShifts.v===\"center\" || nBG.shadowShifts.v==\"50%\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-y\" ? (nBG.mDIM.height/2 - r.height/2) - Math.ceil((nBG.mDIM.height/2)/r.height)*r.height : (nBG.mDIM.height/2 - r.height/2)  : nBG.shadowShifts.v===\"bottom\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-y\" ? -(r.height-(nBG.mDIM.height%r.height)) : nBG.mDIM.height-r.height : nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-y\" ? -(r.height -(nBG.shadowShifts.vperc%r.height))  : nBG.shadowShifts.vperc ;\r\n\t\t\tnBG.shadowCTX.save();\r\n                nBG.shadowCTX.translate(nBG.shadowShifts.x,nBG.shadowShifts.y);\r\n                nBG.shadowCTX.fillRect(0,0,nBG.mDIM.width-nBG.shadowShifts.x,nBG.mDIM.height-nBG.shadowShifts.y);\r\n\t\t\tnBG.shadowCTX.restore();\r\n            },\r\n            getCanvasGradients : function(id,nBG) {\t//Create Canvas with color\r\n                if (nBG.bgcolor.indexOf('gradient')>=0) {\r\n                    nBG.gradient = nBG.gradient==undefined || _R_is_Editor ? _R.getGradients(nBG.bgcolor) : nBG.gradient;\r\n                    nBG.shadowGrd = nBG.gradient.type===\"radialGradient\" ?\r\n                                        nBG.shadowCTX.createRadialGradient(nBG.mDIM.width/2,nBG.mDIM.height/2,0,nBG.mDIM.width/2,nBG.mDIM.height/2,Math.max(nBG.mDIM.width/2,nBG.mDIM.height/2)) :\r\n                                        _R.calcLinearGradient(nBG.shadowCTX,nBG.shadowCanvas.width,nBG.shadowCanvas.height,nBG.gradient.deg);\r\n\r\n                    //ADD COLOR STOPS AND FILL AREA\r\n                    for(var i=0;i<nBG.gradient.stops.length;i=i+2) nBG.shadowGrd.addColorStop(nBG.gradient.stops[i+1],nBG.gradient.stops[i]);\r\n                    nBG.shadowCTX.clearRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                    nBG.shadowCTX.fillStyle=nBG.shadowGrd;\r\n                    nBG.shadowCTX.fillRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                } else {\r\n                    // FILL SIMPLE COLOR\r\n\t\t\t\tnBG.shadowCTX.clearRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                    nBG.shadowCTX.fillStyle=nBG.bgcolor;\r\n                    nBG.shadowCTX.fillRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                }\r\n            },\r\n\r\n            cNS : function(_) { // Create NS Document with Style and Attributes\r\n              var p;\r\n              _.n = document.createElementNS(\"http://www.w3.org/2000/svg\", _.n);\r\n              for (p in _.v) _.n.setAttributeNS(null, p.replace(/[A-Z]/g, function(m, p, o, s) { return \"-\" + m.toLowerCase(); }), _.v[p]); // SET SVG ATTRIBUTES\r\n              if (_.c!==undefined) _.n.setAttribute('class',_.c);  // SET CLASS\r\n              if (_.id!==undefined) _.n.id = _.id; // SET CLASS\r\n              if (_.t!==undefined) _.n.textContent = _.t; // SET CONTENT\r\n              for (p in _.s) if (_.s.hasOwnProperty(p)) _.n.style[p] = _.s[p];  //SET STYLE\r\n              return _.n\r\n            },\r\n\r\n\r\n            rgbToHex : function(rgb) {\r\n              return \"#\" + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\r\n            },\r\n\r\n            getSVGGradient : function(color) {\r\n                if (color===undefined) return color;\r\n                if (_R_is_Editor) color = RSColor.convert(color);\r\n                if (color.indexOf('gradient')==-1) return color;\r\n                var gradient = _R.getGradients(color);\r\n\r\n                if (_R.gradSVG===undefined) {\r\n                    // BUILD SVG\r\n                    _R.gradSVG = _R.cNS({n:'svg',id:'tp_svg_gradients', s:{width:\"100%\", height:\"100%\", opacity:0, pointerEvents:\"none\"}});\r\n                    _R.gradSVG.setAttribute('viewBox', '0 0 1 1');\r\n                    _R.gradSVG.setAttribute('preserveAspectRatio', 'none');\r\n                    document.body.appendChild(_R.gradSVG);\r\n                    _R.svgGradients = [];\r\n                }\r\n                var found = false, cString = JSON.stringify(color);\r\n\r\n                //Check if we created SVG GRADIENT ALREADY\r\n                for (var i=0;i<_R.svgGradients.length;i++) {\r\n                    if (found) continue;\r\n                    if (_R.svgGradients[i].src == cString) {\r\n                        found = true;\r\n                        color = _R.svgGradients[i].url;\r\n                    }\r\n                }\r\n\r\n                if (!found) {\r\n                    var cS,c,nG,\r\n                        anglePI = gradient.type===\"radialGradient\" ? 0 : (gradient.deg) * (Math.PI / 180),\r\n                            aC = gradient.type===\"radialGradient\" ? 0 : {\r\n                                'x1': Math.round(50 + Math.sin(anglePI) * 50) + '%',\r\n                                'y1': Math.round(50 + Math.cos(anglePI) * 50) + '%',\r\n                                'x2': Math.round(50 + Math.sin(anglePI + Math.PI) * 50) + '%',\r\n                                'y2': Math.round(50 + Math.cos(anglePI + Math.PI) * 50) + '%',\r\n                            };\r\n                        nG = _R.cNS({n:gradient.type,id:'tp_svg_gradient_'+_R.svgGradients.length, v:gradient.type===\"radialGradient\" ? undefined : {gradientUnits:\"userSpaceOnUse\", x1:aC.x1, y1:aC.y1, x2:aC.x2, y2:aC.y2}})\r\n\r\n                    for (var s=0;s<=gradient.stops.length/2;s=s+2) {\r\n                        c = tpGS.gsap.utils.splitColor(gradient.stops[s]);\r\n                        cS = _R.cNS({n:'stop', v:{offset:(gradient.stops[s+1]*100)+\"%\", stopColor:_R.rgbToHex(c), stopOpacity:c.length>3 ? c[3] : 1}})\r\n                        nG.appendChild(cS);\r\n                    }\r\n                    _R.gradSVG.appendChild(nG);\r\n                    color = 'url(#tp_svg_gradient_'+(_R.svgGradients.length)+')';\r\n                    _R.svgGradients.push({url:color,src:cString,g:nG});\r\n                }\r\n\r\n                return color;\r\n\r\n            },\r\n            getGradients : function(color) {\r\n                // RADIAL GRADIENT\r\n                if (color.indexOf('radial-gradient')>=0)\r\n                    return {stops : _R.getGradientColorStopPoints((color.split('radial-gradient(ellipse at center, ')[1])), type:'radialGradient',deg:0};\r\n                else if (color.indexOf('gradient')!==-1)\r\n                    return _R.getLinearGradientStops(color);\r\n                else return color;\r\n\r\n            },\r\n            getLinearGradientStops : function(color) {\r\n                var c = color.split('linear-gradient(')[1];\r\n                if (_R_is_Editor) {\r\n                    c = c.split(', ').join(',');\r\n                    c = c.split(',rgba').join(', rgba');\r\n                }\r\n                var cDeg = c.split('deg, ');\r\n                c = (cDeg.length>1 ? cDeg[1] : cDeg[0]).split(\" \");\r\n                cDeg = cDeg.length>1 ? cDeg[0] : 180;\r\n                for(var i in c) if (c.hasOwnProperty(i) && c[i].indexOf('%')>=0) c[i] = \"\"+Math.round(parseFloat((c[i].split(\"%,\")[0]).split(\"%)\")[0])*100)/10000;\r\n                return {stops:c, deg:cDeg, type:'linearGradient'};\r\n            },\r\n\r\n            getGradientColorStopPoints : function(color){\r\n                var pattern = /rgb([\\s\\S]*?)%/g;\r\n                var match;\r\n                var matches = [];\r\n                var points = [];\r\n\r\n                do {\r\n                    match = pattern.exec(color);\r\n                    if (match) {\r\n                        matches.push(match[0]);\r\n                    }\r\n                } while (match);\r\n\r\n                for (var i = 0; i < matches.length; i++) {\r\n                    var match = matches[i];\r\n                    var color = /rgb([\\s\\S]*?)\\)/.exec(match);\r\n                    var stop = /\\)([\\s\\S]*?)%/.exec(match);\r\n                    if (color[0]) color = color[0];\r\n                    if (stop[1]) stop = stop[1];\r\n\r\n                    points.push(color);\r\n                    points.push(parseFloat(stop)/100);\r\n                }\r\n\r\n                return points;\r\n            },\r\n\r\n            calcLinearGradient : function (ctx,w, h,deg) {\r\n\r\n                deg = deg * Math.PI / 180 + Math.PI / 2;\r\n\r\n                var tx,ty,bx,by,\r\n                    _w = w/2,\r\n                    _h = h/2,\r\n                    len = Math.sqrt(_w * _w + _h * _h),\r\n                    l1 = {\r\n                        x1: Math.cos(deg) * len + _w,\r\n                        y1: Math.sin(deg) * len + _h,\r\n                        x2: _w,\r\n                        y2: _h\r\n                    },\r\n                    lines = [\r\n                        getPerpLine({x: 0, y: 0}, deg),\r\n                        getPerpLine({x: w, y: 0}, deg),\r\n                        getPerpLine({x: w, y: h}, deg),\r\n                        getPerpLine({x: 0, y: h}, deg),\r\n                    ],\r\n                    intersects = [];\r\n\r\n\r\n                    for (var i = 0; i < lines.length; i++) intersects.push(lineIntersect(lines[i], l1));\r\n\r\n                    if(dist(_w, _h, intersects[0].x, intersects[0].y) > dist(_w, _h, intersects[1].x, intersects[1].y)){\r\n                        tx = intersects[0].x;\r\n                        ty = intersects[0].y;\r\n                    } else {\r\n                        tx = intersects[1].x;\r\n                        ty = intersects[1].y;\r\n                    }\r\n\r\n                    if(dist(_w, _h, intersects[2].x, intersects[2].y) > dist(_w, _h, intersects[3].x, intersects[3].y)){\r\n                        bx = intersects[2].x;\r\n                        by = intersects[2].y;\r\n                    } else {\r\n                        bx = intersects[3].x;\r\n                        by = intersects[3].y;\r\n                    }\r\n\r\n                    var eAngle = Math.round( Math.atan2((_h - ty), (_w - tx)) * 100) / 100;\r\n                    var aAngle = Math.round(deg % (Math.PI * 2) * 100) / 100;\r\n\r\n                    if(eAngle === aAngle){\r\n                        var x = tx, y = ty;\r\n                        tx = bx, ty = by;\r\n                        bx = x, by = y;\r\n                    }\r\n\r\n                return ctx.createLinearGradient(Math.round(tx), Math.round(ty), Math.round(bx), Math.round(by));\r\n            },\r\n\r\n            // Here you can extend the Transition Library to manipulate animations during the transformations and by preparing them.\r\n            transitions : {\r\n                filter : {\r\n                    update : function(f,ctx,blurExt) {\r\n                        if (f!==undefined && f.tl!==undefined) {\r\n                            var blur = blurExt!==undefined || f.tl.blur!==undefined ? \" blur(\"+(blurExt!==undefined ? blurExt : 0 + f.tl.blur!==undefined ? f.tl.blur : 0 )+\"px)\" : \"\";\r\n                            ctx.canvas.style.filter = f.tl.filter === undefined ? \"\" + blur : f.tl.filter + blur;\r\n                        }\r\n                    },\r\n\r\n                    extendTimeLine : function(TL,_,BG) {\r\n                        if (_==undefined) return;\r\n                        //var f = _.b!==undefined && _.b!==\"0px\" && _.b!==0 ? \"blur(_b_px)\" : \"\";\r\n                        var f = _.g!==undefined && _.g!==\"0%\" && _.g!==0 ? (f===\"\" ? \"\" : \" \") + \"grayscale(_g_%)\" : \"\";\r\n                            f += _.h!==undefined && _.h!==\"100%\" && _.h!==100 ? (f===\"\" ? \"\" : \" \") + \"brightness(_h_%)\" : \"\";\r\n                            f += _.s!==undefined && _.s!==\"0px\" && _.s!==0 ? (f===\"\" ? \"\" : \" \") + \"sepia(_s_%)\" : \"\";\r\n                            f += _.c!==undefined && _.c!==100 ? (f===\"\" ? \"\" : \" \") + \"contrast(_c_%)\" : \"\";\r\n                            f += _.i!==undefined && _.i!==0 ? (f===\"\" ? \"\" : \" \") + \"invert(_i_%)\" : \"\";\r\n\r\n                        if (f!==\"\") _.tl = {filter:f.replace('_g_',parseFloat(_.g)).replace('_h_',parseFloat(_.h)).replace('_s_',parseFloat(_.s)).replace('_c_',parseFloat(_.c)).replace('_i_',parseFloat(_.i))};\r\n                        if (_.b!==undefined && _.b!==\"0px\" && _.b!==0) if (_.tl===undefined) _.tl = {blur:parseFloat(_.b)}; else _.tl.blur = parseFloat(_.b);\r\n                        if (_.tl!==undefined) {\r\n                            TL.add(tpGS.gsap.to(_.tl, _.ms/_.sec, _.tl.filter===undefined ? {blur:0} : _.tl.blur===undefined ? {filter:f.replace('_g_','0').replace('_h_','100').replace('_s_','0').replace('_c_',100).replace('_i_',0), ease:_.e} : {blur:0, filter:f.replace('_g_','0').replace('_h_','100').replace('_s_','0').replace('_c_',100).replace('_i_',0), ease:_.e}),0)\r\n                            BG.canvasFilter = true;\r\n                        }\r\n                    },\r\n                },\r\n\r\n                slidingoverlay : {\r\n                    getBasic : function() {\r\n                        return _R.getBasic({ attr:['x','y'], in:{m:true,o:-1, _xy:20, _gxys:10,_gxye:-10 ,zIndex:20,e:p1io},out:{m:true, reversed:false, _xy:-100,o:0, zIndex:10, e:p1io}});\r\n                        },\r\n                    updateAnim : function(id,_,sdir) {\r\n                        var v = _.in.x!==undefined && _.in.x!==0 && _.in.x!==\"0%\" ? \"x\" : \"y\";\r\n                        _.in[\"g\"+v+\"s\"] =_R.SATools.getOffset(_.in[v],_.in._gxys,sdir,1)+\"%\";\r\n                        _.in[\"g\"+v+\"e\"] = _R.SATools.getOffset(_.in[v],_.in._gxye,sdir,1)+\"%\";\r\n                        _.out[v] = _R.SATools.getOffset(_.in[v],_.out._xy,sdir,1)+\"%\"\r\n                        _.in[v] = _R.SATools.getOffset(_.in[v],_.in._xy,sdir,1)+\"%\";\r\n                        var pos = parseInt(_.in[v])>=0;\r\n                        _.in.d = v===\"x\" ?  pos ? \"left\" : \"right\" : pos ? \"up\" : \"down\";\r\n                        return _;\r\n                    },\r\n\r\n                    beforeDraw : function(id,ctx,box,BG) {\r\n                        if (box.d!==undefined) {\r\n                                box._dxs = box.d===\"right\" ?  0 + box.mw  : box.d===\"left\" ? 0 - box.mw : 0,\r\n                                box._dys = box.d===\"down\" ?  0 + box.mh  : box.d===\"up\" ? 0 - box.mh : 0,\r\n                                box._xs = box.d===\"left\" ? 0 - box.mw : 0,\r\n                                box._ys = box.d===\"up\" ? 0 - box.mh : 0,\r\n                                box._xe = box.d===\"right\" ? BG.SLOT.OW + box.mw : box.d===\"left\" ?  BG.SLOT.OW - box.mw  : BG.SLOT.OW,\r\n                                box._ye = box.d===\"down\" ? BG.SLOT.OH + box.mh : box.d===\"up\" ?  BG.SLOT.OH - box.mh  : BG.SLOT.OH;\r\n                            ctx.beginPath();\r\n                            ctx.rect(box.d===\"left\" ? Math.max(0,box._xs) : box.d===\"right\" ? Math.min(0,box._xs) : 0,\r\n                                        box.d===\"up\" ? Math.max(0,box._ys) : box.d===\"down\" ? Math.min(0,box._ys) : 0,\r\n                                        box.d===\"left\" ? Math.max(BG.SLOT.OW,box._xe) : box.d===\"right\" ? Math.min(BG.SLOT.OW,box._xe) : box._xe,\r\n                                        box.d===\"up\" ? Math.max(BG.SLOT.OH,box._ye) : box.d===\"down\" ? Math.min(BG.SLOT.OH,box._ye) : box._ye);\r\n                            ctx.clip();\r\n                        }\r\n\r\n                    },\r\n                    afterDraw : function(id,ctx,box, BG,tr) {\r\n                        // Ghost Image (For Slide Overlays)\r\n                        if (box.d!==undefined) {\r\n                            ctx.save();\r\n                            ctx.beginPath();\r\n                            ctx.rect(Math.max(0,box._dxs),Math.max(0,box._dys),box._xe,box._ye);\r\n                            ctx.clip();\r\n                            ctx.save();\r\n                            ctx.transform(tr.csx, tr.ssx, tr.ssy, tr.csy, BG.SLOT.OW*(0.5) + box.x + box.sgx, BG.SLOT.OH*(0.5)+ box.y + box.sgy);\r\n                            ctx.drawImage(BG.shadowCanvas!==undefined ? BG.shadowCanvas : BG.loadobj.img, 0 ,  0  , BG.SLOT.OW, BG.SLOT.OH, box.sgx-BG.SLOT.OW/2, box.sgy-BG.SLOT.OH/2  , BG.SLOT.OW, BG.SLOT.OH);\r\n                            ctx.restore();\r\n                            ctx.fillStyle=\"rgba(0,0,0,0.6)\";\r\n                            ctx.fillRect(box.gx,  box.gy,BG.SLOT.OW, BG.SLOT.OH);\r\n                            ctx.restore();\r\n                        }\r\n                    },\r\n\r\n                    extendTimeLine : function(id,TL,boxes,_,params,dim) {\r\n                        if (params.direction===\"in\" && (_.gxe!==undefined || _.gye!==undefined)) {\r\n                            jQuery.extend(true,boxes[0], {\td:_.d,\r\n                                                            gx:_.gxs===undefined ? 0 : _R.SATools.getOffset(_.gxs,dim.width,params.sdir,0)*2,\r\n                                                            gy:_.gys===undefined ? 0 : _R.SATools.getOffset(_.gys,dim.height,params.sdir,0)*2,\r\n                                                            sgx:_.gxs===undefined ? 0 : _R.SATools.getOffset(_.gxs,dim.width,params.sdir,0),\r\n                                                            sgy:_.gys===undefined ? 0 : _R.SATools.getOffset(_.gys,dim.height,params.sdir,0),\r\n                                                            mw:0-dim.width,\r\n                                                            mh:0-dim.height});\r\n\r\n\r\n                            TL.add(tpGS.gsap.to(boxes, (_.ms/_.sec), {\tgx:_.gxe===undefined ? 0 : _R.SATools.getOffset(_.gxe,dim.width,params.sdir,0)*2,\r\n                                                                        gy:_.gye===undefined ? 0 : _R.SATools.getOffset(_.gye,dim.height,params.sdir,0)*2,\r\n                                                                        sgx:_.gxe===undefined ? 0 : _R.SATools.getOffset(_.gxe,dim.width,params.sdir,0)*2,\r\n                                                                        sgy:_.gye===undefined ? 0 : _R.SATools.getOffset(_.gye,dim.height,params.sdir,0)*2,\r\n                                                                        mw:dim.width,\r\n                                                                        mh:dim.height,\r\n                                                                        ease:_.e\r\n                                                                    }),0);\r\n                        }\r\n\r\n                    }\r\n                },\r\n                motionFilter : {\r\n                    init: function(BG,mo) {\r\n                        if(mo!==undefined && parseFloat(mo) > 0){\r\n                            mo = parseFloat(mo);\r\n                            BG.fmExists = true;\r\n                            BG.fmShadow = BG.fmShadow === undefined ? document.createElement('canvas') : BG.fmShadow;\r\n                            BG.fmCtx = BG.fmShadow.getContext('2d');\r\n                            BG.fmShadow.width = BG.ctx.canvas.width;\r\n                            BG.fmShadow.height = BG.ctx.canvas.height;\r\n                            BG.fmCtx.globalAlpha = tpGS.gsap.utils.mapRange(100, 0, 40, 0,mo) / 100;\r\n                            BG.fmCtx.clearRect(0, 0, BG.ctx.canvas.width, BG.ctx.canvas.height);\r\n                        } else BG.fmExists = false;\r\n                        return mo;\r\n                    },\r\n                    render : function(BG, o) {\r\n                        if(o === 'partial')BG.fmCtx.globalCompositeOperation = 'source-over';\r\n                        BG.fmCtx.drawImage(BG.canvas, 0, 0, BG.canvas.width, BG.canvas.height);\r\n                        BG.ctx.clearRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                        BG.ctx.drawImage(BG.fmCtx.canvas, 0, 0, BG.canvas.width, BG.canvas.height);\r\n                        if(o === 'partial')BG.fmCtx.globalCompositeOperation = 'source-atop';\r\n                        if(o === 'partial' || o === 'full'){\r\n                            BG.fmCtx.fillStyle = 'rgba(255, 255, 255, 0.1)';\r\n                            BG.fmCtx.fillRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                        }\r\n                    },\r\n                    clearFull : function(BG,TL) {\r\n                        if (BG.fmExists) {\r\n                            if (BG.fmCtx!==undefined) {\r\n                                BG.ctx.clearRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                                BG.fmCtx.clearRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                                if (TL!==undefined) TL.render(TL.time(), true, true);\r\n                            }\r\n                        }\r\n                    },\r\n                    complete : function(BG) {\r\n                        if(BG.fmShadow) BG.fmShadow.remove();\r\n                    }\r\n                },\r\n                d3 : {\r\n                    ticker : function(_,BG,dir) {\r\n                        if (_.helper===undefined) return;\r\n                        var min = _.smi * ( dir===\"in\" ? _.helper.oo : _.helper.o),\r\n                            max = _.sma * ( dir===\"in\" ? _.helper.oo : _.helper.o);\r\n\r\n                        //Gradient on Canvases\r\n                        _.gradient = _.d===\"vertical\" ? dir===\"in\" ? BG.ctx.createLinearGradient(0,0,0,BG.canvas.height) : BG.ctx.createLinearGradient(0,BG.canvas.height,0,0)\r\n                                                        : dir===\"in\" ? BG.ctx.createLinearGradient(0,0,BG.canvas.width,0) : BG.ctx.createLinearGradient(BG.canvas.width,0,0,0);\r\n\r\n                        _.gradient.addColorStop(0,'rgba('+_.sc+','+min+')');\r\n                        _.gradient.addColorStop(_.sl,'rgba('+_.sc+','+max+')');\r\n\r\n\r\n                        BG.ctx.fillStyle = _.gradient;\r\n                        BG.ctx.fillRect(0,0,BG.canvas.width,BG.canvas.height);\r\n\r\n\r\n                        //Gradient on Wall\r\n                        if(BG.cube!==undefined && BG.cube.ctx) {\r\n                            var rh = _.roomhelper!==undefined && _.roomhelper!==false ? (90-_.roomhelper.r)/90 : false;\r\n                            min =  rh!==false ? rh : _.smi * _.helper.o;\r\n                            max =  rh!==false ? rh : _.sma * _.helper.o;\r\n                            BG.cube.ctx.clearRect(0,0,BG.cube.ctx.canvas.width,BG.cube.ctx.canvas.height);\r\n                            _.gradientW = rh!==false ? _.d===\"vertical\" ? (_.t<0 && _.sdir===1) || (_.t>0 && _.sdir===-1) ?\r\n                                                        BG.ctx.createRadialGradient(0,BG.cube.ctx.canvas.width/2,0,0,0,BG.cube.ctx.canvas.width*2)\r\n                                                        : BG.ctx.createRadialGradient(BG.cube.ctx.canvas.width,0,0,0,0,BG.cube.ctx.canvas.width*2) :\r\n                                                        (_.t>0 && _.sdir===1) || (_.t<0 && _.sdir===-1) ?\r\n                                                        BG.ctx.createRadialGradient(BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height,0,BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height,BG.cube.ctx.canvas.width)\r\n                                                        : BG.ctx.createRadialGradient(BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height*0.2,0,BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height*0.2,BG.cube.ctx.canvas.width)\r\n                                            : _.d===\"vertical\" ? BG.ctx.createLinearGradient(0,0,0,BG.cube.ctx.canvas.height) : BG.ctx.createLinearGradient(0,0,BG.cube.ctx.canvas.width,0);\r\n\r\n                            _.gradientW.addColorStop(0,'rgba('+_.sc+','+(rh!==false ? _.DIR===\"a\" ? max : 0 : _.DIR===\"a\" ? 0 : max )+')');\r\n                            _.gradientW.addColorStop(1,'rgba('+_.sc+','+(rh!==false ? _.DIR===\"a\" ? 0 : max : _.DIR===\"a\" ? max : 0)+')');\r\n                            BG.cube.ctx.fillStyle = _.gradientW;\r\n                            BG.cube.ctx.fillRect(0,0,BG.cube.ctx.canvas.width,BG.cube.ctx.canvas.height);\r\n                        }\r\n\r\n                    },\r\n                    setWall : function(_,t,p,d,c,first) {\r\n                        _.TL = tpGS.gsap.timeline();\r\n                        _.TL.add(tpGS.gsap.to(_.c,0.2,{display:\"block\"}),0);\r\n                        if (p===\"rotationX\") {\r\n                            _.ctx.canvas.width = d.w;\r\n                            _.ctx.canvas.height = d.w;\r\n                            _.TL.add(tpGS.gsap.set(_.w,{backgroundColor:c,width : d.w, height : d.w, transformOrigin : \"50% 50% -\"+d.w/2+\"px\",x:0,y: t>0 ? -(d.w-d.h) : 0,rotationX: t>0 ? -90 : 90,rotationY: 0}),0);\r\n                        }\r\n                        else {\r\n                            _.ctx.canvas.width = first ? d.w : d.h;\r\n                            _.ctx.canvas.height = d.h;\r\n                            _.TL.add(tpGS.gsap.set(_.w,{backgroundColor:c,width: first ? d.w : d.h,height : d.h,transformOrigin : \"50% 50% -\"+(first ? d.w : d.h)/2+\"px\",x : t<0 ? (d.w-d.h) : 0,y : 0,rotationX : 0,rotationY : t>0 ? -90 : 90}),0);\r\n                        }\r\n                        return _.TL;\r\n                    },\r\n                    buildCube : function(BG) {\r\n                        BG.cube = { c:document.createElement('div'),\r\n                                    w:document.createElement('canvas')};\r\n                        BG.cube.ctx =  BG.cube.w.getContext('2d');\r\n                        BG.cube.c.className =\"rs_fake_cube\";\r\n                        BG.cube.w.className =\"rs_fake_cube_wall\";\r\n                        tpGS.gsap.set(BG.cube.c,{width:BG.mDIM.w, height:BG.mDIM.h});\r\n                        tpGS.gsap.set(BG.cube.w,{width:BG.mDIM.w, height:BG.mDIM.h, backgroundColor:\"#ccc\"});\r\n                        BG.cube.c.appendChild(BG.cube.w);\r\n                        BG.sbg.appendChild(BG.cube.c);\r\n\r\n                    },\r\n                    cubeTL : function(id,_,BG,dir) {\r\n                        if (_.f===\"none\" || _.f===undefined) return;\r\n\r\n                        BG.sbg.style.transformStyle = \"preserve-3d\";\r\n                        var TL = tpGS.gsap.timeline(),\r\n                            zDirection = _.f===\"incube\" ? 1 : -1,\r\n                            isCube = _.f===\"incube\" || _.f===\"cube\",\r\n                            rD = _.f===\"fly\" ? -30 : 90,\r\n                            tilt = _.f!==\"turn\" && _.t!==false && (_R_is_Editor || _R[id].firstSlideAnimDone===true),\r\n                            roomZ =  _.z*-1,\r\n                            frame_Canvas_from = {},\r\n                            frame_Z_from = {z:tilt ? 0 : roomZ ,ease:\"power1.inOut\"},\r\n                            frame_Canvas_to = {ease:_.e},\r\n                            frame_Z_to = {z:0,ease:\"power1.inOut\"},\r\n                            targets = [BG.canvas],\r\n                            canvasOrigin = isCube ? \"50% 50% \" : \"20% 20% \",\r\n                            canvasRotation = \"rotationX\",\r\n                            roomRotation = \"rotationY\",\r\n                            canvasMove = \"y\",\r\n                            canvasDistance = \"height\",\r\n                            canvasDuration = _.fd,\r\n                            DELAY = 0;\r\n\r\n                        if (_.d!==\"vertical\"){\r\n                            canvasRotation = \"rotationY\";\r\n                            roomRotation = \"rotationX\";\r\n                            canvasMove = \"x\";\r\n                            canvasDistance = \"width\";\r\n                            _.DIR = _.sdir === 1 ? \"b\" : \"a\";\r\n                        } else {\r\n                            _.DIR = _.sdir === 1 ? \"a\" : \"b\";\r\n                        }\r\n                        canvasDistance = canvasDistance===\"width\" ? \"w\" : canvasDistance===\"height\" ? \"h\" : canvasDistance;\r\n\r\n                        if (_.f===\"turn\") {\r\n                            rD = _.d===\"vertical\" ? -120 : 120;\r\n                            canvasOrigin = _.d===\"vertical\" ? _.sdir===1 ? dir===\"in\" ? \"0% 0% 0%\" : \"0% 100% 0%\" : dir===\"in\" ? \"0% 100% 0%\" : \"0% 0% 0%\" :\r\n                                                                _.sdir===1 ? dir===\"in\" ? \"0% 0% 0%\" : \"100% 0% 0%\" : dir===\"in\" ? \"100% 0% 0%\" : \"0% 0% 0%\";\r\n\r\n                            frame_Z_from.z = 0;\r\n                            frame_Canvas_to.ease = dir===\"out\" ? \"power3.out\" : frame_Canvas_to.ease;\r\n                            canvasDuration = dir===\"out\" ? canvasDuration/2 : canvasDuration;\r\n                        } else {\r\n                            canvasOrigin +=(zDirection*BG.mDIM[canvasDistance]/2 )+\"px\";\r\n                        }\r\n\r\n                        frame_Canvas_to[canvasRotation] = 0;\r\n                        frame_Canvas_to[canvasMove] = 0;\r\n                        if (dir===\"in\") frame_Canvas_from[canvasRotation] = rD * _.sdir; else frame_Canvas_to[canvasRotation] = -rD * _.sdir;\r\n\r\n\r\n                        if (_.f===\"fly\") {\r\n                            var fR = _.fz===undefined ? Math.random()*20-10 : parseInt(_.fz);\r\n                            if (dir===\"in\") {\r\n                                frame_Canvas_from[canvasMove] = BG.mDIM[canvasDistance]*(_.fdi===undefined ? 1.5 : parseFloat(_.fdi)) * _.sdir;\r\n                                frame_Canvas_from.rotateZ = _.sdir * fR;\r\n                                frame_Canvas_to.rotateZ = 0;\r\n                            } else {\r\n                                frame_Canvas_to[canvasMove] = -1 * (BG.mDIM[canvasDistance]*(_.fdo===undefined ? 2 : parseFloat(_.fdo)) * _.sdir);\r\n                                frame_Canvas_to.rotateZ = _.sdir * fR * -1;\r\n                            }\r\n                        }\r\n\r\n                        BG.sbg.style.perspective = tilt ? \"2500px\" : \"1500px\";\r\n\r\n                        // If Tilt set, need to change the perspective of parrents also\r\n                        if (tilt) {\r\n                            var frame_Room_Start = {z:roomZ*(_.f===\"fly\" ? 1.5 : 3),ease:\"power1.inOut\"},\r\n                                frame_Room_End = {z:0,ease:\"power1.inOut\"};\r\n                            frame_Room_Start[roomRotation] = -1*_.t;\r\n                            frame_Room_End[roomRotation] = 0;\r\n                            _.roomhelper = {r:0};\r\n                            TL.add(tpGS.gsap.set(_R_is_Editor ? RVS.SBGS[RVS.S.slideId].wrap : BG.wrap[0],{perspective:1200, transformStyle:\"preserve-3d\", transformOrigin:canvasOrigin}),0);\r\n                            TL.add(tpGS.gsap.to(BG.sbg,_.md*3,frame_Room_Start),0);\r\n                            TL.add(tpGS.gsap.to(BG.sbg,_.md*3,frame_Room_End),(canvasDuration-_.md));\r\n\r\n                            //Gradients Opacity on Wall\r\n                            TL.add(tpGS.gsap.to(_.roomhelper,_.md*3,{r:Math.abs(_.t)}),0);\r\n                            TL.add(tpGS.gsap.to(_.roomhelper,_.md*3,{r:0}),(canvasDuration-_.md));\r\n\r\n                            // Building the Cube\r\n                            if (dir===\"in\" && zDirection!==1 && isCube) {\r\n                                if (BG.cube===undefined)  _R.transitions.d3.buildCube(BG);\r\n                                TL.add(_R.transitions.d3.setWall(BG.cube,frame_Room_Start[roomRotation],roomRotation,BG.mDIM,_.c),0);\r\n                                targets.push(BG.cube.c);\r\n                            }\r\n                        } else {\r\n                            _.roomhelper=false;\r\n                            TL.add(tpGS.gsap.set(_R_is_Editor ? RVS.SBGS[RVS.S.slideId].wrap : BG.wrap[0],{perspective:\"none\", transformStyle:\"none\", transformOrigin:\"50% 50%\"}),0);\r\n                            if (!_R_is_Editor && _R[id].firstSlideAnimDone!==true && isCube) {\r\n                                if (BG.cube===undefined)  _R.transitions.d3.buildCube(BG);\r\n                                TL.add(_R.transitions.d3.setWall(BG.cube,frame_Canvas_from[canvasRotation],canvasRotation,BG.mDIM,_.c,true),0);\r\n                                TL.add(tpGS.gsap.fromTo(BG.cube.w,_.md*4,{opacity:0},{opacity:1}),0);\r\n                                targets.push(BG.cube.c);\r\n                            }\r\n                        }\r\n                        //Gradients Opacity\r\n                        _.helper = {o:0, oo:1};\r\n                        TL.add(tpGS.gsap.to(_.helper,canvasDuration,{o:1, oo:0, ease:_.e}),_.md+DELAY);\r\n\r\n                        TL.add(tpGS.gsap.set(targets,jQuery.extend(true,{},frame_Canvas_from,{force3D:true,transformOrigin:canvasOrigin})),0);\r\n                        if (_.f!==\"turn\") TL.add(tpGS.gsap.to(targets,_.md*3,frame_Z_from),0);\r\n                        TL.add(tpGS.gsap.to(targets,canvasDuration,frame_Canvas_to),_.md+DELAY);\r\n                        if (_.f!==\"turn\") TL.add(tpGS.gsap.to(targets,_.md*3,frame_Z_to),(canvasDuration-_.md));\r\n                        if (dir===\"out\" && zDirection!==1) TL.add(tpGS.gsap.to(targets,_.md*2,{opacity:0}),(_.dur - _.md*2));\r\n\r\n                        return TL;\r\n                    }\r\n                }\r\n            },\r\n\r\n\r\n            ////////////////////////////////////////////\r\n            // \t\tAnimate The Slide In/Out Effect  //\r\n            ////////////////////////////////////////////\r\n            animatedCanvasUpdate : function(id,BG) {\r\n                // ANIMATION PREPARATION\r\n                BG.cDIMS = _R.getBGCanvasDetails(id,BG);\r\n\r\n                BG.canvas.style.backgroundColor = \"transparent\";\r\n                BG.canvas.style.opacity = 1;\r\n\r\n                if (BG.canvas.width!==BG.mDIM.width) BG.canvas.width = BG.mDIM.width;\r\n                if (BG.canvas.height!==BG.mDIM.height) BG.canvas.height = BG.mDIM.height;\r\n\r\n                if(!_R_is_Editor && _R[id].clearModalBG === true) {\r\n                    BG.ctx.clearRect(0, 0, BG.canvas.width, BG.canvas.height);\r\n                    _R[id].clearModalBG = false;\r\n                    BG.sbg.parentNode.style.opacity = 1\r\n                }\r\n\r\n                BG.col = BG.col || 1;\r\n                BG.row = BG.row || 1;\r\n                BG.SLOT = jQuery.extend(true,{s:{},c:{}},slotSize(id,BG.col,BG.row, BG.mDIM,\"OW\",\"OH\"));\r\n                BG.SLOT.DX = 0-BG.SLOT.OW/2;\r\n                BG.SLOT.DY = 0-BG.SLOT.OH/2;\r\n                BG.row=Math.ceil(BG.mDIM.height/BG.SLOT.OH) || 1;\r\n\r\n                //FURTHER ADJUSTEMENTS\r\n                if (BG.callFromAnimatedCanvasUpdate!==undefined) BG.callFromAnimatedCanvasUpdate();\r\n\r\n\r\n            },\r\n\r\n            slideAnimFinished : function(id,BG,params,ignoreClear) {\r\n                if (BG===undefined) return;\r\n                //Clear BG of Outgoing Canvas to make sure not disturbing next time\r\n                if (BG.bgvid!==undefined && BG.bgvid.length>0 && params.direction===\"out\") {\r\n                    BG.drawVideoCanvasImagesRecall = false;\r\n                    _R.stopVideo(BG.bgvid,id);\r\n                    BG.bgvid[0].style.display=\"none\";\r\n                    BG.bgvid[0].style.zIndex=0;\r\n                }\r\n\r\n\t\t\tif(BG.panFake && BG.panFake.img){\r\n\t\t\t\tif(params.direction === \"out\") BG.panFake.img.style.display = \"none\";\r\n\t\t\t\telse BG.panFake.img.style.display = \"block\";\r\n\t\t\t}\r\n\r\n                if (params.direction===\"in\") {\r\n                    _R.transitions.motionFilter.complete(BG);\r\n                    BG.ctx.canvas.style.filter = \"none\";\r\n                    tpGS.gsap.set(params.slide,{zIndex:20});\r\n                    delete BG.animateDirection;\r\n                    if (BG.bgvid.length>0) {\r\n                        if (!BG.isHTML5) {\r\n                            _R.resetVideo(BG.bgvid,id);\r\n\t\t\t\t\t\ttpGS.gsap.delayedCall(0.1, function(){\r\n\t\t\t\t\t\t\t_R.playVideo(BG.bgvid,id,true);\r\n\t\t\t\t\t\t\ttpGS.gsap.set(BG.bgvid[0],{zIndex:30, display:\"block\",opacity:1});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttpGS.gsap.set(BG.bgvid[0],{zIndex:30, display:\"block\",opacity:1});\r\n                        }\r\n                    }\r\n                }\r\n                if (params.direction===\"out\") {\r\n                    tpGS.gsap.set(params.slide,{zIndex:10});\r\n                    tpGS.gsap.set(BG.canvas,{rotationX:0, rotationY:0, rotationZ:0,x:0,y:0,z:0,opacity:1});\r\n                    BG.currentState=undefined;\r\n                } else  BG.currentState=\"idle\";\r\n\r\n                if (BG.cube!==undefined) BG.cube.c.style.display=\"none\";\r\n                if (params.direction===\"in\") {\r\n                    //Recalculate it for better DPR\r\n                    _R.updateSlideBGs(id,BG.skeyindex, BG);\r\n                    //Update for good DPR the PanZoom Also\r\n                    if (BG.panzoom!==undefined && !_R_is_Editor) _R.startPanZoom(_R[id].pr_next_bg,id,(_R[id].panzoomTLs[BG.skeyindex]!==undefined ? _R[id].panzoomTLs[BG.skeyindex].progress() : 0),BG.skeyindex,'play', BG.key);\r\n                    // Clear the Rectangle of Outgoing Canvas\r\n                    if (params.BG!==undefined && ignoreClear!==true) params.BG.ctx.clearRect(0,0,BG.canvas.width*2, BG.canvas.height*2); // Clear the Out BG\r\n                }\r\n\r\n                //if (_R_is_Editor && RVS.TL[RVS.S.slideId].slideRepeat) RVS.TL[RVS.S.slideId].slide.progress(0).play();\r\n            },\r\n\r\n            animateCore : function(id,BG,_,params) {\r\n                var canvas = BG.canvas,\r\n                    ctx = BG.ctx,\r\n                    i,j,c=0, amnt,boxes;\r\n                BG.col = _.col;\r\n                BG.row = _.row;\r\n\r\n                // REMOVE WEBGL CONTAINERS IN CASE WE ARE IN EDIROR MODE\r\n                if (_R_is_Editor && BG.three) {\r\n                    BG.canvas.style.display=\"block\";\r\n                    while(BG.three.scene.children.length > 0){\r\n                        BG.three.scene.remove(BG.three.scene.children[0]);\r\n                    }\r\n                    BG.three.canvas.parentNode.removeChild(BG.three.canvas);\r\n                    BG.three = \tundefined;\r\n                }\r\n\r\n                _R.animatedCanvasUpdate(id,BG);\r\n                _.row = BG.row;\r\n\r\n                BG.animateDirection = params.direction;\r\n                params.delay = params.delay===undefined ? 0 : params.delay;\r\n                amnt = _.col * _.row,\r\n                boxes = Array(amnt);\r\n\r\n                // Build a Sprite for Extra BG\r\n                if (BG.help_canvas===undefined && params.direction===\"out\" && params.bgColor!==undefined) {\r\n                    BG.help_canvas = document.createElement('canvas');\r\n                    BG.help_ctx = BG.help_canvas.getContext('2d');\r\n                }\r\n\r\n                // Color the Sprite Background (For Fade Through Effects)\r\n                if (params.direction===\"out\" && params.bgColor!==undefined) {\r\n                    BG.help_canvas.width = BG.mDIM.width;\r\n                    BG.help_canvas.height = BG.mDIM.height;\r\n                    BG.help_ctx.fillStyle = params.bgColor;\r\n                    BG.help_ctx.fillRect(0,0,BG.mDIM.width,BG.mDIM.height);\r\n                }\r\n\r\n                //Init Motion Filter\r\n                _.mo = _R.transitions.motionFilter.init(BG,_.mo);\r\n\r\n                //Duration\r\n                _.dur = (_.ms/_.sec);\r\n\r\n                //3D Preparation\r\n                if (params.d3!==undefined) {\r\n                    params.d3.dur = _.dur;\r\n                    params.d3.fd = _.dur*0.7;\r\n                    params.d3.md = _.dur*0.15;\r\n                    params.d3.sdir = params.sdir;\r\n                }\r\n\r\n                BG.SLOT.c = { ws :0, hs : 0, wd : 0, hd : 0};\r\n                if (_.mo>0 && _R_is_Editor) ctx.clearRect(0,0,canvas.width, canvas.height);\r\n\r\n                // Main Animation\r\n                var TL = tpGS.gsap.timeline({onUpdate:function() {\r\n\r\n                    c = 0;\r\n                    //Check Motion Filtler\r\n                    if(_.mo > 0)\r\n                        _R.transitions.motionFilter.render(BG, _.moo);\r\n                    else\r\n                        ctx.clearRect(0,0,canvas.width, canvas.height);\r\n\r\n                    //Helper Background\r\n                    if (BG.help_canvas && params.direction===\"out\") ctx.drawImage(BG.help_canvas,  0,0);\r\n\r\n                    //Draw Filter\r\n                    if((params.filter && params.filter.u) || !_R_is_Editor)\r\n                        _R.transitions.filter.update(params.filter,ctx,BG.canvasFilterBlur);\r\n\r\n                    if (_R_is_Editor && (_.zIndex!==0 && _.zIndex!==undefined)) tpGS.gsap.set(params.slide,{zIndex:_.zIndex});\r\n\r\n\r\n                    if (BG.shadowCanvas!==undefined)\r\n                        for(i=0;i<_.col;i++) {\r\n                            BG.SLOT.SX = BG.SLOT.OW*i;\r\n                            BG.SLOT.tw = BG.SLOT.OW*(i+0.5);\r\n\r\n                            BG.SLOT.c.wd = BG.mDIM.width - (BG.SLOT.tw+BG.SLOT.DX+BG.SLOT.OW);\r\n                            BG.SLOT.c.wd = (BG.SLOT.c.wd<0 ? BG.SLOT.c.wd : 0);\r\n                            BG.SLOT.DW = BG.SLOT.SW = BG.SLOT.OW+BG.SLOT.c.wd;\r\n\r\n                            for (j=0;j<_.row;j++) {\r\n                                ctx.save();\r\n                                var r =   -(Math.PI / 180) * boxes[c].r,\r\n                                    csx = _.r!==0 ? Math.cos(r) * boxes[c].sx : boxes[c].sx,\r\n                                    csy = _.r!==0 ? Math.cos(r) * boxes[c].sy : boxes[c].sy,\r\n                                    ssx = _.r!==0 ? Math.sin(r) * boxes[c].sx : 0,\r\n                                    ssy = _.r!==0 ? Math.sin(r) * -boxes[c].sy : 0;\r\n                                BG.SLOT.SY = (BG.SLOT.OH*j);\r\n                                BG.SLOT.th = BG.SLOT.OH*(j+0.5);\r\n\r\n                                //Before Draw Specials\r\n                                if (_R.transitions[params.effect] && _R.transitions[params.effect].beforeDraw) _R.transitions[params.effect].beforeDraw(id,ctx,boxes[c],BG);\r\n\r\n                                if (_.m) { // MASK !?\r\n                                    ctx.beginPath();\r\n                                    ctx.rect(BG.SLOT.OW*i,  BG.SLOT.OH*j, BG.SLOT.OW, BG.SLOT.OH);\r\n                                    ctx.clip();\r\n                                }\r\n\r\n                                ctx.transform(csx, ssx, ssy, csy, (BG.SLOT.tw+ boxes[c].x), (BG.SLOT.th+ boxes[c].y));\r\n                                ctx.globalAlpha = Math.max(0,boxes[c].o);\r\n\r\n\r\n                                BG.SLOT.c.hd = BG.mDIM.height - (BG.SLOT.th+BG.SLOT.DY+BG.SLOT.OH);\r\n                                BG.SLOT.c.hd = (BG.SLOT.c.hd<0 ? BG.SLOT.c.hd : 0);\r\n                                BG.SLOT.DH = BG.SLOT.SH = BG.SLOT.OH+BG.SLOT.c.hd;\r\n\r\n                                if (BG.SLOT.SW>1 && BG.SLOT.SH>1)\r\n                                    ctx.drawImage(BG.shadowCanvas,  BG.SLOT.SX, BG.SLOT.SY,\r\n                                                                    BG.SLOT.SW , BG.SLOT.SH,\r\n                                                                    BG.SLOT.DX, BG.SLOT.DY,\r\n                                                                    BG.SLOT.DW, BG.SLOT.DH);\r\n                                ctx.restore();\r\n                                //After Draw Specials\r\n                                if (_R.transitions[params.effect] && _R.transitions[params.effect].afterDraw)\r\n                                    _R.transitions[params.effect].afterDraw(id,ctx,boxes[c],BG,{csx:csx,csy:csy,ssx:ssx,ssy:ssy});\r\n\r\n                                c++;\r\n                            }\r\n                        }\r\n                    if (params.d3!==undefined && params.d3.su) _R.transitions.d3.ticker(params.d3,BG,params.direction);\r\n                    BG.currentState=\"animating\";\r\n                },\r\n\r\n\r\n                onComplete:function() {\r\n                    _R.slideAnimFinished(id,BG,params);\r\n                }});\r\n\r\n                // Protection against Gsap Bug\r\n                if (_.col*_.row<2) _.f = \"start\";\r\n\r\n                // Set Right zIndex on Elements\r\n                if (_.zIndex!==0 && _.zIndex!==undefined) TL.add(tpGS.gsap.set(params.slide,{zIndex:parseInt(_.zIndex,0)}),0);\r\n\r\n                _.m = _.m==\"false\" || _.m===false ? false : true;\r\n\r\n                //SINGLE BOX ANIMATIONS\r\n                if (params.direction===\"in\") {\r\n                    for (i=0;i<amnt;i++) boxes[i] = { \tx:_R.SATools.getOffset(_.x,_.m ? BG.SLOT.OW :BG.mDIM.width,params.sdir,i),\r\n                                                        y:_R.SATools.getOffset(_.y,_.m ? BG.SLOT.OH : BG.mDIM.height,params.sdir,i),\r\n                                                        o:_R.SATools.getSpecialValue(_.o,i,params.sdir),\r\n                                                        sx:_R.SATools.getSpecialValue(_.sx,i,params.sdir),\r\n                                                        sy:_R.SATools.getSpecialValue(_.sy,i,params.sdir),\r\n                                                        r:_.r!==0 ? _R.SATools.getSpecialValue(_.r,i,params.sdir) : 0\r\n                                                    }\r\n                    TL.add(tpGS.gsap.to(boxes, _.dur, { o:1, sx:1, sy:1, r:0,  x:0, y:0, ease:_.e, stagger:{amount:_.f===\"nodelay\" ? 0 : _.ms/_.stasec,grid:[_.col,_.row],from:_.f===\"nodelay\" ? \"start\" : _.f}}),params.delay);\r\n                    //3D Cube, InCube Etc.\r\n\r\n                    if (params.d3!==undefined) TL.add(_R.transitions.d3.cubeTL(id,params.d3,BG,\"in\"),0);\r\n\r\n                    //Extend TimeLine with Filters\r\n                    _R.transitions.filter.extendTimeLine(TL,params.filter,BG);\r\n                } else {\r\n                    for (i=0;i<amnt;i++) boxes[i] = {x:0, y:0, o:1, sx:1, sy:1, r:0 }\r\n                    TL.add(tpGS.gsap.to(boxes, _.dur, {\to:function(i) { return _R.SATools.getSpecialValue(_.o,i,params.sdir)},\r\n                                                                sx:function(i) { return _R.SATools.getSpecialValue(_.sx,i,params.sdir)},\r\n                                                                sy:function(i) { return _R.SATools.getSpecialValue(_.sy,i,params.sdir)},\r\n                                                                r:_.r!==0  && _.r!==undefined ? function(i) { return _R.SATools.getSpecialValue(_.r,i,params.sdir)} : 0,\r\n                                                                x:function(i) { return _R.SATools.getOffset(_.x,_.m ? BG.SLOT.OW :BG.mDIM.width,params.sdir,i) * (_.reversed ? -1 : 1)},\r\n                                                                y:function(i) { return _R.SATools.getOffset(_.y,_.m ? BG.SLOT.OH : BG.mDIM.height,params.sdir,i) * (_.reversed ? -1 : 1)},\r\n                                                                ease:_.e,\r\n                                                                stagger:{amount:_.f===\"nodelay\" ? 0 :_.ms/_.stasec,grid:[_.col,_.row],from:_.f===\"nodelay\" ? \"start\" : _.f}\r\n                                                            }),params.delay + (_.outdelay!==undefined ? _.outdelay : 0));\r\n                    if (params.d3!==undefined) TL.add(_R.transitions.d3.cubeTL(id,params.d3,BG,\"out\"),0);\r\n                }\r\n\r\n                // TL Extensions Due other Animations\r\n                if (_R.transitions[params.effect] && _R.transitions[params.effect].extendTimeLine)\r\n                    _R.transitions[params.effect].extendTimeLine(id,TL,boxes, _,params,BG.mDIM);\r\n\r\n                if (_R_is_Editor) RVS.TL[RVS.S.slideId].slide.add(TL,0); else _R[id].mtl.add(TL,params.delay);\r\n            }\r\n        });\r\n\r\n\r\n\r\n    var toDefNum = function(d,a) {\r\n            return a!==undefined && _R.isNumeric(a) ? parseFloat(a,0) : a==undefined || a===\"default\" || a===\"d\" ? d : a;\r\n        },\r\n\r\n        //Calculate Slot Size\r\n        slotSize = function(id, col, row,dim,w,h) {\r\n            var r = {};\r\n            r[w] = Math.ceil(dim.width/col);\r\n            r[h] = _R_is_Editor ? Math.ceil(dim.height/row) : /*(_R[id].sliderLayout==\"fullscreen\" && _R[id].keepBGMaxHeightsOnFullscreen) ? Math.ceil(Math.max(!_R_is_Editor ? _R[id].module.height : 0,(_R.getWinH(id)-_R[id].fullScreenOffsetResult))/row) :*/ Math.ceil(dim.height/row);\r\n            return  r;\r\n        },\r\n\r\n        MinOne = function(a) {\r\n            return a===undefined || a===null || a===0 || a===NaN ? 1 : a;\r\n        },\r\n\r\n        //Get the Searched Animation\r\n        getAnim = function(id,obj,sdir) {\r\n\r\n            var\tanim =  _R.transitions[obj.anim.e] !== undefined  && _R.transitions[obj.anim.e].getBasic!==undefined ? _R.transitions[obj.anim.e].getBasic() : _R.getBasic(),\r\n                a = \"\";\r\n\r\n            //MOVE OPTIONS\r\n            anim.out = anim.out==undefined ? {} : anim.out;\r\n            anim.out.reversed = obj.out!==undefined ? false : anim.out.reversed===undefined ? true : anim.out.reversed;\r\n\r\n            // Translate Directsion from up,down,left,right to GBO(x) or to Definition due Animation Defaults or due Set x,y %s\r\n            var in_dist = obj.iw!==undefined ? parseInt(obj.iw,0) : 100,\r\n                out_dist = obj.ow!==undefined ? parseInt(obj.ow,0) : 100;\r\n\r\n            // Collect Needed Attributes\r\n            for (var i in anim.attr) if (anim.attr.hasOwnProperty(i)) {\r\n                a = anim.attr[i];\r\n                anim.in[a] = toDefNum(anim.in[a], obj.in[a]);  // Get Values from Object\r\n                anim.out[a] = anim.out.reversed ? anim.in[a] : obj.out===undefined ? anim.out[a] : toDefNum(anim.out[a], obj.out[a]); // Get Values from Object\r\n            }\r\n\r\n            //Get Filters\r\n            anim.filter = obj.filter!==undefined ? jQuery.extend(true,obj.filter,obj.filter) : anim.filter;\r\n\r\n\r\n\r\n            //Extend, update Options\r\n            if (_R.transitions[obj.anim.e] && _R.transitions[obj.anim.e].updateAnim) anim = _R.transitions[obj.anim.e].updateAnim(id,anim,sdir);\r\n            anim.e = obj.anim.e;\r\n\r\n            //ROW, COL min 1 !\r\n            if (anim.in!==undefined) { anim.in.col = anim.in.col===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.in.col);anim.in.row = anim.in.row===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.in.row);}\r\n            if (anim.out!==undefined) { anim.out.col = anim.out.col===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.out.col);anim.out.row = anim.out.row===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.out.row);}\r\n\r\n            return anim;\r\n        },\r\n\r\n        // Prepate The Slide Animation\r\n        prepareSlideAnimation = function(id,obj) {\r\n\r\n            if (!_R_is_Editor) _R[id].duringslidechange = true;\r\n\r\n            // GET THE TRANSITION\r\n            var SDIR = _R_is_Editor ? -1 : _R[id].sc_indicator==\"arrow\" ? _R[id].sc_indicator_dir===undefined ? _R[id].sdir : _R[id].sc_indicator_dir : _R[id].sdir,\r\n                NBGE = _R_is_Editor ? true : _R[id].pr_next_bg!==undefined && _R[id].pr_next_bg.length>0 && _R[id].pr_next_bg[0]!==undefined,\r\n                CBGE = _R_is_Editor ? true : _R[id].pr_active_bg!==undefined && _R[id].pr_active_bg.length>0 && _R[id].pr_active_bg[0]!==undefined,\r\n\r\n                nBG = _R_is_Editor ? RVS.SBGS[RVS.S.slideId].n : NBGE ? _R[id].sbgs[_R[id].pr_next_bg[0].dataset.key] : undefined,\r\n                cBG = _R_is_Editor ? RVS.SBGS[RVS.S.slideId].c : CBGE ? _R[id].sbgs[_R[id].pr_active_bg[0].dataset.key] : undefined,\r\n                _;\r\n\r\n            SDIR = SDIR === 1 ? -1 : 1; //-1 -> Previous, 1 -> Next\r\n\r\n            if (!_R_is_Editor) {\r\n                delete _R[id].sc_indicator;\r\n                delete _R[id].sc_indicator_dir;\r\n            }\r\n\r\n            _ = jQuery.extend(true,{},getAnim(id,obj,SDIR));\r\n\r\n\r\n            if (nBG.random!==undefined  && _R.SLTR!==undefined && cBG!==undefined) {\r\n                delete cBG.help_canvas;\r\n                delete cBG.help_ctx;\r\n            }\r\n\r\n\r\n            //GET NOT DEFAULTS\r\n            _.ms = toDefNum(undefined,obj.anim.ms===undefined ? 1000 : obj.anim.ms);\r\n\r\n\r\n            _.f = toDefNum(undefined,obj.anim.f);\r\n            _.p = toDefNum(undefined,obj.anim.p);\r\n            _.d = toDefNum(undefined,obj.anim.d);  // Delays in Staggers\r\n            _.o = obj.anim.o;\r\n\r\n\r\n            if (obj.d3!==undefined)  {\r\n                obj.d3.t = obj.d3.t===undefined || obj.d3.t===0 ? false : obj.d3.t;\r\n                obj.d3.su = obj.d3.su==\"true\" || obj.d3.su==true ? true : false;\r\n                if (obj.d3.su) {\r\n                    obj.d3.smi = obj.d3.smi===undefined ? 0 : parseFloat(obj.d3.smi);\r\n                    obj.d3.sl = obj.d3.sl===undefined ? 1 : parseFloat(obj.d3.sl);\r\n                    obj.d3.sma = obj.d3.sma===undefined ? 0.5 : parseFloat(obj.d3.sma);\r\n                    obj.d3.sc = obj.d3.sc===undefined ? '0,0,0' : tpGS.gsap.utils.splitColor(obj.d3.sc).join(',');\r\n                }\r\n                _.p=\"none\";\r\n                if (_.in.row!==undefined && _.in.col!==undefined && _.in.row*_.in.col>200) _.filter = undefined;\r\n            }\r\n\r\n\r\n            // ADJUST SETTINGS\r\n            _.in.sec = _.in.sec===undefined ? 1000 : _.in.sec;\r\n            _.in.stasec = _.in.stasec===undefined ? _.d===undefined ? 1500 : _.d*100 : _.in.stasec;\r\n\r\n            _.in.ms = _.ms===\"default\" || _.ms===\"d\" ? _.in.ms : _.ms===\"random\" ? Math.round(Math.random()*1000+300) : _.ms!=undefined ? parseInt(_.ms,0) : _.in.ms;\r\n            _.out.ms = _.in.ms;\r\n\r\n\r\n            if (_.filter!==undefined) {\r\n                _.filter.ms = _.in.ms;\r\n                _.filter.sec = _.in.sec;\r\n                _.filter.e = _.filter.e===undefined || _.filter.e===\"default\"? _.in.e : _.filter.e;\r\n            }\r\n\r\n            // Also Write From into in and out\r\n            _.in.f = _.f===undefined || _.f===\"default\" || _.f===\"d\" ? _.in.f : _.f;\r\n            _.in.f = _.in.f ===\"slidebased\" ? SDIR==1 ? 'start' : 'end' :  _.in.f ===\"oppslidebased\" ? SDIR===1 ? 'end' : 'start' : _.in.f;\r\n            _.out.f = _.in.f;\r\n            _.out = jQuery.extend(true,{},_.in,_.out);\r\n\r\n            // GET ENGINE\r\n            _.in.eng = _.out.eng = obj.anim.eng;\r\n\r\n\t\t// Out Engin is not available ? Set in/out Fade instead\r\n\t\tif (_.out.eng!==undefined && _R[_.out.eng]==undefined) {\r\n\t\t\t_.out.o = 0;\r\n\t\t\t_.in.o = 0;\r\n\t\t\t_.in.ms = _.out.ms = 1000;\r\n\t\t\t_.in.eng = _.out.eng = 'animateCore';\r\n\t\t}\r\n\r\n            //PAUSE OPTIONS\r\n            if (_.p!==undefined && _.p!==\"none\") {\r\n                _.in.bg = _.p===\"dark\" ? '#000' : _.p===\"light\" ? '#fff' : 'transparent';\r\n                _.out.delay = _.p!==\"none\" ? function(a,b) { return a/2.5} : 0;\r\n\r\n                // If Outgoing Animation does not move at all, we can fade out to show BG of Incoming Animation\r\n                if (_.out.o===1 && _.out.x===0 && _.out.y===0) _.out.o = 0;\r\n            }\r\n\r\n\r\n\r\n            // CHECK IF zINDEX NEED TO BE CHANGED !\r\n            if (_.o===\"forceinout\") {\r\n                _.in.zIndex = 20;\r\n                _.out.zIndex = 10;\r\n            } else\r\n            if (_.o===\"outin\" || (_.in.o===1 && _.in.x===0 && _.in.y===0 && (obj.out!==undefined && (_.out.o!==1 || _.out.x!==0 || _.out.y!==0)))) {\r\n                _.in.zIndex = 10;\r\n                _.out.zIndex = 20;\r\n            }\r\n\r\n\r\n            // VIDEO NEED TO BE STOPPED DURING SLIDE ANIMATION AT SOME SLIDE ANIMATIONS\r\n            if (nBG.bgvid.length>0) _.in = setBGVideoHandling(id,_.in,nBG,\"in\");\r\n            if (CBGE && cBG.bgvid!==undefined && cBG.bgvid.length>0) _.out = setBGVideoHandling(id,_.out,cBG,\"out\");\r\n\r\n            // FALL BACK TO SIMPLE ANIMATION IF YOUTUBE/VIMEO VIDEO EXISTS\r\n            if (_.out!==undefined && (_.out.simplify || _.in.simplify)) _.out = simplify(_.out);\r\n            if (_.in.simplify) _.in = simplify(_.in);\r\n\r\n            // FIX PARALLAX CALCULATION IF NEEDED, BUT IGNORE LAYERS FOR THE MOMENT\r\n            if (!_R_is_Editor) requestAnimationFrame(function() {_R.generalObserver(_R.ISM,true);});\r\n\r\n\r\n            _.in.eng = _.in.eng===undefined ? \"animateCore\" : _.in.eng;\r\n            _.out.eng = _.out.eng===undefined ? \"animateCore\" : _.out.eng;\r\n\r\n\r\n            // Animate In and Out the Slide Background Content\r\n            if (CBGE && _.out.skip!==true) _R[_.out.eng](id,cBG, _.out,{\teffect:_.e,\r\n                                                                                slide:_R_is_Editor ? RVS.SBGS[RVS.S.slideId].c.sbg : _R[id].pr_active_slide,\r\n                                                                                direction:\"out\",\r\n                                                                                delay:0,\r\n                                                                                bgColor:_.in.bg,\r\n                                                                                sdir:SDIR,\r\n                                                                                filter:undefined,\r\n                                                                                d3:obj.d3,\r\n                                                                                addOns:_R_is_Editor ? obj.addOns : undefined\r\n                                                                            });\r\n\r\n            if (_.in.skip!==true) _R[_.in.eng](id,nBG,_.in, {\teffect:_.e,\r\n                                                                    slide:_R_is_Editor ? RVS.SBGS[RVS.S.slideId].n.sbg : _R[id].pr_next_slide,\r\n                                                                    direction:\"in\",\r\n                                                                    delay:CBGE ? typeof _.out.delay===\"function\" ? _.out.delay(_.in.ms/1000, _.out.row*_.out.col) : _.out.delay : _.in.delay,\r\n                                                                    BG:cBG,\r\n                                                                    outslide:_R_is_Editor ? RVS.SBGS[RVS.S.slideId].c.sbg : _R[id].pr_active_slide,\r\n                                                                    sdir:SDIR,\r\n                                                                    filter:_.filter,\r\n                                                                    d3:obj.d3,\r\n                                                                    addOns:_R_is_Editor ? obj.addOns : undefined\r\n                                                                });\r\n\r\n            return;\r\n        },\r\n\r\n\r\n\r\n\r\n\r\n        ///////////////////////////////////////////////\r\n        ///\tGet cover, contain and auto dimenstions //\r\n        //////////////////////////////////////////////\r\n        getContentDimensions = function(c,nBG,r) {\r\n\r\n\r\n            function getPos(c,i,off) {\r\n                var x,y;\r\n                off = off.split(\" \");\r\n                if (off.length===1) off[1] = off[0];\r\n\r\n                x = off[0]===\"center\" || off[0]===\"50%\" ? (c.width - i.width) / 2 :\r\n                        off[0]===\"left\" ? 0 :\r\n                        off[0]===\"right\" ? (c.width - i.width) :\r\n                        !_R.isNumeric(off[0]) ? off[0].indexOf('%')>=0 ? (parseInt(off[0],0)/100 * c.width) - (parseInt(off[0],0)/100 * i.width): parseInt(off[0],0) : 0;\r\n\r\n                y = off[1]===\"center\" || off[1]===\"50%\" ? (c.height - i.height) / 2 :\r\n                        off[1]===\"top\" ? 0 :\r\n                        off[1]===\"bottom\" ? (c.height - i.height) :\r\n                        !_R.isNumeric(off[1]) ? off[1].indexOf('%')>=0 ? (parseInt(off[1],0)/100 * c.height) - (parseInt(off[1],0)/100 * i.height) : parseInt(off[1],0) : 0;\r\n                return {x:x, y:y};\r\n            }\r\n            var mratio = c.height / c.width;\r\n\r\n            r.ratio = r.conth / r.contw;\r\n            // DRAW IMAGE (Center, Center)\r\n            if ((r.ratio < mratio && nBG.bgfit === 'contain') || (r.ratio > mratio && nBG.bgfit === 'cover'))\r\n                r.height = c.width * r.ratio;\r\n            else\r\n            if ((r.ratio > mratio && nBG.bgfit === 'contain') || (r.ratio < mratio && nBG.bgfit === 'cover'))\r\n                r.width = c.width * mratio / r.ratio;\r\n            else\r\n            if (r.ratio===mratio && (nBG.bgfit === 'contain' || nBG.bgfit === 'cover')) r.width = c.width;\r\n            else {\r\n                var fit = nBG.bgfit.split(\" \");\r\n                if (fit.length===1) fit[1] = fit[0];\r\n                r.width = fit[0]===\"auto\" ? r.contw : c.width * (parseInt(fit[0],0)/100);\r\n                r.height = fit[1]===\"auto\" ? r.conth : r.width * r.ratio;\r\n                nBG.usepattern=true;\r\n            }\r\n            var p = getPos(c, r, nBG.bgposition);\r\n            r.x = p.x;\r\n            r.y = p.y;\r\n\r\n            return r;\r\n        },\r\n\r\n\r\n        ///////////////////////////////////////////////////////////////////////////////////////\r\n        // Make complex Animations to normal Fade animations (for YouTuve and Vimeo Content) //\r\n        ///////////////////////////////////////////////////////////////////////////////////////\r\n        simplify = function(_) {\r\n            _.o = 0; _.r = 0;_.row = 1;_.col = 1;_.x = 0;_.y = 0;_.sx = 1; _.sy = 1;\r\n            return _;\r\n        },\r\n\r\n        tf = function(v) {\r\n            if (v===\"false\" || v===false || v===\"off\" || v===undefined || v===0 || v===-1)\r\n                v=false;\r\n            else\r\n                v=true;\r\n            return v;\r\n        },\r\n\r\n\r\n        componentToHex = function(c) {\r\n          var hex = c.toString(16);\r\n          return hex.length == 1 ? \"0\" + hex : hex;\r\n        },\r\n\r\n        radToDeg = function(radians){\r\n          var pi = Math.PI;\r\n          return radians * (180/pi);\r\n        },\r\n\r\n        degToRad = function(degrees){\r\n          var pi = Math.PI;\r\n          return degrees * (pi/180);\r\n        },\r\n\r\n        //////////////////////////////////////////\r\n        // Prepare Video Content for Animation\t//\r\n        //////////////////////////////////////////\r\n        setBGVideoHandling = function(id,_,BG,dir) {\r\n            _.skip = false;\r\n            if (dir===\"in\") { // INCOMING VIDEO HANDLING\r\n                if (BG.isHTML5) { //HTML5 Video\r\n                    BG.bgvid[0].style.display=\"none\";\r\n                    _R.resetVideo(BG.bgvid,id);\r\n                    BG.animateDirection = \"in\";\r\n                    BG.currentState=\"animating\";\r\n                    BG.drawVideoCanvasImagesRecall=true;\r\n                    _R.updateVideoFrames(id,BG,true);\r\n                    _R.playVideo(BG.bgvid,id);\r\n                } else {\r\n                    _R[id].videos[BG.bgvid[0].id].pauseCalled = false;\r\n                    _.waitToSlideTrans = _R[id].videos[BG.bgvid[0].id].waitToSlideTrans; //Wait Video Start until animation done ?\r\n\r\n                    if (BG.poster!==true) { // HAS NO COVER ->\r\n                        _R.resetVideo(BG.bgvid,id);\r\n                        _R[id].videos[BG.bgvid[0].id].prePlayForaWhile = false; //Vimeo Video does Preload some frame to be able to jump on right Frame\r\n                        if (_.waitToSlideTrans!==true) _R.playVideo(BG.bgvid,id,true);\r\n                        tpGS.gsap.fromTo(BG.bgvid,_.ms/_.sec,{zIndex:30,display:\"block\",opacity:0},{opacity:1,zIndex:30,display:\"block\"});\r\n                        BG.loadobj.bgColor = true;\r\n                        BG.bgcolor = \"#000\";\r\n                        _.simplify = true;\r\n                    } else { // HAS COVER\r\n                        _R[id].videos[BG.bgvid[0].id].prePlayForaWhile = false;\r\n                        _R.resetVideo(BG.bgvid,id);\r\n                        _R.playVideo(BG.bgvid,id);\r\n                        BG.bgvid[0].style.display=\"none\";\r\n                        BG.bgvid[0].style.zIndex=0;\r\n                        BG.bgvid[0].style.opacity=0;\r\n                    }\r\n                }\r\n            } else\r\n            if (dir===\"out\") {\r\n                if (BG.isHTML5) { // HTML5 VIDEO\r\n                    BG.currentState=\"animating\";\r\n                    BG.drawVideoCanvasImagesRecall=true;\r\n                    _R.updateVideoFrames(id,BG,true);\r\n                    window.requestAnimationFrame(function() {\r\n                        tpGS.gsap.to(BG.bgvid,0.1,{zIndex:0,display:\"none\"});\r\n                    });\r\n                } else { // YOUTUBE, VIMEO VIDEO\r\n\r\n                    _R.stopVideo(BG.bgvid,id,true);\r\n                    if (BG.poster!==true) {\r\n                        BG.loadobj.bgColor = true;\r\n                        BG.bgcolor = \"#000\";\r\n                    }\r\n                }\r\n            }\r\n            return _;\r\n        },\r\n\r\n        dist = function(x1, y1, x2, y2){ return Math.sqrt( Math.pow((x1-x2),2) + Math.pow((y1-y2),2));},\r\n        getPerpLine = function(p, ang){ var a = ang + Math.PI/2; return { x1: p.x, y1: p.y, x2: p.x + Math.cos(a) * 100, y2: p.y + Math.sin(a) * 100}},\r\n        lineIntersect = function(l1, l2) {\r\n            var A1 = l1.y2 - l1.y1,\r\n                B1 = l1.x1 - l1.x2,\r\n                C1 = A1 * l1.x1 + B1 * l1.y1,\r\n                A2 = l2.y2 - l2.y1,\r\n                B2 = l2.x1 - l2.x2,\r\n                C2 = A2 * l2.x1 + B2 * l2.y1,\r\n                denominator = (A1 * B2 - A2 * B1);\r\n\r\n            return denominator === 0 ? false : {\r\n                x: Math.round((B2 * C1 - B1 * C2) / denominator*100) / 100,\r\n                y: Math.round((A1 * C2 - A2 * C1) / denominator*100) / 100\r\n            }\r\n        }\r\n        //Support Defer and Async and Footer Loads\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.slideanims = {loaded:true, version:version};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n    })(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.parallax.js":"/********************************************\r\n * REVOLUTION EXTENSION - PARALLAX\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n *********************************************/\r\n(function ($) {\r\n\t\"use strict\";\r\n\tvar version = \"6.6.0\";\r\n\tjQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\tvar _R = jQuery.fn.revolution;\r\n\r\n\tjQuery.extend(true, _R, {\r\n\r\n\t\tcheckForParallax: function (id) {\r\n\r\n\t\t\tvar _ = _R[id].parallax;\r\n\r\n\r\n\t\t\tif (_.done) return;\r\n\t\t\t_.done = true;\r\n\r\n\t\t\tif (_R.ISM && _.disable_onmobile) return false;\r\n\r\n\t\t\tif (_.type == \"3D\" || _.type == \"3d\") {\r\n\t\t\t\t_R.addSafariFix(id);\r\n\t\t\t\ttpGS.gsap.set(_R[id].c, {\r\n\t\t\t\t\toverflow: _.ddd_overflow\r\n\t\t\t\t});\r\n\t\t\t\ttpGS.gsap.set(_R[id].canvas, {\r\n\t\t\t\t\toverflow: _.ddd_overflow\r\n\t\t\t\t});\r\n\t\t\t\tif (_R[id].sliderType != \"carousel\" && _.ddd_shadow) {\r\n\t\t\t\t\tvar dddshadow = jQuery('<div class=\"dddwrappershadow\"></div>');\r\n\t\t\t\t\ttpGS.gsap.set(dddshadow, {\r\n\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\ttransformPerspective: 1600,\r\n\t\t\t\t\t\ttransformOrigin: \"50% 50%\",\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\tzIndex: 0\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_R[id].c.prepend(dddshadow);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tfor (var i in _R[id].slides)\r\n\t\t\t\t\tif (_R[id].slides.hasOwnProperty(i)) setDDDInContainer(jQuery(_R[id].slides[i]),id);\r\n\t\t\t\tif (_R[id].c.find('rs-static-layers').length > 0) {\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].c.find('rs-static-layers'), {\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDDDInContainer(_R[id].c.find('rs-static-layers'),id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_.pcontainers = {};\r\n\t\t\t_.bgcontainers = [];\r\n\t\t\t_.bgcontainer_depths = [];\r\n\t\t\t_.speed = _.speed === undefined ? 0 : parseInt(_.speed, 0);\r\n\t\t\t_.speedbg = _.speedbg === undefined ? 0 : parseInt(_.speedbg, 0);\r\n\t\t\t_.speedls = _.speedls === undefined ? 0 : parseInt(_.speedls, 0);\r\n\r\n\t\t\t_R[id].c.find('rs-slide rs-sbg-wrap, rs-slide rs-bgvideo').each(function () {\r\n\t\t\t\tvar t = jQuery(this),\r\n\t\t\t\t\tl = t.data('parallax');\r\n\r\n\t\t\t\t//This Solves Flickering on BG Elements in Mac Chrome\r\n\t\t\t\tif (!window.isSafari11) _R[id].parZ = 1;\r\n\r\n\t\t\t\tl = l == \"on\" || l === true ? 1 : l;\r\n\t\t\t\tif (l !== undefined && (l !== \"off\" && l !== false)) {\r\n\t\t\t\t\t_.bgcontainers.push(t.closest('rs-sbg-px'));\r\n\t\t\t\t\t_.bgcontainer_depths.push(_R[id].parallax.levels[parseInt(l, 0) - 1] / 100);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfor (var i = 1; i <= _.levels.length; i++) {\r\n\t\t\t\tfor(var key in _R[id].slides){\r\n\t\t\t\t\tif(!_R[id].slides.hasOwnProperty(key)) continue;\r\n\t\t\t\t\tvar slide = _R[id].slides[key];\r\n\t\t\t\t\tvar skey = slide.dataset.key;\r\n\t\t\t\t\tif(_.pcontainers[skey] === undefined) _.pcontainers[skey] = {};\r\n\t\t\t\t\tcollectParallaxTargets(i, _, slide, _.pcontainers[skey])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar skey = 'static';\r\n\t\t\t\tif(_.pcontainers[skey] === undefined) _.pcontainers[skey] = {};\r\n\t\t\t\tcollectParallaxTargets(i, _, _R[id].slayers[0], _.pcontainers[skey]);\r\n\t\t\t\tif (JSON.stringify(_.pcontainers[skey]) == JSON.stringify({})) delete _.pcontainers[skey];\r\n\t\t\t}\r\n\r\n\t\t\tif (_.type == \"mouse\" || _.type == \"mousescroll\" || _.type == \"3D\" || _.type == \"3d\") {\r\n\t\t\t\tvar sctor = 'rs-slide .dddwrapper, .dddwrappershadow, rs-slide .dddwrapper-layer, rs-static-layers .dddwrapper-layer';\r\n\t\t\t\tif (_R[id].sliderType === \"carousel\") sctor = \"rs-slide .dddwrapper, rs-slide .dddwrapper-layer, rs-static-layers .dddwrapper-layer\";\r\n\r\n\t\t\t\t_.sctors = {};\r\n\r\n\t\t\t\tfor(var key in _R[id].slides){\r\n\t\t\t\t\tif(!_R[id].slides.hasOwnProperty(key)) continue;\r\n\t\t\t\t\tvar slide = _R[id].slides[key];\r\n\t\t\t\t\tvar skey = slide.dataset.key;\r\n\r\n\t\t\t\t\t_.sctors[skey] = slide.querySelectorAll(sctor);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(_R[id].slayers[0]) _.sctors['static'] = _R[id].slayers[0].querySelectorAll(sctor);\r\n\t\t\t\t_.mouseEntered = false;\r\n\r\n\t\t\t\t_R[id].c.on('mouseenter', function (e) {\r\n\t\t\t\t\tvar t = _R[id].c.offset().top,\r\n\t\t\t\t\t\tl = _R[id].c.offset().left;\r\n\r\n\t\t\t\t\t_.mouseEnterX = e.pageX - l;\r\n\t\t\t\t\t_.mouseEnterY = e.pageY - t;\r\n\t\t\t\t\t_.mouseEntered = true;\r\n\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t_.parallaxHandler = this.updateParallax.bind(this, id, _);\r\n\t\t\t\t_.hasAlreadyPermission = false;\r\n\r\n\t\t\t\t_R[id].c.on('mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath', function (e) {\r\n\t\t\t\t\t_.eventData = e;\r\n\t\t\t\t\tif (_.frame === undefined || e.type === \"mouseleave\") _.frame = window.requestAnimationFrame(_.parallaxHandler);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\t_R.modulesNeedOrientationListener = _R.modulesNeedOrientationListener== undefined ? {} : _R.modulesNeedOrientationListener;\r\n\t\t\t\t\t_R.modulesNeedOrientationListener[id] = true;\r\n\t\t\t\t\t_R.addDeviceOrientationListener(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// COLLECT ALL ELEMENTS WHICH NEED FADE IN/OUT ON PARALLAX SCROLL\r\n\t\t\tvar _s = _R[id].scrolleffect;\r\n\r\n\t\t\tif (_s.set) {\r\n\t\t\t\t_s.multiplicator_layers = parseFloat(_s.multiplicator_layers);\r\n\t\t\t\t_s.multiplicator = parseFloat(_s.multiplicator);\r\n\t\t\t}\r\n\r\n\t\t\tif (_s._L !== undefined && _s._L.length === 0) _s._L = false;\r\n\t\t\tif (_s.bgs !== undefined && _s.bgs.length === 0) _s.bgs = false;\r\n\t\t},\r\n\r\n\t\tremoveIOSPermissionWait : function() {\r\n\t\t\tdocument.querySelectorAll('.iospermaccwait').forEach(function(el) {el.classList.add('permanenthidden');});\t\t\t\t\t\t \r\n\t\t},\r\n\r\n\t\taddDeviceOrientationListener : function(id) {\r\n\t\t\tvar _ = _R[id].parallax;\t\t\t\r\n\t\t\twindow.addEventListener(\"deviceorientation\", function (e) {\r\n\t\t\t\tif (_R.modulesNeedOrientationListener[id]) {\r\n\t\t\t\t\t_R.modulesNeedOrientationListener[id] = false;\r\n\t\t\t\t\t_R.removeIOSPermissionWait();\r\n\t\t\t\t}\r\n\t\t\t\t_.eventData = e;\r\n\t\t\t\tif (_.frame === undefined) _.frame = window.requestAnimationFrame(_.parallaxHandler);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetAccelerationPermission : function(id) {\t\t\t\r\n\t\t\tDeviceMotionEvent.requestPermission().then(function(response){\r\n\t\t\t\tif (response == 'granted') {\r\n\t\t\t\t\tfor (var i in _R.modulesNeedOrientationListener) {\r\n\t\t\t\t\t\tif (!_R.modulesNeedOrientationListener.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\t_R.modulesNeedOrientationListener[i] = false;\r\n\t\t\t\t\t\t_R.removeIOSPermissionWait();\r\n\t\t\t\t\t\t_R.addDeviceOrientationListener(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t},\r\n\t\t\r\n\t\tgetLayerParallaxOffset : function(id,lid,dir) {\r\n\t\t\treturn _R[id].parallax!==undefined && _R[id].parallax.pcontainers!==undefined && _R[id].parallax.pcontainers[_R[id]._L[lid].slidekey]!==undefined && _R[id].parallax.pcontainers[_R[id]._L[lid].slidekey][lid]!==undefined ? Math.abs(_R[id].parallax.pcontainers[_R[id]._L[lid].slidekey][lid]['offs'+dir]) : 0;\r\n\t\t},\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param {string} id id to be passed to _R revolution object to retrive revolution instance\r\n\t\t * @param {Object} _ shorthand for _R[id].parallax object\r\n\t\t */\r\n\t\tupdateParallax: function (id, _) {\r\n\t\t\tif (_.frame) _.frame = window.cancelAnimationFrame(_.frame);\r\n\r\n\t\t\tvar e = _.eventData;\r\n\t\t\tvar l = _R[id].c.offset().left,\r\n\t\t\t\tt = _R[id].c.offset().top,\r\n\t\t\t\tcw = _R[id].canv.width,\r\n\t\t\t\tch = _R[id].canv.height,\r\n\t\t\t\ts = _.speed / 1000 || 3,\r\n\t\t\t\tdiffh, diffv;\r\n\r\n\t\t\t// CALCULATE DISTANCES\r\n\t\t\tif (_.origo == \"enterpoint\" && e.type !== \"deviceorientation\") {\r\n\r\n\t\t\t\tif (_.mouseEntered === false) {\r\n\t\t\t\t\t_.mouseEnterX = e.pageX - l;\r\n\t\t\t\t\t_.mouseEnterY = e.pageY - t;\r\n\t\t\t\t\t_.mouseEntered = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdiffh = _.mouseEnterX - (e.pageX - l);\r\n\t\t\t\tdiffv = _.mouseEnterY - (e.pageY - t);\r\n\t\t\t\ts = _.speed / 1000 || 0.4;\r\n\t\t\t} else if (e.type !== \"deviceorientation\") {\r\n\t\t\t\tdiffh = cw / 2 - (e.pageX - l);\r\n\t\t\t\tdiffv = ch / 2 - (e.pageY - t);\r\n\t\t\t}\r\n\r\n\t\t\tif (e.type == \"deviceorientation\") {\r\n\t\t\t\tvar beta, gamma, x, y;\r\n\t\t\t\tbeta = e.beta - 60;\r\n\t\t\t\tgamma = e.gamma;\r\n\r\n\t\t\t\tx = gamma;\r\n\t\t\t\ty = beta;\r\n\r\n\t\t\t\tvar orientationChanged = (Math.abs(_.orientationX - x) > 1 || Math.abs(_.orientationY - y) > 1);\r\n\t\t\t\t_.orientationX = x;\r\n\t\t\t\t_.orientationY = y;\r\n\t\t\t\tif (!orientationChanged) return;\r\n\r\n\t\t\t\tif (_R.winW > _R.getWinH(id)) {\r\n\t\t\t\t\tvar xx = x;\r\n\t\t\t\t\tx = y;\r\n\t\t\t\t\ty = xx;\r\n\t\t\t\t}\r\n\t\t\t\tx *= 1.5;\r\n\t\t\t\ty *= 1.5;\r\n\r\n\t\t\t\tdiffh = (360 / cw * x);\r\n\t\t\t\tdiffv = (180 / ch * y);\r\n\t\t\t}\r\n\r\n\t\t\tif (e.type === \"mouseleave\", e.type === \"mouseout\") {\r\n\t\t\t\tdiffh = 0;\r\n\t\t\t\tdiffv = 0;\r\n\t\t\t\t_.mouseEntered = false;\r\n\t\t\t}\r\n\r\n\t\t\tfor(var slidekey in _.pcontainers){\r\n\t\t\t\tif(!_.pcontainers.hasOwnProperty(slidekey)) continue;\r\n\r\n\t\t\t\tif(_R[id].activeRSSlide === undefined || slidekey === 'static' || _R[id].slides[_R[id].activeRSSlide].dataset.key === slidekey){\r\n\t\t\t\t\tfor (var i in _.pcontainers[slidekey]) {\r\n\t\t\t\t\t\tif (!_.pcontainers[slidekey].hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\tvar pc = _.pcontainers[slidekey][i];\r\n\t\t\t\t\t\tpc.pl = _.type == \"3D\" || _.type == \"3d\" ? pc.depth / 200 : pc.depth / 100;\r\n\t\t\t\t\t\tpc.offsh = diffh * pc.pl,\r\n\t\t\t\t\t\tpc.offsv = diffv * pc.pl;\r\n\r\n\t\t\t\t\t\tif (_.type == \"mousescroll\")\r\n\t\t\t\t\t\t\ttpGS.gsap.to(pc.tpw, s, {\r\n\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\tx: pc.offsh,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ttpGS.gsap.to(pc.tpw, s, {\r\n\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\tx: pc.offsh,\r\n\t\t\t\t\t\t\t\ty: pc.offsv,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (_.type == \"3D\" || _.type == \"3d\") {\r\n\r\n\t\t\t\tfor(var slidekey in _.sctors){\r\n\t\t\t\t\tif(!_.sctors.hasOwnProperty(slidekey)) continue;\r\n\t\t\t\t\tif(!(_R[id].activeRSSlide === undefined || slidekey === 'static' || _R[id].slides[_R[id].activeRSSlide].dataset.key === slidekey) && !_R.isFF) continue;\r\n\t\t\t\t\tfor(var i in _.sctors[slidekey]){\r\n\t\t\t\t\t\tif(!_.sctors[slidekey].hasOwnProperty(i)) continue;\r\n\r\n\t\t\t\t\t\tvar t = jQuery(_.sctors[slidekey][i]),\r\n\t\t\t\t\t\tpl = _R.isFirefox() ? Math.min(25, _.levels[_.levels.length - 1]) / 200 : _.levels[_.levels.length - 1] / 200,\r\n\t\t\t\t\t\toffsh = diffh * pl,\r\n\t\t\t\t\t\toffsv = diffv * pl,\r\n\t\t\t\t\t\toffrv = _R[id].canv.width == 0 ? 0 : Math.round((diffh / _R[id].canv.width * pl) * 100) || 0,\r\n\t\t\t\t\t\toffrh = _R[id].canv.height == 0 ? 0 : Math.round((diffv / _R[id].canv.height * pl) * 100) || 0,\r\n\t\t\t\t\t\tli = t.closest('rs-slide'),\r\n\t\t\t\t\t\tzz = 0,\r\n\t\t\t\t\t\titslayer = false;\r\n\r\n\t\t\t\t\tif (e.type === \"deviceorientation\") {\r\n\t\t\t\t\t\tpl = _.levels[_.levels.length - 1] / 200,\r\n\t\t\t\t\t\t\toffsh = diffh * pl;\r\n\t\t\t\t\t\toffsv = diffv * pl * 3;\r\n\t\t\t\t\t\toffrv = _R[id].canv.width == 0 ? 0 : Math.round((diffh / _R[id].canv.width * pl) * 500) || 0;\r\n\t\t\t\t\t\toffrh = _R[id].canv.height == 0 ? 0 : Math.round((diffv / _R[id].canv.height * pl) * 700) || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (t.hasClass(\"dddwrapper-layer\")) {\r\n\t\t\t\t\t\tzz = _.ddd_z_correction || 65;\r\n\t\t\t\t\t\titslayer = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (t.hasClass(\"dddwrapper-layer\")) {\r\n\t\t\t\t\t\toffsh = 0;\r\n\t\t\t\t\t\toffsv = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (li.index() === _R[id].pr_active_key || _R[id].sliderType != \"carousel\")\r\n\t\t\t\t\t\tif (!_.ddd_bgfreeze || (itslayer))\r\n\t\t\t\t\t\t\ttpGS.gsap.to(t, s, {\r\n\t\t\t\t\t\t\t\trotationX: offrh,\r\n\t\t\t\t\t\t\t\trotationY: -offrv,\r\n\t\t\t\t\t\t\t\tx: offsh,\r\n\t\t\t\t\t\t\t\tz: zz,\r\n\t\t\t\t\t\t\t\ty: offsv,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ttpGS.gsap.to(t, 0.5, {\r\n\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\trotationY: 0,\r\n\t\t\t\t\t\t\t\trotationX: 0,\r\n\t\t\t\t\t\t\t\tz: 0,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ttpGS.gsap.to(t, 0.5, {\r\n\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\trotationY: 0,\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\trotationX: 0,\r\n\t\t\t\t\t\t\tz: 0,\r\n\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (e.type == \"mouseleave\" || e.type === \"mouseout\")\r\n\t\t\t\t\t\ttpGS.gsap.to(this, 3.8, {\r\n\t\t\t\t\t\t\tz: 0,\r\n\t\t\t\t\t\t\tease: \"power3.out\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tparallaxProcesses: function (id, b, ignorelayers, speedoverwrite) {\r\n\r\n\t\t\tvar mproc = _R[id].fixedOnTop ? Math.min(1, Math.max(0, (window.scrollY / _R.lastwindowheight))) : Math.min(1, Math.max(0, ( 0 - (b.top - _R.lastwindowheight)) / (b.hheight + _R.lastwindowheight))),\r\n\t\t\t\tvisible = (b.top >= 0 && b.top <= _R.lastwindowheight) || (b.top <= 0 && b.bottom >= 0) || (b.top <= 0 && b.bottom >= 0),\r\n\t\t\t\tslide = _R[id].slides[_R[id].pr_active_key === undefined ? 0 : _R[id].pr_active_key];\r\n\r\n\t\t\t_R[id].scrollProg = mproc;\r\n\t\t\t_R[id].scrollProgBasics = { top:b.top, height:b.hheight, bottom:b.bottom};\r\n\r\n\t\t\t// FIXED TOP POSITION ON SCROLL (STICKY SLIDER)\r\n\t\t\tif (_R[id].sbtimeline.fixed) {\r\n\t\t\t\tif (_R[id].fixedScrollOnState !== false && (_R[id].drawUpdates.cpar.left === 0) && _R.stickySupported && (_R[id].fullScreenOffsetResult==0 || _R[id].fullScreenOffsetResult==undefined)) {\r\n\t\t\t\t\t_R[id].topc.addClass(\"rs-stickyscrollon\");\r\n\t\t\t\t\t_R[id].fixedScrollOnState = true;\r\n\t\t\t\t} else _R.stickySupported=false;\r\n\t\t\t\tif (_R[id].sbtimeline.rest === undefined) _R.updateFixedScrollTimes(id);\r\n\t\t\t\tif (b.top >= _R[id].fullScreenOffsetResult && b.top <= _R.lastwindowheight) {\r\n\r\n\t\t\t\t\tmproc = (_R[id].sbtimeline.fixStart * (1 - (b.top / _R.lastwindowheight))) / 1000;\r\n\t\t\t\t\tif (_R.stickySupported !== true && _R[id].fixedScrollOnState !== false) {\r\n\t\t\t\t\t\t_R[id].topc.removeClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\ty:0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_R[id].fixedScrollOnState = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\tif (b.top <= _R[id].fullScreenOffsetResult && b.bottom >= _R[id].module.height) {\r\n\r\n\t\t\t\t\tif (_R.stickySupported !== true && _R[id].fixedScrollOnState !== true) {\r\n\t\t\t\t\t\t_R[id].fixedScrollOnState = true;\r\n\t\t\t\t\t\t_R[id].topc.addClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\ty:_R[id].fullScreenOffsetResult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmproc = (_R[id].sbtimeline.fixStart + (_R[id].sbtimeline.time * (Math.abs(b.top) / (b.hheight - _R[id].module.height)))) / 1000;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R.stickySupported !== true) {\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, {\r\n\t\t\t\t\t\t\ttop: _R[id].scrollproc >= 0 ? 0 : (b.height - _R[id].module.height)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (_R[id].fixedScrollOnState !== false) {\r\n\t\t\t\t\t\t\t_R[id].topc.removeClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\t\t\t_R[id].fixedScrollOnState = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmproc = b.top > _R.lastwindowheight ? 0 : (_R[id].sbtimeline.fixEnd + (_R[id].sbtimeline.rest * (1 - (b.bottom / _R[id].module.height)))) / 1000;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else mproc = (_R[id].duration * mproc) / 1000;\r\n\r\n\t\t\t\r\n\t\t\t// Erste Animation mit Speed, dann vielleicht immer sofort auf position springen !\r\n\r\n\t\t\t//Animate to Timeline Based on Scroll Position\r\n\t\t\tif (slide !== undefined && _R.gA(slide, \"key\") !== undefined && ignorelayers !== true) {\r\n\t\t\t\tvar wasnotprepared = 0; //check if Timelines prepared already\r\n\t\t\t\tfor (var sba in _R[id].sbas[_R.gA(slide, \"key\")]) {\r\n\t\t\t\t\tif (_R[id]._L[sba] !== undefined && _R[id]._L[sba].timeline == undefined) wasnotprepared++;\r\n\t\t\t\t\tif (_R[id]._L[sba] !== undefined && _R[id]._L[sba].timeline !== undefined && (_R[id]._L[sba].animationonscroll == true || _R[id]._L[sba].animationonscroll == \"true\")) {\r\n\t\t\t\t\t\twasnotprepared = -9999; // This makes sure, that no unneeded recalls happens\r\n\t\t\t\t\t\tvar time = (_R[id]._L[sba].scrollBasedOffset !== undefined ? mproc + _R[id]._L[sba].scrollBasedOffset : mproc);\r\n\t\t\t\t\t\ttime = time <= 0 ? 0 : time < 0.1 ? 0.1 : time;\r\n\r\n\t\t\t\t\t\tif (_R[id]._L[sba].animteToTime !== time) {\r\n\t\t\t\t\t\t\t_R[id]._L[sba].animteToTimeCache = _R[id]._L[sba].animteToTime;\r\n\t\t\t\t\t\t\t_R[id]._L[sba].animteToTime = time;\r\n\t\t\t\t\t\t\ttpGS.gsap.to(_R[id]._L[sba].timeline, _R[id].sbtimeline.speed, {\r\n\t\t\t\t\t\t\t\ttime: time,\r\n\t\t\t\t\t\t\t\tease: _R[id].sbtimeline.ease\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (wasnotprepared>0) requestAnimationFrame(function() {\r\n\t\t\t\t\t_R.parallaxProcesses(id, b, ignorelayers, speedoverwrite);\r\n\t\t\t\t});\r\n\t\t\t\t_R[id].c.trigger('timeline_scroll_processed',{id:id,mproc:mproc,speed:_R[id].sbtimeline.speed});\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// SCROLL BASED PARALLAX EFFECT\r\n\t\t\tif (_R.ISM && _R[id].parallax.disable_onmobile) return false;\r\n\r\n\t\t\tvar _ = _R[id].parallax, procslidekey;\r\n\t\t\tif (_R[id].slides[_R[id].pr_processing_key]!==undefined && _R[id].slides[_R[id].pr_processing_key].dataset!==undefined) procslidekey = _R[id].slides[_R[id].pr_processing_key].dataset.key;\r\n\t\t\tif (_.type != \"3d\" && _.type != \"3D\") {\r\n\t\t\t\tif (_.type == \"scroll\" || _.type == \"mousescroll\")\r\n\t\t\t\t\tfor(var slidekey in _.pcontainers)\r\n\t\t\t\t\t\tif(_.pcontainers.hasOwnProperty(slidekey) && (_R[id].activeRSSlide === undefined || slidekey === 'static' || _R[id].slides[_R[id].activeRSSlide].dataset.key === slidekey || procslidekey === slidekey))\r\n\t\t\t\t\t\t\tfor (var i in _.pcontainers[slidekey])\r\n\t\t\t\t\t\t\t\tif (_.pcontainers[slidekey].hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\t\t\tvar pc = _.pcontainers[slidekey][i],\r\n\t\t\t\t\t\t\t\t\t\ts = speedoverwrite !== undefined ? speedoverwrite : _.speedls / 1000 || 0;\r\n\t\t\t\t\t\t\t\t\tpc.pl = pc.depth / 100;\r\n\t\t\t\t\t\t\t\t\tpc.offsv = Math.round((_R[id].scrollproc * -(pc.pl * _R[id].canv.height) * 10)) / 10 || 0;\r\n\t\t\t\t\t\t\t\t\ttpGS.gsap.to(pc.tpw, s, {\r\n\t\t\t\t\t\t\t\t\t\toverwrite: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\ty: pc.offsv\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\tif (_.bgcontainers) {\r\n\t\t\t\t\tfor (var i = 0; i < _.bgcontainers.length; i++) {\r\n\t\t\t\t\t\tvar t = _.bgcontainers[i],\r\n\t\t\t\t\t\t\tl = _.bgcontainer_depths[i],\r\n\t\t\t\t\t\t\toffsv = _R[id].scrollproc * -(l * _R[id].canv.height) || 0,\r\n\t\t\t\t\t\t\ts = speedoverwrite !== undefined ? speedoverwrite : _.speedbg / 1000 || 0.015;\r\n\t\t\t\t\t\ts = _R[id].parallax.lastBGY !== undefined && s === 0 && Math.abs(offsv - _R[id].parallax.lastBGY) > 50 ? 0.15 : s;\r\n\r\n\t\t\t\t\t\ttpGS.gsap.to(t, s, {\r\n\t\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\t\ttop: \"0px\",\r\n\t\t\t\t\t\t\tleft: \"0px\",\r\n\t\t\t\t\t\t\tbackfaceVisibility: \"hidden\",\r\n\t\t\t\t\t\t\tforce3D: \"true\",\r\n\t\t\t\t\t\t\ty: offsv + \"px\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_R[id].parallax.lastBGY = offsv;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// SCROLL BASED BLUR,FADE,GRAYSCALE EFFECT\r\n\t\t\tvar _s = _R[id].scrolleffect;\r\n\t\t\tif (_s.set && (!_R.ISM || _s.disable_onmobile === false)) {\r\n\r\n\t\t\t\tvar _fproc = Math.abs(_R[id].scrollproc) - (_s.tilt / 100);\r\n\t\t\t\t_fproc = _fproc < 0 ? 0 : _fproc;\r\n\t\t\t\tif (_s._L !== false) {\r\n\t\t\t\t\tvar elev = 1 - (_fproc * _s.multiplicator_layers),\r\n\t\t\t\t\t\tseo = {\r\n\t\t\t\t\t\t\tforce3D: \"true\"\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tif (_s.direction == \"top\" && _R[id].scrollproc >= 0) elev = 1;\r\n\t\t\t\t\tif (_s.direction == \"bottom\" && _R[id].scrollproc <= 0) elev = 1;\r\n\t\t\t\t\telev = elev > 1 ? 1 : elev < 0 ? 0 : elev;\r\n\r\n\t\t\t\t\tif (_s.fade) seo.opacity = elev;\r\n\r\n\t\t\t\t\tif (_s.scale) {\r\n\t\t\t\t\t\tvar scalelevel = (elev);\r\n\t\t\t\t\t\tseo.scale = 1 + (1 - scalelevel);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_s.blur) {\r\n\t\t\t\t\t\tvar blurlevel = (1 - elev) * _s.maxblur;\r\n\r\n\t\t\t\t\t\t// new line for fix, see comment above\r\n\t\t\t\t\t\tblurlevel = blurlevel <= 0.03 ? 0 : blurlevel;\r\n\r\n\t\t\t\t\t\tseo['-webkit-filter'] = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\tseo.filter = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\t//Fix for Blurred Masks in Safari\r\n\t\t\t\t\t\tif (window.isSafari11 && _s._L!==undefined && _s._L[0]!==undefined && _s._L[0][0]!==undefined && _s._L[0][0].tagName==\"RS-MASK-WRAP\") seo.z  = 0.001;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (_s.grayscale) {\r\n\t\t\t\t\t\tvar graylevel = (1 - elev) * 100,\r\n\t\t\t\t\t\t\tgf = 'grayscale(' + graylevel + '%)';\r\n\t\t\t\t\t\tseo['-webkit-filter'] = seo['-webkit-filter'] === undefined ? gf : seo['-webkit-filter'] + ' ' + gf;\r\n\t\t\t\t\t\tseo.filter = seo.filter === undefined ? gf : seo.filter + ' ' + gf;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\ttpGS.gsap.set(_s._L, seo);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_s.bgs !== false) {\r\n\r\n\t\t\t\t\tvar elev = 1 - (_fproc * _s.multiplicator),\r\n\t\t\t\t\t\tseo = {\r\n\t\t\t\t\t\t\tbackfaceVisibility: \"hidden\",\r\n\t\t\t\t\t\t\tforce3D: \"true\"\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tif (_s.direction == \"top\" && _R[id].scrollproc >= 0) elev = 1;\r\n\t\t\t\t\tif (_s.direction == \"bottom\" && _R[id].scrollproc <= 0) elev = 1;\r\n\t\t\t\t\telev = elev > 1 ? 1 : elev < 0 ? 0 : elev;\r\n\t\t\t\t\tfor (var si in _s.bgs) {\r\n\t\t\t\t\t\tif (!_s.bgs.hasOwnProperty(si)) continue;\r\n\t\t\t\t\t\tif (_s.bgs[si].fade) seo.opacity = elev;\r\n\r\n\t\t\t\t\t\tif (_s.bgs[si].blur) {\r\n\t\t\t\t\t\t\tvar blurlevel = (1 - elev) * _s.maxblur;\r\n\t\t\t\t\t\t\tseo['-webkit-filter'] = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\t\tseo.filter = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (_s.bgs[si].grayscale) {\r\n\t\t\t\t\t\t\tvar graylevel = (1 - elev) * 100,\r\n\t\t\t\t\t\t\t\tgf = 'grayscale(' + graylevel + '%)';\r\n\t\t\t\t\t\t\tseo['-webkit-filter'] = seo['-webkit-filter'] === undefined ? gf : seo['-webkit-filter'] + ' ' + gf;\r\n\t\t\t\t\t\t\tseo.filter = seo.filter === undefined ? gf : seo.filter + ' ' + gf;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttpGS.gsap.set(_s.bgs[si].c, seo);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t});\r\n\r\n\tvar setDDDInContainer = function(li,id) {\r\n\r\n\t\tvar _ = _R[id].parallax;\r\n\r\n\t\tli.find('rs-sbg-wrap').wrapAll('<div class=\"dddwrapper\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden\"></div>');\r\n\t\tvar players = li[0].querySelectorAll('.rs-parallax-wrap'),\r\n\t\t\tdddwrapper = document.createElement('div');\r\n\r\n\t\tdddwrapper.className = \"dddwrapper-layer\";\r\n\t\tdddwrapper.style.width = \"100%\";\r\n\t\tdddwrapper.style.height = \"100%\";\r\n\t\tdddwrapper.style.position = \"absolute\";\r\n\t\tdddwrapper.style.top = \"0px\";\r\n\t\tdddwrapper.style.left = \"0px\";\r\n\t\tdddwrapper.style.zIndex = 5;\r\n\t\tdddwrapper.style.overflow = _.ddd_layer_overflow;\r\n\t\tfor (var i=0; i<players.length;i++) {\r\n\t\t\tif (!players.hasOwnProperty(i)) continue;\r\n\t\t\tif (_R.closestNode(players[i],'RS-GROUP')===null && _R.closestNode(players[i],'RS-ROW')===null) dddwrapper.appendChild(players[i]);\r\n\t\t}\r\n\t\tli[0].appendChild(dddwrapper);\r\n\t\t//li.find('.rs-parallax-wrap').wrapAll('<div class=\"dddwrapper-layer\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:' + _.ddd_layer_overflow + ';\"></div>');\r\n\r\n\t\t// MOVE THE REMOVED 3D LAYERS OUT OF THE PARALLAX GROUP\r\n\t\tli.find('.rs-pxl-tobggroup').closest('.rs-parallax-wrap').wrapAll('<div class=\"dddwrapper-layertobggroup\" style=\"position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%\"></div>');\r\n\r\n\t\tvar dddw = li.find('.dddwrapper'),\r\n\t\t\tdddwl = li.find('.dddwrapper-layer'),\r\n\t\t\tdddwlbg = li.find('.dddwrapper-layertobggroup');\r\n\r\n\t\tdddwlbg.appendTo(dddw);\r\n\r\n\t\tif (_R[id].sliderType == \"carousel\") {\r\n\t\t\tif (_.ddd_shadow) dddw.addClass(\"dddwrappershadow\");\r\n\t\t\ttpGS.gsap.set(dddw, {\r\n\t\t\t\tborderRadius: _R[id].carousel.border_radius\r\n\t\t\t});\r\n\t\t}\r\n\t\ttpGS.gsap.set(li, {\r\n\t\t\toverflow: \"visible\",\r\n\t\t\ttransformStyle: \"preserve-3d\",\r\n\t\t\tperspective: 1600\r\n\t\t});\r\n\t\ttpGS.gsap.set(dddw, {\r\n\t\t\tforce3D: \"auto\",\r\n\t\t\ttransformOrigin: \"50% 50%\",\r\n\t\t\ttransformStyle: \"preserve-3d\",\r\n\t\t\ttransformPerspective: 1600\r\n\t\t});\r\n\t\ttpGS.gsap.set(dddwl, {\r\n\t\t\tforce3D: \"auto\",\r\n\t\t\ttransformOrigin: \"50% 50%\",\r\n\t\t\tzIndex: 5,\r\n\t\t\ttransformStyle: \"flat\",\r\n\t\t\ttransformPerspective: 1600\r\n\t\t});\r\n\t\ttpGS.gsap.set(_R[id].canvas, {\r\n\t\t\ttransformStyle: \"preserve-3d\",\r\n\t\t\ttransformPerspective: 1600\r\n\t\t});\r\n\t}\r\n\r\n    function collectParallaxTargets(i, _, slide, pcontainer){\r\n        $(slide).find('.rs-pxl-' + i).each(function () {\r\n            var rspxmask = this.className.indexOf('rs-pxmask') >= 0,\r\n                tpw = rspxmask ? _R.closestNode(this,'RS-PX-MASK') : _R.closestClass(this,'rs-parallax-wrap');\r\n            if(!tpw) return;\r\n\r\n            if (rspxmask && !window.isSafari11) {\r\n                tpGS.gsap.set(tpw,{z:1});\r\n                tpGS.gsap.set(_R.closestNode(tpw,'RS-BG-ELEM'),{z:1});\r\n            }\r\n\r\n            tpw.dataset['parallaxlevel'] = _.levels[i - 1];\r\n            tpw.classList.add(\"tp-parallax-container\");\r\n\r\n            pcontainer[this.id] = {tpw:tpw, depth:_.levels[i-1], offsv:0, offsh:0};\r\n        });\r\n    }\r\n\r\n//Support Defer and Async and Footer Loads\r\nwindow.RS_MODULES = window.RS_MODULES || {};\r\nwindow.RS_MODULES.parallax = {loaded:true, version:version};\r\nif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.actions.js":"/********************************************\r\n * REVOLUTION EXTENSION - ACTIONS\r\n * @Date: (05.10.2022)\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n(function($,undefined) {\r\n\"use strict\";\r\nvar version = \"6.6.0\";\r\n\r\njQuery.fn.revolution = jQuery.fn.revolution || {};\r\nvar _R = jQuery.fn.revolution;\r\n\r\n///////////////////////////////////////////\r\n// \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n///////////////////////////////////////////\r\njQuery.extend(true,_R, {\r\n\tcheckActions : function(layer,id) {\r\n\t\tif (layer===undefined) moduleEnterLeaveActions(id); else checkActions_intern(layer,id);\r\n\t},\r\n\r\n\tdelayer : function(id,wait,caller) {\r\n\t\t_R[id].timeStamps = _R[id].timeStamps===undefined ? {} : _R[id].timeStamps;\r\n\t\tvar dt = new Date().getTime(),\r\n\t\t\tdelay =  _R[id].timeStamps[caller]===undefined ? parseInt(wait)+100 : dt- _R[id].timeStamps[caller];\r\n\t\tvar ret = parseInt(delay)>wait ? true : false;\r\n\t\tif (ret) _R[id].timeStamps[caller] = dt;\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tgetURLDetails : function(obj) {\r\n\t\tobj = obj===undefined ? {} : obj;\r\n\t\tobj.url = obj.url===undefined ? window.location.href : obj.url;\r\n\t\tobj.url = obj.url.replace(\"www\",\"\");\r\n\t\tobj.protocol = obj.url.indexOf('http://')===0 ? 'http://' : obj.url.indexOf('https://')===0 ? 'https://' : obj.url.indexOf('//')===0 ? '//' : 'relative';\r\n\t\tvar hostpath = obj.url.replace(\"https://\",\"\");\r\n\t\thostpath = hostpath.replace(\"http://\",\"\");\r\n\t\tif (obj.protocol===\"relative\") hostpath = hostpath.replace(\"//\",\"\");\r\n\t\thostpath = hostpath.split(\"#\");\r\n\t\tobj.anchor = (obj.anchor===undefined || obj.anchor==\"\" || obj.anchor.length==0) && hostpath.length>1 ? hostpath[1] : obj.anchor===undefined ? \"\" : obj.anchor.replace(\"#\",\"\");\r\n\t\tobj.anchor = obj.anchor.split(\"?\");\r\n\t\t// Query Strings should come first, however this may ignored so check both ways !\r\n\t\tobj.queries = hostpath[0].split(\"?\");\r\n\t\tobj.queries = obj.queries.length>1 ? obj.queries[1] : \"\";\r\n\t\tobj.queries = obj.queries.length>1 ? obj.queries[1] : obj.anchor.length>1 ? obj.anchor[1] : obj.queries;\r\n\t\tobj.anchor = obj.anchor[0];\r\n\t\thostpath = hostpath[0];\r\n\t\tvar hostpath_array = hostpath.split(\"/\");\r\n\t\tvar temp = hostpath.split(\"/\");\r\n\t\tobj.host = temp[0];\r\n\t\ttemp.splice(0,1);\r\n\t\tobj.path = \"/\"+temp.join(\"/\");\r\n\t\tif (obj.path[obj.path.length-1]==\"/\") obj.path = obj.path.slice(0,-1);\r\n\t\tobj.origin = obj.protocol!==\"relative\" ?  obj.protocol+obj.host : window.location.origin.replace(\"www\",\"\")+window.location.pathname;\r\n\t\tobj.hash = (obj.queries!==\"\" && obj.queries!==undefined ? \"?\"+obj.queries  : \"\") + (obj.anchor!==\"\" && obj.anchor!==undefined ? \"#\"+obj.anchor  : \"\");\r\n\t\treturn obj;\r\n\t},\r\n\r\n\tscrollToId : function(obj) {\r\n\t\t/* OBJ Attributes:\r\n\t\t \tid : Slider Id\r\n\t\t \toffset : Scroll Offset\r\n\t\t \taction : called Action\r\n\t\t \tanchor : the Targeted ID where to Scroll\r\n\t\t \thash : Change Hash in URL after animation\r\n\t\t \tspeed : Animation Speed\r\n\t\t \tevent : Animation Ease\r\n\t\t */\r\n\t\t_R.scrollToObj = obj;\r\n\t\tif (!window.isSafari11) {\r\n\t\t\tvar scrollBehaviorHtml = tpGS.gsap.getProperty('html', 'scrollBehavior');\r\n\t\t\tvar scrollBehaviorBody = tpGS.gsap.getProperty('body', 'scrollBehavior');\r\n\t\t\ttpGS.gsap.set('html,body', {scrollBehavior: 'auto'});\r\n\t\t\tobj.scrollBehaviorHtml = scrollBehaviorHtml;\r\n\t\t\tobj.scrollBehaviorBody = scrollBehaviorBody;\r\n\t\t}\r\n\t\t_R.calcScrollToId();\r\n\t},\r\n\r\n\tcalcScrollToId: function() {\r\n\t\tif(!_R.scrollToObj) return;\r\n\t\tvar obj = _R.scrollToObj;\r\n\t\tvar progress = obj.tween && obj.tween.progress ? obj.tween.progress() : 0;\r\n\t\tif(obj.tween && obj.tween.kill) obj.tween.kill();\r\n\r\n\t\tif(obj.startScrollPos === undefined || obj.startScrollPos === null) obj.startScrollPos = (_R[obj.id].modal.useAsModal) ? _R[obj.id].cpar.scrollTop() : _R.document.scrollTop();\r\n\r\n\t\tvar off= obj.action===\"scrollbelow\" ? (getOffContH(_R[obj.id].fullScreenOffsetContainer) || 0) - (parseInt(obj.offset,0) || 0) || 0 : 0-(parseInt(obj.offset,0) || 0),\r\n\t\tc =  obj.action===\"scrollbelow\" ? _R[obj.id].c : jQuery('#'+obj.anchor),\r\n\t\tctop = c.length>0 ? c.offset().top : 0,\r\n\t\tsobj = {_y: _R[obj.id].modal.useAsModal ? _R[obj.id].cpar[0].scrollTop :  (window.pageYOffset!==document.documentElement.scrollTop) ? window.pageYOffset!==0 ? window.pageYOffset :document.documentElement.scrollTop : window.pageYOffset };\r\n\r\n\t\tctop += obj.action===\"scrollbelow\" ? _R[obj.id].sbtimeline.fixed ? _R[obj.id].cpar.parent().height() + _R[obj.id].fullScreenOffsetResult : jQuery(_R[obj.id].slides[0]).height() : 0;\r\n\r\n\t\tobj.tween = tpGS.gsap.fromTo(sobj,obj.speed/1000, {_y:obj.startScrollPos}, {_y:(ctop-off), ease:obj.ease,\r\n\t\t\tonUpdate:function() { if (_R[obj.id].modal.useAsModal) _R[obj.id].cpar.scrollTop(sobj._y); else _R.document.scrollTop(sobj._y); /* document.documentElement.scrollTop = sobj._y*/},\r\n\t\t\tonComplete:function() {\r\n\t\t\t\tif (obj.hash!==undefined) history.pushState(null, null, obj.hash);\r\n\t\t\t\tif (!window.isSafari11) {\r\n\t\t\t\t\ttpGS.gsap.set('html', {scrollBehavior: obj.scrollBehaviorHtml});\r\n\t\t\t\t\ttpGS.gsap.set('body', {scrollBehavior: obj.scrollBehaviorBody});\r\n\t\t\t\t}\r\n\t\t\t\tif(_R.scrollToObj){\r\n\t\t\t\t\tif(_R.scrollToObj.tween){ _R.scrollToObj.tween.kill(); _R.scrollToObj.tween = null; }\r\n\t\t\t\t\t_R.scrollToObj.startScrollPos = null;\r\n\t\t\t\t\t_R.scrollToObj = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tobj.tween.progress(progress);\r\n\t}\r\n});\r\n\r\n//////////////////////////////////////////\r\n//\t-\tINITIALISATION OF ACTIONS \t-\t//\r\n//////////////////////////////////////////\r\nvar moduleEnterLeaveActions = function(id) {\r\n\tif (!_R[id].moduleActionsPrepared && _R[id].c[0].getElementsByClassName('rs-on-sh').length>0) {\r\n\t\t_R[id].c.on('tp-mouseenter',function() {\r\n\t\t\t_R[id].mouseoncontainer = true;\r\n\t\t\tvar key = _R[id].pr_next_key!==undefined ? _R[id].pr_next_key : _R[id].pr_processing_key!==undefined ? _R[id].pr_processing_key : _R[id].pr_active_key!==undefined ? _R[id].pr_active_key : _R[id].pr_next_key,\r\n\t\t\t\tli;\r\n\t\t\tif (key===\"none\" || key===undefined) return;\r\n\t\t\tkey = _R.gA(_R[id].slides[key],\"key\");\r\n\t\t\tif (key!==undefined && _R[id].layers[key]) for (li in _R[id].layers[key]) if (_R[id].layers[key][li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers[key][li]), frame:\"frame_1\", mode:\"trigger\", id:id});\r\n\t\t\tfor (li in _R[id].layers.static) if (_R[id].layers.static[li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers.static[li]), frame:\"frame_1\", mode:\"trigger\", id:id});\r\n\t\t});\r\n\r\n\t\t_R[id].c.on('tp-mouseleft',function() {\r\n\t\t\t_R[id].mouseoncontainer = true;\r\n\t\t\tvar key = _R[id].pr_next_key!==undefined ? _R[id].pr_next_key : _R[id].pr_processing_key!==undefined ? _R[id].pr_processing_key : _R[id].pr_active_key!==undefined ? _R[id].pr_active_key : _R[id].pr_next_key,\r\n\t\t\t\tli;\r\n\t\t\tif (key===\"none\" || key===undefined) return;\r\n\t\t\tkey = _R.gA(_R[id].slides[key],\"key\");\r\n\t\t\tif (key!==undefined && _R[id].layers[key]) for (li in _R[id].layers[key]) if (_R[id].layers[key][li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers[key][li]), frame:\"frame_999\", mode:\"trigger\", id:id});\r\n\t\t\tfor (li in _R[id].layers.static) if (_R[id].layers.static[li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers.static[li]), frame:\"frame_999\", mode:\"trigger\", id:id});\r\n\t\t});\r\n\t}\r\n\t_R[id].moduleActionsPrepared = true;\r\n}\r\n\r\nvar checkActions_intern = function(layer,id) {\r\n\tvar actions = _R.gA(layer[0],\"actions\");\r\n\r\n\tif (layer[0].tagName==\"RS-COLUMN\") {\r\n\t\tvar wrap = _R.closestNode(layer[0], 'RS-COLUMN-WRAP');\r\n\t\tif (wrap!==null && wrap!==undefined) {\r\n\t\t\t_R.sA(wrap,\"action\",actions);\r\n\t\t\tlayer = jQuery(wrap);\r\n\t\t}\r\n\t}\r\n\r\n\tvar _L = layer.data();\r\n\tactions = actions.split(\"||\");\r\n\tlayer.addClass(\"rs-waction\");\r\n\t_L.events = _L.events===undefined ? [] : _L.events;\r\n\t//GET THROUGH THE EVENTS AND COLLECT INFORMATIONS\r\n\tfor (var ei in actions) {\r\n\t\tif (!actions.hasOwnProperty(ei)) continue;\r\n\t\tvar event = getEventParams(actions[ei].split(\";\"));\r\n\t\t_L.events.push(event);\r\n\t\tif (event.on===\"click\") layer[0].classList.add('rs-wclickaction');\r\n\t\t// LISTEN TO ESC TO EXIT FROM FULLSCREEN\r\n\t\tif (!_R[id].fullscreen_esclistener && (event.action==\"exitfullscreen\" || event.action==\"togglefullscreen\")) {\r\n\t\t\t_R.document.keyup(function(e) {\r\n\t\t\t\t if (e.keyCode == 27 && jQuery('#rs-go-fullscreen').length>0) layer.trigger(event.on);\r\n\t\t\t});\r\n\t\t\t_R[id].fullscreen_esclistener = true;\r\n\t\t}\r\n\r\n\t\tvar targetlayer = event.layer == \"backgroundvideo\" ? jQuery(\"rs-bgvideo\") : event.layer == \"firstvideo\" ? jQuery(\"rs-slide\").find('.rs-layer-video') : jQuery(\"#\"+event.layer);\r\n\r\n\t\t// NO NEED EXTRA TOGGLE CLASS HANDLING\r\n\t\tif (jQuery.inArray(event.action,[\"toggleslider\",\"toggle_mute_video\",\"toggle_global_mute_video\",\"togglefullscreen\"])!=-1) _L._togglelisteners=true;\r\n\r\n\t\t// COLLECT ALL TOGGLE TRIGGER TO CONNECT THEM WITH TRIGGERED LAYER\r\n\t\tswitch (event.action) {\r\n\t\t\tcase \"togglevideo\": jQuery.each(targetlayer,function() { updateToggleByList(jQuery(this),'videotoggledby', layer[0].id);}); break;\r\n\t\t\tcase \"togglelayer\": jQuery.each(targetlayer,function() {\r\n\r\n\t\t\t\tupdateToggleByList(jQuery(this),'layertoggledby', layer[0].id); jQuery(this).data('triggered_startstatus',event.togglestate);\r\n\t\t\t});break;\r\n\t\t\tcase \"toggle_global_mute_video\":\r\n\t\t\tcase \"toggle_mute_video\":\r\n\t\t\t\tjQuery.each(targetlayer,function() { updateToggleByList(jQuery(this),'videomutetoggledby', layer[0].id);});\r\n\t\t\tbreak;\r\n\t\t\tcase \"toggleslider\":\r\n\t\t\t\tif (_R[id].slidertoggledby == undefined) _R[id].slidertoggledby = [];\r\n\t\t\t\t_R[id].slidertoggledby.push(layer[0].id);\r\n\t\t\tbreak;\r\n\t\t\tcase \"togglefullscreen\":\r\n\t\t\t\tif (_R[id].fullscreentoggledby == undefined) _R[id].fullscreentoggledby = [];\r\n\t\t\t\t_R[id].fullscreentoggledby.push(layer[0].id);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t_R[id].actionsPrepared = true;\r\n\r\n\tlayer.on(\"click mouseenter mouseleave\",function(e) {\r\n\t\tfor (var i in _L.events) {\r\n\t\t\tif (!_L.events.hasOwnProperty(i)) continue;\r\n\t\t\tif (_L.events[i].on!==e.type) continue;\r\n\t\t\tvar event = _L.events[i];\r\n\t\t\tif (event.repeat!==undefined && event.repeat>0 && !_R.delayer(id,event.repeat*1000,_L.c[0].id+\"_\"+event.action)) continue;\r\n\r\n\t\t\tif (event.on===\"click\" && layer.hasClass(\"tp-temporarydisabled\")) return false;\r\n\t\t\tvar targetlayer = event.layer == \"backgroundvideo\" ? jQuery(_R[id].slides[_R[id].pr_active_key]).find(\"rs-sbg-wrap rs-bgvideo\") : event.layer == \"firstvideo\" ? jQuery(_R[id].slides[_R[id].pr_active_key]).find(\".rs-layer-video\").first() : jQuery(\"#\"+event.layer),\r\n\t\t\t\ttex = targetlayer.length>0;\r\n\t\t\tswitch (event.action) {\r\n\t\t\t\tcase \"menulink\":\r\n\t\t\t\t\tvar linkto = _R.getURLDetails({url:event.url, anchor:event.anchor}),\r\n\t\t\t\t\t\tlinkfrom = _R.getURLDetails();\r\n\r\n\t\t\t\t\t//SAME PAGE, DIFFERENT ANCHOR ?\r\n\t\t\t\t\tif (linkto.host == linkfrom.host && linkto.path == linkfrom.path && event.target===\"_self\") {\r\n\t\t\t\t\t\t//Scroll To Position\r\n\t\t\t\t\t\t_R.scrollToId({id:id, offset:event.offset, action:event.action, anchor: event.anchor, hash:linkto.hash, speed:event.speed, ease:event.ease});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//Update Location and add Anchor, plus Speed/Ease Parameter if necessary\r\n\t\t\t\t\t\tif (event.target===\"_self\")\r\n\t\t\t\t\t\t\twindow.location = linkto.url + (linkto.anchor!==undefined && linkto.anchor!==\"\" ? (/*(linkto.params!=\"\" && linkto.params!=undefined ? \";\" : \"?\") + \"rsaspd=\" + event.speed+\";rsaese:\"+event.ease+\";\" +*/ \"#\"+linkto.anchor) : \"\");\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twindow.open(linkto.url + (linkto.anchor!==undefined && linkto.anchor!==\"\" ? (/*(linkto.params!=\"\" && linkto.params!=undefined ? \";\" : \"?\") + \"rsaspd=\" + event.speed+\";rsaese:\"+event.ease+\";\" +*/ \"#\"+linkto.anchor) : \"\"));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"getAccelerationPermission\":\r\n\t\t\t\t\t_R.getAccelerationPermission(id);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"nextframe\":\r\n\t\t\t\tcase \"prevframe\":\r\n\t\t\t\tcase \"gotoframe\":\r\n\t\t\t\tcase \"togglelayer\":\r\n\t\t\t\tcase \"toggleframes\":\r\n\t\t\t\tcase \"startlayer\":\r\n\t\t\t\tcase \"stoplayer\":\r\n\t\t\t\t\tif (targetlayer[0]===undefined) continue;\r\n\t\t\t\t\tvar _ = _R[id]._L[targetlayer[0].id],\r\n\t\t\t\t\t\tframe=event.frame,\r\n\t\t\t\t\t\ttou = \"triggerdelay\";\r\n\r\n\r\n\t\t\t\t\tif (e.type===\"click\" && _.clicked_time_stamp !==undefined && ((new Date().getTime() - _.clicked_time_stamp)<300)) return;\r\n\t\t\t\t\tif (e.type===\"mouseenter\" && _.mouseentered_time_stamp !==undefined && ((new Date().getTime() - _.mouseentered_time_stamp)<300)) return;\r\n\t\t\t\t\t//if (e.type===\"mouseleave\" && _.mouseleaveed_time_stamp !==undefined && ((new Date().getTime() - _.mouseleaveed_time_stamp)<300)) return;\r\n\r\n\t\t\t\t\tclearTimeout(_.triggerdelayIn);\r\n\t\t\t\t\tclearTimeout(_.triggerdelayOut);\r\n\t\t\t\t\tclearTimeout(_.triggerdelay);\r\n\r\n\t\t\t\t \tif (e.type===\"click\") _.clicked_time_stamp = new Date().getTime();\r\n\t\t\t\t \tif (e.type===\"mouseenter\") _.mouseentered_time_stamp = new Date().getTime();\r\n\t\t\t\t \t//if (e.type===\"mouseleave\") _.mouseleaveed_time_stamp = new Date().getTime();\r\n\t\t\t\t \tif (e.type===\"mouseleave\") _.mouseentered_time_stamp = undefined;\r\n\r\n\t\t\t\t \tif (event.action===\"nextframe\" || event.action===\"prevframe\") {\r\n\t\t\t\t \t\t_.forda = _.forda===undefined ? getFordWithAction(_) : _.forda;\r\n\t\t\t\t \t\tvar inx = jQuery.inArray(_.currentframe,_.ford);\r\n\t\t\t\t \t\tif (event.action===\"nextframe\") inx++;\r\n\t\t\t\t \t\tif (event.action===\"prevframe\") inx--;\r\n\t\t\t\t \t\twhile (_.forda[inx]!==\"skip\" && inx>0 && inx<_.forda.length-1) {\r\n\t\t\t\t \t\t\tif (event.action===\"nextframe\") inx++;\r\n\t\t\t\t \t\t\tif (event.action===\"prevframe\") inx--;\r\n\t\t\t\t \t\t\tinx = Math.min(Math.max(0,inx),_.forda.length-1);\r\n\t\t\t\t \t\t}\r\n\t\t\t\t \t\tframe = _.ford[inx];\r\n\t\t\t\t \t}\r\n\t\t\t\t \tif (jQuery.inArray(event.action,[\"toggleframes\",\"togglelayer\",\"startlayer\",\"stoplayer\"])>=0) {\r\n\r\n\r\n\t\t\t\t\t \t_.triggeredstate = event.action===\"startlayer\" || (event.action===\"togglelayer\" && _.currentframe!==\"frame_1\") || (event.action===\"toggleframes\" && _.currentframe!==event.frameN);\r\n\r\n\t\t\t\t\t \tif (event.action===\"togglelayer\" && _.triggeredstate===true && _.currentframe!==undefined &&_.currentframe!==\"frame_999\") _.triggeredstate=false; // If we are between two Frames, not on frame99 and frame1 need to toggle to frame999 !\r\n\t\t\t\t\t \tframe = _.triggeredstate ? event.action===\"toggleframes\" ? event.frameN : \"frame_1\" : event.action===\"toggleframes\" ? event.frameM : \"frame_999\";\r\n\t\t\t\t\t \ttou = _.triggeredstate ? \"triggerdelayIn\" : \"triggerdelayOut\";\r\n\r\n\t\t\t\t\t \tif (!_.triggeredstate) {\r\n\t\t\t\t\t \t\tif (_R.stopVideo) _R.stopVideo(targetlayer,id);\r\n\t\t\t\t\t \t\t_R.unToggleState(_.layertoggledby);\r\n\t\t\t\t\t \t} else {\r\n\t\t\t\t\t \t\t_R.toggleState(_.layertoggledby);\r\n\t\t\t\t\t \t}\r\n\t\t\t\t\t }\r\n\t\t\t\t\tvar pars = \t{layer:targetlayer, frame:frame, mode:\"trigger\", id:id};\r\n\r\n\t\t\t\t\tif (event.children===true) {\r\n\t\t\t\t\t\tpars.updateChildren = true;\r\n\t\t\t\t\t\tpars.fastforward = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t \tif (_R.renderLayerAnimation) {\r\n\t\t\t\t \t\tclearTimeout(_[tou]);\r\n\t\t\t\t \t\t_[tou] = setTimeout(function(_) {\r\n\t\t\t\t \t\t\t_R.renderLayerAnimation(_);\r\n\t\t\t\t \t\t},(event.delay*1000),pars);\r\n\t\t\t\t \t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"playvideo\": if (tex) _R.playVideo(targetlayer,id);break;\r\n\t\t\t\tcase \"stopvideo\": if (tex && _R.stopVideo) _R.stopVideo(targetlayer,id);break;\r\n\t\t\t\tcase \"togglevideo\": if (tex) if (!_R.isVideoPlaying(targetlayer,id)) _R.playVideo(targetlayer,id); else if (_R.stopVideo) _R.stopVideo(targetlayer,id);break;\r\n\t\t\t\tcase \"mutevideo\": if (tex) _R.Mute(targetlayer,id,true);break;\r\n\t\t\t\tcase \"unmutevideo\":\tif (tex && _R.Mute) _R.Mute(targetlayer,id,false);break;\r\n\t\t\t\tcase \"toggle_mute_video\": if (tex) if (_R.Mute(targetlayer,id)) _R.Mute(targetlayer,id,false); else if (_R.Mute) _R.Mute(targetlayer,id,true); /*layer.toggleClass('rs-tc-active');*/break;\r\n\t\t\t\tcase \"toggle_global_mute_video\":\r\n\t\t\t\t\tvar pvl = _R[id].playingvideos != undefined && _R[id].playingvideos.length>0;\r\n\t\t\t\t\tif (pvl)\r\n\t\t\t\t\t\tif (_R[id].globalmute)\r\n\t\t\t\t\t\t\tjQuery.each(_R[id].playingvideos,function(i,layer) { if (_R.Mute) _R.Mute(layer,id,false);});\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tjQuery.each(_R[id].playingvideos,function(i,layer) { if (_R.Mute) _R.Mute(layer,id,true);});\r\n\t\t\t\t\t_R[id].globalmute = !_R[id].globalmute;\r\n\t\t\t\t\t//layer.toggleClass('rs-tc-active');\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// DELAYED ACTION CHECK\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttpGS.gsap.delayedCall(event.delay,function(targetlayer,id,event,layer) {\r\n\t\t\t\t\t\tswitch(event.action) {\r\n\t\t\t\t\t\t\tcase \"openmodal\":\r\n\t\t\t\t\t\t\t\t_R.openModalAPI(\r\n                                    event.modal,\r\n                                    event.modalslide===undefined ? 0 : event.modalslide,\r\n                                    window.parent.ajaxurl == undefined ? _R[id].ajaxUrl : window.parent.ajaxurl,\r\n                                    true,\r\n                                    id,\r\n                                    event\r\n                                );\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"closemodal\": _R.revModal(id,{mode:\"close\"});break;\r\n\t\t\t\t\t\t\tcase \"callback\": eval(event.callback);break;\r\n\t\t\t\t\t\t\tcase \"simplelink\":\twindow.open(event.url,event.target);break;\r\n\t\t\t\t\t\t\tcase \"simulateclick\": if (targetlayer.length>0) targetlayer.trigger('click');break;\r\n\t\t\t\t\t\t\tcase \"toggleclass\": if (targetlayer.length>0) targetlayer.toggleClass(event.classname);break;\r\n\t\t\t\t\t\t\tcase \"scrollbelow\":\r\n\t\t\t\t\t\t\tcase \"scrollto\":\r\n\t\t\t\t\t\t\t\tif (event.action===\"scrollbelow\") layer.addClass(\"tp-scrollbelowslider\");\r\n\t\t\t\t\t\t\t\t_R.scrollToId({id:id, offset:event.offset, action:event.action, anchor: event.id,  speed:event.speed, ease:event.ease});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"jumptoslide\":\r\n\t\t\t\t\t\t\t\t_R[id].skipAttachDetach = true;\r\n\t\t\t\t\t\t\t\tswitch (event.slide.toLowerCase()) {\r\n\t\t\t\t\t\t\t\t\tcase \"rs-random\":\r\n\t\t\t\t\t\t\t\t\t\tvar ts = Math.min(Math.max(0,Math.ceil(Math.random()*_R[id].realslideamount)-1));\r\n\t\t\t\t\t\t\t\t\t\tts = _R[id].activeRSSlide==ts ? ts>0 ? ts-1 : ts+1 : ts;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,_R[id].slides[ts].dataset.key,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"+1\":\r\n\t\t\t\t\t\t\t\t\tcase \"next\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-next\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 0;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,1,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"rs-previous\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-prev\":\r\n\t\t\t\t\t\t\t\t\tcase \"previous\":\r\n\t\t\t\t\t\t\t\t\tcase \"prev\":\r\n\t\t\t\t\t\t\t\t\tcase \"-1\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 1;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,-1,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"first\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-first\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 1;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,0,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"last\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-last\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 0;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,(_R[id].slideamount-1),_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\tvar ts = _R.isNumeric(event.slide) ?  parseInt(event.slide,0) : event.slide;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,ts,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"toggleslider\":\r\n\t\t\t\t\t\t\t\t_R[id].noloopanymore=0;\r\n\t\t\t\t\t\t\t\tif (_R[id].sliderstatus==\"playing\") {\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revpause();\r\n\t\t\t\t\t\t\t\t\t_R[id].forcepaused = true;\r\n\t\t\t\t\t\t\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t_R[id].forcepaused = false;\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revresume();\r\n\t\t\t\t\t\t\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"pauseslider\":\r\n\t\t\t\t\t\t\t\t_R[id].c.revpause();\r\n\t\t\t\t\t\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"playslider\":\r\n\t\t\t\t\t\t\t\t_R[id].noloopanymore=0;\r\n\t\t\t\t\t\t\t\t_R[id].c.revresume();\r\n\t\t\t\t\t\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\t\t\tcase \"gofullscreen\":\r\n\t\t\t\t\t\t\tcase \"exitfullscreen\":\r\n\t\t\t\t\t\t\tcase \"togglefullscreen\":\r\n                                var gf;\r\n                                tpGS.gsap.set(_R[id].parallax.bgcontainers, {y: 0});\r\n\t\t\t\t\t\t\t\tif (jQuery('.rs-go-fullscreen').length>0 && (event.action==\"togglefullscreen\" || event.action==\"exitfullscreen\")) {\r\n\t\t\t\t\t\t\t\t\tjQuery('.rs-go-fullscreen').removeClass(\"rs-go-fullscreen\");\r\n\t\t\t\t\t\t\t\t\tgf = _R[id].c.closest('rs-fullwidth-wrap').length>0 ? _R[id].c.closest('rs-fullwidth-wrap') : _R[id].c.closest('rs-module-wrap');\r\n\t\t\t\t\t\t\t\t\t_R[id].minHeight  = _R[id].oldminheight;\r\n\t\t\t\t\t\t\t\t\t_R[id].infullscreenmode = false;\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\t\t\t\t\tjQuery(window).trigger(\"resize\");\r\n\t\t\t\t\t\t\t\t\t_R.unToggleState(_R[id].fullscreentoggledby);\r\n\r\n\t\t\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\tif (jQuery('.rs-go-fullscreen').length==0 && (event.action==\"togglefullscreen\" || event.action==\"gofullscreen\")) {\r\n\t\t\t\t\t\t\t\t\tgf = _R[id].c.closest('rs-fullwidth-wrap').length>0 ? _R[id].c.closest('rs-fullwidth-wrap') : _R[id].c.closest('rs-module-wrap');\r\n\t\t\t\t\t\t\t\t\tgf.addClass(\"rs-go-fullscreen\");\r\n\t\t\t\t\t\t\t\t\t_R[id].oldminheight = _R[id].minHeight;\r\n\t\t\t\t\t\t\t\t\t_R[id].minHeight = _R.getWinH(id);\r\n\t\t\t\t\t\t\t\t\t_R[id].infullscreenmode = true;\r\n\t\t\t\t\t\t\t\t\tjQuery(window).trigger(\"resize\");\r\n\t\t\t\t\t\t\t\t\t_R.toggleState(_R[id].fullscreentoggledby);\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault: _R[id].c.trigger('layeraction',[event.action, layer, event]);break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},[targetlayer,id,event,layer]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} // GET THROUGH THE EXISITNG EVENTS ON THIS ELEMENTS\r\n\t});\r\n};\r\n\r\n/*\r\nGET FRAME ORDERS WITH ACTIONS\r\n*/\r\nfunction getFordWithAction(_) {\r\n\tvar neworder = [];\r\n\tfor (var i in _.ford) {\r\n\t\tif (_.frames[_.ford[i]].timeline.waitoncall)\r\n\t\t\tneworder.push(_.ford[i]);\r\n\t\telse\r\n\t\t\tneworder.push(\"skip\");\r\n\t}\r\n\treturn neworder;\r\n}\r\n/*\r\nHELPER TO CACHE TOGGLER TRIGGERERS\r\n */\r\nfunction updateToggleByList(j,w,id) {\r\n\tvar _ = j.data(w);\r\n\tif (_ === undefined) _ = [];\r\n\t_.push(id);\r\n\tj.data(w,_);\r\n}\r\n/*\r\nBUILD ACTION OBJECT FOR LAYER\r\n */\r\nfunction getEventParams(_) {\r\n\tvar r = { on:\"click\",\r\n\t\t\t  delay:0,\r\n\t\t\t  ease:\"power2.out\",\r\n\t\t\t  speed:400\r\n\t\t\t };\r\n\tfor (var i in _) {\r\n\r\n\t\t// needed for new default (custom values from AddOn Action)\r\n\t\tif(!_.hasOwnProperty(i)) continue;\r\n\t\tvar s = _[i].split(\":\");\r\n\r\n\t\t//Fix for \":\" chars in the value\r\n\t\tif(s.length>2 && s[0]===\"call\") s[1] = (s.join(\":\")).replace(s[0]+\":\",'');\r\n\r\n\t\tswitch (s[0]) {\r\n\t\t\tcase \"modal\": r.modal = s[1];break;\r\n\t\t\tcase \"ms\": r.modalslide = s[1];break;\r\n\t\t\tcase \"m\": r.frameM = s[1];break;\r\n\t\t\tcase \"n\": r.frameN = s[1];break;\r\n\t\t\tcase \"o\": r.on = (s[1]===\"click\" || s[1]===\"c\" ? \"click\" : s[1]===\"ml\" || s[1]===\"mouseleave\" ? \"mouseleave\" : s[1]===\"mouseenter\" || s[1]===\"me\" ? \"mouseenter\" : s[1]); break;\r\n\t\t\tcase \"d\": r.delay = parseInt(s[1],0)/1000; r.delay = r.delay===\"NaN\" || isNaN(r.delay) ? 0 : r.delay; break;\r\n\t\t\tcase \"rd\": r.repeat = parseInt(s[1],0)/1000; r.repeat = r.repeat===\"NaN\" || isNaN(r.repeat) ? 0 : r.repeat; break;\r\n\t\t\tcase \"a\": r.action = s[1];break;\r\n\t\t\tcase \"f\": r.frame = s[1];break;\r\n\t\t\tcase \"slide\": r.slide = s[1];break;\r\n\t\t\tcase \"layer\": r.layer = s[1];break;\r\n\t\t\tcase \"sp\": r.speed = parseInt(s[1],0);break;\r\n\t\t\tcase \"e\": r.ease = s[1];break;\r\n\t\t\tcase \"ls\": r.togglestate = s[1];break;\r\n\t\t\tcase \"offset\": r.offset = s[1];break;\r\n\t\t\tcase \"call\": r.callback = s[1];break;\r\n\t\t\tcase \"url\": r.url = \"\"; for (var ii=1;ii<s.length;ii++) r.url += s[ii]+(ii===s.length-1 ? \"\" : \":\");break;\r\n\t\t\tcase \"target\": r.target = s[1];break;\r\n\t\t\tcase \"class\": r.classname = s[1];break;\r\n\t\t\tcase \"ch\": r.children = (s[1]==\"true\" || s[1]==true || s[1]==\"t\" ? true : false);break;\r\n\t\t\tdefault: if(s[0].length>0 && s[0]!==\"\") r[s[0]] = s[1];\r\n\t\t}\r\n\t}\r\n\treturn r;\r\n}\r\n\r\n\r\nvar getOffContH = function(c) {\r\n\tif (c==undefined) return 0;\r\n\tif (c.split(',').length>1) {\r\n\t\tvar oc = c.split(\",\"),\r\n\t\t\ta =0;\r\n\t\tif (oc)\r\n\t\t\tjQuery.each(oc,function(index,sc) {\r\n\t\t\t\tif (jQuery(sc).length>0)\r\n\t\t\t\t\ta = a + jQuery(sc).outerHeight(true);\r\n\t\t\t});\r\n\t\treturn a;\r\n\t} else {\r\n\t\treturn jQuery(c).height();\r\n\t}\r\n\treturn 0;\r\n};\r\n\r\n//Support Defer and Async and Footer Loads\r\nwindow.RS_MODULES = window.RS_MODULES || {};\r\nwindow.RS_MODULES.actions = {loaded:true, version:version};\r\nif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/libs/noise.js":"if (THREE!==undefined) {\t\t\r\n\tTHREE.EffectComposer=function(a,b){if(this.renderer=a,void 0===b){var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat},d=a.getSize(new THREE.Vector2);this._pixelRatio=a.getPixelRatio(),this._width=d.width,this._height=d.height,b=new THREE.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,c),b.texture.name=\"EffectComposer.rt1\"}else this._pixelRatio=1,this._width=b.width,this._height=b.height;this.renderTarget1=b,this.renderTarget2=b.clone(),this.renderTarget2.texture.name=\"EffectComposer.rt2\",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===THREE.CopyShader&&console.error(\"THREE.EffectComposer relies on THREE.CopyShader\"),void 0===THREE.ShaderPass&&console.error(\"THREE.EffectComposer relies on THREE.ShaderPass\"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader),this.clock=new THREE.Clock},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var a=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=a},addPass:function(a){this.passes.push(a),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(a,b){this.passes.splice(b,0,a),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},removePass:function(a){const b=this.passes.indexOf(a);-1!==b&&this.passes.splice(b,1)},isLastEnabledPass:function(a){for(var b=a+1;b<this.passes.length;b++)if(this.passes[b].enabled)return!1;return!0},render:function(a){a===void 0&&(a=this.clock.getDelta());var b,c,d=this.renderer.getRenderTarget(),e=!1,f=this.passes.length;for(c=0;c<f;c++)if(b=this.passes[c],!1!==b.enabled){if(b.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(c),b.render(this.renderer,this.writeBuffer,this.readBuffer,a,e),b.needsSwap){if(e){var g=this.renderer.getContext(),h=this.renderer.state.buffers.stencil;h.setFunc(g.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,a),h.setFunc(g.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(b instanceof THREE.MaskPass?e=!0:b instanceof THREE.ClearMaskPass&&(e=!1))}this.renderer.setRenderTarget(d)},reset:function(a){if(a===void 0){var b=this.renderer.getSize(new THREE.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=b.width,this._height=b.height,a=this.renderTarget1.clone(),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=a,this.renderTarget2=a.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(a,b){this._width=a,this._height=b;var c=this._width*this._pixelRatio,d=this._height*this._pixelRatio;this.renderTarget1.setSize(c,d),this.renderTarget2.setSize(c,d);for(var e=0;e<this.passes.length;e++)this.passes[e].setSize(c,d)},setPixelRatio:function(a){this._pixelRatio=a,this.setSize(this._width,this._height)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(){},render:function(){console.error(\"THREE.Pass: .render() must be implemented in derived pass.\")}}),THREE.Pass.FullScreenQuad=function(){var a=new THREE.OrthographicCamera(-1,1,1,-1,0,1),b=new THREE.BufferGeometry;b.setAttribute(\"position\",new THREE.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),b.setAttribute(\"uv\",new THREE.Float32BufferAttribute([0,2,0,0,2,0],2));var c=function(a){this._mesh=new THREE.Mesh(b,a)};return Object.defineProperty(c.prototype,\"material\",{get:function(){return this._mesh.material},set:function(a){this._mesh.material=a}}),Object.assign(c.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(b){b.render(this._mesh,a)}}),c}();\r\n\tTHREE.RenderPass=function(a,b,c,d,e){THREE.Pass.call(this),this.scene=a,this.camera=b,this.overrideMaterial=c,this.clearColor=d,this.clearAlpha=e===void 0?0:e,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new THREE.Color},THREE.RenderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.RenderPass,render:function(a,b,c){var d=a.autoClear;a.autoClear=!1;var e,f;this.overrideMaterial!==void 0&&(f=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(a.getClearColor(this._oldClearColor),e=a.getClearAlpha(),a.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&a.clearDepth(),a.setRenderTarget(this.renderToScreen?null:c),this.clear&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),a.render(this.scene,this.camera),this.clearColor&&a.setClearColor(this._oldClearColor,e),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=f),a.autoClear=d}});\r\n\tTHREE.Blur2dShader = {\r\n\r\n\t\tuniforms: {\r\n\t\t\t'tColor': { value: null },\r\n\t\t\t'intensity': { value: 0 },\r\n\t\t\t'progress': { value: 0 },\r\n\t\t\t'left': {value: 1.0},\r\n\t\t\t'top': {value: 0.0}\r\n\t\t},\r\n\r\n\t\tvertexShader: /* glsl */`\r\n\t\t\tvarying vec2 vUv;\r\n\t\t\tvoid main() {\r\n\t\t\t\tvUv = uv;\r\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t\t}`,\r\n\r\n\t\tfragmentShader: /* glsl */`\r\n\t\t\t#if __VERSION__ < 130\\n\r\n\t\t\t#define TEXTURE2D texture2D\\n\r\n\t\t\t#else\\n\r\n\t\t\t#define TEXTURE2D texture\\n\r\n\t\t\t#endif\\n\r\n\r\n\t\t\t#include <common>\r\n\t\t\tvarying vec2 vUv;\r\n\t\t\tuniform sampler2D tColor;\r\n\t\t\tuniform float progress;\r\n\t\t\tuniform float intensity;\r\n\t\t\tuniform float left;\r\n\t\t\tuniform float top;\r\n\t\t\tint Samples = 64;\r\n\t\t\t#include <packing>\r\n\t\t\t\r\n\t\t\tvec4 DirectionalBlur(in vec2 UV, in vec2 Direction, in float Intensity, in sampler2D Texture) {\r\n\t\t\t\tvec4 Color = vec4(0.0);  \r\n\r\n\t\t\t\tfor (int i=1; i<=Samples/2; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tColor += TEXTURE2D(Texture,UV+float(i)*Intensity/float(Samples/2)*Direction);\r\n\t\t\t\t\tColor += TEXTURE2D(Texture,UV-float(i)*Intensity/float(Samples/2)*Direction);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Color/float(Samples);    \r\n\t\t\t}\r\n\r\n\t\t\tvoid main() {\r\n\t\t\t\tvec2 uv = vUv;\r\n\t\t\t\t\r\n\t\t\t\tvec2 Direction = vec2(left, top);\r\n\t\t\t\tfloat Intensity = intensity;\r\n\t\t\t\tfloat m = progress;\r\n\t\t\t\t\r\n\t\t\t\tfloat mult = (m -0.5)*2.;\r\n\t\t\t\tIntensity *= (-(mult * mult) + 1.);\r\n\t\t\t\tIntensity *= 1.0 - step(1.0,m);\r\n\t\t\t\t\r\n\t\t\t\tvec4 Color = DirectionalBlur(uv,normalize(Direction), Intensity, tColor);\r\n\r\n\t\t\t\tgl_FragColor = vec4(Color.xyz, 1.0);\r\n\t\t}`\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Directional blur post-process with Blur2D shader\r\n\t */\r\n\r\n\tTHREE.Blur2D = function ( scene, camera, params ) {\r\n\r\n\t\tTHREE.Pass.call( this );\r\n\r\n\t\tthis.scene = scene;\r\n\t\tthis.camera = camera;\r\n\r\n\t\tvar left = params.left === undefined ? 0 : params.left;\r\n\t\tvar top = params.top === undefined ? 0 : params.top;\r\n\t\tif(left === 0 && top === 0) left = 1.0;\r\n\t\t// render targets\r\n\r\n\t\tvar width = params.width || window.innerWidth || 1;\r\n\t\tvar height = params.height || window.innerHeight || 1;\r\n\r\n\t\tthis.renderTargetDepth = new THREE.WebGLRenderTarget( width, height, {\r\n\t\t\tminFilter: THREE.NearestFilter,\r\n\t\t\tmagFilter: THREE.NearestFilter\r\n\t\t} );\r\n\r\n\t\tthis.renderTargetDepth.texture.name = 'Blur2D.depth';\r\n\r\n\t\t// blur2d material\r\n\r\n\t\tif ( THREE.Blur2dShader === undefined ) console.error( 'THREE.Blur2D relies on THREE.Blur2dShader' );\r\n\r\n\t\tvar Blur2dShader = THREE.Blur2dShader;\r\n\t\tvar blur2dUniforms = THREE.UniformsUtils.clone( Blur2dShader.uniforms );\r\n\r\n\t\tblur2dUniforms[ 'intensity' ].value = params.intensity !== undefined ? params.intensity : 0.1;\r\n\t\tblur2dUniforms[ 'progress' ].value = 0.0;\r\n\t\tblur2dUniforms[ 'left' ].value = left;\r\n\t\tblur2dUniforms[ 'top' ].value = top;\r\n\r\n\t\tthis.materialBlur2d = new THREE.ShaderMaterial( {\r\n\t\t\tuniforms: blur2dUniforms,\r\n\t\t\tvertexShader: Blur2dShader.vertexShader,\r\n\t\t\tfragmentShader: Blur2dShader.fragmentShader\r\n\t\t} );\r\n\r\n\t\tthis.uniforms = blur2dUniforms;\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\tthis.fsQuad = new THREE.Pass.FullScreenQuad( this.materialBlur2d );\r\n\r\n\t\tthis._oldClearColor = new THREE.Color();\r\n\r\n\t};\r\n\r\n\tTHREE.Blur2D.prototype = Object.assign( Object.create( THREE.Pass.prototype ), {\r\n\r\n\t\tconstructor: THREE.Blur2D,\r\n\r\n\t\trender: function ( renderer, writeBuffer, readBuffer/*, deltaTime, maskActive*/ ) {\r\n\r\n\t\t\t// Render depth into texture\r\n\r\n\t\t\trenderer.getClearColor( this._oldClearColor );\r\n\t\t\tvar oldClearAlpha = renderer.getClearAlpha();\r\n\t\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\t\trenderer.autoClear = false;\r\n\r\n\t\t\trenderer.setClearColor( 0xffffff );\r\n\t\t\trenderer.setClearAlpha( 1.0 );\r\n\t\t\trenderer.setRenderTarget( this.renderTargetDepth );\r\n\t\t\trenderer.clear();\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t\t// Render blur2d composite\r\n\t\t\tthis.uniforms[ 'tColor' ].value = readBuffer.texture;\r\n\r\n\t\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\t\trenderer.setRenderTarget( null );\r\n\t\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\t\t\trenderer.clear();\r\n\t\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.scene.overrideMaterial = null;\r\n\t\t\trenderer.setClearColor( this._oldClearColor );\r\n\t\t\trenderer.setClearAlpha( oldClearAlpha );\r\n\t\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\tvar _R = _R_is_Editor ? RVS._R : jQuery.fn.revolution;\r\n\r\n\t_R.postProcessing = _R.postProcessing || {};\r\n\r\n\t_R.postProcessing.blur2d = {\r\n\t\tinit: function(renderer, scene, camera, opt) {\r\n\t\t\tlet PP = {};\r\n\t\t\tPP.type = \"blur2d\";\r\n\t\t\tPP.renderPass = new THREE.RenderPass( scene, camera );\r\n\t\t\tPP.blur2D = new THREE.Blur2D( scene, camera, {\r\n\t\t\t\tprogress: opt.progress,\r\n\t\t\t\tintensity: opt.intensity,\r\n\t\t\t\tleft: opt.left,\r\n\t\t\t\ttop: opt.top,\r\n\t\t\t\twidth: opt.width,\r\n\t\t\t\theight: opt.height\r\n\t\t\t});\t\t\t\t\t\t\r\n\t\t\tPP.composer = new THREE.EffectComposer( renderer);\r\n\t\t\tPP.composer.addPass( PP.renderPass );\r\n\t\t\tPP.composer.addPass( PP.blur2D );\r\n\t\t\treturn PP;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"}
}});
