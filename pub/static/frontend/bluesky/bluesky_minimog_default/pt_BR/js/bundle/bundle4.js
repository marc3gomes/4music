require.config({"config": {
        "jsbuild":{"Nwdthemes_Revslider/public/assets/js/dev/rs6.main.js":"/*!\r\n\r\n  - Slider Revolution JavaScript Plugin -\r\n\r\n..........................xXXXXX.................\r\n................. xXXXXX..xXXXXX..xXXXXX.........\r\n..................xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.........,xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.........,xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.........,xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n..........xXXXXX..xXXXXX..xXXXXX..xXXXXX.........\r\n.....................xxxxxxxxxxxxxxxxxxx.........\r\n.....................xxxxxxxxxxxxxxxxxxx.........\r\n.....................xxxxxxxxxxxxxxxxxxx.........\r\n\r\n\t\t\t   DATE: 2022-10-06\r\n\t@author: Krisztian Horvath, ThemePunch OHG.\r\n\r\nINTRODUCING GIT\r\nUPDATES AND DOCS AT:\r\nhttps://www.themepunch.com/support-center\r\n\r\nGET LICENSE AT:\r\nhttps://www.themepunch.com/links/slider_revolution_wordpress_regular_license\r\n\r\nLICENSE:\r\nCopyright (c) 2009-2019, ThemePunch. All rights reserved.\r\nThis work is subject to the terms at https://www.themepunch.com/links/slider_revolution_wordpress_regular_license (Regular / Extended)\r\n\r\n*/\r\n//test\r\n(function(jQuery, undefined) {\r\n\t\"use strict\";\r\n\r\n\tvar version = \"Slider Revolution 6.6.0\";\r\n\r\n\twindow.RSANYID = window.RSANYID === undefined ? [] : window.RSANYID;\r\n\twindow.RSANYID_sliderID = window.RSANYID_sliderID === undefined ? [] : window.RSANYID_sliderID;\r\n\r\n\tjQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\tvar _R = jQuery.fn.revolution;\r\n\r\n\tjQuery.fn.revolutionInit = function(options) {\r\n\r\n\t\treturn this.each(function() {\r\n\r\n\r\n\t\t\t_R.ISM = _R.ISM || _R.is_mobile();\r\n\t\t\t// REMOVE P TAG FIXES FOR WORDPRESS\r\n\t\t\tvar pwpfix = document.getElementsByClassName('rs-p-wp-fix');\r\n\t\t\twhile (pwpfix[0]) pwpfix[0].parentNode.removeChild(pwpfix[0]);\r\n\t\t\tif (this.id !== undefined) {\r\n\t\t\t\t_R[id] = { anyid: [] };\r\n\t\t\t\tthis.id = _R.revCheckIDS(id, this, true);\r\n\t\t\t} else this.id = \"rs_module_\" + Math.round(Math.random() * 10000000);\r\n\r\n\t\t\tvar id = this.id,\r\n\t\t\t\texp = _R.clone(options);\r\n\t\t\t_R[id] = getModuleDefaults(options);\r\n\t\t\t_R[id].ignoreHeightChange = _R.ISM && _R[id].sliderLayout === \"fullscreen\" && _R[id].ignoreHeightChange;\r\n\t\t\t_R[id].option_export = exp;\r\n\t\t\t_R[id].anyid = [];\r\n\t\t\t_R[id]._Lshortcuts = {};\r\n\t\t\t_R[id].computedStyle = {};\r\n\t\t\t_R[id].c = jQuery(this);\r\n\t\t\t_R[id].cpar = _R[id].c.parent();\r\n\t\t\t_R[id].canvas = _R[id].c.find('rs-slides');\r\n\t\t\t_R[id].caches = { calcResponsiveLayersList: [], contWidthManager: {}, middleHeights:{} };\r\n\t\t\t_R[id].sbgs = {};\r\n\t\t\twindow.RSBrowser = window.RSBrowser === undefined ? _R.get_browser() : window.RSBrowser;\r\n\t\t\t_R.setIsIOS();\r\n\t\t\t_R.setIsChrome8889();\r\n\t\t\tif(_R.useBackdrop === undefined) _R.checkBackdrop();\r\n\t\t\t_R[id].noDetach = _R[id].BUG_ie_clipPath = window.RSBrowser === \"Edge\" || window.RSBrowser === \"IE\";\r\n\r\n\t\t\t_R.getByTag = getTagSelector();\r\n\r\n\t\t\t// BASIC SETTINGS\r\n\t\t\t_R[id].indexhelper = 0;\r\n\t\t\t_R[id].fullScreenOffsetResult = 0;\r\n\t\t\t_R[id].level = 0;\r\n\t\t\t_R[id].rtl = jQuery('body').hasClass(\"rtl\") || document.dir==\"rtl\";\r\n\t\t\t_R[id]._L = _R[id]._L === undefined ? {} : _R[id]._L;\r\n\t\t\t_R[id].emptyObject = \"{}\";\r\n\t\t\t_R[id].dimensionReCheck = {};\r\n\r\n\t\t\tif (_R.globalListener === undefined) _R.pageHandler(id);\r\n\r\n\t\t\tif (_R[id].stopAfterLoops != undefined && _R[id].stopAfterLoops > -1)\r\n\t\t\t\t_R[id].looptogo = _R[id].stopAfterLoops;\r\n\t\t\telse\r\n\t\t\t\t_R[id].looptogo = \"disabled\";\r\n\r\n\t\t\t//DEBUG\r\n\t\t\twindow.T = _R[id];\r\n\r\n\t\t\t// FALLBACKS\r\n\t\t\t_R[id].BUG_safari_clipPath = _R.get_browser() === \"Safari\" && _R.get_browser_version() > \"12\";\r\n\r\n\t\t\t// Prepare maxHeight\r\n\t\t\t_R[id].minHeight = _R[id].sliderLayout === \"fullwidth\" || _R[id].sliderType === \"carousel\" ? 0 : _R[id].minHeight != undefined && _R[id].minHeight !== \"\" ? parseInt(_R[id].minHeight, 0) : 0;\r\n\t\t\t_R[id].minHeight = _R[id].minHeight === undefined ? 0 : _R[id].minHeight;\r\n\r\n\t\t\t_R[id].isEdge = _R.get_browser() === \"Edge\";\r\n\r\n\t\t\t//Prepare Min Height\r\n\t\t\tupdateStartHeights(id);\r\n\t\t\t_R.updateVisibleArea(id);\r\n\t\t\tcheckBlockSpaces(id);\r\n\r\n\t\t\tif (!_R.mesuredScrollBarDone) _R.mesureScrollBar();\r\n\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t// If Fullscreen Slidr has Offset Size containers, need to reduce height at very early timepoint\r\n\t\t\t\tif (_R[id].sliderLayout === \"fullscreen\") {\r\n\t\t\t\t\tvar foffset = _R.getFullscreenOffsets(id);\r\n\t\t\t\t\tif (foffset !== 0) _R[id].cpar.height(_R.getWinH(id) - foffset);\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].cpar[0].style.visibility = \"visible\";\r\n\r\n\t\t\t});\r\n\r\n\t\t\t//REMOVE SLIDES IF SLIDER IS HERO\r\n\t\t\tif (_R[id].sliderType == \"hero\") _R[id].c.find('rs-slide').each(function(i) { if (i > 0) jQuery(this).remove(); });\r\n\r\n\t\t\t// NAVIGATION EXTENSTION\r\n\t\t\t_R[id].navigation.use = _R[id].sliderType !== \"hero\" && (_R[id].sliderType == \"carousel\" || _R[id].navigation.keyboardNavigation || _R[id].navigation.mouseScrollNavigation == \"on\" || _R[id].navigation.mouseScrollNavigation == \"carousel\" || _R[id].navigation.touch.touchenabled || _R[id].navigation.arrows.enable || _R[id].navigation.bullets.enable || _R[id].navigation.thumbnails.enable || _R[id].navigation.tabs.enable);\r\n\r\n\t\t\t// LAYERANIM, VIDEOS, ACTIONS EXTENSIONS\r\n\t\t\t_R[id].c.find('rs-bgvideo').each(function() { if (this.tagName === \"RS-BGVIDEO\" && (this.id === undefined || this.id === \"\")) this.id = \"rs-bg-video-\" + Math.round(Math.random() * 1000000); });\r\n\r\n\t\t\ttpGS.force3D = \"auto\";\r\n\r\n\t\t\t// CHECK IF MODAL HAS BEEN INITIALISED ALREADY\r\n\t\t\tif (_R[id].modal.useAsModal === true && _R.RS_prioList.indexOf(id) === -1) {\r\n\t\t\t\t_R.RS_toInit[id] = false;\r\n\t\t\t\t_R.RS_prioList.push(id);\r\n\t\t\t}\r\n\r\n\t\t\t// CHECK IF SLIDER WAS ALREADY KILLED BEFORE\r\n\t\t\tif (_R.RS_killedlist !== undefined && _R.RS_killedlist.indexOf(id) !== -1) {\r\n\t\t\t\t_R.RS_toInit[id] = false;\r\n\t\t\t\t_R.RS_prioList.push(id);\r\n\t\t\t}\r\n\r\n\t\t\t// CHECK IF SLIDER HAS BEED CALLED AFTER GLOBAL LISTENER AND IS NOT YET ON THE LIST\r\n\t\t\tif (_R.RS_prioListFirstInit === true && _R[id].modal.useAsModal !== true && _R.RS_prioList.indexOf(id) === -1) {\r\n\t\t\t\t_R.RS_toInit[id] = false;\r\n\t\t\t\t_R.RS_prioList.push(id);\r\n\t\t\t}\r\n\t\t\t_R.initNextRevslider(id);\r\n\r\n\t\t\t//_R.observeRemoved(id);\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\tvar _R = window.RS_F;\r\n\r\n\r\n\r\n\tjQuery.fn.extend({\r\n\r\n\t\tgetRSJASONOptions: function(id) { console.log(JSON.stringify(_R[id].option_export)); },\r\n\r\n\t\t//Get All Loaded Version\r\n\t\tgetRSVersion: function(silent) {\r\n\t\t\tvar v = window.SliderRevolutionVersion,\r\n\t\t\t\tt, m;\r\n\t\t\tif (!silent) {\r\n\t\t\t\tt = m = \"---------------------------------------------------------\\n\";\r\n\t\t\t\tt += \"    Currently Loaded Slider Revolution & SR Modules :\\n\" + m;\r\n\t\t\t\tfor (var key in v)\r\n\t\t\t\t\tif (v.hasOwnProperty(key)) t += (v[key].alias + \": \" + v[key].ver) + \"\\n\";\r\n\t\t\t\tt += m;\r\n\t\t\t}\r\n\t\t\treturn silent ? v : t;\r\n\t\t},\r\n\r\n\r\n\t\t// Remove a Slide from the Slider\r\n\t\trevremoveslide: function(sindex) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar id = this.id;\r\n\t\t\t\t// REDUCE THE CURRENT ID\r\n\t\t\t\tif (sindex < 0 || sindex > _R[id].slideamount) return;\r\n\r\n\t\t\t\tif (_R[id] && _R[id].slides.length > 0) {\r\n\t\t\t\t\tif (sindex > 0 || sindex <= _R[id].slides.length) {\r\n\t\t\t\t\t\tvar ref = _R.gA(_R[id].slides[sindex], 'key');\r\n\t\t\t\t\t\t_R[id].slideamount = _R[id].slideamount - 1;\r\n\t\t\t\t\t\t_R[id].realslideamount = _R[id].realslideamount - 1;\r\n\t\t\t\t\t\tremoveNavWithLiref('rs-bullet', ref, id);\r\n\t\t\t\t\t\tremoveNavWithLiref('rs-tab', ref, id);\r\n\t\t\t\t\t\tremoveNavWithLiref('rs-thumb', ref, id);\r\n\t\t\t\t\t\tjQuery(_R[id].slides[sindex]).remove();\r\n\t\t\t\t\t\t_R[id].thumbs = removeArray(_R[id].thumbs, sindex);\r\n\t\t\t\t\t\tif (_R.updateNavIndexes) _R.updateNavIndexes(id);\r\n\t\t\t\t\t\tif (sindex <= _R[id].pr_active_key) _R[id].pr_active_key = _R[id].pr_active_key - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t// Add a New Call Back to some Module\r\n\t\trevaddcallback: function(callback) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id]) {\r\n\t\t\t\t\tif (_R[this.id].callBackArray === undefined)\r\n\t\t\t\t\t\t_R[this.id].callBackArray = [];\r\n\t\t\t\t\t_R[this.id].callBackArray.push(callback);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Get Current Parallax Proc\r\n\t\trevgetparallaxproc: function() {\r\n\t\t\tif (_R[this[0].id]) return _R[this[0].id].scrollproc;\r\n\t\t},\r\n\r\n\t\t// ENABLE DEBUG MODE\r\n\t\trevdebugmode: function() {\r\n\t\t\treturn;\r\n\t\t},\r\n\r\n\t\t// METHODE SCROLL\r\n\t\trevscroll: function(oy) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar c = jQuery(this);\r\n\t\t\t\tjQuery('body,html').animate({ scrollTop: (c.offset().top + (c.height()) - oy) + \"px\" }, { duration: 400 });\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE PAUSE\r\n\t\trevredraw: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tcontainerResized(this.id, undefined, true);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE GoToFrame\r\n\t\t//Trigger a Frame from Script outside of RS\r\n\t\trevGoToFrame:function(_) {\r\n\t\t\tif (_.layerid==undefined || _.frame==undefined) return;\r\n\t\t\tif (this==undefined || this==null) return;\r\n\t\t\t _.moduleid = this[0].id;\r\n\t\t\t_.targetlayer = jQuery('#'+_.layerid);\r\n\t\t\tif (_.targetlayer==undefined || _.targetlayer.length==0) return;\r\n\t\t\tvar pars = {layer:_.targetlayer, frame:_.frame, mode:\"trigger\", id:_.moduleid};\r\n\t\t\tif (_.children===true) {\r\n\t\t\t\tpars.updateChildren = true;\r\n\t\t\t\tpars.fastforward = true;\r\n\t\t\t}\r\n\t\t\tif (_R.renderLayerAnimation) _R.renderLayerAnimation(pars);\r\n\r\n\t\t},\r\n\t\t// METHODE PAUSE\r\n\t\trevkill: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (this==undefined || this==null) return;\r\n\t\t\t\tvar id = this.id;\r\n\r\n\t\t\t\t_R[id].c.data('conthover', 1);\r\n\t\t\t\t_R[id].c.data('conthoverchanged', 1);\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onpause');\r\n\t\t\t\t_R[id].tonpause = true;\r\n\t\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\t\t_R[id].sliderisrunning = false;\r\n\r\n\r\n\t\t\t\tvar resizid = \"updateContainerSizes.\" + _R[id].c.attr('id');\r\n\t\t\t\t_R.window.off(resizid);\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c.find('*'), false);\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c, false);\r\n\t\t\t\t_R[id].c.off('hover, mouseover, mouseenter,mouseleave, resize');\r\n\t\t\t\t_R[id].c.find('*').each(function() {\r\n\t\t\t\t\tvar el = jQuery(this);\r\n\r\n\t\t\t\t\tel.off('on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer');\r\n\t\t\t\t\tel.data('mySplitText', null);\r\n\t\t\t\t\tel.data('ctl', null);\r\n\t\t\t\t\tif (el.data('tween') != undefined) el.data('tween').kill();\r\n\t\t\t\t\tif (el.data('pztl') != undefined) el.data('pztl').kill();\r\n\t\t\t\t\tif (el.data('timeline_out') != undefined) el.data('timeline_out').kill();\r\n\t\t\t\t\tif (el.data('timeline') != undefined) el.data('timeline').kill();\r\n\t\t\t\t\tel.remove();\r\n\t\t\t\t\tel.empty();\r\n\t\t\t\t\tel = null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c.find('*'), false);\r\n\t\t\t\ttpGS.gsap.killTweensOf(_R[id].c, false);\r\n\t\t\t\t_R[id].progressC.remove();\r\n\t\t\t\ttry { _R[id].c.closest('.rev_slider_wrapper').detach(); } catch (e) {}\r\n\t\t\t\ttry { _R[id].c.closest('rs-fullwidth-wrap').remove(); } catch (e) {}\r\n\t\t\t\ttry { _R[id].c.closest('rs-module-wrap').remove(); } catch (e) {}\r\n\t\t\t\ttry { _R[id].c.remove(); } catch (e) {}\r\n\r\n\t\t\t\t_R[id].cpar.detach();\r\n\t\t\t\t_R[id].c.html('');\r\n\t\t\t\t_R[id].c = null;\r\n\t\t\t\twindow[_R[id].revapi] = undefined;\r\n\t\t\t\tdelete _R[id];\r\n\r\n\t\t\t\tdelete _R.RS_swapList[id];\r\n\t\t\t\tdelete _R.slidersToScroll[id];\r\n\t\t\t\tdelete _R.RS_toInit[id];\r\n\t\t\t\tif (_R.nextSlider == id) delete _R.nextSlider;\r\n\r\n\r\n\t\t\t\t//Remove Slider from the PrioList and reset Preparations\r\n\t\t\t\t_R.RS_prioList.splice(_R.RS_prioList.indexOf(id), 1);\r\n\t\t\t\t//_R.RS_toInit[id] = false;\r\n\t\t\t\t//Put Slider on the Killed List, so it can be reinitialised later again if needed\r\n\t\t\t\t_R.RS_killedlist = _R.RS_killedlist === undefined ? [] : _R.RS_killedlist;\r\n\t\t\t\tif (_R.RS_killedlist.indexOf(id) === -1) _R.RS_killedlist.push(id);\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t// METHODE PAUSE\r\n\t\trevpause: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar c = jQuery(this);\r\n\t\t\t\tif (c != undefined && c.length > 0 && jQuery('body').find('#' + c.attr('id')).length > 0) {\r\n\t\t\t\t\tc.data('conthover', 1);\r\n\t\t\t\t\tc.data('conthoverchanged', 1);\r\n\t\t\t\t\tc.trigger('revolution.slide.onpause');\r\n\t\t\t\t\t_R[this.id].tonpause = true;\r\n\t\t\t\t\tc.trigger('stoptimer');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE RESUME\r\n\t\trevresume: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id] !== undefined) {\r\n\t\t\t\t\tvar c = jQuery(this);\r\n\t\t\t\t\tc.data('conthover', 0);\r\n\t\t\t\t\tc.data('conthoverchanged', 1);\r\n\t\t\t\t\tc.trigger('revolution.slide.onresume');\r\n\t\t\t\t\t_R[this.id].tonpause = false;\r\n\t\t\t\t\tc.trigger('starttimer');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\trevmodal: function(o) {\r\n\t\t\tvar $this = this instanceof jQuery ? this[0] : this,\r\n\t\t\t\tid = $this.id;\r\n\t\t\tif (_R[$this.id] !== undefined) _R.revModal(id, o);\r\n\t\t},\r\n\r\n\r\n\r\n\t\trevstart: function() {\r\n\t\t\t// \"this\" is a jQuery Object here\r\n\t\t\tvar $this = this instanceof jQuery ? this[0] : this;\r\n\r\n\t\t\tif (_R[$this.id] === undefined) {\r\n\t\t\t\tconsole.log(\"Slider is Not Existing\");\r\n\t\t\t\treturn false;\r\n\t\t\t} else\r\n\t\t\tif (!_R[$this.id].sliderisrunning && _R[$this.id].initEnded !== true) { //Double Check if we really can start the slider !\r\n\t\t\t\t_R[$this.id].c = jQuery($this);\r\n\t\t\t\t_R[$this.id].canvas = _R[$this.id].c.find('rs-slides');\r\n\t\t\t\trunSlider($this.id);\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"Slider Is Running Already\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// METHODE NEXT\r\n\t\trevnext: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\t// CATCH THE CONTAINER\r\n\t\t\t\tif (_R[this.id] !== undefined) _R.callingNewSlide(this.id, 1, _R[this.id].sliderType === \"carousel\");\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE RESUME\r\n\t\trevprev: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\t// CATCH THE CONTAINER\r\n\t\t\t\tif (_R[this.id] !== undefined) _R.callingNewSlide(this.id, -1, _R[this.id].sliderType === \"carousel\");\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// METHODE LENGTH\r\n\t\trevmaxslide: function() {\r\n\t\t\t// CATCH THE CONTAINER\r\n\t\t\treturn jQuery(this).find('rs-slide').length;\r\n\t\t},\r\n\r\n\r\n\t\t// METHODE CURRENT\r\n\t\trevcurrentslide: function() {\r\n\t\t\t// CATCH THE CONTAINER\r\n\t\t\tif (_R[jQuery(this)[0].id] !== undefined) return parseInt(_R[jQuery(this)[0].id].pr_active_key, 0) + 1;\r\n\t\t},\r\n\r\n\t\t// METHODE CURRENT\r\n\t\trevlastslide: function() {\r\n\t\t\t// CATCH THE CONTAINER\r\n\t\t\treturn jQuery(this).find('rs-slide').length;\r\n\t\t},\r\n\r\n\r\n\t\t// METHODE JUMP TO SLIDE\r\n\t\trevshowslide: function(slide) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id] !== undefined && slide !== undefined) _R.callingNewSlide(this.id, \"to\" + (slide - 1));\r\n\t\t\t});\r\n\t\t},\r\n\t\trevcallslidewithid: function(slide) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif (_R[this.id] !== undefined) _R.callingNewSlide(this.id, slide, _R[this.id].sliderType === \"carousel\");\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t});\r\n\r\n\r\n\t//////////////////////////////////////////////////////////////\r\n\t// -\tREVOLUTION FUNCTION EXTENSIONS FOR GLOBAL USAGE  -  //\r\n\t//////////////////////////////////////////////////////////////\r\n\t_R = jQuery.fn.revolution;\r\n\r\n\tjQuery.extend(true, _R, {\r\n\t\tisNumeric: function(n) {\r\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t\t},\r\n\t\ttrim: function(t) {\r\n\t\t\treturn t !== undefined && t !== null && typeof t == \"string\" ? t.trim() : t;\r\n\t\t},\r\n\r\n\t\tsetCookie: function(cname, cvalue, exdays) {\r\n\t\t\tvar d = new Date();\r\n\t\t\td.setTime(d.getTime() + (exdays * 60 * 60 * 1000));\r\n\t\t\tvar expires = \"expires=\" + d.toUTCString();\r\n\t\t\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n\t\t},\r\n\r\n\t\tgetCookie: function(cname) {\r\n\t\t\tvar name = cname + \"=\";\r\n\t\t\tvar ca = document.cookie.split(';');\r\n\t\t\tfor (var i = 0; i < ca.length; i++) {\r\n\t\t\t\tvar c = ca[i];\r\n\t\t\t\twhile (c.charAt(0) == ' ') {\r\n\t\t\t\t\tc = c.substring(1);\r\n\t\t\t\t}\r\n\t\t\t\tif (c.indexOf(name) == 0) {\r\n\t\t\t\t\treturn decodeURIComponent(c.substring(name.length, c.length));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\tmesureScrollBar: function() {\r\n\t\t\t_R.mesuredScrollBarDone = true;\r\n\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t// Create the measurement node\r\n\t\t\t\tvar scrollDiv = document.createElement(\"div\");\r\n\t\t\t\tscrollDiv.className = \"RSscrollbar-measure\";\r\n\t\t\t\tdocument.body.appendChild(scrollDiv);\r\n\r\n\t\t\t\t// Get the scrollbar width\r\n\t\t\t\t_R.mesuredScrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n\r\n\r\n\t\t\t\t// Delete the DIV\r\n\t\t\t\tdocument.body.removeChild(scrollDiv);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmobileTimedHeightCheck : function() {\r\n\t\t\trequestAnimationFrame(function() { _R.mobileTimedHeightCheck();})\r\n\t\t\t_R.mobileHeights.now = Date.now();\r\n\t\t\t_R.mobileHeights.elapsed = _R.mobileHeights.now - _R.mobileHeights.then;\r\n\r\n\t\t\t// if enough time has elapsed, draw the next frame\r\n\t\t\tif (_R.mobileHeights.elapsed > _R.mobileHeights.fpsInterval) {\r\n\t\t\t\t_R.mobileHeights.then = _R.mobileHeights.now - (_R.mobileHeights.elapsed % _R.mobileHeights.fpsInterval);\r\n\t\t\t\t_R.getWindowDimension();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpageHandler: function(id) {\r\n\t\t\t_R.globalListener = true;\r\n\t\t\t_R.window = jQuery(window);\r\n\t\t\t_R.document = jQuery(document);\r\n\t\t\t_R.RS_toInit = {};\r\n\t\t\t_R.RS_prioList = [];\r\n\t\t\t_R.RS_swapping = [];\r\n\t\t\t_R.RS_swapList = {};\r\n\t\t\tif (window.isSafari11 === undefined) window.isSafari11 = _R.isSafari11();\r\n\r\n\t\t\tif (_R.ISM) {\r\n\t\t\t\twindow.addEventListener(\"orientationchange\", function() {\r\n\t\t\t\t\t_R.getWindowDimension(false, true);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_R.getWindowDimension(true, true);\r\n\t\t\t\t\t}, 400)\r\n\t\t\t\t});\r\n\t\t\t\twindow.addEventListener(\"resize\", _R.getWindowDimension);\r\n\t\t\t\ttpGS.gsap.delayedCall(3, function(){\r\n\t\t\t\t\twindow.removeEventListener(\"resize\", _R.getWindowDimension);\r\n\t\t\t\t});\r\n\t\t\t\t// Checking Heights all time\r\n\t\t\t\t_R.mobileHeights = {\r\n\t\t\t\t\tfpsInterval : 500,\r\n\t\t\t\t\tthen : Date.now(),\r\n\t\t\t\t}\r\n\t\t\t\tif (!_R[id].ignoreHeightChange && !_R.mobileHeights.checking) {\r\n\t\t\t\t\t_R.mobileHeights.checking = true;\r\n\t\t\t\t\t_R.mobileTimedHeightCheck();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// removed old touchscreen check as sliders were not resizing on touchscreen desktops\r\n\t\t\t\twindow.addEventListener(\"resize\", _R.getWindowDimension);\r\n\t\t\t}\r\n\r\n\t\t\t_R.getWindowDimension(false);\r\n\t\t\t_R.stickySupported = false;\r\n\r\n\t\t\tif (window.RSBrowser !== \"IE\") _R.stickySupported = true;\r\n\r\n\t\t\t_R.checkParrentOverflows(id);\r\n\r\n\t\t\tvar rsmodules = _R.getByTag(document, 'RS-MODULE');\r\n\t\t\tfor (var i in rsmodules)\r\n\t\t\t\tif (rsmodules.hasOwnProperty(i)) {\r\n\t\t\t\t\t_R.RS_toInit[rsmodules[i].id] = false;\r\n\t\t\t\t\t_R.RS_prioList.push(rsmodules[i].id);\r\n\t\t\t\t}\r\n\t\t\t_R.nextSlider = id;\r\n\t\t\t_R.RS_prioListFirstInit = true;\r\n\r\n\t\t\t_R.document.one('click', function(){ _R.clickedOnce = true; });\r\n\r\n\t\t\tdocument.addEventListener('visibilitychange', visibilityHandler);\r\n\r\n\t\t\tif (_R.hasNavClickListener === undefined) {\r\n\t\t\t\t_R.document.on((_R.is_mobile() ? 'touchstart' : 'mouseenter'), '.tparrows, .tp-bullets, .tp-bullet, .tp-tab, .tp-thumb, .tp-thumbs, .tp-tabs, .tp-rightarrow, .tp-leftarrow', function(e) {\r\n\t\t\t\t\tthis.classList.add('rs-touchhover');\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_R.document.on((_R.is_mobile() ? 'touchend' : 'mouseleave'), '.tparrows, .tp-bullets, .tp-bullet, .tp-tab, .tp-thumb, .tp-tabs,  .tp-rightarrow, .tp-leftarrow', function(e) {\r\n\t\t\t\t\tvar el = this;\r\n\t\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\t\tel.classList.remove('rs-touchhover');\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t_R.hasNavClickListener = true;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tdestroyCanvas: function(canvas) {\r\n\t\t\tif (!canvas) return;\r\n\t\t\tcanvas.width = canvas.height = 0;\r\n\t\t\tcanvas.remove();\r\n\t\t\tcanvas = null;\r\n\t\t},\r\n\r\n\t\tcheckParrentOverflows: function(id) {\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tvar element = _R[id].cpar[0];\r\n\t\t\t\twhile (element.parentNode && _R.stickySupported !== false) {\r\n\t\t\t\t\tif (element.tagName !== \"RS-MODULE-WRAP\" && element.tagName !== \"RS-FULLWIDTH-WRAP\" && element.tagName !== \"RS-MODULE-WRAP\" && element.className.indexOf(\"wp-block-themepunch-revslider\") === -1) {\r\n\t\t\t\t\t\tvar s = window.getComputedStyle(element);\r\n\t\t\t\t\t\t_R.stickySupported = s.overflow !== \"hidden\" && s.overflowX !== \"hidden\" && s.overflowY !== \"hidden\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telement = element.parentNode;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tobserveRemoved : function(id) {\r\n\t\t\tvar x = new MutationObserver(function (e) {\r\n\t\t\t\ttry{if (!document.body.contains(e[0].target)) _R[id].c.revkill();} catch(e) {};\r\n\t\t\t});\r\n\r\n\t\t\tx.observe(_R[id].cpar[0], { childList: true });\r\n\t\t},\r\n\r\n\t\tinitNextRevslider: function(id) {\r\n\t\t\tif (_R.RS_prioList[0] === id && _R.RS_toInit[id] === false) {\r\n\t\t\t\t_R.RS_toInit[id] = \"waiting\";\r\n\t\t\t\tinitSlider(id);\r\n\t\t\t\tsetTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\t} else\r\n\t\t\tif (_R.RS_prioList[0] === id && _R.RS_toInit[id] === \"waiting\") setTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\telse\r\n\t\t\tif (_R.RS_prioList[0] === id && _R.RS_toInit[id] === true) {\r\n\t\t\t\t_R.RS_prioList.shift();\r\n\t\t\t\tif (_R.RS_prioList.length !== 0) setTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\t} else\r\n\t\t\tif (_R.RS_prioList[0] !== id && _R.RS_toInit[id] === false) setTimeout(function() { _R.initNextRevslider(id); }, 19);\r\n\t\t\telse\r\n\t\t\tif (_R.RS_prioList.length === 0 && _R.RS_toInit[id] === true) initSlider(id);\r\n\r\n\t\t},\r\n\r\n\t\tscrollTicker: function(id) {\r\n\t\t\tif (_R.scrollTickerAdded != true) {\r\n\t\t\t\t_R.slidersToScroll = [];\r\n\t\t\t\t_R.scrollTickerAdded = true;\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\ttpGS.gsap.ticker.fps(150);\r\n\t\t\t\t\ttpGS.gsap.ticker.add(function() {\r\n\t\t\t\t\t\t_R.generalObserver();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else\r\n\t\t\t\t\tdocument.addEventListener('scroll', function(e) {\r\n\t\t\t\t\t\tif (_R.scrollRaF === undefined) _R.scrollRaF = requestAnimationFrame(_R.generalObserver.bind(this, true));\r\n\t\t\t\t\t}, { passive: true });\r\n\t\t\t}\r\n\t\t\t_R.slidersToScroll.push(id);\r\n\t\t\t_R.generalObserver(_R.ISM);\r\n\t\t},\r\n\r\n\t\tgeneralObserver: function(fromMouse, ignoreLayers) {\r\n\t\t\tif (_R.scrollRaF) _R.scrollRaF = cancelAnimationFrame(_R.scrollRaF);\r\n\t\t\t_R.lastwindowheight = _R.lastwindowheight || _R.winH;\r\n\t\t\t_R.scrollY = window.scrollY;\r\n\t\t\tfor (var i in _R.slidersToScroll) {\r\n\t\t\t\tif (!_R.slidersToScroll.hasOwnProperty(i)) continue;\r\n\t\t\t\t_R.scrollHandling(_R.slidersToScroll[i], fromMouse, undefined, ignoreLayers);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twrapObserver: {\r\n\t\t\ttargets: [],\r\n\t\t\tinit: function(callback) {\r\n\t\t\t\tvar limit = 1,\r\n\t\t\t\t\tlastCall = 0,\r\n\t\t\t\t\tcount = 0,\r\n\t\t\t\t\tobserve = observeTargets.bind(_R.wrapObserver);\r\n\t\t\t\tobserveTargets();\r\n\r\n\t\t\t\tfunction observeTargets() {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\trequestAnimationFrame(observe);\r\n\t\t\t\t\tif (count - lastCall < 30 / limit) return;\r\n\t\t\t\t\tlastCall = count;\r\n\t\t\t\t\tfor (var i = 0; i < _R.wrapObserver.targets.length; i++) {\r\n\t\t\t\t\t\tif (!_R.wrapObserver.targets.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\tvar target = _R.wrapObserver.targets[i],\r\n\t\t\t\t\t\tbox = target.elem.getBoundingClientRect();\r\n\r\n\t\t\t\t\t\tif ((target.lw !== box.width || target.lh !== box.height) && box.width !== 0) {\r\n\t\t\t\t\t\t\tif (target.callback) {\r\n\t\t\t\t\t\t\t\ttarget.callback.pause();\r\n\t\t\t\t\t\t\t\ttarget.callback.kill();\r\n\t\t\t\t\t\t\t\ttarget.callback = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttarget.callback = tpGS.gsap.to({}, { duration: 0.2, onComplete: callback.bind(window, target.elem, target.id) });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttarget.lw = box.width;\r\n\t\t\t\t\t\ttarget.lh = box.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tobserve: function(elem, id) {\r\n\t\t\t\tvar elem = elem.getBoundingClientRect ? elem : elem[0].getBoundingClientRect ? elem[0] : \"\";\r\n\t\t\t\tif (elem === \"\") return;\r\n\t\t\t\tvar box = elem.getBoundingClientRect();\r\n\t\t\t\t_R.wrapObserver.targets.push({\r\n\t\t\t\t\telem: elem,\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tlw: box.width,\r\n\t\t\t\t\tlh: box.height\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tenterViewPort: function(id, force) {\r\n\r\n\t\t\t// START FIRST SLIDE IF NOT YET STARTED AND VP ENTERED\r\n\t\t\tif (_R[id].started !== true) {\r\n\t\t\t\t_R[id].started = true;\r\n\t\t\t\t_R.lazyLoadAllSlides(id);\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.firstrun');\r\n\t\t\t\t// START THE SLIDER\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tswapSlide(id);\r\n\t\t\t\t\tif (_R[id].sliderType !== \"hero\" && _R.manageNavigation && _R[id].navigation.use && _R[id].navigation.createNavigationDone === true) _R.manageNavigation(id);\r\n\t\t\t\t\t// START COUNTDOWN\r\n\t\t\t\t\tif (_R[id].slideamount > 1) countDown(id);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tif (_R[id] === undefined) return;\r\n\t\t\t\t\t\t_R[id].revolutionSlideOnLoaded = true;\r\n\t\t\t\t\t\t_R[id].c.trigger('revolution.slide.onloaded');\r\n\t\t\t\t\t\t_R.calcScrollToId();\r\n\t\t\t\t\t}, 50);\r\n\t\t\t\t}, _R[id].startDelay);\r\n\t\t\t\t_R[id].startDelay = 0;\r\n\t\t\t\twindow.requestAnimationFrame(function() { hideSliderUnder(id); });\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// START COUNTER IF VP ENTERED, AND COUNTDOWN WAS NOT ON YET\r\n\t\t\t\tif (_R[id].waitForCountDown) {\r\n\t\t\t\t\tcountDown(id);\r\n\t\t\t\t\t_R[id].waitForCountDown = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (_R[id].sliderlaststatus == \"playing\" || _R[id].sliderlaststatus == undefined) _R[id].c.trigger(\"starttimer\");\r\n\t\t\t\tif (_R[id].lastplayedvideos != undefined && _R[id].lastplayedvideos.length > 0)\r\n\t\t\t\t\tjQuery.each(_R[id].lastplayedvideos, function(i, _nc) {\r\n\t\t\t\t\t\t_R.playVideo(_nc, id);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tleaveViewPort: function(id) {\r\n\t\t\t_R[id].sliderlaststatus = _R[id].sliderstatus;\r\n\t\t\t_R[id].c.trigger(\"stoptimer\");\r\n\t\t\tif (_R[id].playingvideos != undefined && _R[id].playingvideos.length > 0) {\r\n\t\t\t\t_R[id].lastplayedvideos = jQuery.extend(true, [], _R[id].playingvideos);\r\n\t\t\t\tif (_R[id].playingvideos)\r\n\t\t\t\t\tjQuery.each(_R[id].playingvideos, function(i, _nc) {\r\n\t\t\t\t\t\t_R[id].leaveViewPortBasedStop = true;\r\n\t\t\t\t\t\tif (_R.stopVideo) _R.stopVideo(_nc, id);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tscrollHandling: function(id, fromMouse, speedoverwrite, ignorelayers) {\r\n\t\t\tif (_R[id] === undefined) return;\r\n\r\n\t\t\t//if (_R.lastscrolltop==_R.scrollY && !_R[id].duringslidechange && !fromMouse) return false;\r\n\r\n\t\t\tvar b = _R[id].topc !== undefined ? _R[id].topc[0].getBoundingClientRect() : _R[id].canv.height === 0 ? _R[id].cpar[0].getBoundingClientRect() : _R[id].c[0].getBoundingClientRect(),\r\n\t\t\t\trealwheight = _R.ISM ? window.innerHeight : _R.lastwindowheight;\r\n\t\t\tb.hheight = b.height === 0 ? _R[id].canv.height === 0 ? _R[id].module.height : _R[id].canv.height : b.height;\r\n\r\n\r\n\t\t\t_R[id].scrollproc = b.top < 0 || (b.hheight >realwheight && b.top <realwheight) ? b.top / b.hheight :\r\n\t\t\t\t\t\t\t\tb.bottom >realwheight ? (b.bottom -realwheight) / b.hheight :\r\n\t\t\t\t\t\t\t\t0;\r\n\r\n\t\t\tvar area = Math.max(0, 1 - Math.abs(_R[id].scrollproc));\r\n\r\n\t\t\tif (_R[id].viewPort.enable) {\r\n\t\t\t\t// enter / leave Viewport\r\n\t\t\t\tif ((_R[id].viewPort.vaType[_R[id].level] === \"%\" && (_R[id].viewPort.visible_area[_R[id].level] <= area || (area > 0 && area <= 1 && _R[id].sbtimeline.fixed))) ||\r\n\t\t\t\t\t(_R[id].viewPort.vaType[_R[id].level] === \"px\" && (\r\n\t\t\t\t\t\t(b.top <= 0 && b.bottom >= _R.lastwindowheight) ||\r\n\t\t\t\t\t\t(b.top >= 0 && b.bottom <= _R.lastwindowheight) ||\r\n\t\t\t\t\t\t(b.top >= 0 && b.top < _R.lastwindowheight - _R[id].viewPort.visible_area[_R[id].level]) ||\r\n\t\t\t\t\t\t(b.bottom >= _R[id].viewPort.visible_area[_R[id].level] && b.bottom < _R.lastwindowheight)))) {\r\n\t\t\t\t\tif (!_R[id].inviewport) {\r\n\t\t\t\t\t\t_R[id].inviewport = true;\r\n\t\t\t\t\t\t_R.enterViewPort(id, true);\r\n\t\t\t\t\t\t_R[id].c.trigger('enterviewport');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R[id].inviewport) {\r\n\t\t\t\t\t\t_R[id].inviewport = false;\r\n\t\t\t\t\t\t_R.leaveViewPort(id);\r\n\t\t\t\t\t\t_R[id].c.trigger('leftviewport');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// NOT VISIBLE, NO MORE CHECK NEEDED\r\n\t\t\tif (!_R[id].inviewport) {\r\n\t\t\t\tif (_R.stickySupported !== true && _R[id].fixedScrollOnState !== false) {\r\n\t\t\t\t\t_R[id].topc.removeClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, { top: 0, y:0 });\r\n\t\t\t\t\t_R[id].fixedScrollOnState = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (_R.callBackHandling) _R.callBackHandling(id, \"parallax\", \"start\");\r\n\t\t\trequestAnimationFrame(function() { if (_R[id].sliderLayout === \"fullscreen\") _R.getFullscreenOffsets(id); });\r\n\t\t\t_R.parallaxProcesses(id, b, ignorelayers, speedoverwrite);\r\n\t\t\tif (_R.callBackHandling) _R.callBackHandling(id, \"parallax\", \"end\");\r\n\t\t},\r\n\t\tclone: function(inObject, deep) {\r\n\t\t\tif (deep === undefined && inObject === undefined) return {};\r\n\r\n\t\t\tfunction cloneIt(obj, deep) {\r\n\t\t\t\tvar outObject = Array.isArray(obj) ? [] : {};\r\n\t\t\t\tfor (var key in obj) {\r\n\t\t\t\t\tif (!obj.hasOwnProperty(key)) continue;\r\n\t\t\t\t\tif (obj[key] !== undefined && typeof obj[key] === \"object\" && deep) {\r\n\t\t\t\t\t\toutObject[key] = cloneIt(obj[key], true);\r\n\t\t\t\t\t} else if (obj[key] !== undefined) {\r\n\t\t\t\t\t\toutObject[key] = obj[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn outObject;\r\n\t\t\t}\r\n\t\t\treturn cloneIt(inObject, deep);\r\n\t\t},\r\n\r\n\t\tclosest: function(el, fn) {\r\n\t\t\treturn el && (fn(el) ? el : _R.closest(el.parentNode, fn));\r\n\t\t},\r\n\t\tclosestNode: function(el, node) {\r\n\t\t\treturn _R.closest(el, function(el) {\r\n\t\t\t\treturn el.nodeName === node;\r\n\t\t\t});\r\n\t\t},\r\n\t\tclosestClass: function(el, cs) {\r\n\t\t\treturn _R.closest(el, function(el) {\r\n\t\t\t\treturn (' ' + el.className + ' ').indexOf(' ' + cs + ' ') >= 0;\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetWinH: function(id) {\r\n\t\t\treturn _R[id].ignoreHeightChange ? _R.mobileWinH : _R.winH;\r\n\t\t},\r\n\r\n\t\tgetWindowDimension: function(e, oriChanged) {\r\n\t\t\tif (e === false) {\r\n\t\t\t\t_R.rAfScrollbar = \"skip\";\r\n\t\t\t\t_R.winWAll = _R.ISM && window.visualViewport ? document.documentElement.clientWidth : window.innerWidth;\r\n\t\t\t\t_R.winWSbar = document.documentElement.clientWidth;\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\t_R.zoom = oriChanged ? 1 : _R.winWSbar / _R.winWAll;\r\n\r\n\t\t\t\t\t_R.winW = _R.zoom !== 1 ? _R.winWSbar * _R.zoom : Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = _R.zoom !== 1 ? window.innerHeight * _R.zoom : window.innerHeight;\r\n\t\t\t\t\tif (oriChanged && window.visualViewport) {\r\n\t\t\t\t\t\t_R.winH *= window.visualViewport.scale;\r\n\t\t\t\t\t\t_R.winWAll *= window.visualViewport.scale;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_R.scrollBarWidth = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// MODAL SCROLLBAR CHECK !!\r\n\t\t\t\t\tif (_R.isModalOpen && _R.openModalId !== undefined && _R[_R.openModalId] !== undefined && _R[_R.openModalId].canv.height > _R.winH) {\r\n\t\t\t\t\t\t_R.scrollBarWidth = _R.mesuredScrollbarWidth;\r\n\t\t\t\t\t} else _R.scrollBarWidth = _R.winWAll - _R.winWSbar;\r\n\t\t\t\t\t_R.winW = Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = window.innerHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R.ISM && _R.winH > 125)\r\n\t\t\t\t\tif (_R.lastwindowheight !== undefined && Math.abs(_R.lastwindowheight - _R.winH) < 125) _R.mobileWinH = _R.lastwindowheight;\r\n\t\t\t\t\telse _R.mobileWinH = _R.winH;\r\n\t\t\t} else\r\n\t\t\t\tclearTimeout(_R.windowDimenstionDelay);\r\n\t\t\t_R.windowDimenstionDelay = setTimeout(function() {\r\n\t\t\t\t_R.rAfScrollbar = undefined;\r\n\t\t\t\t_R.winWAll = _R.ISM && window.visualViewport ? document.documentElement.clientWidth : window.innerWidth;\r\n\t\t\t\t_R.winWSbar = document.documentElement.clientWidth;\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\t_R.zoom = oriChanged ? 1 : _R.winWSbar / _R.winWAll;\r\n\t\t\t\t\t_R.RS_px_ratio = window.devicePixelRatio || window.screen.availWidth / document.documentElement.clientWidth;\r\n\t\t\t\t\t_R.winW = _R.zoom !== 1 ? _R.winWSbar * _R.zoom : Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = _R.zoom !== 1 ? window.innerHeight * _R.zoom : window.innerHeight;\r\n\t\t\t\t\tif (oriChanged && window.visualViewport) {\r\n\t\t\t\t\t\t_R.winH *= window.visualViewport.scale;\r\n\t\t\t\t\t\t_R.winWAll *= window.visualViewport.scale;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_R.scrollBarWidth = 0;\r\n\t\t\t\t\tif (oriChanged) tpGS.gsap.delayedCall(0.1, function() { _R.getWindowDimension() });\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// MODAL SCROLLBAR CHECK !!\r\n\t\t\t\t\tif (_R.isModalOpen && _R.openModalId !== undefined && _R[_R.openModalId] !== undefined && _R[_R.openModalId].canv.height > _R.winH) {\r\n\t\t\t\t\t\t_R.scrollBarWidth = _R.mesuredScrollbarWidth;\r\n\t\t\t\t\t} else _R.scrollBarWidth = _R.winWAll - _R.winWSbar;\r\n\t\t\t\t\t_R.winW = Math.min(_R.winWAll, _R.winWSbar);\r\n\t\t\t\t\t_R.winH = window.innerHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R.ISM && _R.winH > 125)\r\n\t\t\t\t\tif (_R.lastwindowheight !== undefined && Math.abs(_R.lastwindowheight - _R.winH) < 125) _R.mobileWinH = _R.lastwindowheight;\r\n\t\t\t\t\telse _R.mobileWinH = _R.winH;\r\n\t\t\t\tif (e !== false) _R.document.trigger('updateContainerSizes');\r\n\t\t\t}, 100);\r\n\t\t},\r\n\r\n\t\taC: function(e, c) {\r\n\t\t\tif (!e) return;\r\n\t\t\tif (e.classList && e.classList.add) {\r\n\t\t\t\te.classList.add(\"\" + c);\r\n\t\t\t} else {\r\n\t\t\t\t// only needed for pre-Edge IE\r\n\t\t\t\tjQuery(e).addClass(c);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trC: function(e, c) {\r\n\t\t\tif (!e) return;\r\n\t\t\tif (e.classList && e.classList.remove) {\r\n\t\t\t\te.classList.remove(\"\" + c);\r\n\t\t\t} else {\r\n\t\t\t\t// only needed for pre-Edge IE\r\n\t\t\t\tjQuery(e).removeClass(c);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsA: function(e, a, v) {\r\n\t\t\tif (e && e.setAttribute) {\r\n\t\t\t\te.setAttribute('data-' + a, v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgA: function(e, a, d) {\r\n\t\t\treturn e === undefined ? undefined : (e.hasAttribute && e.hasAttribute('data-' + a) && e.getAttribute('data-' + a) !== undefined && e.getAttribute('data-' + a) !== null) ? e.getAttribute('data-' + a) : d !== undefined ? d : undefined;\r\n\t\t},\r\n\r\n\t\trA: function(e, a) {\r\n\t\t\tif (e && e.removeAttribute) {\r\n\t\t\t\te.removeAttribute('data-' + a);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tiWA: function(id, slide) {\r\n\t\t\treturn _R[id].justifyCarousel ? slide === \"static\" ? _R[id].carousel.wrapwidth : _R[id].carousel.slide_widths[slide !== undefined ? slide : _R[id].carousel.focused] : _R[id].gridwidth[_R[id].level];\r\n\t\t},\r\n\t\tiHE: function(id, slide) {\r\n\t\t\treturn _R[id].useFullScreenHeight ? _R[id].canv.height : Math.max(_R[id].currentRowsHeight, _R[id].gridheight[_R[id].level]);\r\n\t\t},\r\n\t\tupdateFixedScrollTimes: function(id) {\r\n\t\t\tif (_R[id].sbtimeline.set === true && _R[id].sbtimeline.fixed === true && _R[id].sliderLayout !== \"auto\") {\r\n\t\t\t\t_R[id].sbtimeline.rest = _R[id].duration - _R[id].sbtimeline.fixEnd;\r\n\t\t\t\t_R[id].sbtimeline.time = _R[id].duration - (_R[id].sbtimeline.fixStart + _R[id].sbtimeline.rest);\r\n\t\t\t\t_R[id].sbtimeline.extended = _R[id].sbtimeline.time / 10;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\taddSafariFix: function(id) {\r\n\t\t\tif (window.isSafari11 !== true) return;\r\n\t\t\tif (_R[id].safari3dFix !== true) {\r\n\t\t\t\t_R[id].safari3dFix = true;\r\n\t\t\t\t_R[id].c[0].className += \" safarifix\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topenModalAPI: function(modal, modalslide, url, cover, id, event) {\r\n\t\t\t// RS_60_MODALS - > Stores the loaded and once opened MODALS\r\n\t\t\t// RS_60_MODAL_API_CALLS -> Stores the MODALS to Load\r\n\r\n\r\n\t\t\tif ((window.RS_60_MODALS === undefined || jQuery.inArray(modal, window.RS_60_MODALS) == -1) && (window.RS_60_MODAL_API_CALLS === undefined || jQuery.inArray(modal, window.RS_60_MODAL_API_CALLS) == -1)) {\r\n\r\n\t\t\t\t// DONT LOAD TWICE THE SAME MODAL !\r\n\t\t\t\twindow.RS_60_MODAL_API_CALLS = window.RS_60_MODAL_API_CALLS || [];\r\n\t\t\t\twindow.RS_60_MODAL_API_CALLS.push(modal);\r\n\t\t\t\t//SHOW MODAL COVER\r\n                if(event === undefined) event = {};\r\n                if(event.alias === undefined) event.alias = modal;\r\n\t\t\t\tif (cover) _R.showModalCover(id, event, \"show\");\r\n\r\n\t\t\t\t// GET SLIDER PER AJAX\r\n                var data = { action: 'revslider_ajax_call_front', client_action: 'get_slider_html', alias: modal, usage: \"modal\", form_key: window.parent.FORM_KEY };\r\n                jQuery.ajax({\r\n\t\t\t\t\ttype: 'post',\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: function(ret, textStatus, XMLHttpRequest) {\r\n\r\n\t\t\t\t\t\tif (ret !== null && ret.success == true) {\r\n\t\t\t\t\t\t\tvar i;\r\n\t\t\t\t\t\t\tid = id==undefined ? ret.htmlid : id;\r\n\t\t\t\t\t\t\t// AFTER LOAD UPDATE THE GENERAL WAITING LIST, MAYBE ADDON NEED TO BE LOADED AS WELL\r\n\t\t\t\t\t\t\tif (ret.waiting !== undefined)\r\n\t\t\t\t\t\t\t\tfor (i in ret.waiting)\r\n\t\t\t\t\t\t\t\t\tif (ret.waiting.hasOwnProperty(i) && jQuery.inArray(ret.waiting[i], RS_MODULES.waiting) == -1) {\r\n\t\t\t\t\t\t\t\t\t\tRS_MODULES.waiting.push(ret.waiting[i]);\r\n\t\t\t\t\t\t\t\t\t\twindow.RS_MODULES.minimal = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// ADD SCRIPTS TO LOAD\r\n\t\t\t\t\t\t\tif (ret.toload !== undefined) {\r\n\t\t\t\t\t\t\t\tvar scripts = \"\";\r\n\t\t\t\t\t\t\t\tRS_MODULES = RS_MODULES || {};\r\n\t\t\t\t\t\t\t\tRS_MODULES.requestedScripts = [];\r\n\t\t\t\t\t\t\t\tfor (i in ret.toload) {\r\n\t\t\t\t\t\t\t\t\tif (!ret.toload.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\t\t\t\tif (RS_MODULES == undefined || RS_MODULES[i] == undefined || RS_MODULES[i].loaded !== true) {\r\n\t\t\t\t\t\t\t\t\t\t// ADD SCRIPT IN HEADER\r\n\t\t\t\t\t\t\t\t\t\tif (jQuery.inArray(i, RS_MODULES.requestedScripts) === -1) {\r\n\t\t\t\t\t\t\t\t\t\t\tRS_MODULES.requestedScripts.push(i);\r\n\t\t\t\t\t\t\t\t\t\t\tscripts += ret.toload[i];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (scripts !== \"\") jQuery('body').append(scripts);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// ADD MARKUP, CSS and INIT SCRIPT TO THE DOM\r\n\t\t\t\t\t\t\tif (RS_MODULES===undefined || RS_MODULES.modules[ret.htmlid]==undefined) jQuery('body').append(ret.data);\r\n\r\n\t\t\t\t\t\t\tif (cover) _R.showModalCover(id, event, \"hide\");\r\n\r\n\t\t\t\t\t\t\t// CHECK IF MODAL API LISTENER ADDED ALREADY, IF SO, OPEN MODAL, OTHER WAY UNTIL MODAL OPEN API FUNCTION EXTST\r\n\t\t\t\t\t\t\tif (_R[modal] !== undefined && _R[modal].openModalApiListener)\r\n\t\t\t\t\t\t\t\tjQuery.fn.revolution.document.trigger('RS_OPENMODAL_' + modal, modalslide);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tjQuery(document).on('RS_MODALOPENLISTENER_' + modal, function() { //WAIT for a kick back and start first after that\r\n\t\t\t\t\t\t\t\t\tjQuery.fn.revolution.document.trigger('RS_OPENMODAL_' + modal, modalslide);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (cover) _R.showModalCover(id, event, \"hide\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(e) {\r\n\t\t\t\t\t\tif (cover) _R.showModalCover(id, event, \"hide\");\r\n\t\t\t\t\t\tconsole.log(\"Modal Can not be Loaded\");\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else\r\n\t\t\tif (jQuery.inArray(modal, window.RS_60_MODALS) >= 0) jQuery.fn.revolution.document.trigger('RS_OPENMODAL_' + modal, modalslide);\r\n\t\t},\r\n\r\n\t\tshowModalCover: function(id, _, mode) {\r\n\t\t\tswitch (mode) {\r\n\t\t\t\tcase \"show\":\r\n\t\t\t\t\tvar spinner;\r\n\t\t\t\t\tif (_.spin !== undefined && _.spin !== \"off\") spinner = _R.buildSpinner(id, \"spinner\" + _.spin, _.spinc, \"modalspinner\");\r\n\t\t\t\t\tif (_.bg !== undefined && _.bg !== false && _.bg !== \"false\" && _.bg !== \"transparent\") {\r\n\t\t\t\t\t\tvar m = jQuery('<rs-modal-cover data-alias=\"' + _.alias + '\" data-rid=\"' + id + '\" id=\"' + id + '_modal_bg\" style=\"display:none;opacity:0;background:' + _.bg + '\"></rs-modal-cover>');\r\n\t\t\t\t\t\tjQuery('body').append(m);\r\n\t\t\t\t\t\t_.speed = parseFloat(_.speed);\r\n\t\t\t\t\t\t_.speed = _.speed > 200 ? _.speed / 1000 : _.speed;\r\n\t\t\t\t\t\t_.speed = Math.max(Math.min(3, _.speed), 0.3);\r\n\t\t\t\t\t\ttpGS.gsap.to(m, _.speed, { display: \"block\", opacity: 1, ease: \"power3.inOut\" });\r\n\t\t\t\t\t\t_R.isModalOpen = true;\r\n\t\t\t\t\t\tif (spinner !== undefined) m.append(spinner);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (spinner !== undefined) _R[id].c.append(spinner);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"hide\":\r\n\t\t\t\t\tvar m = jQuery('rs-modal-cover[data-alias=\"' + _.alias + '\"] .modalspinner');\r\n\t\t\t\t\tif (m !== undefined && m.length > 0)\r\n\t\t\t\t\t\tm.remove();\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (id !== undefined) _R[id].c.find('.modalspinner').remove();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trevModal: function(id, _) {\r\n\r\n\t\t\tif (id === undefined || _R[id] === undefined) return;\r\n\t\t\tif (_R[id].modal.closeProtection === \"clicked\") return;\r\n\t\t\tif (_R[id].modal.closeProtection === true) {\r\n\t\t\t\t_R[id].modal.closeProtection === \"clicked\";\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t_R[id].modal.closeProtection = false;\r\n\t\t\t\t\t_R.revModal(id, _);\r\n\t\t\t\t}, 750);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_R[id].modal.lastModalCall =_.mode;\r\n\r\n\t\t\tswitch (_.mode) {\r\n\t\t\t\tcase \"show\":\r\n\t\t\t\t\tif (_R[id].modal.isLive === true) return;\r\n\t\t\t\t\tif (_R.anyModalclosing === true) return;\r\n\r\n\t\t\t\t\t_R.document.trigger('RS_MODALOPENED');\t//TO TRIGGER ANYTHING WHAT LISTENING ON ANY MODAL OPENED\r\n\r\n\t\t\t\t\t_R[id].modal.isLive = true;\r\n\t\t\t\t\t_.slide = _.slide === undefined ? \"to0\" : _.slide;\r\n\t\t\t\t\tif (_R[id].modal.bodyclass !== undefined && _R[id].modal.bodyclass.length >= 0) document.body.classList.add(_R[id].modal.bodyclass);\r\n\t\t\t\t\t_R[id].modal.bg.attr('data-rid', id);\r\n\r\n\t\t\t\t\ttpGS.gsap.to(_R[id].modal.bg, _R[id].modal.coverSpeed, { display: \"block\", opacity: 1, ease: \"power3.inOut\" });\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].modal.c, { display: (_R[id].sliderLayout === \"auto\" ? \"inline-block\" : \"block\"), opacity: 0 });\r\n\t\t\t\t\t_R[id].cpar.removeClass(\"hideallscrollbars\");\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, { display: \"block\", opacity: 1 });\r\n\t\t\t\t\tvar u = { a: 0 }\r\n\t\t\t\t\t_R.isModalOpen = true;\r\n\t\t\t\t\t_R[id].clearModalBG = true;\r\n\t\t\t\t\tif (_R[id].sliderType === 'carousel' && _R[id].pr_active_bg !== undefined && _R[id].pr_active_bg.length > 0) tpGS.gsap.to(_R[id].pr_active_bg, 0.5, { opacity: 1 });\r\n\t\t\t\t\ttpGS.gsap.fromTo(u, _R[id].modal.coverSpeed / 5, { a: 0 }, {\r\n\t\t\t\t\t\ta: 10,\r\n\t\t\t\t\t\tease: \"power3.inOut\",\r\n\t\t\t\t\t\tonComplete: function() {\r\n\t\t\t\t\t\t\t_R.openModalId = id;\r\n\t\t\t\t\t\t\tif (!_R[id].sliderisrunning) {\r\n\t\t\t\t\t\t\t\tif (_.slide !== \"to0\") _R[id].startWithSlideKey = _.slide;\r\n\t\t\t\t\t\t\t\trunSlider(id);\r\n\t\t\t\t\t\t\t} else _R.callingNewSlide(id, _.slide);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\ttpGS.gsap.fromTo([_R[id].modal.c], 0.01, { opacity: 0 }, { opacity: 1, delay: _R[id].modal.coverSpeed / 4, ease: \"power3.inOut\", onComplete: function() {} });\r\n\t\t\t\t\t\twindow.overscrollhistory = document.body.style.overflow;\r\n\t\t\t\t\t\tif (!_R[id].modal.allowPageScroll) document.body.style.overflow = \"hidden\";\r\n\t\t\t\t\t\tif(_R[id].sliderLayout === 'fullscreen') _R.getWindowDimension();\r\n\t\t\t\t\t}, 250);\r\n\t\t\t\t\tif(_R[id].sliderLayout !== 'fullscreen') _R.getWindowDimension();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"close\":\r\n\t\t\t\t\tif (_R.anyModalclosing === true) return;\r\n\t\t\t\t\t_R.anyModalclosing = true;\r\n\t\t\t\t\t_R.openModalId = undefined;\r\n\t\t\t\t\thideSlide(id);\r\n\t\t\t\t\tdocument.body.style.overflow = window.overscrollhistory;\r\n\t\t\t\t\t_R[id].cpar.addClass(\"hideallscrollbars\");\r\n\t\t\t\t\tif (_R[id].modal.bodyclass !== undefined && _R[id].modal.bodyclass.length >= 0) document.body.classList.remove(_R[id].modal.bodyclass);\r\n\t\t\t\t\ttpGS.gsap.to(_R[id].modal.bg, _R[id].modal.coverSpeed, { display: \"none\", opacity: 0, ease: \"power3.inOut\" });\r\n\t\t\t\t\ttpGS.gsap.to(_R[id].modal.c, _R[id].modal.coverSpeed / 6.5, {\r\n\t\t\t\t\t\tdisplay: \"none\",\r\n\t\t\t\t\t\tdelay: _R[id].modal.coverSpeed / 4,\r\n\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\tonComplete: function() {\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, { display: \"none\", opacity: 0 });\r\n\t\t\t\t\t\t\t_R.document.trigger(\"revolution.all.resize\");\r\n\t\t\t\t\t\t\t_R.document.trigger(\"revolution.modal.close\", [_R[id].modal]); // JM - 30.04.21 - for Newsletter Block\r\n\t\t\t\t\t\t\t_R.getWindowDimension();\r\n\t\t\t\t\t\t\t_R.isModalOpen = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_R[id].modal.closeProtection = true;\r\n\t\t\t\t\tclearTimeout(_R[id].modal.closeTimer);\r\n\t\t\t\t\t_R[id].modal.closeTimer = setTimeout(function() {\r\n\t\t\t\t\t\t_R.anyModalclosing = false;\r\n\t\t\t\t\t\t_R[id].modal.isLive = false;\r\n\t\t\t\t\t\t_R[id].modal.closeProtection = false;\r\n\t\t\t\t\t}, Math.max(750, _R[id].modal.coverSpeed * 1020));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"init\":\r\n\r\n\t\t\t\t\twindow.RS_60_MODALS = window.RS_60_MODALS === undefined ? [] : window.RS_60_MODALS;\r\n\t\t\t\t\tif (jQuery.inArray(_R[id].modal.alias, window.RS_60_MODALS) === -1) window.RS_60_MODALS.push(_R[id].modal.alias);\r\n\t\t\t\t\tif (_R[id].modal.listener === undefined) {\r\n\t\t\t\t\t\t_R[id].modal.c = jQuery('#' + id + '_modal');\r\n\t\t\t\t\t\tif (_R[id].modal.cover === false || _R[id].modal.cover === \"false\") _R[id].modal.coverColor = \"transparent\";\r\n\t\t\t\t\t\t_R[id].modal.bg = jQuery('rs-modal-cover[data-alias=\"' + _R[id].modal.alias + '\"]');\r\n\t\t\t\t\t\tif (_R[id].modal.bg === undefined || _R[id].modal.bg.length === 0) {\r\n\t\t\t\t\t\t\t_R[id].modal.bg = jQuery('<rs-modal-cover style=\"display:none;opacity:0;background:' + _R[id].modal.coverColor + '\" data-rid=\"' + id + '\" id=\"' + id + '_modal_bg\"></rs-modal-cover>');\r\n\r\n\t\t\t\t\t\t\tif (_R[id].sliderLayout === \"auto\" && _R[id].modal.cover)\r\n\t\t\t\t\t\t\t\tjQuery('body').append(_R[id].modal.bg);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t_R[id].modal.c.append(_R[id].modal.bg);\r\n\t\t\t\t\t\t} else _R[id].modal.bg.attr('data-rid', id);\r\n\r\n\t\t\t\t\t\t_R[id].modal.c[0].className += \"rs-modal-\" + _R[id].sliderLayout;\r\n\t\t\t\t\t\t_R[id].modal.calibration = {\r\n\t\t\t\t\t\t\tleft: (_R[id].sliderLayout === \"auto\" ? _R[id].modal.horizontal === \"center\" ? \"50%\" : _R[id].modal.horizontal === \"left\" ? \"0px\" : \"auto\" : \"0px\"),\r\n\t\t\t\t\t\t\tright: (_R[id].sliderLayout === \"auto\" ? _R[id].modal.horizontal === \"center\" ? \"auto\" : _R[id].modal.horizontal === \"left\" ? \"auto\" : \"0px\" : \"0px\"),\r\n\t\t\t\t\t\t\ttop: (_R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullwidth\" ? _R[id].modal.vertical === \"middle\" ? \"50%\" : _R[id].modal.vertical === \"top\" ? \"0px\" : \"auto\" : \"0px\"),\r\n\t\t\t\t\t\t\tbottom: (_R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullwidth\" ? _R[id].modal.vertical === \"middle\" ? \"auto\" : _R[id].modal.vertical === \"top\" ? \"auto\" : \"0px\" : \"0px\"),\r\n\t\t\t\t\t\t\ty: (_R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullwidth\" ? _R[id].modal.vertical === \"middle\" ? \"-50%\" : 0 : 0),\r\n\t\t\t\t\t\t\tx: (_R[id].sliderLayout === \"auto\" ? _R[id].modal.horizontal === \"center\" ? \"-50%\" : 0 : 0)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (_R[id].modal.calibration.y === \"-50%\") _R[id].modal.calibration.filter = \"blur(0px)\";\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].modal.c, _R[id].sliderLayout === \"auto\" || _R[id].sliderLayout === \"fullscreen\" ? jQuery.extend(true, _R[id].modal.calibration, { opacity: 0, display: \"none\" }) : { opacity: 0, display: \"none\" });\r\n\t\t\t\t\t\tif (_R[id].sliderLayout === \"fullwidth\") tpGS.gsap.set(_R[id].modal.c.find('rs-module-wrap'), _R[id].modal.calibration);\r\n\r\n\r\n\t\t\t\t\t\t// Listen to Open Modal (i.e due API)\r\n\t\t\t\t\t\t_R.document.on('RS_OPENMODAL_' + _R[id].modal.alias, function(e, s) {\r\n\t\t\t\t\t\t\t_R[id].initEnded = true;\r\n\t\t\t\t\t\t\t_R.revModal(id, { mode: \"show\", slide: s });\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Kick back and set up API Based Initialisation\r\n\t\t\t\t\t\t_R[_R[id].modal.alias] = _R[_R[id].modal.alias] || {};\r\n\t\t\t\t\t\t_R[_R[id].modal.alias].openModalApiListener = true;\r\n\t\t\t\t\t\t_R.document.trigger('RS_MODALOPENLISTENER_' + _R[id].modal.alias);\r\n\r\n\r\n\t\t\t\t\t\t_R.document.on('click', 'rs-modal-cover', function() { _R.revModal(_R.gA(this, 'rid'), { mode: \"close\" }); });\r\n\t\t\t\t\t\t_R[id].modal.listener = true;\r\n\r\n\t\t\t\t\t\t// INIT TRIGGER LISTENERS\r\n\t\t\t\t\t\tif (_R[id].modal.trigger !== undefined) {\r\n\t\t\t\t\t\t\tvar trs = _R[id].modal.trigger.split(\";\"),\r\n\t\t\t\t\t\t\t\tu, s;\r\n\t\t\t\t\t\t\t_R[id].modal.trigger = {};\r\n\t\t\t\t\t\t\tfor (u in trs) {\r\n\t\t\t\t\t\t\t\tif (!trs.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\t\ts = trs[u].split(\":\");\r\n\t\t\t\t\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.time = parseInt(s[1], 0);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"s\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.scroll = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"so\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.scrollo = parseInt(s[1], 0);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"e\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.event = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"ha\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.hash = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"co\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].modal.trigger.cookie = s[1];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// CHECK 1 TIME PER SESSION OPTION\r\n\t\t\t\t\t\t\tvar canrun = true;\r\n\t\t\t\t\t\t\tif (_R[id].modal.trigger.cookie !== undefined)\r\n\t\t\t\t\t\t\t\tcanrun = _R.getCookie(_R[id].modal.alias + '_modal_one_time') !== 'true';\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tif (_R.getCookie(_R[id].modal.alias + '_modal_one_time') == 'true') _R.setCookie(_R[id].modal.alias + '_modal_one_time', false, 10);\r\n\r\n\r\n\t\t\t\t\t\t\t// IF NO ISSUE, WE CAN CALL PARTS\r\n\t\t\t\t\t\t\tif (canrun) {\r\n\t\t\t\t\t\t\t\t// START POPUP AFTER TIME \"x\"\r\n\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.time !== undefined && _R[id].modal.trigger.time !== 0) {\r\n\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.cookie !== undefined) _R.setCookie(_R[id].modal.alias + '_modal_one_time', true, _R[id].modal.trigger.cookie);\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function() { _R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias); }, _R[id].modal.trigger.time);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// START POP UP AFTER SCROLL OFFSET / ELEMENT\r\n\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.scrollo !== undefined || _R[id].modal.trigger.scroll !== undefined) {\r\n\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.scroll !== undefined && jQuery(_R[id].modal.trigger.scroll)[0] !== undefined) _R[id].modal.trigger.scroll = jQuery(_R[id].modal.trigger.scroll)[0];\r\n\t\t\t\t\t\t\t\t\tvar startModalOnScrollListener = function() {\r\n\t\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.scroll !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar selement = typeof _R[id].modal.trigger.scroll ==\"string\" ?  document.getElementById(_R[id].modal.trigger.scroll) : \ttypeof _R[id].modal.trigger.scroll ==\"object\" ? _R[id].modal.trigger.scroll : undefined,\r\n\t\t\t\t\t\t\t\t\t\t\trect = selement!==undefined && selement!==null ? _R[id].modal.trigger.scroll.getBoundingClientRect() : undefined;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif ((_R[id].modal.trigger.scroll !== undefined && rect!==undefined && Math.abs((rect.top + (rect.bottom - rect.top) / 2) - _R.getWinH(id) / 2) < 50) || (_R[id].modal.trigger.scrollo !== undefined && Math.abs(_R[id].modal.trigger.scrollo - (_R.scrollY !== undefined ? _R.scrollY : window.scrollY)) < 100)) {\r\n\t\t\t\t\t\t\t\t\t\t\t_R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias);\r\n\t\t\t\t\t\t\t\t\t\t\tif (_R[id].modal.trigger.cookie !== undefined) _R.setCookie(_R[id].modal.alias + '_modal_one_time', true, _R[id].modal.trigger.cookie);\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.removeEventListener('scroll', startModalOnScrollListener);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tdocument.addEventListener('scroll', startModalOnScrollListener, { id: id, passive: true });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// START POP UP ON EVENT\r\n\t\t\t\t\t\t\tif (_R[id].modal.trigger.event !== undefined) _R.document.on(_R[id].modal.trigger.event, function() { _R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias); });\r\n\r\n\t\t\t\t\t\t\t// IF HASH DEPENDENT\r\n\t\t\t\t\t\t\tif (_R[id].modal.trigger.hash == 't' && window.location.hash.substring(1) == _R[id].modal.alias) _R.document.trigger('RS_OPENMODAL_' + _R[id].modal.alias)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsmartConvertDivs: function(a) {\r\n\t\t\tvar ret = \"\";\r\n\t\t\tif (typeof a === \"string\" && a.indexOf(\"#\") >= 0) {\r\n\t\t\t\tvar b = a.split(\",\"),\r\n\t\t\t\t\tl = b.length - 1;\r\n\t\t\t\tfor (var j in b) if (b.hasOwnProperty(j)) {\r\n\t\t\t\t\tif (typeof b[j] === \"string\" && b[j][0] === \"#\")\r\n\t\t\t\t\t\tret = ret + ((b[j][1] / b[j][3])) * 100 + \"%\" + (j < l ? \",\" : \"\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tret = ret + b[j] + (j < l ? \",\" : \"\");\r\n\t\t\t\t}\r\n\t\t\t} else ret = a;\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\trevToResp: function(_, dim, def, div) {\r\n\t\t\t_ = _ === undefined ? def : _;\r\n\t\t\tif (_ === undefined) return;\r\n\t\t\tdiv = div === undefined ? \",\" : div;\r\n\t\t\tif (!(typeof _ === 'boolean' || (typeof _ == \"object\" && !Array.isArray(_)))) {\r\n\t\t\t\ttry { _ = _.replace(/[[\\]]/g, '').replace(/\\'/g, '').split(div); } catch (e) {}\r\n\t\t\t\t_ = Array.isArray(_) ? _ : [_];\r\n\t\t\t\twhile (_.length < dim) _[_.length] = _[_.length - 1];\r\n\t\t\t}\r\n\t\t\treturn _;\r\n\t\t},\r\n\r\n\r\n\t\t// LOAD THE IMAGES OF THE PREDEFINED CONTAINER\r\n\t\tloadImages: function(container, id, prio, staticlayer) {\r\n\r\n\t\t\tif (container === undefined || container.length === 0) return;\r\n\t\t\tvar containers = [];\r\n\r\n\t\t\tif (Array.isArray(container)) {\r\n\t\t\t\tfor (var i in container) {\r\n\t\t\t\t\tif (!container.hasOwnProperty(i) || container[i] === undefined) continue;\r\n\t\t\t\t\tcontainers.push(container[i]);\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\tcontainers.push(container);\r\n\r\n\t\t\tfor (var j in containers) {\r\n\t\t\t\tif (!containers.hasOwnProperty(j)) continue;\r\n\r\n\t\t\t\tvar imgs = containers[j].querySelectorAll('img, rs-sbg, .rs-svg'),\r\n\t\t\t\t\tbgs = _R[id].lazyOnBg ? containers[j].querySelectorAll('rs-bg-elem, rs-column, rs-layer') : [];\r\n\r\n\t\t\t\tfor (var i in imgs) {\r\n\t\t\t\t\tif (!imgs.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t// SMUSH PROTECTION\r\n\t\t\t\t\tif (imgs[i] !== undefined && imgs[i].dataset !== undefined && imgs[i].dataset.src !== undefined && imgs[i].dataset.src.indexOf('dummy.png') >= 0 && imgs[i].src.indexOf(\"data\") >= 0) delete imgs[i].dataset.src;\r\n\t\t\t\t\tvar lazy = deliverLazy(imgs[i], undefined, id),\r\n\t\t\t\t\t\tsrc = lazy !== undefined ? lazy : _R.gA(imgs[i], \"svg_src\") != undefined ? _R.gA(imgs[i], \"svg_src\") : imgs[i].src === undefined ? jQuery(imgs[i]).data('src') : imgs[i].src,\r\n\t\t\t\t\t\ttype = _R.gA(imgs[i], \"svg_src\") != undefined ? \"svg\" : \"img\";\r\n\t\t\t\t\t//_R[id].loadqueue.filter(x=>x.src === src)\r\n\t\t\t\t\tif (src !== undefined && _R[id].loadqueue !== undefined && _R[id].loadqueue.filter(function(x) { return x.src === src; }).length == 0) _R[id].loadqueue.push({ src: src, img: imgs[i], index: i, starttoload: Date.now(), type: type || \"img\", prio: prio, progress: (imgs[i].complete && src === imgs[i].src) ? \"loaded\" : \"prepared\", static: staticlayer, width: (imgs[i].complete && src === imgs[i].src ? imgs[i].width : undefined), height: (imgs[i].complete && src === imgs[i].src) ? imgs[i].height : undefined });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Change Lazy Load images in Backgrounds\r\n\t\t\t\tfor (var i in bgs) {\r\n\t\t\t\t\tif (!bgs.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (bgs[i] !== undefined && bgs[i].dataset !== undefined && bgs[i].dataset.bglazy !== undefined && bgs[i].style.backgroundImage.indexOf('dummy.png') >= 0) bgs[i].style.backgroundImage = 'url(\"'+bgs[i].dataset.bglazy+'\")';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (bgs[i] !== undefined && bgs[i].dataset !== undefined && bgs[i].dataset.bglazy !== undefined && bgs[i].style.backgroundImage.indexOf('dummy.png') >= 0) bgs[i].style.backgroundImage = 'url(\"'+bgs[i].dataset.bglazy+'\")';\r\n\t\t\t}\r\n\r\n\t\t\tif (!_R[id].cparBgChecked && _R[id].cpar[0] !== undefined && _R[id].cpar[0].dataset !== undefined && _R[id].cpar[0].dataset.bglazy !== undefined && _R[id].cpar[0].style.backgroundImage.indexOf('dummy.png') >= 0) {\r\n\t\t\t\t_R[id].cparBgChecked = true;\r\n\t\t\t\t_R[id].cpar[0].style.backgroundImage = 'url(\"'+_R[id].cpar[0].dataset.bglazy+'\")';\r\n\t\t\t}\r\n\t\t\tprogressImageLoad(id);\r\n\t\t},\r\n\r\n\t\t// WAIT PROGRESS TILL THE PREDEFINED CONTAINER HAS ALL IMAGES LOADED INSIDE\r\n\t\twaitForCurrentImages: function(container, id, callback) {\r\n\r\n\t\t\tif (container === undefined || container.length === 0 || _R[id] === undefined) return;\r\n\t\t\tvar waitforload = false,\r\n\t\t\t\tcontainers = [];\r\n\r\n\t\t\tif (Array.isArray(container)) {\r\n\t\t\t\tfor (var i in container)\r\n\t\t\t\t\tif (container.hasOwnProperty(i) && container[i] !== undefined) containers.push(container[i]);\r\n\t\t\t} else\r\n\t\t\t\tcontainers.push(container);\r\n\r\n\r\n\r\n\t\t\tfor (var j in containers) {\r\n\r\n\t\t\t\tif (!containers.hasOwnProperty(j)) continue;\r\n\t\t\t\tvar imgs = containers[j].querySelectorAll('img, rs-sbg, .rs-svg');\r\n\r\n\t\t\t\tfor (i in imgs) {\r\n\r\n\t\t\t\t\tif (!imgs.hasOwnProperty(i) || i === \"length\") continue;\r\n\t\t\t\t\tif (imgs[i].className.indexOf(\"rs-pzimg\") >= 0) continue;\r\n\r\n\r\n\t\t\t\t\tvar data = jQuery(imgs[i]).data(),\r\n\t\t\t\t\t\tlazy = deliverLazy(imgs[i], undefined, id);\r\n\r\n\r\n\t\t\t\t\tvar src = lazy !== undefined ? lazy : _R.gA(imgs[i], \"svg_src\") != undefined ? _R.gA(imgs[i], \"svg_src\") : imgs[i].src === undefined ? data.src : imgs[i].src,\r\n\t\t\t\t\t\tloadobj = _R.getLoadObj(id, src);\r\n\r\n\r\n\t\t\t\t\t_R.sA(imgs[i], 'src-rs-ref', src);\r\n\r\n\r\n\t\t\t\t\t// IF ELEMENTS IS NOT LOADED YET, AND IT IS NOW LOADED\r\n\t\t\t\t\tif (data.loaded === undefined && loadobj !== undefined && loadobj.progress && loadobj.progress == \"loaded\") {\r\n\t\t\t\t\t\tif (loadobj.type == \"img\") {\r\n\t\t\t\t\t\t\tif (imgs[i].src.slice(imgs[i].src.length - 10) !== loadobj.src.slice(loadobj.src.length - 10)) imgs[i].src = loadobj.src;\r\n\t\t\t\t\t\t\tif (data.slidebgimage) {\r\n\t\t\t\t\t\t\t\tif ((loadobj.src.indexOf('images/transparent.png') == -1 && loadobj.src.indexOf('assets/transparent.png') == -1 && loadobj.src.indexOf('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=') == -1) || data.bgcolor === undefined) {\r\n\t\t\t\t\t\t\t\t\t//imgs[i].style.backgroundImage = 'url(\"'+loadobj.src+'\")';\r\n\t\t\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\tif (data.bgcolor !== undefined && data.bgcolor !== \"transparent\") {\r\n\t\t\t\t\t\t\t\t\tloadobj.bgColor = true;\r\n\t\t\t\t\t\t\t\t\tloadobj.useBGColor = true;\r\n\t\t\t\t\t\t\t\t\t//imgs[i].style.background = data.bgcolor;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t_R.sA(containers[j], \"owidth\", loadobj.width);\r\n\t\t\t\t\t\t\t\t_R.sA(containers[j], \"oheight\", loadobj.height);\r\n\r\n\t\t\t\t\t\t\t\tvar bgwrap = _R.getByTag(containers[j], \"RS-SBG-WRAP\"),\r\n\t\t\t\t\t\t\t\t\tkey = _R.gA(containers[j], 'key');\r\n\r\n\t\t\t\t\t\t\t\t_R[id].sbgs[key].loadobj = loadobj;\r\n\r\n\t\t\t\t\t\t\t\tif (bgwrap.length > 0) {\r\n\t\t\t\t\t\t\t\t\t_R.sA(bgwrap[0], \"owidth\", loadobj.width);\r\n\t\t\t\t\t\t\t\t\t_R.sA(bgwrap[0], \"oheight\", loadobj.height);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t//PREPARE KEN BURNS ON LOADED SLIDES\r\n\t\t\t\t\t\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\t\t\t\t\t\tvar bg = jQuery(bgwrap),\r\n\t\t\t\t\t\t\t\t\t\t_skeyindex = _R.getSlideIndex(id, key);\r\n\t\t\t\t\t\t\t\t\tif ((_R[id].carousel.justify && _R[id].carousel.slide_widths === undefined) || _R[id].carousel.slide_width === undefined) _R.setCarouselDefaults(id, true);\r\n\t\t\t\t\t\t\t\t\tif (bg.data('panzoom') !== undefined && (_R[id].panzoomTLs === undefined || _R[id].panzoomTLs[_skeyindex] === undefined)) _R.startPanZoom(bg, id, 0, _skeyindex, 'prepare', key);\r\n\r\n\t\t\t\t\t\t\t\t\t//Use Poster for HTML5 Videos also at Start\r\n\t\t\t\t\t\t\t\t\tif (_R[id].sbgs[key].isHTML5 && !_R[id].sbgs[key].videoisplaying) _R[id].sbgs[key].video = _R[id].sbgs[key].loadobj.img;\r\n\r\n\t\t\t\t\t\t\t\t\tif (containers[j].getAttribute('data-iratio') !== undefined && !containers[j].getAttribute('data-iratio') && loadobj.img && loadobj.img.naturalWidth) {\r\n\t\t\t\t\t\t\t\t\t\tcontainers[j].setAttribute('data-iratio', loadobj.img.naturalWidth / loadobj.img.naturalHeight);\r\n\t\t\t\t\t\t\t\t\t\t_R.setCarouselDefaults(id, \"redraw\", true);\r\n\t\t\t\t\t\t\t\t\t\tif (_R[id].carousel.ocfirsttun === true) _R.organiseCarousel(id, \"right\", true, false, false);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_R.updateSlideBGs(id, key, _R[id].sbgs[key]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (loadobj.type == \"svg\" && loadobj.progress == \"loaded\") imgs[i].innerHTML = loadobj.innerHTML;\r\n\t\t\t\t\t\tdata.loaded = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (loadobj && loadobj.progress && loadobj.progress.match(/inprogress|inload|prepared/g))\r\n\t\t\t\t\t\tif (!loadobj.error && Date.now() - loadobj.starttoload < 15000) waitforload = true;\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tloadobj.progress = \"failed\";\r\n\t\t\t\t\t\t\tif (!loadobj.reported_img) {\r\n\t\t\t\t\t\t\t\tloadobj.reported_img = true;\r\n\t\t\t\t\t\t\t\tconsole.log(src + \"  Could not be loaded !\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t// WAIT FOR VIDEO API'S\r\n\t\t\t\t\tif (_R[id].youtubeapineeded == true && (!window.YT || YT.Player == undefined)) waitforload = vidWarning(\"youtube\", id);\r\n\t\t\t\t\tif (_R[id].vimeoapineeded == true && !window.Vimeo) waitforload = vidWarning(\"vimeo\", id);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t/*if (!_R.ISM && _R[id].audioqueue && _R[id].audioqueue.length > 0) {\r\n\t\t\t\tjQuery.each(_R[id].audioqueue, function(i, obj) {\r\n\t\t\t\t\tif (obj.status && obj.status === \"prepared\")\r\n\t\t\t\t\t\tif (Date.now() - obj.start < obj.waittime)\r\n\t\t\t\t\t\t\twaitforload = true;\r\n\t\t\t\t});\r\n\t\t\t}*/\r\n\r\n\t\t\tjQuery.each(_R[id].loadqueue, function(i, o) {\r\n\t\t\t\tif (o.static === true && ((o.progress != \"loaded\" && o.progress !== \"done\") || o.progress === \"failed\")) {\r\n\t\t\t\t\tif (o.progress == \"failed\" && !o.reported) o.reported = simWarn(o.src, o.error);\r\n\t\t\t\t\telse if (!o.error && Date.now() - o.starttoload < 5000) waitforload = true;\r\n\t\t\t\t\telse if (!o.reported) o.reported = simWarn(o.src, o.error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tif (waitforload) tpGS.gsap.delayedCall(0.02, _R.waitForCurrentImages, [container, id, callback]);\r\n\t\t\telse if (callback !== undefined) tpGS.gsap.delayedCall(0.0001, callback);\r\n\t\t},\r\n\r\n\t\tupdateVisibleArea: function(id) {\r\n\t\t\t_R[id].viewPort.visible_area = _R.revToResp(_R[id].viewPort.visible_area, _R[id].rle, \"0px\");\r\n\t\t\t_R[id].viewPort.vaType = new Array(4);\r\n\t\t\tfor (var i in _R[id].viewPort.visible_area) {\r\n\t\t\t\tif (!_R[id].viewPort.visible_area.hasOwnProperty(i)) continue;\r\n\t\t\t\tif(_R[id].viewPort.local === false && _R[id].viewPort.global === true){\r\n\r\n\t\t\t\t\t_R[id].viewPort.vaType[i] = _R[id].viewPort.globalDist.indexOf(\"%\") >= 0 ? \"%\" : \"px\";\r\n\t\t\t\t\t_R[id].viewPort.visible_area[i] = parseInt(_R[id].viewPort.globalDist);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R.isNumeric(_R[id].viewPort.visible_area[i])) _R[id].viewPort.visible_area[i] += \"%\";\r\n\r\n\t\t\t\t\tif (_R[id].viewPort.visible_area[i] !== undefined) _R[id].viewPort.vaType[i] = _R[id].viewPort.visible_area[i].indexOf(\"%\") >= 0 ? \"%\" : \"px\";\r\n\t\t\t\t\t_R[id].viewPort.visible_area[i] = parseInt(_R[id].viewPort.visible_area[i], 0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_R[id].viewPort.visible_area[i] = _R[id].viewPort.vaType[i] == \"%\" ? _R[id].viewPort.visible_area[i] / 100 : _R[id].viewPort.visible_area[i];\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tobserveFonts: function(font, callback, _try) {\r\n\t\t\t_try = _try === undefined ? 0 : _try;\r\n\t\t\tif (_R.fonts === undefined) {\r\n\t\t\t\t_R.fonts = {};\r\n\t\t\t\t_R.monoWidth = getFontWidth('monospace');\r\n\t\t\t\t_R.sansWidth = getFontWidth('sans-serif');\r\n\t\t\t\t_R.serifWidth = getFontWidth('serif');\r\n\t\t\t}\r\n\t\t\t_try++;\r\n\r\n\t\t\tvar cache = _R.fonts[font];\r\n\t\t\tif (_R.fonts[font] !== true) _R.fonts[font] = _R.monoWidth !== getFontWidth(font + ',monospace') || _R.sansWidth !== getFontWidth(font + ',sans-serif') || _R.serifWidth !== getFontWidth(font + ',serif');\r\n\t\t\tif (_try === 100 || ((cache === false || cache === undefined) && _R.fonts[font] === true)) {\r\n\t\t\t\tgetFontWidth(font + ',monospace', true);\r\n\t\t\t\tgetFontWidth(font + ',sans-serif', true);\r\n\t\t\t\tgetFontWidth(font + ',serif', true);\r\n\t\t\t\tcallback();\r\n\t\t\t} else setTimeout(function() { _R.observeFonts(font, callback, _try) }, 19);\r\n\t\t},\r\n\r\n\r\n\t\tgetversion: function() { return version; },\r\n\r\n\t\tcurrentSlideIndex: function(id) { return _R[id].pr_active_key; },\r\n\r\n\t\t//\t-\tIS IOS VERSION OLDER THAN 5 ??\r\n\t\tiOSVersion: function() {\r\n\t\t\tif ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || (navigator.userAgent.match(/iPad/i))) return navigator.userAgent.match(/OS 4_\\d like Mac OS X/i);\r\n\t\t\telse return false;\r\n\t\t},\r\n\r\n\t\tsetIsIOS: function() {\r\n\t\t\t_R.isiPhone = /iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n\t\t\t_R.isIOS = (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) || (navigator.platform === \"MacIntel\" && typeof navigator.standalone !== \"undefined\");\r\n\t\t},\r\n\r\n\t\tsetIsChrome8889: function() {\r\n\t\t\t_R.isChrome8889 = _R.isChrome8889 === undefined ? navigator.userAgent.indexOf(\"Chrome/88\") >= 0 || navigator.userAgent.indexOf(\"Chrome/89\") >= 0 : _R.isChrome8889;\r\n\t\t},\r\n\r\n\t\t//\t-\tCHECK IF BROWSER IS IE\t\t-\r\n\t\tisIE: function() {\r\n\t\t\tif (_R.isIERes === undefined) {\r\n\t\t\t\tvar $div = jQuery('<div style=\"display:none;\"/>').appendTo(jQuery('body'));\r\n\t\t\t\t$div.html('<!--[if IE 8]><a>&nbsp;</a><![endif]-->');\r\n\t\t\t\t_R.isIERes = $div.find('a').length;\r\n\t\t\t\t$div.remove();\r\n\t\t\t}\r\n\t\t\treturn _R.isIERes;\r\n\t\t},\r\n\r\n\t\t// \t-\tIS MOBILE ??\r\n\t\tis_mobile: function() {\r\n\t\t\tvar agents = ['android', 'webos', 'iphone', 'ipad', 'blackberry', 'Android', 'webos', 'iPod', 'iPhone', 'iPad', 'Blackberry', 'BlackBerry'],\r\n\t\t\t\tismobile = false;\r\n\t\t\tif (window.orientation !== undefined) ismobile = true;\r\n\t\t\telse\r\n\t\t\t\tfor (var i in agents)\r\n\t\t\t\t\tif (agents.hasOwnProperty(i)) ismobile = ismobile || (navigator.userAgent.split(agents[i]).length > 1) ? true : ismobile;\r\n\r\n\t\t\tif (ismobile && document.body && document.body.className.indexOf('rs-ISM') === -1) document.body.className += ' rs-ISM';\r\n\r\n\t\t\treturn ismobile;\r\n\t\t},\r\n\r\n\t\tis_android: function() {\r\n\t\t\tvar agents = ['android', 'Android'],\r\n\t\t\t\tisandroid = false;\r\n\t\t\tfor (var i in agents)\r\n\t\t\t\tif (agents.hasOwnProperty(i)) isandroid = isandroid || (navigator.userAgent.split(agents[i]).length > 1) ? true : isandroid;\r\n\t\t\treturn isandroid;\r\n\t\t},\r\n\r\n\t\t// -  CALL BACK HANDLINGS - //\r\n\t\tcallBackHandling: function(id, type, position) {\r\n\t\t\tif (_R[id].callBackArray)\r\n\t\t\t\tjQuery.each(_R[id].callBackArray, function(i, c) {\r\n\t\t\t\t\tif (c)\r\n\t\t\t\t\t\tif (c.inmodule && c.inmodule === type)\r\n\t\t\t\t\t\t\tif (c.atposition && c.atposition === position)\r\n\t\t\t\t\t\t\t\tif (c.callback) c.callback.call();\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tget_browser: function() {\r\n\t\t\tvar ua = navigator.userAgent,\r\n\t\t\t\ttem, M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n\t\t\tif (/trident/i.test(M[1])) {\r\n\t\t\t\ttem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n\t\t\t\treturn 'IE';\r\n\t\t\t}\r\n\t\t\tif (M[1] === 'Chrome') {\r\n\t\t\t\ttem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/);\r\n\t\t\t\tif (tem != null) return tem[1].replace('OPR', 'Opera');\r\n\t\t\t}\r\n\t\t\tM = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\r\n\t\t\tif ((tem = ua.match(/version\\/(\\d+)/i)) != null)\r\n\t\t\t\tM.splice(1, 1, tem[1]);\r\n\t\t\treturn M[0];\r\n\t\t},\r\n\r\n\t\tget_browser_version: function() {\r\n\t\t\tvar N = navigator.appName,\r\n\t\t\t\tua = navigator.userAgent,\r\n\t\t\t\ttem,\r\n\t\t\t\tM = ua.match(/(edge|opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\r\n\t\t\tif (M && (tem = ua.match(/version\\/([\\.\\d]+)/i)) != null) M[2] = tem[1];\r\n\t\t\tM = M ? [M[1], M[2]] : [N, navigator.appVersion, '-?'];\r\n\t\t\treturn M[1];\r\n\t\t},\r\n\r\n\t\tisFaceBook: function() {\r\n\t\t\tif (_R.isFaceBookApp == undefined) {\r\n\t\t\t\t_R.isFaceBookApp = navigator.userAgent || navigator.vendor || window.opera;\r\n\t\t\t\t_R.isFaceBookApp = (_R.isFaceBookApp.indexOf(\"FBAN\") > -1) || (_R.isFaceBookApp.indexOf(\"FBAV\") > -1);\r\n\t\t\t}\r\n\t\t\treturn _R.isFaceBookApp;\r\n\t\t},\r\n\r\n\t\tisFirefox: function(id) {\r\n            if ( ! id)\r\n                return _R.get_browser() === \"Firefox\";\r\n\t\t\t_R[id].isFirefox = _R[id].isFirefox === undefined ? _R.get_browser() === \"Firefox\" : _R[id].isFirefox;\r\n\t\t\t_R.isFF = _R[id].isFirefox;\r\n\t\t\treturn _R[id].isFirefox;\r\n\t\t},\r\n\r\n\t\tisSafari11: function() {\r\n\t\t\treturn _R.trim(_R.get_browser().toLowerCase()) === 'safari' && parseFloat(_R.get_browser_version()) >= 11;\r\n\t\t},\r\n\r\n\t\tisWebkit: function() {\r\n\t\t\tvar browser = /(webkit)[ \\/]([\\w.]+)/.exec((navigator.userAgent).toLowerCase());\r\n\t\t\treturn browser && browser[1] && browser[1] === \"webkit\";\r\n\t\t},\r\n\r\n\t\tisIE11: function() {\r\n\t\t\t_R.IE11 = _R.IE11 === undefined ? !!navigator.userAgent.match(/Trident.*rv\\:11\\./) : _R.IE11;\r\n\t\t\treturn _R.IE11;\r\n\t\t},\r\n\r\n\t\tcheckBackdrop: function(){\r\n\t\t\tvar el = document.createElement('div');\r\n\t\t\tel.style.cssText = '-webkit-backdrop-filter: blur(2px)';\r\n\t\t\tvar test1 = (el.style.length != 0);\r\n\r\n\t\t\tvar test2 = (\r\n\t\t\t\tdocument.documentMode === undefined //non-IE browsers, including ancient IEs\r\n\t\t\t\t|| document.documentMode > 9 //IE compatibility moe\r\n\t\t\t);\r\n\r\n\t\t\tif(!(test1 && test2)) {\r\n\t\t\t\tel.style.cssText = 'backdrop-filter: blur(2px)';\r\n\t\t\t\ttest1 = (el.style.length != 0);\r\n\t\t\t}\r\n\t\t\tel = null;\r\n\r\n\t\t\t_R.useBackdrop = test1 && test2;\r\n\t\t},\r\n\r\n\t\tdeepLink: function(id, deeplink) {\r\n\t\t\tif (deeplink === undefined) return;\r\n\r\n\t\t\tvar st = 'slide',\r\n\t\t\t\tslideIndex = parseInt((deeplink.toString().replace(/^slide/, '').replace('-', '')), 10);\r\n\r\n\t\t\t// check custom slide deep link\r\n\t\t\tif (isNaN(slideIndex))\r\n\t\t\t\tfor (var i in _R[id].slides) {\r\n\t\t\t\t\tif (!_R[id].slides.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (_R.gA(_R[id].slides[i], \"deeplink\") === deeplink) {\r\n\t\t\t\t\t\tslideIndex = parseInt(_R.gA(_R[id].slides[i], \"originalindex\"), 10);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// check out of bounds\r\n\t\t\tif (isNaN(slideIndex) || (slideIndex < 1 || slideIndex > _R[id].realslideamount))\r\n\t\t\t\treturn;\r\n\t\t\telse return slideIndex;\r\n\t\t},\r\n\r\n\t\t// GET THE HORIZONTAL OFFSET OF SLIDER BASED ON THE THU`MBNAIL AND TABS LEFT AND RIGHT SIDE\r\n\t\tgetHorizontalOffset: function(container, side) {\r\n\t\t\tvar thumbloff = gWiderOut(container, '.outer-left'),\r\n\t\t\t\tthumbroff = gWiderOut(container, '.outer-right');\r\n\t\t\treturn side == \"left\" ? thumbloff : side == \"right\" ? thumbroff : side == \"all\" ? { left: thumbloff, right: thumbroff, both: thumbloff + thumbroff, inuse: (thumbloff + thumbroff) != 0 } : thumbloff + thumbroff;\r\n\t\t},\r\n\r\n\t\tgetComingSlide: function(id, direction) {\r\n\t\t\tvar aindex = _R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key,\r\n\t\t\t\tret = 0;\r\n\t\t\tret = 0;\r\n\r\n\t\t\t// IF WE ARE ON AN INVISIBLE SLIDE CURRENTLY\r\n\t\t\tif (_R[id].pr_active_slide !== undefined && _R.gA(_R[id].pr_active_slide[0], 'not_in_nav') == 'true') aindex = _R[id].pr_lastshown_key;\r\n\t\t\t// SET NEXT DIRECTION\r\n\t\t\tif (direction !== undefined && _R.isNumeric(direction) || direction !== undefined && direction.match(/to/g)) {\r\n\t\t\t\tif (direction === 1 || direction === -1)\r\n\t\t\t\t\tret = parseInt(aindex, 0) + direction < 0 ? _R[id].slideamount - 1 : parseInt(aindex, 0) + direction >= _R[id].slideamount ? 0 : parseInt(aindex, 0) + direction;\r\n\t\t\t\telse {\r\n\t\t\t\t\tdirection = _R.isNumeric(direction) ? direction : parseInt(direction.split(\"to\")[1], 0);\r\n\t\t\t\t\tret = direction < 0 ? 0 : direction > _R[id].slideamount - 1 ? _R[id].slideamount - 1 : direction;\r\n\t\t\t\t}\r\n\t\t\t} else if (direction)\r\n\t\t\t\tfor (var i in _R[id].slides)\r\n\t\t\t\t\tif (_R[id].slides.hasOwnProperty(i)) ret = _R[id].slides && _R[id].slides[i] && (_R.gA(_R[id].slides[i], 'key') === direction || _R[id].slides[i].id === direction) ? i : ret;\r\n\t\t\treturn { nindex: ret, aindex: aindex };\r\n\t\t},\r\n\r\n\t\t// \t-\tCALLING THE NEW SLIDE \t-\t//\r\n\t\tcallingNewSlide: function(id, direction, ignore, skip) {\r\n\t\t\tvar r = _R.getComingSlide(id, direction);\r\n\r\n\t\t\t_R[id].pr_next_key = r.nindex;\r\n\t\t\t_R[id].sdir = (_R[id].sc_indicator!==\"bullet\" && _R[id].pr_active_key==(_R[id].slideamount-1) && _R[id].pr_next_key==0) ? 0 : _R[id].pr_next_key < _R[id].pr_active_key ? 1 : 0;\r\n\r\n\r\n\t\t\tif (ignore && _R[id].carousel !== undefined) _R[id].carousel.focused = _R[id].pr_next_key;\r\n\r\n\r\n\t\t\tif (!_R[id].ctNavElement) _R[id].c.trigger(\"revolution.nextslide.waiting\");\r\n\t\t\telse _R[id].ctNavElement = false;\r\n\t\t\tif (_R[id].started && (r.aindex === _R[id].pr_next_key && r.aindex === _R[id].pr_lastshown_key) || (_R[id].pr_next_key !== r.aindex && _R[id].pr_next_key != -1 && _R[id].pr_lastshown_key !== undefined)) swapSlide(id, ignore, skip);\r\n\t\t},\r\n\r\n\t\t// FIND SEARCHED IMAGE/SRC IN THE LOAD QUEUE\r\n\t\tgetLoadObj: function(id, src) {\r\n\t\t\tvar ret = _R[id].loadqueue !== undefined && _R[id].loadqueue.filter(function(x) { return x.src === src; })[0];\r\n\t\t\treturn ret === undefined ? { src: src } : ret;\r\n\t\t},\r\n\r\n\r\n\t\t// FIND CURRENT RESOPNSIVE LEVEL\r\n\t\tgetResponsiveLevel: function(id) {\r\n\t\t\tvar curwidth = 9999,\r\n\t\t\t\tlastmaxlevel = 0,\r\n\t\t\t\tlastmaxid = 0,\r\n\t\t\t\tr = 0;\r\n\r\n\t\t\tif (_R[id].responsiveLevels && _R[id].responsiveLevels.length)\r\n\t\t\t\tfor (var i in _R[id].responsiveLevels) {\r\n\t\t\t\t\tif (!_R[id].responsiveLevels.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (_R.winWAll < _R[id].responsiveLevels[i] && (lastmaxlevel == 0 || lastmaxlevel > parseInt(_R[id].responsiveLevels[i]))) {\r\n\t\t\t\t\t\tcurwidth = parseInt(_R[id].responsiveLevels[i]);\r\n\t\t\t\t\t\tr = parseInt(i);\r\n\t\t\t\t\t\tlastmaxlevel = parseInt(_R[id].responsiveLevels[i]);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_R.winWAll > _R[id].responsiveLevels[i] && lastmaxlevel < _R[id].responsiveLevels[i]) {\r\n\t\t\t\t\t\tlastmaxlevel = parseInt(_R[id].responsiveLevels[i]);\r\n\t\t\t\t\t\tlastmaxid = parseInt(i);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\treturn (lastmaxlevel < curwidth) ? lastmaxid : r;\r\n\t\t},\r\n\r\n\t\t// CALCULATE LINEAR RESIZING MULTIPLICATOR\r\n\t\tgetSizeMultpilicator: function(id, upscaling, compareto) {\r\n\t\t\tvar r = { h: 0, w: 0 };\r\n\r\n\t\t\tif (_R[id].justifyCarousel) r.h = r.w = 1;\r\n\t\t\telse {\r\n\r\n\t\t\t\tr.w = (compareto.width / _R[id].gridwidth[_R[id].level]);\r\n\t\t\t\tr.h = (compareto.height / _R[id].gridheight[_R[id].level]);\r\n\r\n\t\t\t\tr.w = isNaN(r.w) ? 1 : r.w;\r\n\t\t\t\tr.h = isNaN(r.h) ? 1 : r.h;\r\n\r\n\t\t\t\t//ALlow to Scale over \"1\" which will upscale elements, positions module wide\r\n\t\t\t\tif (_R[id].enableUpscaling == true) {\r\n\t\t\t\t\tr.h = r.w;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (r.h > r.w) r.h = r.w;\r\n\t\t\t\t\telse r.w = r.h;\r\n\t\t\t\t\tif (r.h > 1 || r.w > 1) {\r\n\t\t\t\t\t\tr.w = 1;\r\n\t\t\t\t\t\tr.h = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\r\n\t\t// UPDATE DIMENSIONS ON ALL IMPORTANT CONTAINERS\r\n\t\tupdateDims: function(id, type) {\r\n\t\t\t// \tBLOCK\r\n\t\t\t// \t\tFW WRAP\r\n\t\t\t// \t\t\tMODULE\r\n\t\t\t//    \t\t\tCANVAS\r\n\t\t\t//       \t\t\tCONTENT\r\n\t\t\t//\r\n\r\n\t\t\tvar _actli = _R[id].pr_processing_key || _R[id].pr_active_key || 0,\r\n\t\t\t\t_oldli = _R[id].pr_active_key || 0,\r\n\t\t\t\tismodal = _R[id].modal !== undefined && _R[id].modal.useAsModal,\r\n\t\t\t\t_W_ = ismodal ? _R.winWAll : _R.winW,\r\n\t\t\t\tsomethingchanged = false;\r\n\r\n\t\t\t_R[id].lastScrollBarWidth = _R.scrollBarWidth;\r\n\t\t\t_R[id].redraw = _R[id].redraw === undefined ? {} : _R[id].redraw;\r\n\t\t\t_R[id].module = _R[id].module === undefined ? {} : _R[id].module;\r\n\t\t\t_R[id].canv = _R[id].canv === undefined ? {} : _R[id].canv;\r\n\t\t\t_R[id].content = _R[id].content === undefined ? {} : _R[id].content;\r\n\r\n\t\t\t_R[id].drawUpdates = { c: {}, cpar: {}, canv: {} };\r\n\r\n\r\n\t\t\t// GET CAROUSEL MARGINS\r\n\t\t\tif (_R[id].sliderType == \"carousel\") _R[id].module.margins = { top: parseInt((_R[id].carousel.padding_top || 0), 0), bottom: parseInt((_R[id].carousel.padding_bottom || 0), 0) };\r\n\t\t\telse _R[id].module.margins = { top: 0, bottom: 0 };\r\n\r\n\t\t\t// GET MODULE PADDINGS\r\n\t\t\tif (_R[id].module.paddings === undefined) _R[id].module.paddings = { top: (parseInt(_R[id].cpar.css(\"paddingTop\"), 0) || 0), bottom: (parseInt(_R[id].cpar.css(\"paddingBottom\"), 0) || 0) };\r\n\r\n\t\t\t// GET BLOCK WRAPPER PADDINGS\r\n\t\t\tif (_R[id].blockSpacing !== undefined) {\r\n\t\t\t\t_R[id].block = {\r\n\t\t\t\t\tbottom: _R[id].blockSpacing.bottom !== undefined ? parseInt(_R[id].blockSpacing.bottom[_R[id].level], 0) : 0,\r\n\t\t\t\t\ttop: _R[id].blockSpacing.top !== undefined ? parseInt(_R[id].blockSpacing.top[_R[id].level], 0) : 0,\r\n\t\t\t\t\tleft: _R[id].blockSpacing.left !== undefined ? parseInt(_R[id].blockSpacing.left[_R[id].level], 0) : 0,\r\n\t\t\t\t\tright: _R[id].blockSpacing.right !== undefined ? parseInt(_R[id].blockSpacing.right[_R[id].level], 0) : 0\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].block.hor = _R[id].block.left + _R[id].block.right;\r\n\t\t\t\t_R[id].block.ver = _R[id].block.top + _R[id].block.bottom;\r\n\t\t\t} else\r\n\t\t\tif (_R[id].block === undefined) _R[id].block = { top: 0, left: 0, right: 0, bottom: 0, hor: 0, ver: 0 }\r\n\r\n\r\n\t\t\t/*UPDATE PADDINGS ON BLOCK*/\r\n\t\t\tif (_R[id].blockSpacing !== undefined) {\r\n\t\t\t\tvar blockobj = {\r\n\t\t\t\t\t\tpaddingLeft: _R[id].block.left,\r\n\t\t\t\t\t\tpaddingRight: _R[id].block.right,\r\n\t\t\t\t\t\tmarginTop: _R[id].block.top,\r\n\t\t\t\t\t\tmarginBottom: _R[id].block.bottom\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstbl = JSON.stringify(blockobj);\r\n\r\n\t\t\t\tif (blockobj !== _R[id].emptyObject && stbl !== _R[id].caches.setsizeBLOCKOBJ) {\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].blockSpacing.block, blockobj);\r\n\t\t\t\t\t_R[id].caches.setsizeBLOCKOBJ = stbl;\r\n\t\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t/* CALCULATE RESPONSIVE LEVEL */\r\n\t\t\t_R[id].levelForced = _R[id].level = _R.getResponsiveLevel(id);\r\n\r\n\t\t\t/* GET ROW HEIGHTS */\r\n\t\t\t_R[id].rowHeights = _R.getRowHeights(id);\r\n\r\n\t\t\t/* CALCULATE MODULE WIDTH */\r\n\t\t\t_R[id].aratio = _R[id].gridheight[_R[id].level] / _R[id].gridwidth[_R[id].level];\r\n\t\t\t_R[id].module.width = _R[id].sliderLayout === \"auto\" || _R[id].disableForceFullWidth == true ?\r\n                (_R[id].cpar.width() === 0 ? _W_ - _R[id].block.hor : _R[id].cpar.width()) : _W_ - _R[id].block.hor;\r\n\r\n\r\n\t\t\t/* CALCULATE OUTER NAVIGATION SIZES */\r\n\t\t\t_R[id].outNavDims = _R.getOuterNavDimension(id);\r\n\r\n\t\t\t/* CALCULATE CANVAS WIDTH */\r\n\t\t\t_R[id].canv.width = _R[id].module.width - _R[id].outNavDims.horizontal - (ismodal ? _R.scrollBarWidth : 0);\r\n\t\t\tif (ismodal && _R[id].sliderLayout === \"auto\") _R[id].canv.width = Math.min(_R[id].gridwidth[_R[id].level], _W_);\r\n\t\t\t/* CALCULAT CANVAS HEIGHT */\r\n\t\t\tif (_R[id].sliderLayout === \"fullscreen\" || _R[id].infullscreenmode) {\r\n\t\t\t\tvar tempHeight = _R.getWinH(id) - (_R[id].modal.useAsModal ===  true ? 0 : _R.getFullscreenOffsets(id));\r\n\t\t\t\t_R[id].canv.height = Math.max(_R[id].rowHeights.cur, Math.max(tempHeight - _R[id].outNavDims.vertical, _R[id].minHeight));\r\n\t\t\t\t/* FIX IF DIFFERENT HEIGHTS OF CURRENT AND LAST SLIDE DIMENSION EXIST BASED ON ROW HEIGHT !! */\r\n\t\t\t\tif (_oldli !== _actli) {\r\n\t\t\t\t\t_R[id].currentSlideHeight = Math.max(_R[id].rowHeights.last, Math.max(tempHeight - _R[id].outNavDims.vertical, _R[id].minHeight));\r\n\t\t\t\t\t_R[id].redraw.maxHeightOld = true;\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].drawUpdates.c.height = \"100%\";\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].canv.height = _R[id].keepBPHeight ? _R[id].gridheight[_R[id].level] : Math.round(_R[id].canv.width * _R[id].aratio);\r\n\t\t\t\t_R[id].canv.height = !_R[id].autoHeight ? Math.min(_R[id].canv.height, _R[id].gridheight[_R[id].level]) : _R[id].canv.height;\r\n\t\t\t\t_R[id].carousel.prevNextVisCalculated =  _R[id].sliderType==\"carousel\" && _R[id].carousel.orientation==\"v\" ? _R[id].carousel.prevNextVisType==\"%\" ? _R[id].canv.height * _R[id].carousel.prevNextVis : _R[id].carousel.prevNextVis  : 0;\r\n\t\t\t\t_R[id].canv.height = Math.max(Math.max(_R[id].rowHeights.cur, _R[id].canv.height), _R[id].minHeight) + _R[id].carousel.prevNextVisCalculated;\r\n\t\t\t\t_R[id].drawUpdates.c.height = _R[id].canv.height;\r\n\t\t\t}\r\n\t\t\tif(_R[id].sliderLayout === 'fullscreen' || _R[id].sliderLayout === 'fullwidth') {\r\n\t\t\t\t_R[id].canv.width -= (_R[id].cpar.outerWidth() - _R[id].cpar.width());\r\n\t\t\t\tif(_R[id].sliderLayout === 'fullscreen') _R[id].canv.height -= (_R[id].cpar.outerHeight() - _R[id].cpar.height());\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].module.height = _R[id].canv.height;\r\n\r\n\r\n\t\t\t//SET REAL BG SIZE HERE\r\n\t\t\t//_R[id].BG = _R[id].sliderType===\"carousel\" ? {width:_R[id].module.width, height:_R[id].module.height} : {width:_R[id].module.width, height:_R[id].module.height};\r\n\r\n\t\t\t//CALCULATE MAX HEIGHT OF CONTENT\r\n\t\t\tif (_R[id].sliderLayout == \"fullwidth\" && !_R[id].fixedOnTop) {\r\n\r\n\t\t\t\t_R[id].drawUpdates.c.maxHeight = _R[id].maxHeight != 0 ? Math.min(_R[id].canv.height, _R[id].maxHeight) : _R[id].canv.height;\r\n\t\t\t\t//_R[id].module.height = _R[id].canv.height = _R[id].drawUpdates.c.maxHeight;\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t/* CALCULATE CONTENT MULTIPLICATORS */\r\n\t\t\t_R[id].CM = _R.getSizeMultpilicator(id, _R[id].enableUpscaling, { width: _R[id].canv.width, height: _R[id].canv.height });\r\n\t\t\t/* CALCULATE CONTENT WIDTH AND HEIGHT */\r\n\t\t\t_R[id].content.width = _R[id].gridwidth[_R[id].level] * _R[id].CM.w;\r\n\t\t\t_R[id].content.height = Math.round(Math.max(_R[id].rowHeights.cur, _R[id].gridheight[_R[id].level] * _R[id].CM.h));\r\n\r\n\t\t\t/* UPDATE REAL CONTAINERS */\r\n\t\t\tvar _h = _R[id].module.margins.top +\r\n\t\t\t\t_R[id].module.margins.bottom +\r\n\t\t\t\t(_R[id].sliderLayout === \"fullscreen\" ? 0 : _R[id].outNavDims.vertical) +\r\n\t\t\t\t_R[id].canv.height +\r\n\t\t\t\t_R[id].module.paddings.top +\r\n\t\t\t\t_R[id].module.paddings.bottom;\r\n\r\n\t\t\t_R[id].drawUpdates.cpar.height = _h;\r\n\t\t\t_R[id].drawUpdates.cpar.width = _R[id].sliderLayout === \"auto\" ? \"auto\" : _R[id].module.width;\r\n\r\n\t\t\tif (_R[id].sliderLayout !== \"auto\" && (_R[id].sliderLayout !== \"fullscreen\" || _R[id].disableForceFullWidth !== true) && _R[id].rsFullWidthWrap !== undefined)\r\n\t\t\t\t_R[id].drawUpdates.cpar.left = 0 - Math.ceil(_R[id].rsFullWidthWrap.offset().left - (_R[id].outNavDims.left + _R[id].block.left));\r\n\t\t\telse\r\n\t\t\tif (_R[id].sliderLayout == \"fullscreen\" && _R[id].disableForceFullWidth == true) _R[id].drawUpdates.cpar.left = 0;\r\n\r\n\r\n\t\t\t// OUTER CONTAINER HEIGHT MUST BE DIFFERENT DUE FIXED SCROLL EFFECT\r\n\t\t\tif (_R[id].sbtimeline.set && _R[id].sbtimeline.fixed) {\r\n\t\t\t\tif (_R[id].sbtimeline.extended === undefined) _R.updateFixedScrollTimes(id);\r\n\t\t\t\t_R[id].forcerHeight = ((2 * _h) + _R[id].sbtimeline.extended);\r\n\t\t\t\tif (_R[id].sbtimeline.pullc && _R[id].rsFullWidthWrap!==undefined && _R[id].rsFullWidthWrap[0]!==null)\r\n\t\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\t\tvar pullcMargin = _R[id].rsFullWidthWrapMarginBottom + (-1*_R[id].forcerHeight);\r\n\t\t\t\t\t\t// sometimes pullcMargin is NaN\r\n\t\t\t\t\t\t_R[id].rsFullWidthWrap[0].style.marginBottom = (isNaN(pullcMargin) ? _R[id].rsFullWidthBottomMarginPush : _R[id].rsFullWidthBottomMarginPush + pullcMargin) + \"px\";\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tif(_R[id].rsFullWidthWrap!==undefined && _R[id].rsFullWidthWrap[0]!==null && _R[id].sliderLayout == \"fullscreen\"){\r\n\t\t\t\t\t_R[id].rsFullWidthBottomMarginPush = _R.getFullscreenOffsets(id)\r\n\t\t\t\t\t_R[id].rsFullWidthWrap[0].style.marginBottom = _R[id].rsFullWidthBottomMarginPush + \"px\"\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].forcerHeight = _h;\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (_R[id].forcerHeight !== _R[id].caches.setsizeForcerHeight && _R[id].forcer !== undefined) {\r\n\t\t\t\t_R[id].caches.setsizeForcerHeight = _R[id].forcerHeight;\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.forcer = true;\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t/* SET CONTENT POSITION AND WIDTH */\r\n\t\t\t_R[id].drawUpdates.c.width = _R[id].canv.width;\r\n\t\t\tif (_R[id].sliderLayout === \"auto\") _R[id].drawUpdates.c.left = _R[id].outNavDims.left;\r\n\r\n\t\t\t/* SET DIMENSION ON RS-MODULE CONTAINER */\r\n\t\t\tif (_R[id].drawUpdates.c !== _R[id].emptyObject && JSON.stringify(_R[id].drawUpdates.c) !== _R[id].caches.setsizeCOBJ) {\r\n\t\t\t\t_R[id].caches.setsizeCOBJ = JSON.stringify(_R[id].drawUpdates.c);\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.c = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* SET DIMS ON RS-MODULE-WRAP CONTAINER */\r\n\t\t\tif (_R[id].drawUpdates.cpar !== _R[id].emptyObject && JSON.stringify(_R[id].drawUpdates.cpar) !== _R[id].caches.setsizeCPAROBJ) {\r\n\t\t\t\t_R[id].caches.setsizeCPAROBJ = JSON.stringify(_R[id].drawUpdates.cpar);\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.cpar = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* UPDATE MODAL CONTAINER AND CANVAS WIDTH */\r\n\t\t\tif (ismodal && _R[id].sliderLayout === \"auto\" && _R[id].caches.canWidth !== _R[id].canv.width) {\r\n\t\t\t\t_R[id].caches.canWidth = _R[id].canv.width;\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t_R[id].redraw.modalcanvas = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* UPDATE STATIC LAYER POSITIONS */\r\n\t\t\tif (_R[id].slayers && _R[id].slayers.length > 0 && _R[id].outNavDims.left !== _R[id].caches.outNavDimsLeft && (_R[id].sliderLayout != \"fullwidth\" && _R[id].sliderLayout != \"fullscreen\")) {\r\n\t\t\t\t_R[id].caches.outNavDimsLeft = _R[id].outNavDims.left;\r\n\t\t\t\t_R[id].redraw.slayers = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* FINETUNING OF MODAL WINDOWS */\r\n\t\t\tif (ismodal && _R[id].modal.calibration !== undefined && _R[id].modal.vertical === \"middle\") {\r\n\t\t\t\t_R[id].modal.calibration.top = _R.getWinH(id) < _h ? \"0%\" : \"50%\";\r\n\t\t\t\t_R[id].modal.calibration.y = _R.getWinH(id) < _h ? \"0px\" : \"-50%\";\r\n\t\t\t\tif (_R[id].sliderLayout === \"fullwidth\") {\r\n\t\t\t\t\tsomethingchanged = true;\r\n\t\t\t\t\t_R[id].redraw.modulewrap = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* CALCULATE GRID OFFSETS FOR PROGRESS BAR */\r\n\t\t\t_R[id].gridOffsetWidth = (_R[id].module.width - _R[id].gridwidth[_R[id].level]) / 2;\r\n\t\t\t//_R[id].gridOffsetHeight = (_R[id].module.height - _R[id].gridheight[_R[id].level])/2;\r\n\t\t\t_R[id].gridOffsetHeight = (_R[id].module.height - _R[id].content.height) / 2;\r\n\r\n\r\n\t\t\t// FALLBACKS AND CACHES (ADDONS OR SIMILAR)\r\n\t\t\t_R[id].caches.curRowsHeight = _R[id].currentRowsHeight = _R[id].rowHeights.cur;\r\n\t\t\t_R[id].caches.moduleWidth = _R[id].width = _R[id].module.width;\r\n\t\t\t_R[id].caches.moduleHeight = _R[id].height = _R[id].module.height;\r\n\t\t\t_R[id].caches.canWidth = _R[id].conw = _R[id].canv.width;\r\n\t\t\t_R[id].caches.canHeight = _R[id].conh = _R[id].canv.height;\r\n\t\t\t_R[id].bw = _R[id].CM.w;\r\n\t\t\t_R[id].bh = _R[id].CM.h;\r\n\t\t\t_R[id].caches.outNavDimsLeft = _R[id].outNavDims.left;\r\n\r\n\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tif (_R[id].redraw.forcer) tpGS.gsap.set(_R[id].forcer, { height: _R[id].forcerHeight });\r\n\t\t\t\tif (_R[id].redraw.c) tpGS.gsap.set(_R[id].c, _R[id].drawUpdates.c);\r\n\t\t\t\tif (_R[id].redraw.cpar) tpGS.gsap.set(_R[id].cpar, _R[id].drawUpdates.cpar);\r\n                if (_R[id].redraw.modalcanvas && _R[id]!==undefined) {\r\n                    if (_R[id].modal!==undefined && _R[id].modal.c!==undefined) tpGS.gsap.set(_R[id].modal.c, { width: _R[id].canv.width });\r\n                    if ( _R[id].canvas!==undefined) tpGS.gsap.set(_R[id].canvas, { width: _R[id].canv.width });\r\n                }\r\n                if (_R[id].redraw.maxHeightOld) _R[id].slides[_oldli].style.maxHeight = _R[id].currentSlideHeight !== _R[id].canv.height ? _R[id].currentSlideHeight + \"px\" : \"none\";\r\n\t\t\t\tif (_R[id].redraw.slayers) tpGS.gsap.set(_R[id].slayers, { left: _R[id].outNavDims.left });\r\n\t\t\t\tif (_R[id].redraw.modulewrap && _R[id].modal.c != undefined) tpGS.gsap.set(_R[id].modal.c.find('rs-module-wrap'), _R[id].modal.calibration);\r\n\t\t\t\t//1ST TIME START NAVIGATION BUILDER\r\n\t\t\t\tif (_R[id].navigation.initialised !== true && type === \"prepared\") {\r\n\t\t\t\t\tif (_R[id].sliderType !== \"hero\" && _R.createNavigation && _R[id].navigation.use && _R[id].navigation.createNavigationDone !== true) _R.createNavigation(id);\r\n\t\t\t\t\tif (_R.resizeThumbsTabs && _R.resizeThumbsTabs && _R[id].navigation.use) _R.resizeThumbsTabs(id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//IF PROGRESSBAR DRAWN, BUT NOT YET POSITIONED WELL\r\n\t\t\t\tif (_R[id].rebuildProgressBar) buildProgressBar(id);\r\n\t\t\t\t_R.putRowsInPosition(id);\r\n\r\n\t\t\t\t_R[id].redraw = {};\r\n\t\t\t});\r\n\r\n\t\t\tvar layersNeedUpdate = _R[id].inviewport && ((_R[id].heightInLayers !== undefined && _R[id].module.height !== _R[id].heightInLayers) ||\r\n\t\t\t\t(_R[id].widthInLayers !== undefined && _R[id].module.width !== _R[id].widthInLayers));\r\n\r\n\r\n\t\t\tif (type !== \"ignore\" && layersNeedUpdate) {\r\n\t\t\t\t_R[id].heightInLayers = undefined;\r\n\t\t\t\t_R[id].widthInLayers = undefined;\r\n\t\t\t\tif (_R[id].sliderType !== 'carousel') {\r\n\t\t\t\t\tif (_R[id].pr_next_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_next_key, id: id, mode: \"rebuild\", caller: \"swapSlideProgress_1\" });\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_R[id].pr_processing_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_processing_key, id: id, mode: \"rebuild\", caller: \"swapSlideProgress_2\" });\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_R[id].pr_active_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_active_key, id: id, mode: \"rebuild\", caller: \"swapSlideProgress_3\" });\r\n\t\t\t\t}\r\n\t\t\t\tsomethingchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\t// CALL PROCESSES (LATER REWRITE ON EVENT BASED !?)\r\n\t\t\tif (somethingchanged && type !== \"ignore\") _R.requestLayerUpdates(id, \"enterstage\");\r\n\t\t\tif (_R[id].module.height !== _R[id].module.lastHeight) {\r\n\t\t\t\t_R[id].module.lastHeight = _R[id].module.height;\r\n\r\n\t\t\t\t//window.requestAnimationFrame(function() {containerResized(id,undefined,false);});\r\n\t\t\t\twindow.requestAnimationFrame(function() { if (!(window.innerHeight === screen.height || Math.round(window.innerHeight * window.devicePixelRatio) === screen.height)) containerResized(id, undefined, false); });\r\n\t\t\t}\r\n\r\n\t\t\t// Force recalculate if scrollbar width has changed during calculation\r\n\t\t\ttpGS.gsap.delayedCall(0.1, function() {\r\n\r\n\t\t\t\tif (_R[id].lastScrollBarWidth !== _R.scrollBarWidth) {\r\n\t\t\t\t\t_R.updateDims(id, 'ignore');\r\n\t\t\t\t\tcontainerResized(id);\r\n\t\t\t\t} else if (!_R.isModalOpen && _R.scrollBarWidth !== window.innerWidth - document.documentElement.clientWidth) {\r\n\t\t\t\t\tif (_R.rAfScrollbar === undefined) _R.rAfScrollbar = requestAnimationFrame(function() {\r\n\t\t\t\t\t\t_R.rAfScrollbar = undefined;\r\n\t\t\t\t\t\t_R.getWindowDimension(id, false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn somethingchanged;\r\n\t\t},\r\n\r\n\t\tputMiddleZoneInPosition : function(id, a) {\r\n\r\n\t\t\tif (!(_R[id].middleZones==undefined || _R[id].middleZones[a]==undefined || _R[id].rowMiddleHeights==undefined || _R[id].rowMiddleHeights[a]==undefined) && (_R[id].caches.middleHeights[a]!==_R[id].rowMiddleHeights[a] || _R[id].caches.lastModuleHeight!==_R[id].module.height)) {\r\n\t\t\t\ttpGS.gsap.set(_R[id].middleZones[a],{top:Math.round(_R[id].module.height/2-_R[id].rowMiddleHeights[a]/2)});\r\n\t\t\t\t_R[id].caches.middleHeights[a]=_R[id].rowMiddleHeights[a];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tputRowsInPosition : function(id) {\r\n\t\t\tvar a = _R[id].activeRSSlide || 0,\r\n\t\t\t\tb = _R[id].pr_processing_key;\r\n\r\n\t\t\t//Current Slide Middle Zone\r\n\t\t\t_R.putMiddleZoneInPosition(id,a);\r\n\t\t\t//Coming Slide Middle Zone\r\n\t\t\tif (a!==b && b!==undefined) _R.putMiddleZoneInPosition(id,b);\r\n\r\n\t\t\t//STATIC Slide Rows\r\n\t\t\tif (!(_R[id].smiddleZones==undefined || _R[id].rowMiddleHeights==undefined || _R[id].rowMiddleHeights.static==undefined) && (_R[id].caches.middleHeights.static!==_R[id].rowMiddleHeights.static || _R[id].caches.lastModuleHeight!==_R[id].module.height)) {\r\n\t\t\t\ttpGS.gsap.set(_R[id].smiddleZones[0],{top:Math.round(_R[id].module.height/2-_R[id].rowMiddleHeights.static/2)});\r\n\t\t\t\t_R[id].caches.middleHeights.static=_R[id].rowMiddleHeights.static;\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].caches.lastModuleHeight=_R[id].module.height;\r\n\r\n\t\t},\r\n\r\n\t\tgetSlideIndex: function(id, key) {\r\n\t\t\tvar fnd = false;\r\n\t\t\tfor (var i in _R[id].slides)\r\n\t\t\t\tif (!_R[id].slides.hasOwnProperty(i) || fnd !== false) continue;\r\n\t\t\t\telse fnd = _R.gA(_R[id].slides[i], 'key') === key ? i : fnd;\r\n\t\t\treturn fnd === false ? 0 : fnd;\r\n\t\t},\r\n\r\n\t\tloadUpcomingContent: function(id) {\r\n\r\n\t\t\tif (_R[id].lazyType == \"smart\") {\r\n\t\t\t\tvar list = [],\r\n\t\t\t\t\tix = parseInt(_R.getSlideIndex(id, _R.gA(_R[id].pr_next_slide[0], 'key')), 0),\r\n\t\t\t\t\tpx = (ix - 1 < 0 ? _R[id].realslideamount - 1 : ix - 1),\r\n\t\t\t\t\tnx = (ix + 1 == _R[id].realslideamount ? 0 : ix + 1);\r\n\r\n\t\t\t\tif (px !== ix) list.push(_R[id].slides[px]);\r\n\t\t\t\tif (nx !== ix) list.push(_R[id].slides[nx]);\r\n\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t_R.loadImages(list, id, 2);\r\n\t\t\t\t\t_R.waitForCurrentImages(list, id, function() {});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlazyLoadAllSlides : function(id) {\r\n\t\t\tif (_R[id].lazyType == \"all\" && _R[id].lazyLoad_AllDone!==true && ((_R[id].viewPort.enable && _R[id].inviewport) || !_R[id].viewPort.enable)) {\r\n\t\t\t\tfor (var i in _R[id].slides) {\r\n\t\t\t\t\tif (!_R[id].slides.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t_R.loadImages(_R[id].slides[i], id, i);\r\n\t\t\t\t\t_R.waitForCurrentImages(_R[id].slides[i], id, function() {});\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].lazyLoad_AllDone = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetFullscreenOffsets: function(id) {\r\n\t\t\tvar r = 0;\r\n\t\t\tif (_R[id].fullScreenOffsetContainer != undefined) {\r\n\t\t\t\tvar ocs = (\"\" + _R[id].fullScreenOffsetContainer).split(\",\");\r\n\t\t\t\tfor (var i in ocs)\r\n\t\t\t\t\tif (ocs.hasOwnProperty(i)) r += (jQuery(ocs[i]).outerHeight(true) || 0);\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[id].fullScreenOffset != undefined) {\r\n\t\t\t\tif (!_R.isNumeric(_R[id].fullScreenOffset) && _R[id].fullScreenOffset.split(\"%\").length > 1) r += ((_R.getWinH(id)) * parseInt(_R[id].fullScreenOffset, 0) / 100);\r\n\t\t\t\telse\r\n\t\t\t\tif (_R.isNumeric(parseInt(_R[id].fullScreenOffset, 0))) r += (parseInt(_R[id].fullScreenOffset, 0) || 0);\r\n\t\t\t}\r\n\t\t\t_R[id].fullScreenOffsetResult = r;\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\tunToggleState: function(a) {\r\n\t\t\tif (a !== undefined)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) try { document.getElementById(a[i]).classList.remove(\"rs-tc-active\"); } catch (e) {}\r\n\t\t},\r\n\r\n\t\ttoggleState: function(a) {\r\n\t\t\tif (a !== undefined)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) try { document.getElementById(a[i]).classList.add(\"rs-tc-active\"); } catch (e) {}\r\n\t\t},\r\n\t\tswaptoggleState: function(a) {\r\n\r\n\t\t\tif (a != undefined && a.length > 0)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\t\t\tvar el = document.getElementById(a[i]);\r\n\t\t\t\t\tif (_R.gA(el, \"toggletimestamp\") !== undefined && ((new Date().getTime() - _R.gA(el, \"toggletimestamp\")) < 250)) return;\r\n\t\t\t\t\t_R.sA(el, \"toggletimestamp\", new Date().getTime());\r\n\t\t\t\t\tif (el !== null) {\r\n\t\t\t\t\t\tif (el.className.indexOf(\"rs-tc-active\") >= 0)\r\n\t\t\t\t\t\t\tel.classList.remove(\"rs-tc-active\");\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tel.classList.add(\"rs-tc-active\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tlastToggleState: function(a) {\r\n\t\t\tvar re;\r\n\t\t\tif (a !== undefined)\r\n\t\t\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\t\t\tvar el = document.getElementById(a[i]);\r\n\t\t\t\t\tre = re === true || (el !== null && el.className.indexOf(\"rs-tc-active\") >= 0) ? true : re;\r\n\t\t\t\t}\r\n\t\t\treturn re;\r\n\t\t},\r\n\t\trevCheckIDS: function(id, item) {\r\n\t\t\tif (_R.gA(item, \"idcheck\") === undefined) {\r\n\t\t\t\tvar cache = item.id,\r\n\t\t\t\t\tinGlobal = jQuery.inArray(item.id, window.RSANYID),\r\n\t\t\t\t\tinLocal = -1;\r\n\t\t\t\tif (inGlobal !== -1) {\r\n\t\t\t\t\tinLocal = jQuery.inArray(item.id, _R[id].anyid);\r\n\t\t\t\t\tif (window.RSANYID_sliderID[inGlobal] !== id || inLocal !== -1) {\r\n\t\t\t\t\t\titem.id = item.id + \"_\" + Math.round(Math.random() * 9999);\r\n\t\t\t\t\t\tconsole.log(\"Warning - ID:\" + cache + \" exists already. New Runtime ID:\" + item.id);\r\n\t\t\t\t\t\tinGlobal = inLocal = -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (inLocal === -1) _R[id].anyid.push(item.id);\r\n\t\t\t\tif (inGlobal === -1) {\r\n\t\t\t\t\twindow.RSANYID.push(item.id);\r\n\t\t\t\t\twindow.RSANYID_sliderID.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_R.sA(item, \"idcheck\", true);\r\n\t\t\treturn item.id;\r\n\t\t},\r\n\r\n\r\n\r\n\t\tbuildSpinner: function(id, spinner, color, eclass) {\r\n\r\n\t\t\tvar container;\r\n\t\t\tif (spinner === \"off\") return;\r\n\t\t\teclass = eclass === undefined ? \"\" : eclass;\r\n\t\t\tcolor = color === undefined ? '#ffffff' : color;\r\n\t\t\tvar spinnerType = parseInt(spinner.replace('spinner', ''), 10);\r\n\r\n\t\t\tif (isNaN(spinnerType) || spinnerType < 6) {\r\n\t\t\t\tvar a = 'style=\"background-color:' + color + '\"',\r\n\t\t\t\t\tems = (eclass !== undefined && (spinnerType === 1 || spinnerType == 2)) ? a : '',\r\n\t\t\t\t\teds = (eclass !== undefined && (spinnerType === 3 || spinnerType == 4)) ? a : '';\r\n\t\t\t\tcontainer = jQuery('<rs-loader ' + ems + ' class=\"' + spinner + ' ' + eclass + '\"><div ' + eds + ' class=\"dot1\"></div><div ' + eds + ' class=\"dot2\"></div><div ' + eds + ' class=\"bounce1\"></div><div ' + eds + ' class=\"bounce2\"></div><div ' + eds + ' class=\"bounce3\"></div></rs-loader>');\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// new spinners\r\n\t\t\t\tvar spinHtml = '<div class=\"rs-spinner-inner\"';\r\n\r\n\t\t\t\tif (spinnerType === 7) {\r\n\t\t\t\t\tvar clr;\r\n\t\t\t\t\tif (color.search('#') !== -1) {\r\n\t\t\t\t\t\tclr = color.replace('#', '');\r\n\t\t\t\t\t\tclr = 'rgba(' + parseInt(clr.substring(0, 2), 16) + ', ' + parseInt(clr.substring(2, 4), 16) + ', ' + parseInt(clr.substring(4, 6), 16) + ', ';\r\n\t\t\t\t\t} else if (color.search('rgb') !== -1) {\r\n\t\t\t\t\t\tclr = color.substring(color.indexOf('(') + 1, color.lastIndexOf(')')).split(',');\r\n\t\t\t\t\t\tif (clr.length > 2) clr = 'rgba(' + clr[0].trim() + ', ' + clr[1].trim() + ', ' + clr[2].trim() + ', ';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (clr && typeof clr === 'string') spinHtml += ' style=\"border-top-color: ' + clr + '0.65); border-bottom-color: ' + clr + '0.15); border-left-color: ' + clr + '0.65); border-right-color: ' + clr + '0.15)\"';\r\n\t\t\t\t} else if (spinnerType === 12) {\r\n\t\t\t\t\tspinHtml += ' style=\"background:' + color + '\"';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspinHtml += '>';\r\n\t\t\t\tvar numSpans = [10, 0, 4, 2, 5, 9, 0, 4, 4, 2],\r\n\t\t\t\t\ttotalSpans = numSpans[spinnerType - 6];\r\n\r\n\t\t\t\tfor (var its = 0; its < totalSpans; its++) {\r\n\t\t\t\t\tif (its > 0) spinHtml += ' ';\r\n\t\t\t\t\tspinHtml += '<span style=\"background:' + color + '\"></span>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspinHtml += '</div>';\r\n\t\t\t\tcontainer = jQuery('<rs-loader class=\"' + spinner + ' ' + eclass + '\">' + spinHtml + '</div></rs-loader>');\r\n\t\t\t}\r\n\t\t\treturn container;\r\n\t\t},\r\n\r\n\t\taddStaticLayerTo: function(id, where, layer) {\r\n\t\t\tif (_R[id].slayers.length < 2) {\r\n\t\t\t\tvar container = document.createElement('rs-static-layers');\r\n\t\t\t\tcontainer.className = \"rs-stl-\" + where;\r\n\t\t\t\tcontainer.appendChild(layer[0]);\r\n\t\t\t\t_R[id].c[0].appendChild(container);\r\n\t\t\t\t_R[id].slayers.push(container);\r\n\t\t\t} else\r\n\t\t\t\t_R[id].slayers[1].appendChild(layer[0]);\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\r\n\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\tvar getTagSelector = function() {\r\n\t\tif (_R.isIE11()) {\r\n\t\t\treturn function(target, query) {\r\n\t\t\t\treturn target.querySelectorAll(query);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn function(target, query) {\r\n\t\t\t\treturn target.getElementsByTagName(query);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar updateStartHeights = function(id) {\r\n\r\n\t\t_R[id].responsiveLevels = _R.revToResp(_R[id].responsiveLevels, _R[id].rle);\r\n\t\t_R[id].visibilityLevels = _R.revToResp(_R[id].visibilityLevels, _R[id].rle);\r\n\t\t_R[id].responsiveLevels[0] = 9999;\r\n\t\t_R[id].rle = _R[id].responsiveLevels.length || 1;\r\n\t\t_R[id].gridwidth = _R.revToResp(_R[id].gridwidth, _R[id].rle);\r\n\t\t_R[id].gridheight = _R.revToResp(_R[id].gridheight, _R[id].rle);\r\n\r\n\r\n\t\tif (_R[id].editorheight !== undefined) _R[id].editorheight = _R.revToResp(_R[id].editorheight, _R[id].rle);\r\n\t\t_R.updateDims(id);\r\n\r\n\t\t//var newh = Math.max(_R[id].minHeight,_R[id].gridheight[_R[id].level] * _R[id].CM.w);\r\n\t\t//if (_R[id].editorheight!==undefined) newh = Math.max(newh,_R[id].editorheight[_R[id].level] * _R[id].CM.w);\r\n\r\n\t\t/*if (_R[id].cpar!==undefined && _R[id].cpar[0].offsetHeight<newh)\r\n\t\t\ttpGS.gsap.set([_R[id].cpar,_R[id].c],{height:newh});\r\n\t\telse\r\n\t\t\ttpGS.gsap.set(_R[id].c,{height:newh});*/\r\n\r\n\r\n\t};\r\n\r\n\r\n\tvar removeArray = function(arr, i) {\r\n\t\tvar newarr = [];\r\n\t\tjQuery.each(arr, function(a, b) {\r\n\t\t\tif (a != i) newarr.push(b);\r\n\t\t});\r\n\t\treturn newarr;\r\n\t};\r\n\r\n\tvar removeNavWithLiref = function(a, ref, id) {\r\n\t\t_R[id].c.find(a).each(function() {\r\n\t\t\tvar a = jQuery(this);\r\n\t\t\tif (a.data('key') === ref) a.remove();\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t///////////////////////////////////\r\n\t//   -  WAIT FOR SCRIPT LOADS  - //\r\n\t///////////////////////////////////\r\n\tvar getFontWidth = function(fontFamily, remove) {\r\n\t\tif (_R[\"rsfont_\" + fontFamily] == undefined) {\r\n\t\t\t_R[\"rsfont_\" + fontFamily] = document.createElement('span');\r\n\t\t\t_R[\"rsfont_\" + fontFamily].innerHTML = Array(100).join('wi');\r\n\t\t\t_R[\"rsfont_\" + fontFamily].style.cssText = [\r\n\t\t\t\t'position:absolute',\r\n\t\t\t\t'width:auto',\r\n\t\t\t\t'font-size:128px',\r\n\t\t\t\t'left:-99999px'\r\n\t\t\t].join(' !important;');\r\n\t\t\t_R[\"rsfont_\" + fontFamily].style.fontFamily = fontFamily;\r\n\t\t\tdocument.body.appendChild(_R[\"rsfont_\" + fontFamily]);\r\n\t\t}\r\n\t\tif (remove === undefined) return _R[\"rsfont_\" + fontFamily].clientWidth;\r\n\t\telse document.body.removeChild(_R[\"rsfont_\" + fontFamily]);\r\n\t};\r\n\r\n\r\n\r\n\r\n\t//////////////////////////////////////////\r\n\t//\t-\tINITIALISATION OF OPTIONS \t-\t//\r\n\t//////////////////////////////////////////\r\n\r\n\tvar gWiderOut = function(c, cl) {\r\n\t\tvar r = 0;\r\n\t\tc.find(cl).each(function() {\r\n\t\t\tvar a = jQuery(this);\r\n\t\t\tif (!a.hasClass(\"tp-forcenotvisible\") && r < a.outerWidth())\r\n\t\t\t\tr = a.outerWidth();\r\n\t\t});\r\n\r\n\t\treturn r;\r\n\t};\r\n\r\n\t//////////////////////////////////////////\r\n\t//\t-\tINITIALISATION OF SLIDER\t-\t//\r\n\t//////////////////////////////////////////\r\n\tvar initSlider = function(id) {\r\n\r\n\t\tif (id === undefined || _R[id] === undefined || _R[id].c === undefined) return false;\r\n\r\n\t\t// CHECK FOR ALTERNATIVE IMAGE, AND IFRAM EXIST, AND WE ARE IN IE8, MOBILE, DRAW IT SIMPLE\r\n\t\tif (_R[id].cpar !== undefined && _R[id].cpar.data('aimg') != undefined && ((_R[id].cpar.data('aie8') == \"enabled\" && _R.isIE(8)) || (_R[id].cpar.data('amobile') == \"enabled\" && _R.ISM))) {\r\n\t\t\t_R[id].c.html('<img class=\"tp-slider-alternative-image\" src=\"' + _R[id].cpar.data('aimg') + '\">');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// CHECK IF FIREFOX 13 IS ON WAY.. IT HAS A STRANGE BUG, CSS ANIMATE SHOULD NOT BE USED\r\n\t\twindow._rs_firefox13 = false;\r\n\t\twindow._rs_firefox = _R.isFirefox();\r\n\t\twindow._rs_ie = window._rs_ie === undefined ? !jQuery.support.opacity : window._rs_ie;\r\n\t\twindow._rs_ie9 = window._rs_ie9 === undefined ? (document.documentMode == 9) : window._rs_ie9;\r\n\r\n\t\t// CHECK THE jQUERY VERSION\r\n\t\tvar version = jQuery.fn.jquery.split('.'),\r\n\t\t\tversionTop = parseFloat(version[0]),\r\n\t\t\tversionMinor = parseFloat(version[1]);\r\n\t\tif (versionTop == 1 && versionMinor < 7) _R[id].c.html('<div style=\"text-align:center; padding:40px 0px; font-size:20px; color:#992222;\"> The Current Version of jQuery:' + version + ' <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>');\r\n\t\tif (versionTop > 1) window._rs_ie = false;\r\n\r\n\t\t_R[id].realslideamount = _R[id].slideamount = 0;\r\n\r\n\t\tvar rss = _R.getByTag(_R[id].canvas[0], \"RS-SLIDE\"),\r\n\t\t\tslidestoremove = [];\r\n\t\t_R[id].notInNav = [];\r\n\r\n\r\n\t\t_R[id].slides = [];\r\n\r\n\t\t// Remove Not Needed Slides for Mobile Devices AND Index Current Slides\r\n\t\tfor (var i in rss) {\r\n\t\t\tif (!rss.hasOwnProperty(i)) continue;\r\n\t\t\tif (_R.gA(rss[i], \"hsom\") == \"on\" && _R.ISM) slidestoremove.push(rss[i]);\r\n\t\t\telse {\r\n\t\t\t\tif (_R.gA(rss[i], \"invisible\") || _R.gA(rss[i], \"invisible\") == true) _R[id].notInNav.push(rss[i]);\r\n\t\t\t\telse {\r\n\t\t\t\t\t_R[id].slides.push(rss[i]);\r\n\t\t\t\t\t_R[id].slideamount++;\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].realslideamount++;\r\n\t\t\t\t_R.sA(rss[i], \"originalindex\", _R[id].realslideamount);\r\n\t\t\t\t_R.sA(rss[i], \"origindex\", _R[id].realslideamount - 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i in slidestoremove)\r\n\t\t\tif (slidestoremove.hasOwnProperty(i)) slidestoremove[i].remove();\r\n\r\n\t\tfor (i in _R[id].notInNav)\r\n\t\t\tif (_R[id].notInNav.hasOwnProperty(i)) {\r\n\t\t\t\t_R.sA(_R[id].notInNav[i], 'not_in_nav', true);\r\n\t\t\t\t_R[id].canvas[0].appendChild(_R[id].notInNav[i]);\r\n\t\t\t}\r\n\r\n\t\t_R[id].canvas.css({ visibility: \"visible\" });\r\n\t\t_R[id].slayers = _R[id].c.find('rs-static-layers');\r\n\t\tif(_R[id].slayers[0] && _R[id].slayers.className && _R[id].slayers[0].className.indexOf('rs-stl-visible') !== -1) _R[id].c.addClass('rs-stl-visible');\r\n\t\tif (_R[id].slayers.length > 0) _R.sA(_R[id].slayers[0], 'key', 'staticlayers');\r\n\t\tif (_R[id].modal.useAsModal === true) {\r\n\t\t\t_R[id].cpar.wrap('<rs-modal id=\"' + (_R[id].c[0].id + \"_modal\") + '\"></rs-modal>');\r\n\t\t\t_R[id].modal.c = jQuery(_R.closestNode(_R[id].cpar[0], 'RS-MODAL')) /*_R[id].cpar.closest('rs-modal')*/ ;\r\n\t\t\t_R[id].modal.c.appendTo(jQuery('body'));\r\n\t\t\tif (_R[id].modal !== undefined && _R[id].modal.alias !== undefined) _R.revModal(id, { mode: \"init\" });\r\n\t\t}\r\n\t\tif (_R[id].waitForInit == true || _R[id].modal.useAsModal == true) {\r\n\t\t\tif (_R.RS_toInit !== undefined) _R.RS_toInit[id] = true;\r\n\t\t\t_R[id].c.trigger('revolution.slide.waitingforinit');\r\n\t\t\t_R[id].waitingForInit = true;\r\n\t\t\treturn;\r\n\t\t} else window.requestAnimationFrame(function() {\r\n\t\t\trunSlider(id);\r\n\t\t});\r\n\t\t// Some Addon Decides at which point the Slider Process is based on the following Variable\r\n\t\t_R[id].initEnded = true;\r\n\t};\r\n\r\n\tvar ofsc = function() {\r\n\t\tjQuery(\"body\").data('rs-fullScreenMode', !jQuery(\"body\").data('rs-fullScreenMode'));\r\n\t\tif (jQuery(\"body\").data('rs-fullScreenMode')) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_R.window.trigger(\"resize\");\r\n\t\t\t}, 200);\r\n\t\t}\r\n\t};\r\n\r\n\tvar deliverLazy = function(e, def, id) {\r\n\t\treturn _R.gA(e, \"lazyload\") !== undefined ? _R.gA(e, \"lazyload\") : // INTERNAL LAZY LOADING\r\n\t\t\t_R[id].lazyloaddata !== undefined && _R[id].lazyloaddata.length > 0 && _R.gA(e, _R[id].lazyloaddata) !== undefined ? _R.gA(e, _R[id].lazyloaddata) : // CUSTOM DATA\r\n\t\t\t_R.gA(e, \"lazy-src\") !== undefined ? _R.gA(e, \"lazy-src\") : //WP ROCKET\r\n\t\t\t_R.gA(e, \"lazy-wpfc-original-src\") !== undefined ? _R.gA(e, \"lazy-wpfc-original-src\") : //WP Fastes Cache Premium\r\n\t\t\t_R.gA(e, \"lazy\") !== undefined ? _R.gA(e, \"lazy\") : // LAZY\r\n\t\t\tdef; // DEFAULT\r\n\t}\r\n\r\n\tvar  getParentLevel = function(nc,l) {\r\n\t\t\t\t\t\treturn l==0 ? jQuery(nc) : l==1 ? jQuery(nc.parentNode) : l==2 ? jQuery(nc.parentNode.parentNode) : l==3 ? jQuery(nc.parentNode.parentNode.parentNode) : l==4 ? jQuery(nc.parentNode.parentNode.parentNode.parentNode) : jQuery(nc.parentNode.parentNode.parentNode.parentNode.parentNode)\r\n\t\t\t\t\t}\r\n\r\n\r\n\tvar runSlider = function(id) {\r\n\t\tif (_R[id] === undefined) return;\r\n\r\n\t\t_R[id].sliderisrunning = true;\r\n\r\n\t\t// REMOVE SLIDER MODULE FOR A WHILE\r\n\t\tif (_R[id].noDetach !== true) _R[id].c.detach();\r\n\r\n\t\tvar fli = _R[id].canvas.find('rs-slide:first-child');\r\n\t\t// RANDOMIZE THE SLIDER SHUFFLE MODE\r\n\t\tif (_R[id].shuffle) {\r\n\t\t\tvar fsa = _R.gA(fli[0], \"firstanim\");\r\n\t\t\tfor (var u = 0; u < _R[id].slideamount; u++) _R[id].canvas.find('rs-slide:eq(' + Math.round(Math.random() * _R[id].slideamount) + ')').prependTo(_R[id].canvas);\r\n\t\t\t_R.sA(_R[id].canvas.find('rs-slide:first-child')[0], \"firstanim\", fsa);\r\n\t\t}\r\n\r\n\t\t// COLLECT ALL LI INTO AN ARRAY\r\n\t\t_R[id].slides = _R.getByTag(_R[id].canvas[0], \"RS-SLIDE\");\r\n\t\t_R[id].thumbs = new Array(_R[id].slides.length);\r\n\t\t_R[id].slots = 1;\r\n\t\t_R[id].firststart = 1;\r\n\t\t_R[id].loadqueue = [];\r\n\t\t_R[id].syncload = 0;\r\n\r\n\t\tvar aindex = 0,\r\n\t\t\tcarborder = _R[id].sliderType === \"carousel\" && _R[id].carousel.border_radius !== undefined ? parseInt(_R[id].carousel.border_radius, 0) : 0;\r\n\r\n\t\tif(_R[id].sliderType !== \"carousel\") tpGS.gsap.set(_R[id].slides, {display: 'none'});\r\n\t\tif(_R[id].sliderType !== \"carousel\") tpGS.gsap.set(fli, {display: 'block'});\r\n\r\n\t\tfor (var index in _R[id].slides) {\r\n\t\t\tif (!_R[id].slides.hasOwnProperty(index) || index === \"length\") continue;\r\n\r\n\t\t\tvar slide = _R[id].slides[index],\r\n\t\t\t\timg = _R.getByTag(slide, 'IMG')[0];\r\n\r\n\t\t\tif (_R.gA(slide, \"key\") === undefined) _R.sA(slide, \"key\", 'rs-' + Math.round(Math.random() * 999999));\r\n\r\n\t\t\tvar obj = { params: Array(12), id: _R.gA(slide, \"key\"), src: _R.gA(slide, \"thumb\") !== undefined ? _R.gA(slide, \"thumb\") : deliverLazy(img, img !== undefined ? img.src : undefined, id) };\r\n\t\t\tif (_R.gA(slide, \"title\") === undefined) _R.sA(slide, \"title\", \"\");\r\n\t\t\tif (_R.gA(slide, \"description\") === undefined) _R.sA(slide, \"description\", \"\");\r\n\t\t\tobj.params[0] = { from: RegExp(\"\\\\{\\\\{title\\\\}\\\\}\", \"g\"), to: _R.gA(slide, \"title\") };\r\n\t\t\tobj.params[1] = { from: RegExp(\"\\\\{\\\\{description\\\\}\\\\}\", \"g\"), to: _R.gA(slide, \"description\") };\r\n\t\t\tfor (var i = 1; i <= 10; i++)\r\n\t\t\t\tif (_R.gA(slide, \"p\" + i) !== undefined)\r\n\t\t\t\t\tobj.params[i + 1] = { from: RegExp(\"\\\\{\\\\{param\" + i + \"\\\\}\\\\}\", \"g\"), to: _R.gA(slide, \"p\" + i) };\r\n\t\t\t\telse\r\n\t\t\t\t\tobj.params[i + 1] = { from: RegExp(\"\\\\{\\\\{param\" + i + \"\\\\}\\\\}\", \"g\"), to: \"\" };\r\n\r\n\r\n\t\t\t_R[id].thumbs[aindex] = jQuery.extend({}, true, obj);\r\n\r\n\t\t\tif (carborder > 0) tpGS.gsap.set(slide, { borderRadius: carborder + \"px\" });\r\n\r\n\t\t\t// IF LINK ON SLIDE EXISTS, NEED TO CREATE A PROPER LAYER FOR IT.\r\n\t\t\tif (_R.gA(slide, \"link\") != undefined || _R.gA(slide, \"linktoslide\") !== undefined) {\r\n\r\n\t\t\t\tvar rlink = _R.gA(slide, \"link\"),\r\n\t\t\t\t\tlink =  rlink!== undefined ? rlink : \"slide\",\r\n\t\t\t\t\tlinktoslide = link != \"slide\" ? \"no\" : _R.gA(slide, \"linktoslide\"),\r\n\t\t\t\t\tseoz = _R.gA(slide, \"seoz\"),\r\n\t\t\t\t\ttag = _R.gA(slide, \"tag\");\r\n\r\n\t\t\t\tif (linktoslide != undefined && linktoslide != \"no\" && linktoslide != \"next\" && linktoslide != \"prev\") {\r\n\t\t\t\t\tfor (var ris in _R[id].slides) {\r\n\t\t\t\t\t\tif (!_R[id].slides.hasOwnProperty(ris)) continue;\r\n\t\t\t\t\t\tif (parseInt(_R.gA(_R[id].slides[ris], \"origindex\"), 0) + 1 == _R.gA(slide, \"linktoslide\")) linktoslide = _R.gA(_R[id].slides[ris], \"key\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (link==\"slide\" || tag!=\"a\")\r\n\t\t\t\t\tjQuery(slide).prepend('<rs-layer class=\"rs-layer slidelink\" id=\"rs_slidelink_' + Math.round(Math.random() * 100000) + '\" data-zindex=\"' + (seoz === \"back\" ? 0 : seoz === \"front\" ? 95 : seoz !== undefined ? parseInt(seoz, 0) : 100) + '\" dataxy=\"x:c;y:c\" data-dim=\"w:100%;h:100%\" data-basealign=\"slide\"' +\r\n\t\t\t\t\t\t(linktoslide == \"no\" ? link != \"slide\" && !_R.ISM ? \"  data-actions=\\'\" + 'o:click;a:simplelink;target:' + (_R.gA(slide, \"target\") || \"_self\") + ';url:' + link + ';' + \"\\'\" : \"\" : \"  data-actions=\\'\" + (linktoslide === \"scroll_under\" ? 'o:click;a:scrollbelow;offset:100px;' : linktoslide === \"prev\" ? 'o:click;a:jumptoslide;slide:prev;d:0.2;' : linktoslide === \"next\" ? 'o:click;a:jumptoslide;slide:next;d:0.2;' : 'o:click;a:jumptoslide;slide:' + linktoslide + ';d:0.2;') + \"\\'\") +\r\n\t\t\t\t\t\t\" data-frame_1='e:power3.inOut;st:100;sp:100' data-frame_999='e:power3.inOut;o:0;st:w;sp:100'>\" +\r\n\t\t\t\t\t\t(_R.ISM ? \"<a \" + (link != \"slide\" ? (_R.gA(slide, \"target\") === \"_blank\" ? 'rel=\"noopener\" ' : '') + 'target=\"' + (_R.gA(slide, \"target\") || \"_self\") + '\" href=\"' + link + '\"' : '') + \"><span></span></a>\" : \"\") +\r\n\t\t\t\t\t\t\"</rs-layer>\");\r\n\t\t\t\telse\r\n\t\t\t\t\tjQuery(slide).prepend('<a class=\"rs-layer slidelink\" id=\"rs_slidelink_' + Math.round(Math.random() * 100000) + '\" data-zindex=\"' + (seoz === \"back\" ? 0 : seoz === \"front\" ? 95 : seoz !== undefined ? parseInt(seoz, 0) : 100) + '\" dataxy=\"x:c;y:c\" data-dim=\"w:100%;h:100%\" data-basealign=\"slide\" href=\"'+link+'\" target=\"' + (_R.gA(slide, \"target\") || \"_self\") + '\" rel=\"noopener\" data-frame_1=\"e:power3.inOut;st:100;sp:100\" data-frame_999=\"e:power3.inOut;o:0;st:w;sp:100\"><span></span></a>');\r\n\t\t\t}\r\n\t\t\taindex++;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// SIMPLIFY ANIMATIONS ON OLD IOS AND IE8 IF NEEDED\r\n\t\tif (_R[id].simplifyAll && (_R.isIE(8) || _R.iOSVersion())) {\r\n\t\t\t_R[id].c.find('.rs-layer').each(function() {\r\n\t\t\t\tvar tc = jQuery(this);\r\n\t\t\t\ttc.removeClass(\"customin customout\").addClass(\"fadein fadeout\");\r\n\t\t\t\ttc.data('splitin', \"\");\r\n\t\t\t\ttc.data('speed', 400);\r\n\t\t\t});\r\n\t\t\t_R[id].c.find('rs-slide').each(function() {\r\n\t\t\t\tvar li = jQuery(this);\r\n\t\t\t\tli.data('transition', \"fade\");\r\n\t\t\t\tli.data('masterspeed', 500);\r\n\t\t\t\tli.data('slotamount', 1);\r\n\t\t\t\tvar img = li.find('.rev-slidebg') || li.find('>img').first();\r\n\r\n\t\t\t\timg.data('panzoom', null);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twindow._rs_desktop = window._rs_desktop === undefined ? !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i) : window._rs_desktop;\r\n\r\n\t\t// SOME _R[id]IONS WHICH SHOULD CLOSE OUT SOME OTHER SETTINGS\r\n\t\t_R[id].autoHeight = _R[id].sliderLayout == \"fullscreen\" ? true : _R[id].autoHeight;\r\n\r\n\t\tif (_R[id].sliderLayout == \"fullwidth\" && !_R[id].autoHeight && (_R[id].sliderType!==\"carousel\" || _R[id].carousel.orientation!==\"v\")) {\r\n\t\t\t_R[id].c.css({ maxHeight: _R[id].gridheight[_R[id].level] + \"px\" });\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// BUILD A FORCE FULLWIDTH CONTAINER, TO SPAN THE FULL SLIDER TO THE FULL WIDTH OF BROWSER\r\n\t\tif (_R[id].sliderLayout != \"auto\" && _R.closestNode(_R[id].c[0], 'RS-FULLWIDTH-WRAP') === null /*_R[id].c.closest('rs-fullwidth-wrap').length==0*/ && (_R[id].sliderLayout !== \"fullscreen\" || _R[id].disableForceFullWidth != true)) {\r\n\t\t\tvar mt = _R[id].cpar[0].style.marginTop,\r\n\t\t\t\tmb = _R[id].cpar[0].style.marginBottom;\r\n\r\n\t\t\t_R[id].rsFullWidthWrapMarginBottom = parseInt(mb,0);\r\n\r\n\t\t\tmt = mt === undefined || mt === \"\" ? \"\" : \"margin-top:\" + mt + \";\";\r\n\t\t\tmb = mb === undefined || mb === \"\" ? \"\" : \"margin-bottom:\" + mb + \";\";\r\n\t\t\t_R[id].rsFullWidthWrap = _R[id].topc = jQuery('<rs-fullwidth-wrap id=\"' + (_R[id].c[0].id + \"_forcefullwidth\") + '\" style=\"' + mt + mb + '\"></rs-fullwidth-wrap>');\r\n\r\n\t\t\t_R[id].forcer = jQuery('<rs-fw-forcer style=\"height:' + (_R[id].forcerHeight === undefined ? _R[id].cpar.height() : _R[id].forcerHeight) + 'px\"></rs-fw-forcer>');\r\n\t\t\t_R[id].topc.append(_R[id].forcer);\r\n\t\t\t_R[id].topc.insertBefore(_R[id].cpar);\r\n\t\t\t_R[id].cpar.detach();\r\n\t\t\t_R[id].cpar.css({ marginTop: \"0px\", marginBottom: \"0px\", position: 'absolute' });\r\n\t\t\t_R[id].cpar.prependTo(_R[id].topc);\r\n\t\t} else\r\n\t\t\t_R[id].topc = _R[id].cpar;\r\n\r\n\r\n\r\n\t\t// MENU MODE AND SIMILIAR FUN\r\n\t\tif (_R[id].forceOverflow) _R[id].topc[0].classList.add(\"rs-forceoverflow\");\r\n\t\telse if (_R[id].parallax.type === '3D') _R[id].topc[0].classList.add(\"rs-parallax-hidden-of\");\r\n\t\tif (_R[id].sliderType === \"carousel\" && _R[id].overflowHidden !== true) _R[id].c.css({ overflow: \"visible\" });\r\n\t\tif (_R[id].maxHeight !== 0) tpGS.gsap.set([_R[id].cpar, _R[id].c, _R[id].topc], { maxHeight: _R[id].maxHeight + \"px\" });\r\n\t\tif (_R[id].fixedOnTop) tpGS.gsap.set(_R[id].blockSpacing !== undefined && _R[id].blockSpacing.block !== undefined ? _R[id].blockSpacing.block : _R[id].topc, { position: \"fixed\", top: \"0px\", left: \"0px\", pointerEvents: \"none\", zIndex: 5000 });\r\n\r\n\r\n\r\n\t\t// SHADOW ADD ONS\r\n\t\tif (_R[id].shadow !== undefined && _R[id].shadow > 0) _R[id].cpar.addClass('tp-shadow' + _R[id].shadow).append('<div class=\"tp-shadowcover\" style=\"background-color:' + _R[id].cpar.css('backgroundColor') + ';background-image:' + _R[id].cpar.css('backgroundImage') + '\"></div>');\r\n\r\n\t\t// ESTIMATE THE CURRENT WINDOWS RANGE INDEX\r\n\t\t_R.updateDims(id, \"prepared\");\r\n\r\n\t\t// Observe Wrapper Dimension changes\r\n\t\tif (_R.observeWraps === undefined) _R.observeWraps = new _R.wrapObserver.init(function(elem, id) {\r\n\t\t\tcontainerResized(id, undefined, true);\r\n\t\t});\r\n\r\n\t\t// IF THE CONTAINER IS NOT YET INITIALISED, LETS GO FOR IT\r\n\t\tif (!_R[id].c.hasClass(\"revslider-initialised\")) {\r\n\r\n\t\t\t// MARK THAT THE CONTAINER IS INITIALISED WITH SLIDER REVOLUTION ALREADY\r\n\t\t\t_R[id].c[0].classList.add(\"revslider-initialised\");\r\n\r\n\t\t\t// WE DONT HAVE ANY ID YET ? WE NEED ONE ! LETS GIVE ONE RANDOMLY FOR RUNTIME\r\n\t\t\t_R[id].c[0].id = _R[id].c[0].id === undefined ? \"revslider-\" + Math.round(Math.random() * 1000 + 5) : _R[id].c[0].id;\r\n\t\t\t_R.revCheckIDS(id, _R[id].c[0]);\r\n\r\n\t\t\t_R[id].origcd = parseInt(_R[id].duration, 0);\r\n\r\n\r\n\t\t\t//PREPARING FADE IN/OUT PARALLAX\r\n\t\t\t_R[id].scrolleffect._L = [];\r\n\t\t\t_R[id].sbas = _R[id].sbas === undefined ? {} : _R[id].sbas;\r\n\t\t\t_R[id].layers = _R[id].layers || {};\r\n\t\t\t_R[id].sortedLayers = _R[id].sortedLayers || {};\r\n\r\n\r\n\t\t\tvar elements = _R[id].c[0].querySelectorAll('rs-layer, rs-row, rs-column, rs-group,  rs-bgvideo, .rs-layer');\r\n\r\n\t\t\t/*_R[id].c.find('rs-layer, rs-row, rs-column, rs-group,  rs-bgvideo, .rs-layer').each(function() {*/\r\n\t\t\tfor (var _eli_ in elements) {\r\n\t\t\t\tif (!elements.hasOwnProperty(_eli_)) continue;\r\n\t\t\t\t//Remove Elements if they are for Gyroscope Permission added\r\n\t\t\t\tif (!_R.ISM && elements[_eli_].classList.contains('iospermaccwait')) elements[_eli_].remove();\r\n\t\t\t\tvar _nc = jQuery(elements[_eli_]),\r\n\t\t\t\t\t_ = _nc.data(),\r\n\t\t\t\t\ts, v;\r\n\t\t\t\t_.startclasses = elements[_eli_].className;\r\n\t\t\t\t_.startclasses = _.startclasses === undefined || _.startclasses === null ? \"\" : _.startclasses;\r\n\t\t\t\t_.animationonscroll = _R[id].sbtimeline.set ? _R[id].sbtimeline.layers : false;\r\n\t\t\t\t_.animationonscroll = _.animationonscroll === true || _.animationonscroll == 'true' ? true : false;\r\n\t\t\t\t_.filteronscroll = _R[id].scrolleffect.set ? _R[id].scrolleffect.layers : false;\r\n\t\t\t\t_.pxundermask = _.startclasses.indexOf('rs-pxmask') >= 0 && _R[id].parallax.type !== 'off' && _.startclasses.indexOf('rs-pxl-') >= 0;\r\n\t\t\t\t_.noPevents = _.startclasses.indexOf('rs-noevents') >= 0;\r\n\r\n\t\t\t\t//CATCH SCROLLEFFECT AND TIMELINE SCROLL BASE\r\n\t\t\t\tif (_.sba) {\r\n\t\t\t\t\ts = _.sba.split(\";\");\r\n\t\t\t\t\tfor (var i in s) {\r\n\t\t\t\t\t\tif (!s.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\tv = s[i].split(\":\");\r\n\t\t\t\t\t\tif (v[0] == \"t\") { _.animationonscroll = v[1]; if (v[1] == \"false\") _.animOnScrollForceDisable = true; }\r\n\t\t\t\t\t\tif (v[0] == \"e\") _.filteronscroll = v[1];\r\n\t\t\t\t\t\tif (v[0] == \"so\") _.scrollBasedOffset = parseInt(v[1]) / 1000;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (_.animationonscroll == \"true\" || _.animationonscroll == true) {\r\n\t\t\t\t\t_.startclasses += \" rs-sba\";\r\n\t\t\t\t\t_nc[0].className += \" rs-sba\";\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tif (_.startclasses.indexOf(\"rs-layer-static\") >= 0 && _R.handleStaticLayers) _R.handleStaticLayers(_nc, id);\r\n\t\t\t\tif (_nc[0].tagName !== \"RS-BGVIDEO\") {\r\n\t\t\t\t\t_nc[0].classList.add(\"rs-layer\");\r\n\t\t\t\t\tif (_.type === \"column\") {\r\n\t\t\t\t\t\t_.columnwidth = \"33.33%\";\r\n\t\t\t\t\t\t_.verticalalign = \"top\";\r\n\t\t\t\t\t\tif (_.column !== undefined) {\r\n\t\t\t\t\t\t\ts = _.column.split(\";\");\r\n\t\t\t\t\t\t\tfor (var ci in s) {\r\n\t\t\t\t\t\t\t\tif (!s.hasOwnProperty(ci)) continue;\r\n\t\t\t\t\t\t\t\tv = s[ci].split(\":\");\r\n\t\t\t\t\t\t\t\tif (v[0] === \"w\") _.columnwidth = v[1];\r\n\t\t\t\t\t\t\t\tif (v[0] === \"a\") _.verticalalign = v[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.type === \"group\") {\r\n\t\t\t\t\t\t_.verticalalign = \"top\";\r\n\t\t\t\t\t\tif (_.column !== undefined) {\r\n\t\t\t\t\t\t\ts = _.column.split(\";\");\r\n\t\t\t\t\t\t\tfor (var ci in s) {\r\n\t\t\t\t\t\t\t\tif (!s.hasOwnProperty(ci)) continue;\r\n\t\t\t\t\t\t\t\tv = s[ci].split(\":\");\r\n\t\t\t\t\t\t\t\tif (v[0] === \"a\") _.verticalalign = v[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// PREPARE LAYERS AND WRAP THEM WITH PARALLAX, LOOP, MASK HELP CONTAINERS\r\n\t\t\t\t\tvar ec = _.startclasses.indexOf(\"slidelink\") >= 0 ? \"z-index:\" + _.zindex + \";width:100% !important;height:100% !important;\" : \"\",\r\n\t\t\t\t\t\tspecec = _.type !== \"column\" && _.type !== \"group\" ? \"\" : _.verticalalign === undefined ? \" vertical-align:top;\" : \" vertical-align:\" + _.verticalalign + \";\",\r\n\t\t\t\t\t\t_pos = _.type === \"row\" || _.type === \"column\" || _.pos===\"r\" ? \"position:relative;\" : \"position:absolute;\",\r\n\t\t\t\t\t\tpreclas = \"\",\r\n\t\t\t\t\t\tpretag = _.type === \"row\" ? \"rs-row-wrap\" : _.type === \"column\" ? \"rs-column-wrap\" : _.type === \"group\" ? \"rs-group-wrap\" : \"rs-layer-wrap\",\r\n\t\t\t\t\t\tdmode = \"\",\r\n\t\t\t\t\t\tpreid = \"\",\r\n\t\t\t\t\t\tpevents = _.noPevents ? ';pointer-events:none' : ';pointer-events:none';\r\n\t\t\t\t\tif (_.type === \"row\" || _.type === \"column\" || _.type === \"group\") {\r\n\t\t\t\t\t\t_nc[0].classList.remove(\"tp-resizeme\");\r\n\t\t\t\t\t\tif (_.type === \"column\") {\r\n\t\t\t\t\t\t\t_.width = \"auto\";\r\n\t\t\t\t\t\t\t_nc[0].group = \"row\";\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_nc, { width: 'auto' });\r\n\t\t\t\t\t\t\t_.filteronscroll = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdmode = \"display:\" + (_nc[0].style.display === \"inline-block\" ? \"inline-block\" : \"block\") + \";\";\r\n\t\t\t\t\t\tif (_R.closestNode(_nc[0], 'RS-COLUMN') !== null /*nc.closest('rs-column').length>0*/ ) {\r\n\t\t\t\t\t\t\t_nc[0].group = \"column\";\r\n\r\n\t\t\t\t\t\t\t_.filteronscroll = false;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (_R.closestNode(_nc[0], 'RS-GROUP-WRAP') !== null /*_nc.closest('rs-group-wrap').length>0*/ ) {\r\n\t\t\t\t\t\t\t_nc[0].group = \"group\";\r\n\t\t\t\t\t\t\t_.filteronscroll = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.wrpcls !== undefined) preclas = preclas + \" \" + _.wrpcls;\r\n\t\t\t\t\tif (_.wrpid !== undefined) preid = 'id=\"' + _.wrpid + '\"';\r\n\r\n\t\t\t\t\t//Solution for Live Demo Pages & Older Templates with direct parent/parent solutions\r\n\t\t\t\t\t_.thFixed = (_.wrpcls!==undefined && _.wrpcls.includes(\"th-fixed\")) || (_.startclasses!==undefined && _.startclasses.includes(\"ddd_mousebox\"));\r\n\t\t\t\t\t_.reqWrp = {loop :  _R[id].rtl==true || _.thFixed || _.loop_0!==undefined || _.loop_999!==undefined ? true : false,\r\n\t\t\t\t\t\t\t\tlevel : { m:0, lp: 0, p:0}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_.reqWrp.mask = _.reqWrp.loop || _R[id].rtl==true ||  _.pxundermask || _.thFixed || _.btrans!==undefined || (_.frame_hover!==undefined && _.frame_hover.includes('m:t')) ||  _.clip!==undefined ||  _.sba!==undefined ||  _.frame_0_sfx !== undefined || _.frame_1_sfx !== undefined || _.frame_999_sfx !== undefined || _.frame_0_mask !== undefined ||  _.frame_1_mask !== undefined  || _.frame_2_mask !== undefined ||  _.frame_3_mask !== undefined ||  _.frame_4_mask !== undefined ||  _.frame_999_mask !== undefined ? true : false;\r\n\t\t\t\t\t_.reqWrp.level.m = _.pxundermask ? 2 :  _.reqWrp.mask ? 1 : 0;\r\n\t\t\t\t\t_.reqWrp.level.lp = _.reqWrp.level.m + (_.reqWrp.loop ? 1 : 0);\r\n\t\t\t\t\t_.reqWrp.level.p = _.reqWrp.level.lp + 1;\r\n\r\n\t\t\t\t\t//WRAP LAYER\r\n\t\t\t\t\t_nc.wrap('<' + pretag + ' ' + preid + ' class=\"rs-parallax-wrap ' + preclas + '\" style=\"' + specec + ' ' + ec + _pos + dmode + '' + pevents + '\">' +\r\n\t\t\t\t\t\t(_.reqWrp.loop ? '<rs-loop-wrap style=\"' + ec + _pos + dmode + '\">' : '') +\r\n\t\t\t\t\t\t(_.reqWrp.mask ? '<rs-mask-wrap style=\"' + ec + _pos + dmode + '\">' : '') +\r\n\t\t\t\t\t\t(_.pxundermask ? '<rs-px-mask></rs-px-mask>' : '') +\r\n\t\t\t\t\t\t(_.reqWrp.mask ? '</rs-mask-wrap>' : '') +\r\n\t\t\t\t\t\t(_.reqWrp.loop ? '</rs-loop-wrap>' : '') +\r\n\t\t\t\t\t\t'</' + pretag + '>');\r\n\r\n\r\n\r\n\t\t\t\t\t// ONLY ADD LAYERS TO FADEOUT DYNAMIC LIST WHC\r\n\r\n\t\t\t\t\tif (_.filteronscroll === true || _.filteronscroll == 'true') _R[id].scrolleffect._L.push(_nc.parent());\r\n\r\n\t\t\t\t\t_nc[0].id = _nc[0].id === undefined ? 'layer-' + Math.round(Math.random() * 999999999) : _nc[0].id;\r\n\t\t\t\t\t_R.revCheckIDS(id, _nc[0]);\r\n\r\n\r\n\r\n\t\t\t\t\t// CACHE PARENT ELEMENTS\r\n\r\n\t\t\t\t\t_R[id]._Lshortcuts[_nc[0].id] = {\r\n\t\t\t\t\t\tp:  getParentLevel(_nc[0], _.reqWrp.level.p),\r\n\t\t\t\t\t\tlp:  getParentLevel(_nc[0], _.reqWrp.level.lp),\r\n\t\t\t\t\t\tm: getParentLevel(_nc[0], _.reqWrp.level.m),\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t// Add BG for Columns\r\n\t\t\t\t\tif (_.type === \"column\" && (_nc[0].style.background!=\"\" || _nc[0].style.backgroundColor!==\"\" || _nc[0].style.backgroundImage!==\"\" || _.border!==undefined)) {\r\n\t\t\t\t\t\t_R[id]._Lshortcuts[_nc[0].id].p.append('<rs-cbg-mask-wrap><rs-column-bg id=\"' + _nc[0].id + '_rs_cbg\"></rs-column-bg></rs-cbg-mask-wrap>');\r\n\t\t\t\t\t\t_.cbgexists = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_.cbgexists = false;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (_.type === \"text\" && _R.getByTag(_nc[0], 'IFRAME').length > 0) {\r\n\t\t\t\t\t\t_R[id].slideHasIframe = true;\r\n\t\t\t\t\t\t_nc[0].classList.add('rs-ii-o'); //inner iframe ok\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//tpGS.gsap.set(_nc,{visibility:\"hidden\"});\r\n\t\t\t\t\tif (_R[id].BUG_safari_clipPath && _.animationonscroll != \"true\" && _.animationonscroll != true) _nc[0].classList.add(\"rs-pelock\");\r\n\r\n\t\t\t\t\tif (_nc[0].dataset.staticz !== undefined && _.type !== \"row\" && _nc[0].group !== \"row\" && _nc[0].group !== \"column\") _R.addStaticLayerTo(id, _nc[0].dataset.staticz, _R[id]._Lshortcuts[_nc[0].id].p);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// INITISLIASE THE EVENTS ON LAYERS\r\n\r\n\t\t\t\tif (_R.gA(_nc[0], \"actions\") && _R.checkActions) _R.checkActions(_nc, id, _R[id]);\r\n\t\t\t\tif (_R.checkVideoApis && (!window.rs_addedvim || !window.rs_addedyt) && (!_R[id].youtubeapineeded || !_R[id].vimeoapineeded)) _R.checkVideoApis(_nc, id);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (_R.checkActions) _R.checkActions(undefined, id);\r\n\r\n\t\t\t// Wait for 1ST Click to play Videos in case they could not be played yet\r\n\t\t\t_R[id].c[0].addEventListener('mousedown', function() {\r\n\t\t\t\tif (_R[id].onceClicked !== true) {\r\n\t\t\t\t\t_R[id].onceClicked = true;\r\n\t\t\t\t\tif (_R[id].onceVideoPlayed !== true && _R[id].activeRSSlide !== undefined && _R[id].slides !== undefined && _R[id].slides[_R[id].activeRSSlide] !== undefined) {\r\n\t\t\t\t\t\tvar nc = jQuery(_R[id].slides[_R[id].activeRSSlide]).find('rs-bgvideo');\r\n\t\t\t\t\t\tif (nc !== undefined && nc !== null && nc.length > 0) _R.playVideo(nc, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t\t_R[id].c[0].addEventListener('mouseenter', function() {\r\n\t\t\t\t_R[id].c.trigger('tp-mouseenter');\r\n\t\t\t\t_R[id].overcontainer = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\t_R[id].c[0].addEventListener('mouseover', function() {\r\n\t\t\t\t_R[id].c.trigger('tp-mouseover');\r\n\t\t\t\t_R[id].overcontainer = true;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\t_R[id].c[0].addEventListener('mouseleave', function() {\r\n\t\t\t\t_R[id].c.trigger('tp-mouseleft');\r\n\t\t\t\t_R[id].overcontainer = false;\r\n\t\t\t}, { passive: true });\r\n\r\n\t\t\t// REMOVE ANY VIDEO JS SETTINGS OF THE VIDEO  IF NEEDED  (OLD FALL BACK, AND HELP FOR 3THD PARTY PLUGIN CONFLICTS)\r\n\t\t\t_R[id].c.find('.rs-layer video').each(function(i) {\r\n\t\t\t\tvar v = jQuery(this);\r\n\t\t\t\tv.removeClass(\"video-js vjs-default-skin\");\r\n\t\t\t\tv.attr(\"preload\", \"\");\r\n\t\t\t\tv.css({ display: \"none\" });\r\n\t\t\t});\r\n\r\n\t\t\t//PREPARE LOADINGS ALL IN SEQUENCE\r\n\t\t\t//if (_R[id].sliderType!==\"standard\") _R[id].lazyType = \"all\";\r\n\r\n\t\t\t// PRELOAD STATIC LAYERS\r\n\t\t\t_R[id].rs_static_layer = _R.getByTag(_R[id].c[0], 'RS-STATIC-LAYERS');\r\n\t\t\tif (_R.preLoadAudio && _R[id].rs_static_layer.length > 0) _R.preLoadAudio(jQuery(_R[id].rs_static_layer), id, 1);\r\n\t\t\tif (_R[id].rs_static_layer.length > 0) {\r\n\t\t\t\t_R.loadImages(_R[id].rs_static_layer[0], id, 0, true);\r\n\t\t\t\t_R.waitForCurrentImages(_R[id].rs_static_layer[0], id, function() {\r\n\t\t\t\t\tif (_R[id] === undefined) return;\r\n\t\t\t\t\t_R[id].c.find('rs-static-layers img').each(function() {\r\n\t\t\t\t\t\tthis.src = _R.getLoadObj(id, (_R.gA(this, \"src\") != undefined ? _R.gA(this, \"src\") : this.src)).src;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].rowzones = [];\r\n\t\t\t_R[id].rowzonesHeights = [];\r\n\t\t\t_R[id].topZones = [];\r\n\t\t\t_R[id].middleZones = [];\r\n\t\t\t_R[id].bottomZones = [];\r\n\r\n\t\t\t_R[id].rowMiddleHeights = {};\r\n\r\n\r\n\r\n\r\n\t\t\t// IF DEEPLINK HAS BEEN SET\r\n\t\t\tvar deeplink = _R.deepLink(id, getUrlVars(\"#\")[0]);\r\n\t\t\tif (deeplink !== undefined) {\r\n\t\t\t\t_R[id].startWithSlide = deeplink;\r\n\t\t\t\t_R[id].deepLinkListener = true;\r\n\t\t\t\twindow.addEventListener('hashchange', function() {\r\n\t\t\t\t\tif (_R[id].ignoreDeeplinkChange !== true) {\r\n\t\t\t\t\t\tvar deeplink = _R.deepLink(id, getUrlVars(\"#\")[0]);\r\n\t\t\t\t\t\tif (deeplink !== undefined) _R.callingNewSlide(id, deeplink, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_R[id].ignoreDeeplinkChange = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// PREPARE THE SPINNER\r\n\t\t\t_R[id].loader = _R.buildSpinner(id, _R[id].spinner, _R[id].spinnerclr);\r\n\t\t\t_R[id].loaderVisible = true;\r\n\t\t\t_R[id].c.append(_R[id].loader);\r\n\r\n\t\t\t// PREPARE THE SLIDES\r\n\t\t\tprepareSlides(id);\r\n\r\n\t\t\tif ((_R[id].parallax.type !== \"off\" || _R[id].scrolleffect.set || _R[id].sbtimeline.set) && _R.checkForParallax) _R.checkForParallax(id);\r\n\r\n\t\t\t// INIT BLURFOCUS\r\n\t\t\tif (!_R[id].fallbacks.disableFocusListener && _R[id].fallbacks.disableFocusListener != \"true\" && _R[id].fallbacks.disableFocusListener !== true) {\r\n\t\t\t\t_R[id].c.addClass(\"rev_redraw_on_blurfocus\");\r\n\t\t\t\ttabBlurringCheck();\r\n\t\t\t}\r\n\r\n\t\t\t// MANAGE VIEWPORT SETTINGS\r\n\t\t\tvar _v = _R[id].viewPort;\r\n\t\t\tif (_R[id].navigation.mouseScrollNavigation === \"on\") _v.enable = true;\r\n\r\n\r\n\t\t\t// SET ALL LI AN INDEX AND INIT LAZY LOADING\r\n\t\t\tfor (var i in _R[id].slides) {\r\n\t\t\t\tif (!_R[id].slides.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar li = jQuery(_R[id].slides[i]);\r\n\t\t\t\t_R[id].rowzones[i] = [];\r\n\t\t\t\t_R[id].rowzonesHeights[i] = [];\r\n\t\t\t\t_R[id].topZones[i] = [];\r\n\t\t\t\t_R[id].middleZones[i] = [];\r\n\t\t\t\t_R[id].bottomZones[i] = [];\r\n\t\t\t\tli.find('rs-zone').each(function() {\r\n\t\t\t\t\t_R[id].rowzones[i].push(jQuery(this));\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_top\") >= 0) _R[id].topZones[i].push(this);\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_middle\") >= 0) {_R[id].middleZones[i].push(this);this.dataset.middle=\"true\";}\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_bottom\") >= 0) _R[id].bottomZones[i].push(this);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//LAZY LOAD ALL IMAGES\r\n\t\t\t_R.lazyLoadAllSlides(id);\r\n\r\n\r\n\t\t\t// COLLECT STATIC ROWS, ZONES\r\n\t\t\t_R[id].srowzones = [];\r\n\t\t\t_R[id].smiddleZones = [];\r\n\t\t\tif (_R[id].slayers)\r\n\t\t\t\t_R[id].slayers.find('rs-zone').each(function() {\r\n\t\t\t\t\t_R[id].srowzones.push(jQuery(this));\r\n\t\t\t\t\tif (this.className.indexOf(\"rev_row_zone_middle\") >= 0) {\r\n\t\t\t\t\t\t_R[id].smiddleZones.push(this);\r\n\t\t\t\t\t\tthis.dataset.middle=\"true\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\tif (_R[id].sliderType === \"carousel\") tpGS.gsap.set(_R[id].canvas, { scale: 1, perspective: 1200, transformStyle: \"flat\", opacity: 0 });\r\n\r\n\t\t\t// APPEND MODULE CONTAINER BACK\r\n\t\t\t_R[id].c.prependTo(_R[id].cpar);\r\n\r\n\t\t\t/******************************\r\n\t\t\t\t-\tFULLSCREEN CHANGE\t-\r\n\t\t\t********************************/\r\n\t\t\t// FULLSCREEN MODE TESTING\r\n\t\t\tjQuery(\"body\").data('rs-fullScreenMode', false);\r\n\t\t\twindow.addEventListener('fullscreenchange', ofsc, { passive: true });\r\n\t\t\twindow.addEventListener('mozfullscreenchange', ofsc, { passive: true });\r\n\t\t\twindow.addEventListener('webkitfullscreenchange', ofsc, { passive: true });\r\n\r\n\t\t\t_R.document.on(\"updateContainerSizes.\" + _R[id].c.attr('id'), function() {\r\n\t\t\t\tif (_R[id] === undefined) return;\r\n\t\t\t\telse if (_R[id].c == undefined) return false;\r\n\t\t\t\tif (_R.updateDims(id, 'ignore'))\r\n\t\t\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t\t\t_R.updateDims(id, 'ignore');\r\n\t\t\t\t\t\t_R[id].fullScreenMode = _R.checkfullscreenEnabled(id);\r\n\t\t\t\t\t\t_R.lastwindowheight = _R.getWinH(id);\r\n\t\t\t\t\t\tcontainerResized(id);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\r\n\t\t\tif (_v.presize) {\r\n\t\t\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[0]);\r\n\t\t\t\t// PRELOAD STATIC LAYERS\r\n\t\t\t\t_R.loadImages(_R[id].pr_next_slide[0], id, 0, true);\r\n\t\t\t\t_R.waitForCurrentImages(_R[id].pr_next_slide.find('.tp-layers'), id, function() { if (_R.animateTheLayers) _R.animateTheLayers({ slide: _R[id].pr_next_key, id: id, mode: \"preset\", caller: \"runSlider\" }); });\r\n\t\t\t}\r\n\r\n\t\t\t//START SLIDER AND/OR SCROLL HANDLER\r\n\t\t\tif (_R[id].parallax.type != \"off\" || _R[id].sbtimeline.set || _v.enable === true) _R.scrollTicker(id);\r\n\t\t\tif (_v.enable !== true) {\r\n\t\t\t\t_R[id].inviewport = true;\r\n\t\t\t\t_R.enterViewPort(id);\r\n\t\t\t}\r\n\r\n\t\t\tif (_R.RS_toInit !== undefined) _R.RS_toInit[id] = true;\r\n\r\n\t\t\t// ADD WRAPPER OBSERVER\r\n\t\t\tif (_R[id].observeWrap && _R.observeWraps) _R.wrapObserver.observe(_R[id].rsFullWidthWrap !== undefined ? _R[id].rsFullWidthWrap[0] : _R[id].cpar[0], id);\r\n\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tvar hideSliderUnder = function(id, resized) {\r\n\t\tif (_R.winW < _R[id].hideSliderAtLimit) {\r\n\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\tif (_R[id].sliderIsHidden !== true) {\r\n\t\t\t\t_R.sA(_R[id].cpar[0], \"displaycache\", _R[id].cpar.css('display') != \"none\" ? _R[id].cpar.css('display') : _R.gA(_R[id].cpar[0], \"displaycache\"));\r\n\t\t\t\t_R[id].cpar.css({ display: \"none\" });\r\n\t\t\t\t_R[id].sliderIsHidden = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif ((_R[id].sliderIsHidden === true || (_R[id].sliderIsHidden === undefined && _R[id].c.is(\":hidden\"))) && resized) {\r\n\t\t\t\t_R[id].cpar[0].style.display = _R.gA(_R[id].cpar[0], \"displaycache\") != undefined && _R.gA(_R[id].cpar[0], \"displaycache\") != \"none\" ? _R.gA(_R[id].cpar[0], \"displaycache\") : \"block\";\r\n\t\t\t\t_R[id].sliderIsHidden = false;\r\n\t\t\t\t_R[id].c.trigger('restarttimer');\r\n\r\n\t\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t\tcontainerResized(id, true);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (_R.hideUnHideNav && _R[id].navigation.use) _R.hideUnHideNav(id);\r\n\t};\r\n\r\n\r\n\t//////////////////////////\r\n\t//\tCONTAINER RESIZED\t//\r\n\t/////////////////////////\r\n\tvar containerResized = function(id, ignoreHideSlideUnder, updateDim) {\r\n\t\tif (_R[id].c === undefined) return false;\r\n\t\t_R[id].dimensionReCheck = {};\r\n\r\n\t\t_R[id].c.trigger('revolution.slide.beforeredraw');\r\n\t\tif (_R[id].infullscreenmode == true) _R[id].minHeight = _R.getWinH(id);\r\n\t\tif (_R.ISM) _R[id].lastMobileHeight = _R.getWinH(id);\r\n\r\n\t\tif (updateDim) _R.updateDims(id);\r\n\t\tif (!_R.resizeThumbsTabs || _R.resizeThumbsTabs(id) === true) {\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\thideSliderUnder(id, ignoreHideSlideUnder !== true);\r\n\t\t\t\tbuildProgressBar(id);\r\n\t\t\t});\r\n\r\n\t\t\tif (_R[id].started) {\r\n\t\t\t\tif (_R[id].sliderType == \"carousel\") {\r\n\t\t\t\t\t_R.prepareCarousel(id);\r\n\t\t\t\t\tfor (var nbgi in _R[id].sbgs)\r\n\t\t\t\t\t\tif (_R[id].sbgs.hasOwnProperty(nbgi) && _R[id].sbgs[nbgi].mDIM !== undefined) {\r\n\t\t\t\t\t\t\t_R.updateSlideBGs(id, _R[id].sbgs[nbgi].key, _R[id].sbgs[nbgi]);\r\n\t\t\t\t\t\t\t//_R.prepareCoveredVideo(id,_R[id].sbgs[nbgi].skeyindex,_R[id].sbgs[nbgi].key)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_R.updateSlideBGs(id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R[id].sliderType === \"carousel\" && ((_R[id].carCheckconW != _R[id].canv.width) || (_R[id].sliderLayout==\"fullscreen\" && _R[id].carCheckconH != _R[id].canv.height))) {\r\n\t\t\t\t\tclearTimeout(_R[id].pcartimer);\r\n\t\t\t\t\tfor (var i in _R[id].sbgs)\r\n\t\t\t\t\t\tif (_R[id].sbgs[i].loadobj !== undefined) _R.updateSlideBGs(id, _R[id].sbgs[i].key, _R[id].sbgs[i]);\r\n\t\t\t\t\tif (_R[id].carousel.orientation==\"v\") tpGS.gsap.set(_R[id].canvas, {height: _R[id].carousel.slide_height});\r\n\t\t\t\t\t//_R[id].pcartimer = setTimeout(function() {\r\n\t\t\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\t\t\t_R.prepareCarousel(id);\r\n\t\t\t\t\t\t\t_R.animateTheLayers({ slide: \"individual\", id: id, mode: \"rebuild\", caller: \"containerResized_1\" });\r\n\t\t\t\t\t\t\t_R[id].carCheckconW = _R[id].canv.width;\r\n\t\t\t\t\t\t\t_R[id].carCheckconH = _R[id].canv.height;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t//}, 100);\r\n\t\t\t\t\t_R[id].lastconw = _R[id].canv.width;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// DOUBLE CALL FOR SOME FUNCTION TO AVOID PORTRAIT/LANDSCAPE ISSUES, AND TO AVOID FULLSCREEN/NORMAL SWAP ISSUES\r\n\t\t\t\tif (_R[id].pr_processing_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_processing_key, id: id, mode: \"rebuild\", caller: \"containerResized_2\" });\r\n\t\t\t\telse if (_R[id].pr_active_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_active_key, id: id, mode: \"rebuild\", caller: \"containerResized_3\" });\r\n\r\n\t\t\t\t//Pan Zoom Calls\r\n\t\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\t\tfor (var i in _R[id].panzoomTLs)\r\n\t\t\t\t\t\tif (_R[id].panzoomTLs.hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\tvar key = _R.gA(_R[id].panzoomBGs[i][0], \"key\");\r\n\t\t\t\t\t\t\t_R.startPanZoom(_R[id].panzoomBGs[i], id, _R[id].panzoomTLs[i].progress(), i, _R[id].panzoomTLs[i].isActive() ? 'play' : 'reset', key);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R[id].pr_active_bg !== undefined && _R[id].pr_active_bg[0] !== undefined) pzrpt(id, _R[id].pr_active_bg, _R[id].pr_active_bg[0].dataset.key);\r\n\t\t\t\t\tif (_R[id].pr_next_bg !== undefined && _R[id].pr_next_bg[0] !== undefined) pzrpt(id, _R[id].pr_next_bg, _R[id].pr_next_bg[0].dataset.key);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclearTimeout(_R[id].mNavigTimeout);\r\n\t\t\t\tif (_R.manageNavigation) _R[id].mNavigTimeout = setTimeout(function() { _R.manageNavigation(id); }, 20);\r\n\t\t\t}\r\n\r\n\t\t\t_R.prepareCoveredVideo(id);\r\n\t\t}\r\n\r\n\t\t_R[id].c.trigger('revolution.slide.afterdraw', [{ id: id }]);\r\n\r\n\t};\r\n\r\n\tvar pzrpt = function(id, a, key) {\r\n\t\tif (_R[id].panzoomTLs === undefined) return;\r\n\t\tvar cid = _R.getSlideIndex(id, key);\r\n\t\t_R.startPanZoom(a, id, (_R[id].panzoomTLs[cid] !== undefined ? _R[id].panzoomTLs[cid].progress() : 0), cid, 'play', key);\r\n\t};\r\n\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t///////////////////////////////////////////////////////////////////////////////       PREPARING / REMOVING\t\t////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\t/////////////////////////////////////////\r\n\t//\t-\tPREPARE THE SLIDES / SLOTS -  //\r\n\t///////////////////////////////////////\r\n\tvar prepareSlides = function(id) {\r\n\t\t//REMOVE CANVAS FROM DOM UNTIL MODIFICATION\r\n\r\n\t\tif (_R[id].noDetach !== true) _R[id].canvas.detach();\r\n\t\tvar overflow = _R.isFaceBook() ? 'visible' : 'hidden';\r\n\r\n\r\n\t\t// PREPARE THE UL CONTAINER TO HAVEING MAX HEIGHT AND HEIGHT FOR ANY SITUATION\r\n\t\tif (_R[id].autoHeight) tpGS.gsap.set([_R[id].c, _R[id].cpar], { maxHeight: 'none' });\r\n\r\n\t\ttpGS.gsap.set(_R[id].canvas, (_R[id].modal !== undefined && _R[id].modal.useAsModal ? { overflow: overflow, width: '100%', height: '100%' } : { overflow: overflow, width: '100%', height: '100%', maxHeight: _R[id].autoHeight ? 'none' : _R[id].cpar.css('maxHeight') }));\r\n\t\t//SET CAROUSEL\r\n\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\tvar carsty = \"margin-top:\" + parseInt((_R[id].carousel.padding_top || 0), 0) + \"px;\";\r\n\t\t\t_R[id].canvas.css({ overflow: \"visible\"}).wrap('<rs-carousel-wrap style=\"' + carsty + '\"></rs-carousel-wrap>');\r\n\t\t\t_R[id].cpar.prepend('<rs-carousel-space></rs-carousel-space>').append('<rs-carousel-space></rs-carousel-space>');\r\n\t\t\t_R.defineCarouselElements(id);\r\n\t\t}\r\n\t\t//Number od Start with should never be smaller then 0 !\r\n\t\t_R[id].startWithSlide = _R[id].startWithSlide === undefined ? undefined : Math.max(1, _R[id].sliderType === \"carousel\" ? parseInt(_R[id].startWithSlide) : parseInt(_R[id].startWithSlide));\r\n\t\t// RESOLVE OVERFLOW HIDDEN OF MAIN CONTAINER\r\n\t\t_R[id].cpar.css({ 'overflow': 'visible' });\r\n\r\n\t\t//SCROLL BASED BG COLLECTION\r\n\t\t_R[id].scrolleffect.bgs = [];\r\n\r\n\r\n\t\tfor (var i = 0; i < _R[id].slides.length; i++) {\r\n\t\t\tvar cli = jQuery(_R[id].slides[i]),\r\n\t\t\t\tkey = _R.gA(cli[0], 'key'),\r\n\t\t\t\timg = cli.find('.rev-slidebg') || cli.find('>img'),\r\n\t\t\t\tB = _R[id].sbgs[key] = getBGValues(img.data(), id),\r\n\t\t\t\tmf = cli.data('mediafilter');\r\n\r\n\t\t\tB.skeyindex = _R.getSlideIndex(id, key);\r\n\t\t\tB.bgvid = cli.find('rs-bgvideo');\r\n\t\t\timg.detach();\r\n\t\t\tB.bgvid.detach();\r\n\r\n\t\t\t//START WITH CORRECT SLIDE\r\n\t\t\tif ((_R[id].startWithSlide != undefined && _R.gA(_R[id].slides[i], \"originalindex\") == _R[id].startWithSlide) || _R[id].startWithSlide === undefined && i == 0) _R[id].pr_next_key = _R[id].carousel.focused = cli.index();\r\n\r\n\t\t\ttpGS.gsap.set(cli, { width: '100%', height: '100%', overflow: overflow });\r\n\t\t\timg.wrap('<rs-sbg-px><rs-sbg-wrap data-key=\"' + key + '\"></rs-sbg-wrap></rs-sbg-px>');\r\n\r\n\t\t\tB.wrap = jQuery(_R.closestNode(img[0], 'RS-SBG-WRAP'));\r\n\t\t\tB.src = img[0].src;\r\n\t\t\tB.lazyload = B.lazyload = deliverLazy(img[0], undefined, id);\r\n\t\t\tB.slidebgimage = true;\r\n\t\t\tB.loadobj = B.loadobj === undefined ? {} : B.loadobj;\r\n\t\t\tB.mediafilter = mf = mf === \"none\" || mf === undefined ? \"\" : mf;\r\n\t\t\tB.sbg = document.createElement('rs-sbg');\r\n\r\n\r\n\r\n\r\n\t\t\tif (_R[id].overlay !== undefined && _R[id].overlay.type != \"none\" && _R[id].overlay.type != undefined) {\r\n\t\t\t\tvar url = _R.createOverlay(id, _R[id].overlay.type, _R[id].overlay.size, { 0: _R[id].overlay.colora, 1: _R[id].overlay.colorb });\r\n\t\t\t\tB.wrap.append('<rs-dotted style=\"background-image:' + url + '\"></rs-dotted>');\r\n\t\t\t}\r\n\r\n\t\t\timg.data('mediafilter', mf);\r\n\t\t\t//mf = img.data('panzoom')!==undefined ? \"\" : mf;\r\n\r\n\r\n\t\t\tB.canvas = document.createElement('canvas');\r\n\t\t\tB.sbg.appendChild(B.canvas);\r\n\t\t\tB.canvas.style.width = \"100%\";\r\n\t\t\tB.canvas.style.height = \"100%\";\r\n\t\t\tB.ctx = B.canvas.getContext('2d');\r\n\r\n\t\t\tif (B.lazyload !== undefined) B.sbg.dataset.lazyload = B.lazyload;\r\n\t\t\tB.sbg.className = mf;\r\n\t\t\tB.sbg.src = B.src;\r\n\t\t\tB.sbg.dataset.bgcolor = B.bgcolor;\r\n\r\n\r\n\t\t\t/*if (!(B.bgcolor!==undefined && B.bgcolor.indexOf('gradient')>=0)) {\r\n\t\t\t\tB.sbg.style.backgroundRepeat = B.bgrepeat;\r\n\t\t\t\tB.sbg.style.backgroundImage = 'url('+B.src+')';\r\n\t\t\t\tB.sbg.style.backgroundSize = B.bgfit;\r\n\t\t\t\tB.sbg.style.backgroundPosition = B.bgposition;\r\n\t\t\t}*/\r\n\t\t\t//if (_R[id].sliderType === \"standard\" || _R[id].sliderType===\"undefined\" ) B.sbg.style.opacity = 0;\r\n\t\t\tB.sbg.style.width = \"100%\";\r\n\t\t\tB.sbg.style.height = \"100%\";\r\n\t\t\tB.key = key;\r\n\t\t\tB.wrap[0].dataset.key = key;\r\n\t\t\tjQuery(B.sbg).data(B);\r\n\t\t\tB.wrap.data(B);\r\n\r\n\t\t\tB.wrap[0].appendChild(B.sbg);\r\n\r\n\t\t\tvar comment = document.createComment(\"Runtime Modification - Img tag is Still Available for SEO Goals in Source - \" + img.get(0).outerHTML);\r\n\t\t\timg.replaceWith(comment);\r\n\t\t\t//img[0].style.display = \"none\";\r\n\r\n\t\t\tif (_R.gA(cli[0], \"sba\") === undefined) _R.sA(cli[0], \"sba\", \"\");\r\n\t\t\tvar _ = {},\r\n\t\t\t\ts = _R.gA(cli[0], \"sba\").split(\";\");\r\n\t\t\tfor (var si in s) {\r\n\t\t\t\tif (!s.hasOwnProperty(si)) continue;\r\n\t\t\t\tvar v = s[si].split(\":\");\r\n\t\t\t\tswitch (v[0]) {\r\n\t\t\t\t\tcase \"f\":\r\n\t\t\t\t\t\t_.f = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t_.b = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"g\":\r\n\t\t\t\t\t\t_.g = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t_.s = v[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_R.sA(cli[0], \"scroll-based\", (_R[id].sbtimeline.set ? _.s !== undefined ? _.s : false : false))\r\n\r\n\t\t\t//HANDLE BG VIDEOS\r\n\t\t\tif (B.bgvid.length > 0) {\r\n\t\t\t\tB.bgvidid = B.bgvid[0].id;\r\n\t\t\t\tB.animateDirection = \"idle\";\r\n\t\t\t\tB.bgvid.addClass(\"defaultvid\").css({ zIndex: 30 });\r\n\t\t\t\tif (mf !== undefined && mf !== \"\" && mf !== \"none\") B.bgvid.addClass(mf);\r\n\t\t\t\tB.bgvid.appendTo(B.wrap);\r\n\t\t\t\tif (B.parallax != undefined) {\r\n\t\t\t\t\tB.bgvid.data('parallax', B.parallax);\r\n\t\t\t\t\tB.bgvid.data('showcoveronpause', \"on\");\r\n\t\t\t\t\tB.bgvid.data('mediafilter', mf);\r\n\t\t\t\t}\r\n\t\t\t\tB.poster = false;\r\n\t\t\t\tif ((B.src !== undefined && B.src.indexOf('assets/dummy.png') == -1 && B.src.indexOf('assets/transparent.png') == -1) ||\r\n\t\t\t\t\t(B.lazyload !== undefined && B.lazyload.indexOf('assets/transparent.png') == -1 && B.lazyload.indexOf('assets/dummy.png') == -1 && B.lazyload.indexOf('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=') == -1)) B.poster = true;\r\n\r\n\t\t\t\tB.bgvid.data(\"bgvideo\", 1);\r\n\t\t\t\tB.bgvid[0].dataset.key = key;\r\n\t\t\t\t//_R.manageVideoLayer(B.bgvid,id,key);\r\n\r\n\t\t\t\tif (B.bgvid.find('.rs-fullvideo-cover').length == 0) B.bgvid.append('<div class=\"rs-fullvideo-cover\"></div>');\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[id].scrolleffect.set) {\r\n\t\t\t\t_R[id].scrolleffect.bgs.push({\r\n\t\t\t\t\tfade: _.f !== undefined ? _.f : _R[id].scrolleffect.slide ? _R[id].scrolleffect.fade : false,\r\n\t\t\t\t\tblur: _.b !== undefined ? _.b : _R[id].scrolleffect.slide ? _R[id].scrolleffect.blur : false,\r\n\t\t\t\t\tgrayscale: _.g !== undefined ? _.g : _R[id].scrolleffect.slide ? _R[id].scrolleffect.grayscale : false,\r\n\t\t\t\t\tc: B.wrap.wrap('<rs-sbg-effectwrap></rs-sbg-effectwrap>').parent()\r\n\t\t\t\t});\r\n\t\t\t\tcli.prepend(B.wrap.parent().parent());\r\n\t\t\t} else cli.prepend(B.wrap.parent());\r\n\t\t}\r\n\r\n\t\t// Append the Container Again\r\n\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\ttpGS.gsap.set(_R[id].carousel.wrap, { opacity: 0 });\r\n\t\t\t_R[id].c[0].appendChild(_R[id].carousel.wrap[0]);\r\n\t\t} else _R[id].c[0].appendChild(_R[id].canvas[0]);\r\n\r\n\t};\r\n\r\n\t// CONVERT NEW VALUES TO DATA's\r\n\tvar getBGValues = function(_, id) {\r\n\r\n\t\t_.bg = _.bg === undefined ? \"\" : _.bg;\r\n\t\tvar attrs = _.bg.split(\";\"),\r\n\t\t\tbg = { bgposition: \"50% 50%\", bgfit: 'cover', bgrepeat: \"no-repeat\", bgcolor: \"transparent\" };\r\n\t\tfor (var k in attrs) {\r\n\t\t\tif (!attrs.hasOwnProperty(k)) continue;\r\n\t\t\tvar basic = attrs[k].split(\":\"),\r\n\t\t\t\tkey = basic[0],\r\n\t\t\t\tval = basic[1],\r\n\t\t\t\tnk = \"\";\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase \"p\":\r\n\t\t\t\t\tnk = \"bgposition\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"f\":\r\n\t\t\t\t\tnk = \"bgfit\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"r\":\r\n\t\t\t\t\tnk = \"bgrepeat\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"c\":\r\n\t\t\t\t\tnk = \"bgcolor\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (nk !== undefined) bg[nk] = val;\r\n\t\t}\r\n\r\n\t\t// TURN OF KEN BURNS IF WE ARE ON MOBILE AND IT IS WISHED SO\r\n\t\tif (_R[id].fallbacks.panZoomDisableOnMobile && _R.ISM) {\r\n\t\t\tbg.panzoom = undefined;\r\n\t\t\tbg.bgfit = \"cover\";\r\n\t\t\t_.panzoom = undefined;\r\n\t\t}\r\n\r\n\t\treturn jQuery.extend(true, _, bg);\r\n\t};\r\n\r\n\t//\tREMOVE SLOTS\t//\r\n\tvar removeSlots = function(id, where) {\r\n\r\n\t\twhere.find('.slot, .slot-circle-wrapper').each(function() {\r\n\t\t\tjQuery(this).remove();\r\n\t\t});\r\n\t\t_R[id].transition = 0;\r\n\t};\r\n\r\n\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\t///////////////////////////////////////////////////////////////////////////////       SLIDE SWAPS\t\t\t////////////////////////////////////////////////////////////\r\n\t////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\t// THE IMAGE IS LOADED, WIDTH, HEIGHT CAN BE SAVED\r\n\tvar cutParams = function(a) {\r\n\t\tvar b = a;\r\n\t\tif (a != undefined && a.length > 0)\r\n\t\t\tb = a.split(\"?\")[0];\r\n\t\treturn b;\r\n\t};\r\n\r\n\tvar cutProtocol = function(a) {\r\n\t\tvar b = a;\r\n\t\tif (a != undefined && a.length > 0)\r\n\t\t\tb = b.replace(document.location.protocol, \"\");\r\n\t\treturn b;\r\n\t}\r\n\r\n\r\n\tvar abstorel = function(base, relative) {\r\n\t\tvar stack = base.split(\"/\"),\r\n\t\t\tparts = relative.split(\"/\");\r\n\t\tstack.pop();\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tif (parts[i] == \".\")\r\n\t\t\t\tcontinue;\r\n\t\t\tif (parts[i] == \"..\")\r\n\t\t\t\tstack.pop();\r\n\t\t\telse\r\n\t\t\t\tstack.push(parts[i]);\r\n\t\t}\r\n\t\treturn stack.join(\"/\");\r\n\t};\r\n\r\n\tvar imgLoaded = function(img, id, progress) {\r\n\t\tif (_R[id] === undefined) return;\r\n\t\t_R[id].syncload--;\r\n\t\tvar REF = _R.gA(img, 'reference');\r\n\t\tfor (var i in _R[id].loadqueue) {\r\n\t\t\tif (!_R[id].loadqueue.hasOwnProperty(i) || _R[id].loadqueue[i].progress === \"loaded\") continue;\r\n\t\t\telse if (REF == _R[id].loadqueue[i].src) {\r\n\t\t\t\t_R[id].loadqueue[i].img = img;\r\n\t\t\t\t_R[id].loadqueue[i].progress = progress;\r\n\t\t\t\t_R[id].loadqueue[i].width = img.naturalWidth;\r\n\t\t\t\t_R[id].loadqueue[i].height = img.naturalHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprogressImageLoad(id);\r\n\t};\r\n\r\n\t// PRELOAD IMAGES 3 PIECES ON ONE GO, CHECK LOAD PRIORITY\r\n\tvar progressImageLoad = function(id) {\r\n\t\tif (_R[id].syncload == 4) return;\r\n\t\tif (_R[id].loadqueue)\r\n\t\t\tjQuery.each(_R[id].loadqueue, function(index, queue) {\r\n\t\t\t\tif (queue.progress == 'prepared') {\r\n\t\t\t\t\tif (_R[id].syncload <= 4) {\r\n\t\t\t\t\t\t_R[id].syncload++;\r\n\t\t\t\t\t\tif (queue.type == \"img\") {\r\n\t\t\t\t\t\t\tvar img = queue.img.tagName == \"IMG\" ? queue.img : new Image();\r\n\t\t\t\t\t\t\t_R.sA(img, \"reference\", queue.src);\r\n\t\t\t\t\t\t\tif (/^([\\w]+\\:)?\\/\\//.test(queue.src) && (queue.src.indexOf(location.host) === -1 || queue.src.indexOf(\".\" + location.host) !== -1) && _R[id].imgCrossOrigin !== \"\" && _R[id].imgCrossOrigin !== undefined) img.crossOrigin = _R[id].imgCrossOrigin;\r\n\t\t\t\t\t\t\timg.onload = function() {\r\n\t\t\t\t\t\t\t\timgLoaded(this, id, \"loaded\");\r\n\t\t\t\t\t\t\t\tqueue.error = false;\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\timg.onerror = function() {\r\n\t\t\t\t\t\t\t\tif(!img.failedOnce){\r\n\t\t\t\t\t\t\t\t\timg.failedOnce = true;\r\n\t\t\t\t\t\t\t\t\tdelete img.crossOrigin;\r\n\t\t\t\t\t\t\t\t\timg.removeAttribute('crossorigin');\r\n\t\t\t\t\t\t\t\t\timg.src = queue.src;\r\n\t\t\t\t\t\t\t\t\timgLoaded(this, id, \"failed\");\r\n\t\t\t\t\t\t\t\t\tqueue.error = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\timg.src = queue.src;\r\n\t\t\t\t\t\t\tqueue.starttoload = Date.now();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tjQuery.get(queue.src, function(data) {\r\n\t\t\t\t\t\t\t\tqueue.innerHTML = new XMLSerializer().serializeToString(data.documentElement);\r\n\t\t\t\t\t\t\t\tqueue.progress = \"loaded\";\r\n\t\t\t\t\t\t\t\t_R[id].syncload--;\r\n\t\t\t\t\t\t\t\tprogressImageLoad(id);\r\n\t\t\t\t\t\t\t}).fail(function() {\r\n\t\t\t\t\t\t\t\tqueue.progress = \"failed\";\r\n\t\t\t\t\t\t\t\t_R[id].syncload--;\r\n\t\t\t\t\t\t\t\tprogressImageLoad(id);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tqueue.progress = \"inload\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\tvar simWarn = function(s, e) {\r\n\t\tconsole.log(\"Static Image \" + s + \"  Could not be loaded in time. Error Exists:\" + e);\r\n\t\treturn true;\r\n\t};\r\n\r\n\tvar vidWarning = function(w, id) {\r\n\r\n\t\tif (Date.now() - _R[id][w + \"starttime\"] > 5000 && _R[id][w + \"warning\"] != true) {\r\n\t\t\t_R[id][w + \"warning\"] = true;\r\n\t\t\tvar txt = w + \" Api Could not be loaded !\";\r\n\t\t\tif (location.protocol === 'https:') txt = txt + \" Please Check and Renew SSL Certificate !\";\r\n\t\t\tconsole.error(txt);\r\n\t\t\t_R[id].c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>' + txt + '</strong></div>');\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\r\n\r\n\t//////////////////////////////////////\r\n\t//\t-\tCALL TO SWAP THE SLIDES -  //\r\n\t/////////////////////////////////////\r\n\tvar hideSlide = function(id) {\r\n\t\tif (_R[id] === undefined) return;\r\n\t\t_R[id].pr_active_slide = jQuery(_R[id].slides[_R[id].pr_active_key]);\r\n\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[_R[id].pr_processing_key]);\r\n\t\t_R[id].pr_active_bg = _R[id].pr_active_slide.find('rs-sbg-wrap');\r\n\t\t_R[id].pr_next_bg = _R[id].pr_next_slide.find('rs-sbg-wrap');\r\n\t\tif (_R[id].pr_active_bg !== undefined && _R[id].pr_active_bg.length > 0) tpGS.gsap.to(_R[id].pr_active_bg, 0.5, { opacity: 0 });\r\n\t\tif (_R[id].pr_next_bg !== undefined && _R[id].pr_next_bg.length > 0) tpGS.gsap.to(_R[id].pr_next_bg, 0.5, { opacity: 0 });\r\n\t\ttpGS.gsap.set(_R[id].pr_active_slide, { zIndex: 18 });\r\n\t\tif (_R[id].pr_next_slide !== undefined && _R[id].pr_next_slide.length > 0) tpGS.gsap.set(_R[id].pr_next_slide, { autoAlpha: 0, zIndex: 20 });\r\n\t\t_R[id].tonpause = false;\r\n\r\n\t\tif (_R[id].pr_active_key !== undefined) _R.removeTheLayers(_R[id].pr_active_slide, id, true);\r\n\t\t_R[id].firststart = 1;\r\n\t\tsetTimeout(function() {\r\n\t\t\tdelete _R[id].pr_active_key;\r\n\t\t\tdelete _R[id].pr_processing_key;\r\n\t\t}, 200);\r\n\t};\r\n\r\n\tvar swapSlide = function(id, ignore, skip) {\r\n\t\tif (_R[id] === undefined) return;\r\n\r\n\r\n\t\tclearTimeout(_R[id].waitWithSwapSlide);\r\n\t\tif (_R[id].pr_processing_key !== undefined && _R[id].firstSlideShown === true) {\r\n\t\t\t_R[id].waitWithSwapSlide = setTimeout(function() { swapSlide(id, ignore); }, 18);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tclearTimeout(_R[id].waitWithSwapSlide);\r\n\r\n\t\t// IF SOME OTHER SLIDE SHOULD BE CALLED INSTEAD AT START\r\n\t\tif (_R[id].startWithSlideKey !== undefined) {\r\n\t\t\t_R[id].pr_next_key = _R.getComingSlide(id, _R[id].startWithSlideKey).nindex;\r\n\t\t\tdelete _R[id].startWithSlideKey;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t_R[id].pr_active_slide = jQuery(_R[id].slides[_R[id].pr_active_key]);\r\n\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[_R[id].pr_next_key]);\r\n\t\tif (_R[id].pr_next_key == _R[id].pr_active_key) return delete _R[id].pr_next_key;\r\n\r\n\t\t//Preload Video\r\n\t\tvar key = _R.gA(_R[id].pr_next_slide[0], \"key\");\r\n\t\tif (_R[id].sbgs[key]!==undefined && _R[id].sbgs[key].bgvid && _R[id].sbgs[key].bgvid.length > 0 && (_R[id].videos == undefined || _R[id].videos[_R[id].sbgs[key].bgvid[0].id] === undefined)) {\r\n\t\t\t_R.manageVideoLayer(_R[id].sbgs[key].bgvid, id, key);\r\n\t\t}\r\n\r\n\r\n\t\t_R[id].pr_processing_key = _R[id].pr_next_key;\r\n\t\t_R[id].pr_cache_pr_next_key = _R[id].pr_next_key;\r\n\t\tdelete _R[id].pr_next_key;\r\n\t\tif (_R[id].pr_next_slide !== undefined && _R[id].pr_next_slide[0] !== undefined && _R.gA(_R[id].pr_next_slide[0], \"hal\") !== undefined)\r\n\t\t\t_R.sA(_R[id].pr_next_slide[0], \"sofacounter\", _R.gA(_R[id].pr_next_slide[0], \"sofacounter\") === undefined ? 1 : parseInt(_R.gA(_R[id].pr_next_slide[0], \"sofacounter\"), 0) + 1);\r\n\r\n\t\t// CHECK IF WE ARE ALREADY AT LAST ITEM TO PLAY IN REAL LOOP SESSION\r\n\t\tif (_R[id].stopLoop && _R[id].pr_processing_key == _R[id].lastslidetoshow - 1) {\r\n\t\t\t_R[id].progressC.css({ 'visibility': 'hidden' });\r\n\t\t\t_R[id].c.trigger('revolution.slide.onstop');\r\n\t\t\t_R[id].noloopanymore = 1;\r\n\t\t}\r\n\r\n\t\t// INCREASE LOOP AMOUNTS\r\n\t\tif (_R[id].pr_next_slide.index() === _R[id].slideamount - 1 && _R[id].looptogo > 0 && _R[id].looptogo !== \"disabled\") {\r\n\t\t\t_R[id].looptogo--;\r\n\t\t\tif (_R[id].looptogo <= 0) _R[id].stopLoop = true;\r\n\t\t}\r\n\r\n\r\n\t\t_R[id].tonpause = true;\r\n\t\t_R[id].slideInSwapTimer = true;\r\n\t\t_R[id].c.trigger('stoptimer');\r\n\r\n\t\tif (_R[id].spinner === \"off\") {\r\n\t\t\tif (_R[id].loader !== undefined && _R[id].loaderVisible === true) {\r\n\t\t\t\t_R[id].loader.css({ display: \"none\" });\r\n\t\t\t\t_R[id].loaderVisible = false;\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\t_R[id].loadertimer = setTimeout(function() {\r\n\t\t\t\tif (_R[id].loader !== undefined && _R[id].loaderVisible !== true) {\r\n\t\t\t\t\t_R[id].loader.css({ display: \"block\" });\r\n\t\t\t\t\t_R[id].loaderVisible = true;\r\n\t\t\t\t}\r\n\t\t\t}, 100);\r\n\r\n\t\tvar waitList = _R[id].sliderType === \"carousel\" && _R[id].lazyType !== \"all\" ? _R.loadVisibleCarouselItems(id) : _R[id].pr_next_slide[0];\r\n\t\t_R.loadImages(waitList, id, 1);\r\n\r\n\t\tif (_R.preLoadAudio) _R.preLoadAudio(_R[id].pr_next_slide, id, 1);\r\n\r\n\r\n\t\t// WAIT FOR SWAP SLIDE PROGRESS\r\n\t\t_R.waitForCurrentImages(waitList, id, function() {\r\n\t\t\t_R[id].firstSlideShown = true;\r\n\r\n\r\n\t\t\t// MANAGE BG VIDEOS\r\n\t\t\t\t_R[id].pr_next_slide.find('rs-bgvideo').each(function() { _R.prepareCoveredVideo(id); });\r\n\r\n\t\t\t_R.loadUpcomingContent(id);\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tswapSlideProgress(_R[id].pr_next_slide.find('rs-sbg'), id, ignore, skip);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t};\r\n\r\n\r\n\r\n\t//////////////////////////////////////\r\n\t//\t-\tPROGRESS SWAP THE SLIDES -  //\r\n\t/////////////////////////////////////\r\n\tvar swapSlideProgress = function(defimg, id, ignoreLayerAnimation, skip) {\r\n\r\n\t\tif (_R[id] === undefined) return;\r\n\r\n\t\t// RESET THE TIMER\r\n\t\tbuildProgressBar(id);\r\n\r\n\t\t_R[id].pr_active_slide = jQuery(_R[id].slides[_R[id].pr_active_key]);\r\n\t\t_R[id].pr_next_slide = jQuery(_R[id].slides[_R[id].pr_processing_key]);\r\n\t\t_R[id].pr_active_bg = _R[id].pr_active_slide.find('rs-sbg-wrap');\r\n\t\t_R[id].pr_next_bg = _R[id].pr_next_slide.find('rs-sbg-wrap');\r\n\t\t_R[id].tonpause = false;\r\n\r\n\t\tclearTimeout(_R[id].loadertimer);\r\n\t\tif (_R[id].loader !== undefined && _R[id].loaderVisible === true) {\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t_R[id].loader.css({ display: \"none\" });\r\n\t\t\t});\r\n\t\t\t_R[id].loaderVisible = false;\r\n\t\t}\r\n\r\n\r\n\t\t// TRIGGER THE ON CHANGE EVENT\r\n\t\t_R[id].onBeforeSwap = {\r\n\t\t\tslider: id,\r\n\t\t\tslideIndex: parseInt(_R[id].pr_active_key, 0) + 1,\r\n\t\t\tslideLIIndex: _R[id].pr_active_key,\r\n\t\t\tnextSlideIndex: parseInt(_R[id].pr_processing_key, 0) + 1,\r\n\t\t\tnextSlideLIIndex: _R[id].pr_processing_key,\r\n\t\t\tnextslide: _R[id].pr_next_slide,\r\n\t\t\tslide: _R[id].pr_active_slide,\r\n\t\t\tcurrentslide: _R[id].pr_active_slide,\r\n\t\t\tprevslide: _R[id].pr_lastshown_key !== undefined ? _R[id].slides[_R[id].pr_lastshown_key] : \"\"\r\n\t\t}\r\n\r\n\t\tif(_R[id].sliderType !== \"carousel\") tpGS.gsap.set(_R[id].pr_next_slide, {display: 'block'});\r\n\t\t_R[id].c.trigger('revolution.slide.onbeforeswap', _R[id].onBeforeSwap);\r\n\t\tvar bgkey = _R.gA(_R[id].pr_active_slide[0], \"key\");\r\n\t\tvar BG = _R[id].sbgs[bgkey];\r\n\t\tif(BG && BG.panzoom && BG.pzAnim){\r\n\t\t\tBG.pzLastFrame = true;\r\n\t\t\t_R.pzDrawShadow(id,BG,BG.pzAnim.start);\r\n\t\t}\r\n\r\n\t\t_R[id].transition = 1;\r\n\t\t_R[id].stopByVideo = false;\r\n\r\n\t\t// IF DELAY HAS BEEN SET VIA THE SLIDE, WE TAKE THE NEW VALUE, OTHER WAY THE OLD ONE...\r\n\t\tif (_R[id].pr_next_slide[0] !== undefined && _R.gA(_R[id].pr_next_slide[0], \"duration\") != undefined && _R.gA(_R[id].pr_next_slide[0], \"duration\") != \"\")\r\n\t\t\t_R[id].duration = parseInt(_R.gA(_R[id].pr_next_slide[0], \"duration\"), 0);\r\n\t\telse\r\n\t\t\t_R[id].duration = _R[id].origcd;\r\n\r\n\t\tif (_R[id].pr_next_slide[0] !== undefined && (_R.gA(_R[id].pr_next_slide[0], \"ssop\") == \"true\" || _R.gA(_R[id].pr_next_slide[0], \"ssop\") === true))\r\n\t\t\t_R[id].ssop = true;\r\n\t\telse\r\n\t\t\t_R[id].ssop = false;\r\n\r\n\r\n\t\t// OUTER CONTAINER HEIGHT MUST BE DIFFERENT DUE FIXED SCROLL EFFECT\r\n\t\tif (_R[id].sbtimeline.set && _R[id].sbtimeline.fixed) _R.updateFixedScrollTimes(id);\r\n\r\n\r\n\t\t_R[id].c.trigger('nulltimer');\r\n\t\t_R[id].sdir = (_R[id].sc_indicator!==\"bullet\" && _R[id].pr_active_key==(_R[id].slideamount-1) && _R[id].pr_processing_key==0) ? 0 : _R[id].pr_processing_key < _R[id].pr_active_key ? 1 : 0;\r\n\r\n\t\tif (_R[id].sc_indicator == \"arrow\") {\r\n\t\t\t/*\r\n\t\t\tif (_R[id].pr_active_key == 0 && _R[id].pr_processing_key == _R[id].slideamount - 1) _R[id].sdir = 1;\r\n\t\t\tif ((_R[id].pr_active_key == _R[id].slideamount - 1) && _R[id].pr_processing_key == 0) _R[id].sdir = 0;*/\r\n\t\t\t_R[id].sdir = _R[id].sc_indicator_dir;\r\n\t\t}\r\n\r\n\r\n\t\t//_R[id].lsdir = _R[id].lsdir === undefined ? _R[id].sdir : _R[id].lsdir;\r\n\t\t_R[id].lsdir = _R[id].sdir;\r\n\r\n\t\t///////////////////////////\r\n\t\t//\tREMOVE THE CAPTIONS //\r\n\t\t///////////////////////////\r\n\t\tif (_R[id].pr_active_key != _R[id].pr_processing_key && _R[id].firststart != 1 && _R[id].sliderType !== \"carousel\")\r\n\t\t\tif (_R.removeTheLayers) _R.removeTheLayers(_R[id].pr_active_slide, id);\r\n\t\tif (_R.gA(_R[id].pr_next_slide[0], 'rspausetimeronce') !== 1 && _R.gA(_R[id].pr_next_slide[0], \"rspausetimeralways\") !== 1)\r\n\t\t\t_R[id].c.trigger('restarttimer');\r\n\t\telse {\r\n\t\t\t_R[id].stopByVideo = true;\r\n\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t}\r\n\r\n\t\t_R.sA(_R[id].pr_next_slide[0], \"rspausetimeronce\", 0);\r\n\t\tif (_R[id].pr_next_slide[0] !== undefined) _R.sA(_R[id].c[0], \"slideactive\", _R.gA(_R[id].pr_next_slide[0], \"key\"));\r\n\r\n\r\n\r\n\t\t// SELECT SLIDER TYPE\r\n\t\tif (_R[id].sliderType == \"carousel\") {\r\n\t\t\t_R[id].mtl = tpGS.gsap.timeline();\r\n\t\t\t_R.prepareCarousel(id);\r\n\t\t\tif (_R[id].carousel.orientation==\"v\") {\r\n\t\t\t\ttpGS.gsap.set(_R[id].canvas, {height: _R[id].carousel.slide_height});\r\n\t\t\t}\r\n\t\t\tletItFree(id, skip);\r\n\t\t\t_R.updateSlideBGs(id);\r\n\t\t\tif (_R[id].carousel.checkFVideo !== true) {\r\n\t\t\t\tvar key = _R.gA(_R[id].pr_next_slide[0], \"key\");\r\n\t\t\t\tif (_R[id].sbgs[key] !== undefined && _R[id].sbgs[key].bgvid !== undefined && _R[id].sbgs[key].bgvid.length !== 0) _R.playBGVideo(id, key);\r\n\t\t\t\t_R[id].carousel.checkFVideo = true;\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].transition = 0;\r\n\t\t} else {\r\n\t\t\t_R[id].pr_lastshown_key = _R[id].pr_lastshown_key === undefined ? _R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key !== undefined ? _R[id].pr_active_key : _R[id].pr_lastshown_key : _R[id].pr_lastshown_key;\r\n\t\t\t_R[id].mtl = tpGS.gsap.timeline({ paused: true, onComplete: function() { letItFree(id); } });\r\n\r\n\r\n\t\t\t//_R[id].mtl.add(tpGS.gsap.set(_R[id].pr_next_bg.find('rs-sbg'),{opacity:0}));\r\n\t\t\t//_R[id].mtl.pause();  Removed Paused here, and added above in timeline. Hopefully things goes well....\r\n\t\t\tif (_R[id].pr_next_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_next_key, id: id, mode: \"preset\", caller: \"swapSlideProgress_1\" });\r\n\t\t\telse\r\n\t\t\tif (_R[id].pr_processing_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_processing_key, id: id, mode: \"preset\", caller: \"swapSlideProgress_2\" });\r\n\t\t\telse\r\n\t\t\tif (_R[id].pr_active_key !== undefined) _R.animateTheLayers({ slide: _R[id].pr_active_key, id: id, mode: \"preset\", caller: \"swapSlideProgress_3\" });\r\n\r\n\t\t\tif (_R[id].firststart == 1) {\r\n\t\t\t\tif (_R[id].pr_active_slide[0] !== undefined) tpGS.gsap.set(_R[id].pr_active_slide, { autoAlpha: 0 });\r\n\t\t\t\t_R[id].firststart = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[id].pr_active_slide[0] !== undefined) tpGS.gsap.set(_R[id].pr_active_slide, { zIndex: 18 });\r\n\t\t\tif (_R[id].pr_next_slide[0] !== undefined) tpGS.gsap.set(_R[id].pr_next_slide, { autoAlpha: 0, zIndex: 20 });\r\n\r\n\r\n\t\t\tvar key = _R.gA(_R[id].pr_next_slide[0], \"key\");\r\n\r\n\t\t\t// Alternated Animations\r\n\t\t\tif (_R[id].sbgs[key]!==undefined && _R[id].sbgs[key].alt === undefined) {\r\n\t\t\t\t_R[id].sbgs[key].alt = _R.gA(_R[id].pr_next_slide[0], \"alttrans\") || false;\r\n\t\t\t\t_R[id].sbgs[key].alt = _R[id].sbgs[key].alt !== false ? _R[id].sbgs[key].alt.split(\",\") : false;\r\n\t\t\t\t_R[id].sbgs[key].altIndex = 0;\r\n\t\t\t\t_R[id].sbgs[key].altLen = _R[id].sbgs[key].alt !== false ? _R[id].sbgs[key].alt.length : 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar a = _R[id].firstSlideAnimDone === undefined && _R[id].fanim !== undefined && _R[id].fanim !== false ? 1 :\r\n\t\t\t\t_R[id].sbgs[key].slideanimation === undefined || _R[id].sbgs[key].slideanimationRebuild ? 2 :\r\n\t\t\t\t_R[id].sbgs[key].random !== undefined && _R.SLTR !== undefined ? 3 :\r\n\t\t\t\t_R[id].sbgs[key].altLen > 0 && _R.SLTR !== undefined ? 4 :\r\n\t\t\t\t5;\r\n\r\n\t\t\t_R[id].sbgs[key].slideanimation = _R[id].firstSlideAnimDone === undefined && _R[id].fanim !== undefined && _R[id].fanim !== false ? _R.convertSlideAnimVals(jQuery.extend(true, {}, _R.getSlideAnim_EmptyObject(), _R[id].fanim)) :\r\n                (_R[id].sbgs[key].slideanimation === undefined || _R[id].sbgs[key].slideanimationRebuild) || (_R[id].sbgs[key].altLen > 0 &&  _R[id].sbgs[key].alt[_R[id].sbgs[key].altIndex] == \"default_first_anim\") ? _R.getSlideAnimationObj(id, { anim: _R.gA(_R[id].pr_next_slide[0], \"anim\"), filter: _R.gA(_R[id].pr_next_slide[0], \"filter\"), in: _R.gA(_R[id].pr_next_slide[0], \"in\"), out: _R.gA(_R[id].pr_next_slide[0], \"out\"), d3: _R.gA(_R[id].pr_next_slide[0], \"d3\") }, key) :\r\n                _R[id].sbgs[key].random !== undefined && _R.SLTR !== undefined ? _R.convertSlideAnimVals(jQuery.extend(true, {}, _R.getSlideAnim_EmptyObject(), _R.getAnimObjectByKey(_R.getRandomSlideTrans(_R[id].sbgs[key].random.rndmain, _R[id].sbgs[key].random.rndgrp, _R.SLTR), _R.SLTR))) :\r\n\t\t\t\t_R[id].sbgs[key].altLen > 0 && _R.SLTR !== undefined ? _R.convertSlideAnimVals(jQuery.extend(true, { altAnim: _R[id].sbgs[key].alt[_R[id].sbgs[key].altIndex] }, _R.getSlideAnim_EmptyObject(), _R.getAnimObjectByKey(_R[id].sbgs[key].alt[_R[id].sbgs[key].altIndex], _R.SLTR))) :\r\n\t\t\t\t_R[id].sbgs[key].slideanimation;\r\n\r\n\r\n\t\t\t// Alternate the Animations\r\n\t\t\tif (_R[id].sbgs[key].altLen > 0) {\r\n\t\t\t\tif (_R[id].sbgs[key].firstSlideAnimDone !== undefined) {\r\n\t\t\t\t\t_R[id].sbgs[key].altIndex++;\r\n\t\t\t\t\t_R[id].sbgs[key].altIndex = _R[id].sbgs[key].altIndex >= _R[id].sbgs[key].altLen ? 0 : _R[id].sbgs[key].altIndex;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_R[id].sbgs[key].firstSlideAnimDone = true;\r\n\t\t\t\t\tif (_R.SLTR === undefined && _R.SLTR_loading === undefined) _R.loadSlideAnimLibrary(id);\r\n\t\t\t\t\t//Loop back to and to the first anim\r\n\t\t\t\t\t_R[id].sbgs[key].alt.push('default_first_anim');\r\n\t\t\t\t\t_R[id].sbgs[key].altLen++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t_R[id].sbgs[key].currentState = \"animating\";\r\n\t\t\t_R.animateSlide(id, _R[id].sbgs[key].slideanimation);\r\n\t\t\tif (_R[id].firstSlideAnimDone === undefined && _R[id].fanim !== undefined && _R[id].fanim !== false) _R[id].sbgs[key].slideanimationRebuild = true;\r\n\t\t\t_R[id].firstSlideAnimDone = true;\r\n\r\n\t\t\tif (_R[id].pr_next_bg.data('panzoom') !== undefined) {\r\n\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\tvar key = _R.gA(_R[id].pr_next_slide[0], 'key');\r\n\t\t\t\t\t_R.startPanZoom(_R[id].pr_next_bg, id, 0, _R.getSlideIndex(id, key), 'first', key);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// SHOW FIRST LI && ANIMATE THE CAPTIONS\r\n\t\t\t_R[id].mtl.pause();\r\n\t\t}\r\n\r\n\t\tif (_R.animateTheLayers) {\r\n\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\tif (_R[id].carousel.showLayersAllTime !== false) {\r\n\t\t\t\t\tif (!_R[id].carousel.allLayersStarted)\r\n\t\t\t\t\t\t_R.animateTheLayers({ slide: \"individual\", id: id, mode: \"start\", caller: \"swapSlideProgress_4\" });\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t_R.animateTheLayers({ slide: \"individual\", id: id, mode: \"rebuild\", caller: \"swapSlideProgress_5\" });\r\n\r\n\t\t\t\t\t// ADJUST ROWS IN ALL SLIDES WHEN CAROUSEL AND ALL LAYERS STARTED SET\r\n\t\t\t\t\tif (_R[id].carousel.allLayersStarted==undefined) {\r\n\t\t\t\t\t\t_R.updateCarouselRows(id);\r\n\t\t\t\t\t\t_R[id].carousel.allLayersStarted = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (_R[id].firststart !== 0) _R.animateTheLayers({ slide: 0, id: id, mode: \"start\", caller: \"swapSlideProgress_6\" });\r\n\t\t\t\telse\r\n\t\t\t\tif (ignoreLayerAnimation !== true) _R.animateTheLayers({ slide: (_R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key), id: id, mode: \"start\", caller: \"swapSlideProgress_7\" });\r\n\t\t\t\t_R[id].firststart = 0;\r\n\r\n\t\t\t} else\r\n\t\t\t\t_R.animateTheLayers({ slide: (_R[id].pr_next_key !== undefined ? _R[id].pr_next_key : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key), id: id, mode: \"start\", caller: \"swapSlideProgress_8\" });\r\n\t\t} else\r\n\t\tif (_R[id].mtl != undefined) setTimeout(function() { _R[id].mtl.resume(); }, 18);\r\n\r\n\t\tif (_R[id].sliderType !== \"carousel\"){\r\n\t\t\t// with scwDur, slide change duration can be changed from addon\r\n\t\t\t_R[id].scwDur = 0.001;\r\n\t\t\tif(Array.isArray(_R[id].scwCallback) && _R[id].scwCallback.length > 0){\r\n\t\t\t\t_R[id].scwDone = false;\r\n\t\t\t\t_R[id].scwCount = _R[id].scwCallback.length;\r\n\t\t\t\tfor(var i = 0; i < _R[id].scwCallback.length; i++){\r\n\t\t\t\t\t_R[id].scwCallback[i]();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// IF callback fails to execute within 2 seconds then then force change slide\r\n\t\t\t\t// Update scwDur from addon so addon will update custom duration\r\n\t\t\t\t_R[id].scwTimeout = tpGS.gsap.delayedCall(2, function name() {\r\n\t\t\t\t\tif(_R[id].scwCount > 0) {\r\n\t\t\t\t\t\tif(_R[id].scwTween && typeof _R[id].scwTween.kill === 'function'){\r\n\t\t\t\t\t\t\t_R[id].scwTween.kill();\r\n\t\t\t\t\t\t\t_R[id].scwTween = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_R[id].scwTween = tpGS.gsap.to(_R[id].pr_next_slide, { duration: _R[id].scwDur, autoAlpha: 1});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\ttpGS.gsap.to(_R[id].pr_next_slide, { duration: _R[id].scwDur, autoAlpha: 1 });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t};\r\n\r\n\t//////////////////////////\r\n\t//\tMANAGE SLIDE LOOPS\t//\r\n\t//////////////////////////\r\n\tvar manageSlideLoop = function(id) {\r\n\r\n\t\tif (_R[id] === undefined) return;\r\n\t\t_R[id].sloops = _R[id].sloops === undefined ? {} : _R[id].sloops;\r\n\r\n\t\tvar key = _R.gA(_R[id].slides[_R[id].pr_active_key], \"key\"),\r\n\t\t\t_ = _R[id].sloops[key];\r\n\t\tif (_ === undefined) {\r\n\t\t\t_ = { s: 2500, e: 4500, r: 'unlimited' };\r\n\t\t\tvar s = _R.gA(_R[id].slides[_R[id].pr_active_key], \"sloop\").split(\";\");\r\n\t\t\tfor (var i in s) {\r\n\t\t\t\tif (!s.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar tmp = s[i].split(\":\");\r\n\t\t\t\tswitch (tmp[0]) {\r\n\t\t\t\t\tcase \"s\":\r\n\t\t\t\t\t\t_.s = parseInt(tmp[1], 0) / 1000;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"e\":\r\n\t\t\t\t\t\t_.e = parseInt(tmp[1], 0) / 1000;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t_.r = tmp[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_.r = _.r === \"unlimited\" ? -1 : parseInt(_.r, 0);\r\n\t\t\t_R[id].sloops[key] = _;\r\n\t\t\t_.key = key;\r\n\t\t}\r\n\t\t_.ct = { time: _.s };\r\n\t\t_.tl = tpGS.gsap.timeline({});\r\n\r\n\t\t_.timer = tpGS.gsap.fromTo(_.ct, (_.e - _.s), { time: _.s }, {\r\n\t\t\ttime: _.e,\r\n\t\t\tease: \"none\",\r\n\t\t\tonRepeat: function() {\r\n\t\t\t\tfor (var li in _R[id].layers[_.key])\r\n\t\t\t\t\tif (_R[id].layers[_.key].hasOwnProperty(li)) _R[id]._L[li].timeline.play(_.s);\r\n\t\t\t\tvar bt = _R[id].progressC;\r\n\t\t\t\tif (bt !== undefined && bt[0] !== undefined && bt[0].tween !== undefined) bt[0].tween.time(_.s);\r\n\t\t\t},\r\n\t\t\tonUpdate: function() {},\r\n\t\t\tonComplete: function() {\r\n\r\n\t\t\t}\r\n\t\t}).repeat(_.r);\r\n\t\t_.tl.add(_.timer, _.s);\r\n\t\t//Overjump the Offset due the Slide Animation Time for First Start !\r\n\t\t_.tl.time(_R[id].mtldiff);\r\n\t};\r\n\r\n\t//////////////////////////////////////////\r\n\t//\tGIVE FREE THE TRANSITIOSN\t\t\t//\r\n\t//////////////////////////////////////////\r\n\tvar letItFree = function(id) {\r\n\t\tif (_R[id] === undefined) return;\r\n\t\tif (_R.RS_swapList[id] !== \"done\") {\r\n\t\t\t_R.RS_swapList[id] = \"done\";\r\n\t\t\tvar ind = jQuery.inArray(id, _R.RS_swapping);\r\n\t\t\t_R.RS_swapping.splice(ind, 1);\r\n\t\t}\r\n\r\n\t\tif (_R[id].firstSlideAvailable === undefined) {\r\n\t\t\t_R[id].firstSlideAvailable = true;\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\tif (_R[id].sliderType !== \"hero\" && _R.createNavigation && _R[id].navigation.use && _R[id].navigation.createNavigationDone !== true) _R.createNavigation(id);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\ttpGS.gsap.to(_R[id].carousel.wrap, 1, { opacity: 1 });\r\n\t\t\t// CAROUSEL SLIDER\r\n\t\t}\r\n\r\n\t\t_R[id].pr_active_key = _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key;\r\n\t\tdelete _R[id].pr_processing_key;\r\n\r\n\t\tif (_R[id].parallax.type == \"scroll\" || _R[id].parallax.type == \"scroll+mouse\" || _R[id].parallax.type == \"mouse+scroll\") {\r\n\t\t\t_R[id].lastscrolltop = -999;\r\n\t\t\t_R.generalObserver(_R.ISM);\r\n\t\t}\r\n\t\t_R[id].mtldiff = _R[id].mtl.time();\r\n\t\tdelete _R[id].mtl;\r\n\r\n\t\tif (_R[id].pr_active_key === undefined) return;\r\n\t\tif (_R.gA(_R[id].slides[_R[id].pr_active_key], \"sloop\") !== undefined) manageSlideLoop(id);\r\n\r\n\t\t// RECORD CURRENT ACTIVE SLIDE GLOBAL, LOCAL\r\n\t\t_R.sA(_R[id].slides[_R[id].activeRSSlide], 'isactiveslide', false);\r\n\t\t_R[id].activeRSSlide = _R[id].pr_active_key;\r\n\t\t_R.sA(_R[id].slides[_R[id].activeRSSlide], 'isactiveslide', true);\r\n\r\n\t\tvar activeKey = _R.gA(_R[id].slides[_R[id].pr_active_key], \"key\"),\r\n\t\t\tprevKey = _R.gA(_R[id].slides[_R[id].pr_lastshown_key], \"key\");\r\n\r\n\t\t_R.sA(_R[id].c[0], \"slideactive\", activeKey);\r\n\r\n\t\tif (prevKey !== undefined && _R[id].panzoomTLs !== undefined && _R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)] !== undefined) {\r\n\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)].timeScale(3);\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)].reverse();\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, prevKey)].pause();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// CHECK IF THIS REALLY NEEDED !?\r\n\t\tcheckPanzoom(id, activeKey);\r\n\r\n\r\n\t\t// TIRGGER THE ON CHANGE EVENTS\r\n\t\tvar data = {\r\n\t\t\tslider: id,\r\n\t\t\tslideIndex: parseInt(_R[id].pr_active_key, 0) + 1,\r\n\t\t\tslideLIIndex: _R[id].pr_active_key,\r\n\t\t\tslide: _R[id].pr_next_slide,\r\n\t\t\tcurrentslide: _R[id].pr_next_slide,\r\n\t\t\tprevSlideIndex: _R[id].pr_lastshown_key !== undefined ? parseInt(_R[id].pr_lastshown_key, 0) + 1 : false,\r\n\t\t\tprevSlideLIIndex: _R[id].pr_lastshown_key !== undefined ? parseInt(_R[id].pr_lastshown_key, 0) : false,\r\n\t\t\tprevSlide: _R[id].pr_lastshown_key !== undefined ? _R[id].slides[_R[id].pr_lastshown_key] : false\r\n\t\t};\r\n\t\t_R[id].c.trigger('revolution.slide.onchange', data);\r\n\t\t_R[id].c.trigger('revolution.slide.onafterswap', data);\r\n\r\n\t\tif((\"\"+_R[id].pr_lastshown_key !== \"\"+_R[id].pr_active_key) && _R[id].sliderType !== \"carousel\") tpGS.gsap.set(data.prevSlide, {display: 'none', delay: 0.01});\r\n\r\n\t\t//Need to update the current HASH Tag ?\r\n\t\tif (_R[id].deepLinkListener || _R[id].enableDeeplinkHash) {\r\n\t\t\tvar dlink = _R.gA(_R[id].slides[_R[id].pr_active_key], \"deeplink\");\r\n\t\t\tif (dlink !== undefined && dlink.length > 0) {\r\n\t\t\t\t_R[id].ignoreDeeplinkChange = true;\r\n\t\t\t\twindow.location.hash = _R.gA(_R[id].slides[_R[id].pr_active_key], \"deeplink\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t\t_R[id].pr_lastshown_key = _R[id].pr_active_key;\r\n\r\n\t\tif (_R[id].startWithSlide !== undefined && _R[id].startWithSlide !== \"done\" && _R[id].sliderType === \"carousel\") _R[id].firststart = 0;\r\n\r\n\t\t_R[id].duringslidechange = false;\r\n\t\tif (_R[id].pr_active_slide.length > 0 && _R.gA(_R[id].pr_active_slide[0], \"hal\") != 0 && _R.gA(_R[id].pr_active_slide[0], \"hal\") <= _R.gA(_R[id].pr_active_slide[0], \"sofacounter\")) _R[id].c.revremoveslide(_R[id].pr_active_slide.index());\r\n\r\n\r\n\t\tvar _actli = _R[id].pr_processing_key || _R[id].pr_active_key || 0;\r\n\t\tif (_R[id].rowzones != undefined) _actli = _actli > _R[id].rowzones.length ? _R[id].rowzones.length : _actli;\r\n\r\n\t\tif ((_R[id].rowzones != undefined && _R[id].rowzones.length > 0 && _R[id].rowzones[_actli] != undefined && _actli >= 0 && _actli <= _R[id].rowzones.length && _R[id].rowzones[_actli].length > 0) || _R.winH < _R[id].module.height) _R.updateDims(id);\r\n\r\n\t\t//delete _R[id].sc_indicator;\r\n\t\t//delete _R[id].sc_indicator_dir;\r\n\t\tif (_R[id].firstLetItFree === undefined) {\r\n\t\t\t_R.generalObserver(_R.ISM);\r\n\t\t\t_R[id].firstLetItFree = true;\r\n\t\t}\r\n\r\n\t\t_R[id].skipAttachDetach = false;\r\n\r\n\t};\r\n\r\n\t// checks if bg image is loaded because in modals loadobj might be empty\r\n\tvar checkPanzoom = function(id, activeKey){\r\n\t\tif(_R[id].sbgs[activeKey]!==undefined && !_R[id].sbgs[activeKey].loadobj.img){\r\n\t\t\ttpGS.gsap.delayedCall(0.1, function(){ checkPanzoom(id, activeKey); });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (_R[id].pr_next_bg.data('panzoom') !== undefined) {\r\n\t\t\tif (_R[id].panzoomTLs !== undefined && _R[id].panzoomTLs[_R.getSlideIndex(id, activeKey)] !== undefined) {\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, activeKey)].timeScale(1);\r\n\t\t\t\t_R[id].panzoomTLs[_R.getSlideIndex(id, activeKey)].play();\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_R.startPanZoom(_R[id].pr_next_bg, id, 0, _R.getSlideIndex(id, activeKey), 'play', activeKey);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\t///////////////////////////\r\n\t//\tREMOVE THE LISTENERS //\r\n\t///////////////////////////\r\n\tvar removeAllListeners = function(id) {\r\n\t\t_R[id].c.children().each(function() {\r\n\t\t\ttry { jQuery(this).die('click'); } catch (e) {}\r\n\t\t\ttry { jQuery(this).die('mouseenter'); } catch (e) {}\r\n\t\t\ttry { jQuery(this).die('mouseleave'); } catch (e) {}\r\n\t\t\ttry { jQuery(this).off('hover'); } catch (e) {}\r\n\t\t});\r\n\t\ttry { _R[id].c.die('click', 'mouseenter', 'mouseleave'); } catch (e) {}\r\n\t\tclearInterval(_R[id].cdint);\r\n\t\t_R[id].c = null;\r\n\t};\r\n\r\n\r\n\t///////////////////////////\r\n\t// BUILD THE PROGRESSBAR //\r\n\t///////////////////////////\r\n\tvar buildProgressBar = function(id) {\r\n\t\tvar p = _R[id].progressBar;\r\n\t\t// BUILD 1 TIME THE CONTAINERS\r\n\t\tif (_R[id].progressC === undefined || _R[id].progressC.length == 0) {\r\n\t\t\t_R[id].progressC = jQuery('<rs-progress style=\"visibility:hidden;\"></rs-progress>');\r\n\t\t\tif (p.style === \"horizontal\" || p.style === \"vertical\") {\r\n\t\t\t\t// ALL SLIDES\r\n\t\t\t\tif (p.basedon === \"module\") {\r\n\t\t\t\t\tvar cntx = \"\";\r\n\t\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++) cntx += '<rs-progress-bar></rs-progress-bar>';\r\n\t\t\t\t\tcntx += '<rs-progress-bgs>';\r\n\t\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++) cntx += '<rs-progress-bg></rs-progress-bg>';\r\n\t\t\t\t\tcntx += '</rs-progress-bgs>';\r\n\t\t\t\t\tif (p.gaptype !== \"nogap\")\r\n\t\t\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++) cntx += '<rs-progress-gap></rs-progress-gap>';\r\n\t\t\t\t\t_R[id].progressC[0].innerHTML = cntx;\r\n\t\t\t\t\tif (_R[id].noDetach === true) _R[id].c.append(_R[id].progressC);\r\n\t\t\t\t\t_R[id].progressCBarBGS = _R.getByTag(_R[id].progressC[0], 'RS-PROGRESS-BG');\r\n\t\t\t\t\t_R[id].progressCBarGAPS = _R.getByTag(_R[id].progressC[0], 'RS-PROGRESS-GAP');\r\n\t\t\t\t\tif (p.gaptype !== \"nogap\") tpGS.gsap.set(_R[id].progressCBarGAPS, { backgroundColor: p.gapcolor, zIndex: p.gaptype === \"gapbg\" ? 17 : 27 });\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarBGS, { backgroundColor: p.bgcolor });\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_R[id].progressC[0].innerHTML = '<rs-progress-bar></rs-progress-bar>';\r\n\t\t\t\t\tif (_R[id].noDetach === true) _R[id].c.append(_R[id].progressC);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_R[id].progressCBarInner = _R.getByTag(_R[id].progressC[0], 'RS-PROGRESS-BAR');\r\n\t\t\t\ttpGS.gsap.set(_R[id].progressCBarInner, { background: p.color });\r\n\t\t\t} else {\r\n\t\t\t\t// SINGLE SLIDE\r\n\t\t\t\t_R[id].progressC[0].innerHTML = '<canvas width=\"' + p.radius * 2 + '\" height=\"' + p.radius * 2 + '\" style=\"position:absolute\" class=\"rs-progress-bar\"></canvas>';\r\n\t\t\t\tif (_R[id].noDetach === true) _R[id].c.append(_R[id].progressC);\r\n\t\t\t\t_R[id].progressCBarInner = _R[id].progressC[0].getElementsByClassName('rs-progress-bar')[0];\r\n\t\t\t\t_R[id].progressBCanvas = _R[id].progressCBarInner.getContext('2d');\r\n\t\t\t\t_R[id].progressBar.degree = (_R[id].progressBar.style === \"cw\" ? 360 : 0);\r\n\t\t\t\tdrawCWCCW(id);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// REMOVE AND STLYE, RESIZE RPGORESS CONTAINERS\r\n\t\tif (_R[id].noDetach !== true) _R[id].progressC.detach();\r\n\t\tif (_R[id].progressBar.visibility[_R[id].level] && _R[id].progressBar.disableProgressBar != true) {\r\n\t\t\t// SIZING OF GAPS, BGS, PROGRESS\r\n\t\t\tif (p.style === \"horizontal\" || p.style === \"vertical\") {\r\n\t\t\t\tvar GAP = _R[id].slideamount - 1,\r\n\t\t\t\t\tWNG, WWG;\r\n\t\t\t\tif (p.style === \"horizontal\") {\r\n\t\t\t\t\tvar WNGcalc = (p.alignby === \"grid\" ? _R[id].gridwidth[_R[id].level] : _R[id].module.width);\r\n\t\t\t\t\tWNG = Math.ceil(WNGcalc / _R[id].slideamount),\r\n\t\t\t\t\t\tWWG = Math.ceil(((WNGcalc - (GAP * p.gapsize)) / _R[id].slideamount));\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressC, {\r\n\t\t\t\t\t\tvisibility: \"visible\",\r\n\t\t\t\t\t\ttop: p.vertical === \"top\" ? p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0) : p.vertical === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\t\tbottom: p.vertical === \"top\" || p.vertical === \"center\" ? \"auto\" : p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0),\r\n\t\t\t\t\t\tleft: p.horizontal === \"left\" ? p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\tright: p.horizontal === \"right\" ? p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\ty: p.vertical === \"center\" ? p.y : 0,\r\n\t\t\t\t\t\theight: p.size,\r\n\t\t\t\t\t\tbackgroundColor: p.basedon === \"module\" ? \"transparent\" : p.bgcolor,\r\n\t\t\t\t\t\tmarginTop: p.vertical === \"bottom\" ? 0 : p.vertical === \"top\" ? 0 : parseInt(p.size, 0) / 2,\r\n\t\t\t\t\t\twidth: p.alignby === \"grid\" ? _R[id].gridwidth[_R[id].level] : \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarInner, {\r\n\t\t\t\t\t\tx: p.basedon === \"module\" ? p.gap ? function(index) { return (p.horizontal === \"right\" ? GAP - index : index) * (WWG + p.gapsize) } : function(index) { return (p.horizontal === \"right\" ? GAP - index : index) * WNG } : 0,\r\n\t\t\t\t\t\twidth: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (p.basedon === \"module\") {\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarBGS, {\r\n\t\t\t\t\t\t\tx: p.basedon === \"module\" ? p.gap ? function(index) { return index * (WWG + p.gapsize) } : function(index) { return index * WNG } : 0,\r\n\t\t\t\t\t\t\twidth: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarGAPS, {\r\n\t\t\t\t\t\t\twidth: p.gap ? p.gapsize + \"px\" : 0,\r\n\t\t\t\t\t\t\tx: p.gap ? function(index) { return (index + 1) * (WWG) + (parseInt(p.gapsize, 0) * index) } : 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\tif (p.style === \"vertical\") {\r\n\t\t\t\t\tvar WNGcalc = (p.alignby === \"grid\" ? _R[id].gridheight[_R[id].level] : _R[id].module.height);\r\n\t\t\t\t\tWNG = Math.ceil(WNGcalc / _R[id].slideamount),\r\n\t\t\t\t\t\tWWG = Math.ceil(((WNGcalc - (GAP * p.gapsize)) / _R[id].slideamount));\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressC, {\r\n\t\t\t\t\t\tvisibility: \"visible\",\r\n\t\t\t\t\t\tleft: p.horizontal === \"left\" ? p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0) : p.horizontal === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\t\tright: p.horizontal === \"left\" || p.horizontal === \"center\" ? \"auto\" : p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0),\r\n\t\t\t\t\t\tx: p.horizontal === \"center\" ? p.x : 0,\r\n\t\t\t\t\t\ttop: p.vertical === \"top\" ? p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(_R[id].gridOffsetHeight, 0) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\tbottom: p.vertical === \"bottom\" ? p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(_R[id].gridOffsetHeight, 0) : \"auto\" : \"auto\",\r\n\t\t\t\t\t\twidth: p.size,\r\n\t\t\t\t\t\tmarginLeft: p.horizontal === \"left\" ? 0 : p.horizontal === \"right\" ? 0 : parseInt(p.size, 0) / 2,\r\n\t\t\t\t\t\tbackgroundColor: p.basedon === \"module\" ? \"transparent\" : p.bgcolor,\r\n\t\t\t\t\t\theight: p.alignby === \"grid\" ? _R[id].gridheight[_R[id].level] : \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarInner, {\r\n\t\t\t\t\t\ty: p.basedon === \"module\" ? p.gap ? function(index) { return (p.vertical === \"bottom\" ? GAP - index : index) * (WWG + p.gapsize) } : function(index) { return (p.vertical === \"bottom\" ? GAP - index : index) * WNG } : 0,\r\n\t\t\t\t\t\theight: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (p.basedon === \"module\") {\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarBGS, {\r\n\t\t\t\t\t\t\ty: p.basedon === \"module\" ? p.gap ? function(index) { return index * (WWG + p.gapsize) } : function(index) { return index * WNG } : 0,\r\n\t\t\t\t\t\t\theight: p.basedon === \"module\" ? p.gap ? WWG + \"px\" : 100 / _R[id].slideamount + \"%\" : \"100%\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].progressCBarGAPS, {\r\n\t\t\t\t\t\t\theight: p.gap ? p.gapsize + \"px\" : 0,\r\n\t\t\t\t\t\t\ty: p.gap ? function(index) { return (index + 1) * (WWG) + (parseInt(p.gapsize, 0) * index) } : 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttpGS.gsap.set(_R[id].progressC, {\r\n\t\t\t\t\ttop: p.vertical === \"top\" ? p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0) : p.vertical === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\tbottom: p.vertical === \"top\" || p.vertical === \"center\" ? \"auto\" : p.y + (p.alignby === \"grid\" && _R[id].gridOffsetHeight !== undefined ? Math.max(0, _R[id].gridOffsetHeight) : 0),\r\n\t\t\t\t\tleft: p.horizontal === \"left\" ? p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0) : p.horizontal === \"center\" ? \"50%\" : \"auto\",\r\n\t\t\t\t\tright: p.horizontal === \"left\" || p.horizontal === \"center\" ? \"auto\" : p.x + (p.alignby === \"grid\" && _R[id].gridOffsetWidth !== undefined ? Math.max(0, _R[id].gridOffsetWidth) : 0),\r\n\t\t\t\t\ty: p.vertical === \"center\" ? p.y : 0,\r\n\t\t\t\t\tx: p.horizontal === \"center\" ? p.x : 0,\r\n\t\t\t\t\twidth: p.radius * 2,\r\n\t\t\t\t\theight: p.radius * 2,\r\n\t\t\t\t\tmarginTop: p.vertical === \"center\" ? 0 - p.radius : 0,\r\n\t\t\t\t\tmarginLeft: p.horizontal === \"center\" ? 0 - p.radius : 0,\r\n\t\t\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\t\t\tvisibility: \"visible\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else _R[id].progressC[0].style.visibility = 'hidden';\r\n\r\n\t\t// APPEND PROGRES BACK TO THE SLIDER\r\n\t\tif (_R[id].noDetach !== true) _R[id].c.append(_R[id].progressC);\r\n\r\n\t\tif (_R[id].gridOffsetWidth === undefined && p.alignby === \"grid\") _R[id].rebuildProgressBar = true;\r\n\t\telse _R[id].rebuildProgressBar = false;\r\n\r\n\r\n\t}\r\n\r\n\tvar drawCWCCW = function(id) {\r\n\r\n\t\tvar p = _R[id].progressBar;\r\n\t\tif (p.radius - parseInt(p.size, 0) <= 0) p.size = p.radius / 4;\r\n\t\tvar posX = parseInt(p.radius),\r\n\t\t\tposY = parseInt(p.radius);\r\n\r\n\t\t_R[id].progressBCanvas.lineCap = 'round';\r\n\t\t_R[id].progressBCanvas.clearRect(0, 0, p.radius * 2, p.radius * 2);\r\n\r\n\t\t_R[id].progressBCanvas.beginPath();\r\n\t\t_R[id].progressBCanvas.arc(posX, posY, p.radius - parseInt(p.size, 0), (Math.PI / 180) * 270, (Math.PI / 180) * (270 + 360));\r\n\t\t_R[id].progressBCanvas.strokeStyle = p.bgcolor;\r\n\t\t_R[id].progressBCanvas.lineWidth = parseInt(p.size, 0) - 1;\r\n\t\t_R[id].progressBCanvas.stroke();\r\n\r\n\t\t_R[id].progressBCanvas.beginPath();\r\n\t\t_R[id].progressBCanvas.strokeStyle = p.color;\r\n\t\t_R[id].progressBCanvas.lineWidth = parseInt(p.size, 0);\r\n\t\t_R[id].progressBCanvas.arc(posX, posY, p.radius - parseInt(p.size, 0), (Math.PI / 180) * 270, (Math.PI / 180) * (270 + _R[id].progressBar.degree), p.style !== \"cw\");\r\n\t\t_R[id].progressBCanvas.stroke();\r\n\t}\r\n\r\n\tvar animateProgressBar = function(id) {\r\n\t\tvar countDownNext = function() {\r\n\t\t\tif (id === undefined || _R === undefined || _R[id] === undefined) return;\r\n\t\t\tif (jQuery('body').find(_R[id].c).length == 0 || _R[id] === null || _R[id].c === null || _R[id].c === undefined || _R[id].length === 0) {\r\n\t\t\t\tremoveAllListeners(id);\r\n\t\t\t\tclearInterval(_R[id].cdint);\r\n\t\t\t} else {\r\n\t\t\t\t_R[id].c.trigger(\"revolution.slide.slideatend\");\r\n\t\t\t\t//STATE OF API CHANGED -> MOVE TO AIP BETTER\r\n\t\t\t\tif (_R[id].c.data('conthoverchanged') == 1) {\r\n\t\t\t\t\t_R[id].conthover = _R[id].c.data('conthover');\r\n\t\t\t\t\t_R[id].c.data('conthoverchanged', 0);\r\n\t\t\t\t}\r\n\t\t\t\t_R.callingNewSlide(id, 1, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar tl = tpGS.gsap.timeline({ paused: true }),\r\n\t\t\tresett = _R[id].progressBar.reset === \"reset\" || _R[id].progressBar.notnew === undefined ? 0 : 0.2,\r\n\t\t\tnsl = _R[id].progressBar.basedon === \"slide\" ? 0 : _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key;\r\n\t\tnsl = nsl === undefined ? 0 : nsl;\r\n\r\n\t\tif (_R[id].progressBar.style === \"horizontal\") {\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], resett, { scaleX: 0, transformOrigin: (_R[id].progressBar.horizontal === \"right\" ? \"100% 50%\" : \"0% 50%\") }));\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], _R[id].duration / 1000, { transformOrigin: (_R[id].progressBar.horizontal === \"right\" ? \"100% 50%\" : \"0% 50%\"), force3D: \"auto\", scaleX: 1, onComplete: countDownNext, delay: 0.5, ease: _R[id].progressBar.ease }));\r\n\t\t\tif (_R[id].progressBar.basedon === \"module\")\r\n\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++)\r\n\t\t\t\t\tif (i !== nsl) tl.add(tpGS.gsap.set(_R[id].progressCBarInner[i], { scaleX: (i < nsl ? 1 : 0), transformOrigin: (_R[id].progressBar.horizontal === \"right\" ? \"100% 50%\" : \"0% 50%\") }), 0)\r\n\t\t} else\r\n\t\tif (_R[id].progressBar.style === \"vertical\") {\r\n\t\t\tif (_R[id].progressCBarInner[nsl] !== undefined) tl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], resett, { scaleY: 0, transformOrigin: (_R[id].progressBar.vertical === \"bottom\" ? \"50% 100%\" : \"50% 0%\") }));\r\n\t\t\tif (_R[id].progressCBarInner[nsl] !== undefined) tl.add(tpGS.gsap.to(_R[id].progressCBarInner[nsl], _R[id].duration / 1000, { transformOrigin: (_R[id].progressBar.vertical === \"bottom\" ? \"50% 100%\" : \"50% 0%\"), force3D: \"auto\", scaleY: 1, onComplete: countDownNext, delay: 0.5, ease: _R[id].progressBar.ease }));\r\n\t\t\tif (_R[id].progressBar.basedon === \"module\")\r\n\t\t\t\tfor (var i = 0; i < _R[id].slideamount; i++)\r\n\t\t\t\t\tif (i !== nsl && _R[id].progressCBarInner[i] !== undefined) tl.add(tpGS.gsap.set(_R[id].progressCBarInner[i], { scaleY: (i < nsl ? 1 : 0), transformOrigin: (_R[id].progressBar.vertical === \"botton\" ? \"50% 100%\" : \"50% 0%\") }), 0)\r\n\t\t} else {\r\n\t\t\tvar midgr = _R[id].progressBar.basedon === \"slide\" ? 0 : Math.max(0, (360 / _R[id].slideamount) * (nsl)),\r\n\t\t\t\tmadgr = _R[id].progressBar.basedon === \"slide\" ? 360 : (360 / _R[id].slideamount) * (nsl + 1);\r\n\t\t\tif (_R[id].progressBar.style === \"ccw\" && _R[id].progressBar.basedon !== 'slide') {\r\n\t\t\t\tmidgr = 360 - madgr;\r\n\t\t\t\tmadgr = 360 - ((360 / _R[id].slideamount) * (nsl));\r\n\t\t\t}\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressBar, resett, { degree: (_R[id].progressBar.style === \"cw\" ? midgr : madgr), onUpdate: function() { drawCWCCW(id); } }));\r\n\t\t\ttl.add(tpGS.gsap.to(_R[id].progressBar, _R[id].duration / 1000, { degree: (_R[id].progressBar.style === \"cw\" ? madgr : midgr), onUpdate: function() { drawCWCCW(id); }, onComplete: countDownNext, delay: 0.5, ease: _R[id].progressBar.ease }));\r\n\t\t\t//drawCWCCW(id,)\r\n\t\t}\r\n\t\t_R[id].progressBar.notnew = true;\r\n\t\treturn tl;\r\n\t}\r\n\r\n\r\n\t///////////////////////////\r\n\t//\t-\tcountDown\t-\t//\r\n\t/////////////////////////\r\n\tvar countDown = function(id) {\r\n\t\tif (_R[id].progressC == undefined) buildProgressBar(id);\r\n\t\t_R[id].loop = 0;\r\n\t\tif (_R[id].stopAtSlide != undefined && _R[id].stopAtSlide > -1)\r\n\t\t\t_R[id].lastslidetoshow = _R[id].stopAtSlide;\r\n\t\telse\r\n\t\t\t_R[id].lastslidetoshow = 999;\r\n\r\n\t\t_R[id].stopLoop = false;\r\n\r\n\t\tif (_R[id].looptogo == 0) _R[id].stopLoop = true;\r\n\r\n\t\t// LISTENERS  //container.trigger('stoptimer');\r\n\t\t_R[id].c.on('stoptimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined) return;\r\n\t\t\t_R[id].progressC[0].tween.pause();\r\n\t\t\tif (_R[id].progressBar.disableProgressBar) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\t_R[id].sliderstatus = \"paused\";\r\n\t\t\tif (!_R[id].slideInSwapTimer) _R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t_R[id].slideInSwapTimer = false;\r\n\t\t});\r\n\r\n\r\n\t\t_R[id].c.on('starttimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined) return;\r\n\t\t\tif (_R[id].forcepaused) return;\r\n\t\t\tif (_R[id].conthover != 1 && _R[id].stopByVideo != true && _R[id].module.width > _R[id].hideSliderAtLimit && _R[id].tonpause != true && _R[id].overnav != true && _R[id].ssop != true) {\r\n\t\t\t\tif (_R[id].noloopanymore !== 1 && (!_R[id].viewPort.enable || _R[id].inviewport)) {\r\n\t\t\t\t\tif (!_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"visible\";\r\n\t\t\t\t\t_R[id].progressC[0].tween.resume();\r\n\t\t\t\t\t_R[id].sliderstatus = \"playing\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (_R[id].progressBar.disableProgressBar || !_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t});\r\n\r\n\r\n\t\t_R[id].c.on('restarttimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined) return;\r\n\t\t\tif (_R[id].forcepaused) return;\r\n\t\t\tif (_R[id].mouseoncontainer && _R[id].navigation.onHoverStop == \"on\" && (!_R.ISM)) return false;\r\n\t\t\tif (_R[id].noloopanymore !== 1 && (!_R[id].viewPort.enable || _R[id].inviewport) && _R[id].ssop != true) {\r\n\t\t\t\tif (!_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"visible\";\r\n\t\t\t\tif (_R[id].progressC[0].tween !== undefined) _R[id].progressC[0].tween.kill();\r\n\t\t\t\t_R[id].progressC[0].tween = animateProgressBar(id);\r\n\t\t\t\t_R[id].progressC[0].tween.play();\r\n\t\t\t\t_R[id].sliderstatus = \"playing\";\r\n\t\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t\t} else {\r\n\t\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t}\r\n\t\t\tif (_R[id].progressBar.disableProgressBar || !_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\tif (_R[id].mouseoncontainer && _R[id].navigation.onHoverStop == true && (!_R.ISM)) {\r\n\t\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onpause');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t_R[id].c.on('nulltimer', function() {\r\n\t\t\tif (_R[id].progressC == undefined || _R[id].progressC[0] === undefined) return;\r\n\t\t\tif (_R[id].progressC[0].tween !== undefined) _R[id].progressC[0].tween.kill();\r\n\t\t\t_R[id].progressC[0].tween = animateProgressBar(id);\r\n\t\t\t_R[id].progressC[0].tween.pause(0);\r\n\t\t\tif (_R[id].progressBar.disableProgressBar || !_R[id].progressBar.visibility[_R[id].level]) _R[id].progressC[0].style.visibility = \"hidden\";\r\n\t\t\t_R[id].sliderstatus = \"paused\";\r\n\t\t});\r\n\r\n\t\tif (_R[id].progressC !== undefined) _R[id].progressC[0].tween = animateProgressBar(id);\r\n\r\n\t\tif (_R[id].slideamount > 1 && !(_R[id].stopAfterLoops == 0 && _R[id].stopAtSlide == 1))\r\n\t\t\t_R[id].c.trigger(\"starttimer\");\r\n\t\telse {\r\n\t\t\t_R[id].noloopanymore = 1;\r\n\t\t\t_R[id].c.trigger(\"nulltimer\");\r\n\t\t}\r\n\r\n\t\t_R[id].c.on('tp-mouseenter', function() {\r\n\t\t\t_R[id].mouseoncontainer = true;\r\n\t\t\tif (_R[id].navigation.onHoverStop == true && (!_R.ISM)) {\r\n\t\t\t\t_R[id].c.trigger('stoptimer');\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onpause');\r\n\t\t\t}\r\n\t\t});\r\n\t\t_R[id].c.on('tp-mouseleft', function() {\r\n\t\t\t_R[id].mouseoncontainer = false;\r\n\t\t\tif (_R[id].c.data('conthover') != 1 && _R[id].navigation.onHoverStop == true && ((_R[id].viewPort.enable == true && _R[id].inviewport) || _R[id].viewPort.enable == false)) {\r\n\t\t\t\t_R[id].c.trigger('revolution.slide.onresume');\r\n\t\t\t\t_R[id].c.trigger('starttimer');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\t//////////////////////////////////////////////////////\r\n\t// * Revolution Slider - NEEDFULL FUNCTIONS\r\n\t// * @version: 1.0 (30.10.2014)\r\n\t// * @author ThemePunch\r\n\t//////////////////////////////////////////////////////\r\n\r\n\tvar restartOnFocus = function() {\r\n\t\tjQuery('.rev_redraw_on_blurfocus').each(function() {\r\n\t\t\tvar id = this.id;\r\n\t\t\tif (_R[id] == undefined || _R[id].c == undefined || _R[id].c.length === 0) return false;\r\n\t\t\tif (_R[id].windowfocused != true) {\r\n\t\t\t\t_R[id].windowfocused = true;\r\n\t\t\t\ttpGS.gsap.delayedCall(0.1, function() {\r\n\t\t\t\t\t// TAB IS ACTIVE, WE CAN START ANY PART OF THE SLIDER\r\n\t\t\t\t\tif (_R[id].fallbacks.nextSlideOnWindowFocus) _R[id].c.revnext();\r\n\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\tif (_R[id].lastsliderstatus == \"playing\") _R[id].c.revresume();\r\n\t\t\t\t\t_R[id].c.trigger('revolution.slide.tabfocused');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tvar lastStatBlur = function() {\r\n\t\tif (document.hasFocus()) return;\r\n\t\tjQuery('.rev_redraw_on_blurfocus').each(function(i) {\r\n\t\t\tvar id = this.id;\r\n\t\t\t_R[id].windowfocused = false;\r\n\t\t\t_R[id].lastsliderstatus = _R[id].sliderstatus;\r\n\t\t\t_R[id].c.revpause();\r\n\t\t\t_R[id].c.trigger('revolution.slide.tabblured');\r\n\t\t});\r\n\r\n\r\n\t};\r\n\r\n\tvar visibilityHandler = function(){\r\n\t\tjQuery('rs-module').each(function() {\r\n\t\t\tvar id = this.id;\r\n\t\t\tif(_R[id].inviewport || !_R[id].viewPort.enable){\r\n\t\t\t\tvar key = _R[id].pr_active_slide!==undefined &&  _R[id].pr_active_slide.data('key') !==undefined ? _R[id].pr_active_slide.data('key') : _R[id].pr_next_slide!==undefined && _R[id].pr_next_slide.data('key')!==undefined ?  _R[id].pr_next_slide.data('key') : undefined;\r\n\t\t\t\tif (key==undefined) return;\r\n\t\t\t\tif(_R[id].sbgs[key].bgvid.length > 0 && _R[id].videos[_R[id].sbgs[key].bgvid[0].id].loop){\r\n\t\t\t\t\tif (document.visibilityState === 'visible') {\r\n\t\t\t\t\t\t_R.playVideo(_R[id].sbgs[key].bgvid, id);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_R.stopVideo(_R[id].sbgs[key].bgvid, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar tabBlurringCheck = function() {\r\n\t\tvar notIE = (document.documentMode === undefined),\r\n\t\t\tisChromium = window.chrome;\r\n\r\n\t\tif (_R.revslider_focus_blur_listener === 1) return;\r\n\t\t_R.revslider_focus_blur_listener = 1;\r\n\t\tif (notIE && !isChromium) {\r\n\t\t\t// checks for Firefox and other  NON IE Chrome versions\r\n\t\t\t_R.window.on(\"focusin\", function() {\r\n\t\t\t\tif (_R.windowIsFocused !== true) restartOnFocus();\r\n\t\t\t\t_R.windowIsFocused = true;\r\n\t\t\t}).on(\"focusout\", function() {\r\n\t\t\t\tif (_R.windowIsFocused === true || _R.windowIsFocused === undefined) lastStatBlur();\r\n\t\t\t\t_R.windowIsFocused = false;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// checks for IE and Chromium versions\r\n\t\t\tif (window.addEventListener) {\r\n\t\t\t\t// bind focus event\r\n\t\t\t\twindow.addEventListener(\"focus\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused !== true) restartOnFocus();\r\n\t\t\t\t\t_R.windowIsFocused = true;\r\n\t\t\t\t}, { capture: false, passive: true });\r\n\t\t\t\t// bind blur event\r\n\t\t\t\twindow.addEventListener(\"blur\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused === true || _R.windowIsFocused === undefined) lastStatBlur();\r\n\t\t\t\t\t_R.windowIsFocused = false;\r\n\t\t\t\t}, { capture: false, passive: true });\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// bind focus event\r\n\t\t\t\twindow.attachEvent(\"focus\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused !== true) restartOnFocus();\r\n\t\t\t\t\t_R.windowIsFocused = true;\r\n\t\t\t\t});\r\n\t\t\t\t// bind focus event\r\n\t\t\t\twindow.attachEvent(\"blur\", function(event) {\r\n\t\t\t\t\tif (_R.windowIsFocused === true || _R.windowIsFocused === undefined) lastStatBlur();\r\n\t\t\t\t\t_R.windowIsFocused = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t// \t-\tGET THE URL PARAMETER //\r\n\r\n\tvar getUrlVars = function(hashdivider) {\r\n\t\tvar vars = [],\r\n\t\t\thash;\r\n\t\tvar hashes = window.location.href.slice(window.location.href.indexOf(hashdivider) + 1).split('_');\r\n\t\tfor (var i = 0; i < hashes.length; i++) {\r\n\t\t\thashes[i] = hashes[i].replace('%3D', \"=\");\r\n\t\t\thash = hashes[i].split('=');\r\n\t\t\tvars.push(hash[0]);\r\n\t\t\tvars[hash[0]] = hash[1];\r\n\t\t}\r\n\t\treturn vars;\r\n\t};\r\n\r\n\tvar checkBlockSpaces = function(id) {\r\n\t\tif (_R[id].blockSpacing !== undefined) {\r\n\t\t\tvar btemp = _R[id].blockSpacing.split(\";\");\r\n\t\t\t_R[id].blockSpacing = {};\r\n\t\t\tfor (var u in btemp) {\r\n\t\t\t\tif (!btemp.hasOwnProperty(u)) continue;\r\n\t\t\t\tvar s = btemp[u].split(\":\");\r\n\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.top = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.bottom = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.left = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t_R[id].blockSpacing.right = _R.revToResp(s[1], 4, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].blockSpacing.block = jQuery(_R.closestClass(_R[id].c[0], 'wp-block-themepunch-revslider'));\r\n\r\n\r\n\t\t\tif (_R[id].level !== undefined && _R[id].blockSpacing !== undefined) tpGS.gsap.set(_R[id].blockSpacing.block, {\r\n\t\t\t\tpaddingLeft: _R[id].blockSpacing.left[_R[id].level],\r\n\t\t\t\tpaddingRight: _R[id].blockSpacing.right[_R[id].level],\r\n\t\t\t\tmarginTop: _R[id].blockSpacing.top[_R[id].level],\r\n\t\t\t\tmarginBottom: _R[id].blockSpacing.bottom[_R[id].level]\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvar generalConverts = function(_) {\r\n\r\n\r\n\t\t_.minHeight = _.minHeight !== undefined ? _.minHeight === \"none\" || _.minHeight === \"0\" || _.minHeight === \"0px\" || _.minHeight == \"\" || _.minHeight == \" \" ? 0 : parseInt(_.minHeight, 0) : 0;\r\n\t\t_.maxHeight = _.maxHeight === \"none\" || _.maxHeight === \"0\" ? 0 : parseInt(_.maxHeight, 0);\r\n\t\t_.carousel.maxVisibleItems = _.carousel.maxVisibleItems < 1 ? 999 : _.carousel.maxVisibleItems;\r\n\t\t_.carousel.vertical_align = _.carousel.vertical_align === \"top\" ? \"0%\" : _.carousel.vertical_align === \"bottom\" ? \"100%\" : \"50%\";\r\n\t\t_.carousel.space = parseInt(_.carousel.space, 0);\r\n\t\t_.carousel.maxOpacity = parseInt(_.carousel.maxOpacity, 0);\r\n\t\t_.carousel.maxOpacity = _.carousel.maxOpacity > 1 ? _.carousel.maxOpacity / 100 : _.carousel.maxOpacity;\r\n\t\t_.carousel.showLayersAllTime = _.carousel.showLayersAllTime === \"true\" || _.carousel.showLayersAllTime === true ? \"all\" : _.carousel.showLayersAllTime;\r\n\t\t_.carousel.maxRotation = parseInt(_.carousel.maxRotation, 0);\r\n\t\t_.carousel.minScale = parseInt(_.carousel.minScale, 0);\r\n\t\t_.carousel.minScale = _.carousel.minScale > 0.9 ? _.carousel.minScale / 100 : _.carousel.minScale;\r\n\t\t_.carousel.speed = parseInt(_.carousel.speed, 0);\r\n\t\t_.carousel.skewX = parseFloat(_.carousel.skewX);\r\n\t\t_.carousel.skewY = parseFloat(_.carousel.skewY);\r\n\t\t_.carousel.spinAngle = parseFloat(_.carousel.spinAngle);\r\n\t\tif(_.carousel.spinAngle === 0) _.carousel.spinAngle = 1;\r\n\r\n\t\tif(_.carousel.orientation === 'v') _.carousel.justify = false;\r\n\t\t_.navigation.maintypes = [\"arrows\", \"tabs\", \"thumbnails\", \"bullets\"];\r\n\t\t_.perspective = parseInt(_.perspective, 0);\r\n\t\tfor (var i in _.navigation.maintypes) {\r\n\t\t\tif (!_.navigation.maintypes.hasOwnProperty((i))) continue;\r\n\t\t\tif (_.navigation[_.navigation.maintypes[i]] === undefined) continue;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animDelay = _.navigation[_.navigation.maintypes[i]].animDelay === undefined ? 1000 : _.navigation[_.navigation.maintypes[i]].animDelay;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animSpeed = _.navigation[_.navigation.maintypes[i]].animSpeed === undefined ? 1000 : _.navigation[_.navigation.maintypes[i]].animSpeed;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animDelay = parseInt(_.navigation[_.navigation.maintypes[i]].animDelay, 0) / 1000;\r\n\t\t\t_.navigation[_.navigation.maintypes[i]].animSpeed = parseInt(_.navigation[_.navigation.maintypes[i]].animSpeed, 0) / 1000;\r\n\t\t}\r\n\t\t// To Make sure it is not any more in %\r\n\r\n\t\tif (!_R.isNumeric(_.scrolleffect.tilt))\r\n\t\t\tif (_.scrolleffect.tilt.indexOf('%') !== -1) _.scrolleffect.tilt = parseInt(_.scrolleffect.tilt);\r\n\t\t_.scrolleffect.tilt = _.scrolleffect.tilt / 100;\r\n\r\n\t\t//Thumbs und Tabs Settings ->\r\n\t\t_.navigation.thumbnails.position = _.navigation.thumbnails.position == \"outer-horizontal\" ? _.navigation.thumbnails.v_align == \"bottom\" ? \"outer-bottom\" : \"outer-top\" :\r\n\t\t\t_.navigation.thumbnails.position == \"outer-vertical\" ? _.navigation.thumbnails.h_align == \"left\" ? \"outer-left\" : \"outer-right\" : _.navigation.thumbnails.position;\r\n\r\n\t\t_.navigation.tabs.position = _.navigation.tabs.position == \"outer-horizontal\" ? _.navigation.tabs.v_align == \"bottom\" ? \"outer-bottom\" : \"outer-top\" :\r\n\t\t\t_.navigation.tabs.position == \"outer-vertical\" ? _.navigation.tabs.h_align == \"left\" ? \"outer-left\" : \"outer-right\" : _.navigation.tabs.position;\r\n\t\t_.sbtimeline.speed = parseInt(_.sbtimeline.speed, 0) / 1000 || 0.5;\r\n\r\n\t\tif (_.sbtimeline.set === true && _.sbtimeline.fixed === true && _.sliderLayout !== \"auto\") {\r\n\t\t\t_.sbtimeline.fixStart = parseInt(_.sbtimeline.fixStart);\r\n\t\t\t_.sbtimeline.fixEnd = parseInt(_.sbtimeline.fixEnd);\r\n\t\t} else {\r\n\t\t\t_.sbtimeline.fixed = false;\r\n\t\t}\r\n\r\n\t\tif (_.progressBar !== undefined && (_.progressBar.disableProgressBar == \"true\" || _.progressBar.disableProgressBar == true)) _.progressBar.disableProgressBar = true;\r\n\r\n\t\t_.startDelay = parseInt(_.startDelay, 0) || 0;\r\n\r\n\t\tif (_.navigation !== undefined && _.navigation.arrows != undefined && _.navigation.arrows.hide_under != undefined) _.navigation.arrows.hide_under = parseInt(_.navigation.arrows.hide_under);\r\n\t\tif (_.navigation !== undefined && _.navigation.bullets != undefined && _.navigation.bullets.hide_under != undefined) _.navigation.bullets.hide_under = parseInt(_.navigation.bullets.hide_under);\r\n\t\tif (_.navigation !== undefined && _.navigation.thumbnails != undefined && _.navigation.thumbnails.hide_under != undefined) _.navigation.thumbnails.hide_under = parseInt(_.navigation.thumbnails.hide_under);\r\n\t\tif (_.navigation !== undefined && _.navigation.tabs != undefined && _.navigation.tabs.hide_under != undefined) _.navigation.tabs.hide_under = parseInt(_.navigation.tabs.hide_under);\r\n\r\n\t\tif (_.navigation !== undefined && _.navigation.arrows != undefined && _.navigation.arrows.hide_over != undefined) _.navigation.arrows.hide_over = parseInt(_.navigation.arrows.hide_over);\r\n\t\tif (_.navigation !== undefined && _.navigation.bullets != undefined && _.navigation.bullets.hide_over != undefined) _.navigation.bullets.hide_over = parseInt(_.navigation.bullets.hide_over);\r\n\t\tif (_.navigation !== undefined && _.navigation.thumbnails != undefined && _.navigation.thumbnails.hide_over != undefined) _.navigation.thumbnails.hide_over = parseInt(_.navigation.thumbnails.hide_over);\r\n\t\tif (_.navigation !== undefined && _.navigation.tabs != undefined && _.navigation.tabs.hide_over != undefined) _.navigation.tabs.hide_over = parseInt(_.navigation.tabs.hide_over);\r\n\r\n\t\tif (_.lazyloaddata !== undefined && _.lazyloaddata.length > 0 && _.lazyloaddata.indexOf(\"-\") > 0) {\r\n\t\t\tvar temp = _.lazyloaddata.split(\"-\");\r\n\t\t\t_.lazyloaddata = temp[0];\r\n\t\t\tfor (var i = 1; i < temp.length; i++) _.lazyloaddata += jsUcfirst(temp[i]);\r\n\t\t}\r\n\t\t_.duration = parseInt(_.duration);\r\n\r\n\t\tif (_.lazyType === \"single\" && _.sliderType === \"carousel\") _.lazyType = \"smart\";\r\n\t\tif (_.sliderType === \"carousel\" && _.carousel.justify) {\r\n\t\t\t_.justifyCarousel = true;\r\n\t\t\t_.keepBPHeight = true;\r\n\t\t}\r\n\t\t_.enableUpscaling = _.enableUpscaling == true && _.sliderType !== \"carousel\" && _.sliderLayout === \"fullwidth\" ? true : false;\r\n\t\t_.useFullScreenHeight = _.sliderType === \"carousel\" && _.sliderLayout === \"fullscreen\" && _.useFullScreenHeight === true && _.carousel.orientation!=='v';\r\n\t\t_.progressBar.y = parseInt(_.progressBar.y, 0);\r\n\t\t_.progressBar.x = parseInt(_.progressBar.x, 0);\r\n\r\n\t\t/*! Custom Eases */\r\n\t\tif (window.RSBrowser !== \"IE\" && _.customEases !== undefined) {\r\n\t\t\tif ((_.customEases.SFXBounceLite || _.customEases.SFXBounceLite == \"true\") && tpGS.SFXBounceLite === undefined) tpGS.SFXBounceLite = tpGS.CustomBounce.create(\"SFXBounceLite\", { strength: 0.3, squash: 1, squashID: \"SFXBounceLite-squash\" });\r\n\t\t\tif ((_.customEases.SFXBounceSolid || _.customEases.SFXBounceSolid == \"true\") && tpGS.SFXBounceSolid === undefined) tpGS.SFXBounceSolid = tpGS.CustomBounce.create(\"SFXBounceSolid\", { strength: 0.5, squash: 2, squashID: \"SFXBounceSolid-squash\" });\r\n\t\t\tif ((_.customEases.SFXBounceStrong || _.customEases.SFXBounceStrong == \"true\") && tpGS.SFXBounceStrong === undefined) tpGS.SFXBounceStrong = tpGS.CustomBounce.create(\"SFXBounceStrong\", { strength: 0.7, squash: 3, squashID: \"SFXBounceStrong-squash\" });\r\n\t\t\tif ((_.customEases.SFXBounceExtrem || _.customEases.SFXBounceExtrem == \"true\") && tpGS.SFXBounceExtrem === undefined) tpGS.SFXBounceExtrem = tpGS.CustomBounce.create(\"SFXBounceExtrem\", { strength: 0.9, squash: 4, squashID: \"SFXBounceExtrem-squash\" });\r\n\t\t\tif ((_.customEases.BounceLite || _.customEases.BounceLite == \"true\") && tpGS.BounceLite === undefined) tpGS.BounceLite = tpGS.CustomBounce.create(\"BounceLite\", { strength: 0.3 });\r\n\t\t\tif ((_.customEases.BounceSolid || _.customEases.BounceSolid == \"true\") && tpGS.BounceSolid === undefined) tpGS.BounceSolid = tpGS.CustomBounce.create(\"BounceSolid\", { strength: 0.5 });\r\n\t\t\tif ((_.customEases.BounceStrong || _.customEases.BounceStrong == \"true\") && tpGS.BounceStrong === undefined) tpGS.BounceStrong = tpGS.CustomBounce.create(\"BounceStrong\", { strength: 0.7 });\r\n\t\t\tif ((_.customEases.BounceExtrem || _.customEases.BounceExtrem == \"true\") && tpGS.BounceExtrem === undefined) tpGS.BounceExtrem = tpGS.CustomBounce.create(\"BounceExtrem\", { strength: 0.9 });\r\n\t\t}\r\n\r\n\t\t_.modal.coverSpeed = parseFloat(_.modal.coverSpeed);\r\n\t\t_.modal.coverSpeed = _.modal.coverSpeed > 200 ? _.modal.coverSpeed / 1000 : _.modal.coverSpeed;\r\n\t\t_.modal.coverSpeed = Math.max(Math.min(3, _.modal.coverSpeed), 0.3);\r\n\r\n\t\t_.navigation.wheelViewPort = _.navigation.wheelViewPort === undefined ? 0.5 : _.navigation.wheelViewPort / 100;\r\n\t\t_.navigation.wheelCallDelay = _.navigation.wheelCallDelay === undefined ? 1000 : parseInt(_.navigation.wheelCallDelay);\r\n\t\t_.autoDPR = typeof _.DPR === 'string' && _.DPR.indexOf('ax') !== -1;\r\n\t\t_.DPR = _.DPR.replace(\"ax\", \"\");\r\n\t\t_.DPR = parseInt(_.DPR.replace(\"x\", \"\"));\r\n\t\t_.DPR = isNaN(_.DPR) ? window.devicePixelRatio : _.autoDPR ? Math.min(window.devicePixelRatio, _.DPR) : _.DPR;\r\n\t\t_.DPR = (_.onedpronmobile == true || _.onedpronmobile == \"true\") && _R.ISM ? 1 : _.DPR;\r\n\r\n\t\tif(_.viewPort.global === false) _.viewPort.enable = false;\r\n\t\telse if(_.viewPort.global === true) {\r\n\t\t\t_.viewPort.local = _.viewPort.enable;\r\n\t\t\t_.viewPort.enable = true;\r\n\t\t}\r\n\r\n\t\tif (_.carousel!==undefined && _.carousel.orientation==\"v\") {\r\n\t\t\t_.carousel.prevNextVisType = (\"\"+_.carousel.prevNextVis).includes(\"%\") ? \"%\" : \"px\";\r\n\t\t\t_.carousel.prevNextVis = (parseInt(_.carousel.prevNextVis,0) / (_.carousel.prevNextVisType==\"%\" ? 100 : 1));\r\n\t\t}\r\n\r\n\t\treturn _;\r\n\t};\r\n\r\n\r\n\r\n\tvar jsUcfirst = function(string) { return string.charAt(0).toUpperCase() + string.slice(1); }\r\n\r\n\r\n\tvar getModuleDefaults = function(options) {\r\n\t\treturn generalConverts(jQuery.extend(true, {\r\n\t\t\tDPR: \"dpr\", // THE SCREEN MAX RESOLUTION DPR\r\n\t\t\tsliderType: \"standard\", // standard, carousel, hero\r\n\t\t\tsliderLayout: \"auto\", // auto, fullwidth, fullscreen\r\n\t\t\t//dottedOverlay:\"none\",\t\t\t\t\t//twoxtwo, threexthree, twoxtwowhite, threexthreewhite\r\n\t\t\toverlay: {\r\n\t\t\t\ttype: \"none\",\r\n\t\t\t\tsize: 1,\r\n\t\t\t\tcolora: 'transparent',\r\n\t\t\t\tcolorb: '#000000'\r\n\t\t\t},\r\n\t\t\tduration: 9000,\r\n\t\t\timgCrossOrigin: \"\",\r\n\t\t\tmodal: {\r\n\t\t\t\tuseAsModal: false,\r\n\t\t\t\tcover: true,\r\n\t\t\t\tcoverColor: \"rgba(0,0,0,0.5)\",\r\n\t\t\t\thorizontal: \"center\",\r\n\t\t\t\tvertical: \"middle\",\r\n\t\t\t\tcoverSpeed: 1\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tkeyboardNavigation: false,\r\n\t\t\t\tkeyboard_direction: \"horizontal\", //\thorizontal - left/right arrows,  vertical - top/bottom arrows\r\n\t\t\t\tmouseScrollNavigation: 'off', // on, off, carousel\r\n\t\t\t\twheelViewPort: 50,\r\n\t\t\t\twheelCallDelay: '1000ms',\r\n\t\t\t\t/*msWayUp:\"top\",\t\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" top/center/bottom/ignore\r\n\t\t\t\tmsWayDown:\"top\",\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" top/center/bottom/ignore\r\n\t\t\t\tmsWayUpOffset:0,\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" px\r\n\t\t\t\tmsWayDownOffset:0,\t\t\t\t\t\t// if mouseScrollNavigation === \"on\" px\t\t\t\t\t\t*/\r\n\t\t\t\tonHoverStop: true, // Stop Banner Timet at Hover on Slide on/off\r\n\t\t\t\tmouseScrollReverse: \"default\",\r\n\t\t\t\ttarget: 'window',\r\n\t\t\t\tthreshold: 50,\r\n\t\t\t\ttouch: {\r\n\t\t\t\t\ttouchenabled: false, // Enable Swipe Function : on/off\r\n\t\t\t\t\ttouchOnDesktop: false, // Enable Tuoch on Desktop Systems also\r\n\t\t\t\t\tswipe_treshold: 75, // The number of pixels that the user must move their finger by before it is considered a swipe.\r\n\t\t\t\t\tswipe_min_touches: 1, // Min Finger (touch) used for swipe\r\n\t\t\t\t\tswipe_direction: \"horizontal\",\r\n\t\t\t\t\tdrag_block_vertical: false, // Prevent Vertical Scroll during Swipe\r\n\t\t\t\t\tmobileCarousel: true,\r\n\t\t\t\t\tdesktopCarousel: true\r\n\t\t\t\t},\r\n\t\t\t\tarrows: {\r\n\t\t\t\t\tstyle: \"\",\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\ttmp: '',\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\th_align: \"left\",\r\n\t\t\t\t\t\tv_align: \"center\",\r\n\t\t\t\t\t\th_offset: 20,\r\n\t\t\t\t\t\tv_offset: 0,\r\n\t\t\t\t\t\tcontainer: \"slider\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\th_align: \"right\",\r\n\t\t\t\t\t\tv_align: \"center\",\r\n\t\t\t\t\t\th_offset: 20,\r\n\t\t\t\t\t\tv_offset: 0,\r\n\t\t\t\t\t\tcontainer: \"slider\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tbullets: {\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\tdirection: \"horizontal\",\r\n\t\t\t\t\th_align: \"center\",\r\n\t\t\t\t\tv_align: \"bottom\",\r\n\t\t\t\t\tspace: 5,\r\n\t\t\t\t\th_offset: 0,\r\n\t\t\t\t\tv_offset: 20,\r\n\t\t\t\t\ttmp: '<span class=\"tp-bullet-image\"></span><span class=\"tp-bullet-title\"></span>',\r\n\t\t\t\t\tcontainer: \"slider\",\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tstyle: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tthumbnails: {\r\n\t\t\t\t\tcontainer: \"slider\",\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tstyle: \"\",\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\tmin_width: 100,\r\n\t\t\t\t\twrapper_padding: 2,\r\n\t\t\t\t\twrapper_color: \"transparent\",\r\n\t\t\t\t\ttmp: '<span class=\"tp-thumb-image\"></span><span class=\"tp-thumb-title\"></span>',\r\n\t\t\t\t\tvisibleAmount: 5,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\tdirection: \"horizontal\",\r\n\t\t\t\t\tspan: false,\r\n\t\t\t\t\tposition: \"inner\",\r\n\t\t\t\t\tspace: 2,\r\n\t\t\t\t\th_align: \"center\",\r\n\t\t\t\t\tv_align: \"bottom\",\r\n\t\t\t\t\th_offset: 0,\r\n\t\t\t\t\tv_offset: 20,\r\n\t\t\t\t\tmhoff: 0,\r\n\t\t\t\t\tmvoff: 0\r\n\t\t\t\t},\r\n\t\t\t\ttabs: {\r\n\t\t\t\t\tcontainer: \"slider\",\r\n\t\t\t\t\trtl: false,\r\n\t\t\t\t\tstyle: \"\",\r\n\t\t\t\t\tenable: false,\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t\tmin_width: 100,\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\twrapper_padding: 10,\r\n\t\t\t\t\twrapper_color: \"transparent\",\r\n\t\t\t\t\ttmp: '<span class=\"tp-tab-image\"></span>',\r\n\t\t\t\t\tvisibleAmount: 5,\r\n\t\t\t\t\thide_onmobile: false,\r\n\t\t\t\t\thide_onleave: false,\r\n\t\t\t\t\thide_delay: 200,\r\n\t\t\t\t\thide_delay_mobile: 1200,\r\n\t\t\t\t\thide_under: 0,\r\n\t\t\t\t\thide_over: 9999,\r\n\t\t\t\t\tdirection: \"horizontal\",\r\n\t\t\t\t\tspan: false,\r\n\t\t\t\t\tspace: 0,\r\n\t\t\t\t\tposition: \"inner\",\r\n\t\t\t\t\th_align: \"center\",\r\n\t\t\t\t\tv_align: \"bottom\",\r\n\t\t\t\t\th_offset: 0,\r\n\t\t\t\t\tv_offset: 20,\r\n\t\t\t\t\tmhoff: 0,\r\n\t\t\t\t\tmvoff: 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tresponsiveLevels: 4064, // Single or Array for Responsive Levels i.e.: 4064 or i.e. [2048, 1024, 778, 480]\r\n\t\t\tvisibilityLevels: [2048, 1024, 778, 480], // Single or Array for Responsive Visibility Levels i.e.: 4064 or i.e. [2048, 1024, 778, 480]\r\n\t\t\tgridwidth: 960, // Single or Array i.e. 960 or [960, 840,760,460]\r\n\t\t\tgridheight: 500, // Single or Array i.e. 500 or [500, 450,400,350]\r\n\t\t\tminHeight: 0,\r\n\r\n\t\t\tmaxHeight: 0,\r\n\t\t\tkeepBPHeight: false,\r\n\t\t\tuseFullScreenHeight: true, // Use FullScreen Height for Content if Carousel Mode is on and FullScreen Layout selected\r\n\t\t\toverflowHidden: false, // Use Overflow Hidden in carouselMode (force)\r\n\t\t\tforceOverflow: false, // Use OverFlow Visible (Force) in None Carousel Mode\r\n\t\t\tfixedOnTop: false,\r\n\t\t\tautoHeight: false,\r\n\t\t\tgridEQModule: false,\r\n\t\t\tdisableForceFullWidth: false, // Turns the FullScreen Slider to be a FullHeight but auto Width Slider\r\n\r\n\t\t\tfullScreenOffsetContainer: \"\", // Size for FullScreen Slider minimising Calculated on the Container sizes\r\n\t\t\tfullScreenOffset: \"0\", // Size for FullScreen Slider minimising\r\n\r\n\t\t\thideLayerAtLimit: 0, // It Defines if a caption should be shown under a Screen Resolution ( Basod on The Width of Browser)\r\n\t\t\thideAllLayerAtLimit: 0, // Hide all The Captions if Width of Browser is less then this value\r\n\t\t\thideSliderAtLimit: 0, // Hide the whole slider, and stop also functions if Width of Browser is less than this value\r\n\t\t\tprogressBar: {\r\n\t\t\t\tdisableProgressBar: false, // Hides Progress Bar if is set to \"on\"\r\n\t\t\t\tstyle: \"horizontal\",\r\n\t\t\t\tsize: \"5px\",\r\n\t\t\t\tradius: 10,\r\n\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\thorizontal: \"left\",\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tcolor: 'rgba(255,255,255,0.5)',\r\n\t\t\t\tbgcolor: 'transparent',\r\n\t\t\t\tbasedon: \"slide\",\r\n\t\t\t\tgapsize: 0,\r\n\t\t\t\treset: 'reset',\r\n\t\t\t\tgaptype: \"gapboth\",\r\n\t\t\t\tgapcolor: 'rgba(255,255,255,0.5)',\r\n\t\t\t\tease: 'none',\r\n\t\t\t\tvisibility: {\r\n\t\t\t\t\t0: true, //desktop\r\n\t\t\t\t\t1: true, //notebok\r\n\t\t\t\t\t2: true, //tablet\r\n\t\t\t\t\t3: true //mobile\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstopAtSlide: -1, // Stop Timer if Slide \"x\" has been Reached. If stopAfterLoops set to 0, then it stops already in the first Loop at slide X which defined. -1 means do not stop at any slide. stopAfterLoops has no sinn in this case.\r\n\t\t\tstopAfterLoops: 0, // Stop Timer if All slides has been played \"x\" times. IT will stop at THe slide which is defined via stopAtSlide:x, if set to -1 slide never stop automatic\r\n\t\t\tshadow: 0, //0 = no Shadow, 1,2,3 = 3 Different Art of Shadows  (No Shadow in Fullwidth Version !)\r\n\r\n\t\t\tstartDelay: 0, // Delay before the first Animation starts.\r\n\t\t\tlazyType: \"none\", //all, smart, single\r\n\t\t\tlazyOnBg: false,\r\n\t\t\tspinner: \"off\",\r\n\t\t\tshuffle: false, // Random Order of Slides,\r\n\t\t\tperspective: \"600px\",\r\n\t\t\tperspectiveType: \"local\", // Perspective Will be set Locally depenent of Layer Values\r\n\r\n\t\t\tviewPort: {\r\n\t\t\t\tenable: false, // if enabled, slider wait with start or wait at first slide.\r\n\t\t\t\tglobal: false,\r\n\t\t\t\tglobalDist: '-400px',\r\n\t\t\t\toutof: \"wait\", // wait,pause\r\n\t\t\t\tvisible_area: \"200px\", // Start Animation when 60% of Slider is visible\r\n\t\t\t\tpresize: false // Presize the Height of the Slider Container for Internal Link Positions\r\n\t\t\t},\r\n\r\n\t\t\tfallbacks: {\r\n\t\t\t\tisJoomla: false,\r\n\t\t\t\tpanZoomDisableOnMobile: false,\r\n\t\t\t\tsimplifyAll: true,\r\n\t\t\t\tnextSlideOnWindowFocus: false,\r\n\t\t\t\tdisableFocusListener: false,\r\n\t\t\t\tallowHTML5AutoPlayOnAndroid: true\r\n\t\t\t},\r\n\r\n\t\t\tfanim: false, // No Global First Different Animation set\r\n\r\n\t\t\tparallax: {\r\n\t\t\t\ttype: \"off\", // off, mouse, scroll, mouse+scroll\r\n\t\t\t\tlevels: [10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85],\r\n\t\t\t\torigo: \"enterpoint\", // slidercenter or enterpoint\r\n\t\t\t\tdisable_onmobile: false,\r\n\t\t\t\tddd_shadow: false,\r\n\t\t\t\tddd_bgfreeze: false,\r\n\t\t\t\tddd_overflow: \"visible\",\r\n\t\t\t\tddd_layer_overflow: \"visible\",\r\n\t\t\t\tddd_z_correction: 65,\r\n\t\t\t\tspeed: 400,\r\n\t\t\t\tspeedbg: 0,\r\n\t\t\t\tspeedls: 0\r\n\t\t\t},\r\n\r\n\t\t\tscrolleffect: {\r\n\t\t\t\tset: false,\r\n\t\t\t\tfade: false,\r\n\t\t\t\tblur: false,\r\n\t\t\t\tscale: false,\r\n\t\t\t\tgrayscale: false,\r\n\t\t\t\tmaxblur: 10,\r\n\t\t\t\tlayers: false,\r\n\t\t\t\tslide: false,\r\n\t\t\t\tdirection: \"both\",\r\n\t\t\t\tmultiplicator: 1.35,\r\n\t\t\t\tmultiplicator_layers: 0.5,\r\n\t\t\t\ttilt: 30,\r\n\t\t\t\tdisable_onmobile: false\r\n\t\t\t},\r\n\r\n\t\t\tsbtimeline: { // SCROLL BASED TIMELINE\r\n\t\t\t\tset: false,\r\n\t\t\t\tfixed: false,\r\n\t\t\t\tfixStart: 0,\r\n\t\t\t\tfixEnd: 0,\r\n\t\t\t\tlayers: false,\r\n\t\t\t\tslide: false,\r\n\t\t\t\tease: \"none\",\r\n\t\t\t\tspeed: 500\r\n\t\t\t},\r\n\r\n\t\t\tcarousel: {\r\n\t\t\t\torientation:'h',\r\n\t\t\t\tprevNextVis:\"50px\",\r\n\t\t\t\teasing: \"power3.inOut\",\r\n\t\t\t\tspeed: 800,\r\n\t\t\t\tshowLayersAllTime: false,\r\n\t\t\t\thorizontal_align: \"center\",\r\n\t\t\t\tvertical_align: \"center\",\r\n\t\t\t\tsnap: true,\r\n\t\t\t\tinfinity: false,\r\n\t\t\t\tstopOnClick: true,\r\n\t\t\t\tspace: 0,\r\n\t\t\t\tmaxVisibleItems: 3,\r\n\t\t\t\tstretch: false,\r\n\t\t\t\tfadeout: true,\r\n\t\t\t\tmaxRotation: 0,\r\n\t\t\t\tmaxOpacity: 100,\r\n\t\t\t\tminScale: 0,\r\n\t\t\t\toffsetScale: false,\r\n\t\t\t\tvary_fade: false,\r\n\t\t\t\tvary_rotation: false,\r\n\t\t\t\tvary_scale: false,\r\n\t\t\t\tborder_radius: \"0px\",\r\n\t\t\t\tpadding_top: 0,\r\n\t\t\t\tpadding_bottom: 0,\r\n\t\t\t\tskewX: 0,\r\n\t\t\t\tskewY: 0,\r\n\t\t\t\tspin: 'off',\r\n\t\t\t\tspinAngle: 0,\r\n\t\t\t\tovershoot: false\r\n\t\t\t},\r\n\t\t\tobserveWrap: false,\r\n\t\t\textensions: \"extensions/\", //example extensions/ or extensions/source/\r\n\t\t\textensions_suffix: \".min.js\",\r\n\t\t\t//addons:[{fileprefix:\"revolution.addon.whiteboard\",init:\"initWhiteBoard\",params:\"opt\",handel:\"whiteboard\"}],\r\n\t\t\tstopLoop: false,\r\n\t\t\twaitForInit: false,\r\n\t\t\tignoreHeightChange: true,\r\n\t\t\tonedpronmobile: false\r\n\t\t}, options));\r\n\t};\r\n\t//Support Defer and Async and Footer Loads\r\n\twindow.RS_MODULES = window.RS_MODULES || {};\r\n\twindow.RS_MODULES.waiting = window.RS_MODULES.waiting || [];\r\n\tvar waitingBasics = ['DOM','main', 'parallax', 'video', 'slideanims', 'actions', 'layeranimation', 'navigation', 'carousel', 'panzoom'];\r\n\tfor (var i in waitingBasics) if (waitingBasics.hasOwnProperty(i) && window.RS_MODULES.waiting.indexOf(waitingBasics[i])==-1) window.RS_MODULES.waiting.push(waitingBasics[i]);\r\n\t//window.RS_MODULES.waiting = window.RS_MODULES.waiting.concat(['DOM','main', 'parallax', 'video', 'slideanims', 'actions', 'layeranimation', 'navigation', 'carousel', 'panzoom']);\r\n\twindow.RS_MODULES.main = { loaded: true, version: version };\r\n\twindow.RS_MODULES.minimal = false;\r\n\r\n\t// INIT THE SLIDERS HERE\r\n\twindow.RS_MODULES.callSliders = function() {\r\n\t\tfor (var i in RS_MODULES.modules) {\r\n\t\t\tif (RS_MODULES.modules[i].once !== true && window.RS_MODULES !== undefined && window.RS_MODULES.minimal) {\r\n\t\t\t\tRS_MODULES.modules[i].once = true;\r\n\t\t\t\tRS_MODULES.modules[i].init();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// ELEMENTOR SPECIALS\r\n\tfunction elementorGlobalHook($scope){\r\n\t\tif (window.elementorFrontend!==undefined && elementorFrontend.hooks !== undefined) elementorFrontend.hooks.removeAction( 'frontend/element_ready/global', elementorGlobalHook);\r\n\t\twindow.RS_MODULES.elementor = {loaded:true, version:'6.5.0'};\r\n\t\tif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\t// Do something that is based on the elementorFrontend object.\r\n\t}\r\n\r\n\t// ELEMENTOR INIT WAITS\r\n\tfunction addElementorHook() {\r\n\t\tif (window.elementorFrontend===undefined || window.elementorFrontend.hooks===undefined || window.elementorFrontend.hooks.addAction===undefined) {\r\n\t\t\twindow.RS_MODULES.elementorCounter++;\r\n\t\t\tif (window.RS_MODULES.elementorCounterCheck && window.RS_MODULES.elementorCounter>20) {\r\n\t\t\t\telementorGlobalHook();\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\trequestAnimationFrame(addElementorHook);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (window.elementorFrontend.config.environmentMode.edit)\r\n\t\t\telementorFrontend.hooks.addAction( 'frontend/element_ready/widget', elementorGlobalHook);\r\n\t\telse elementorGlobalHook();\r\n\t}\r\n\r\n\tfunction checkElementor() {\r\n\t\tif (RS_MODULES.checkElementorCalled==true) return;\r\n\t\tRS_MODULES.checkElementorCalled = true;\r\n\t\tif (document.body && (document.body.className.indexOf('elementor-page')>=0 || document.body.className.indexOf('elementor-default')>=0)) {\r\n\t\t\t// CHECK ELEMENTOR EXISTS\r\n\t\t\twindow.RS_MODULES.waiting = window.RS_MODULES.waiting===undefined ? [] : window.RS_MODULES.waiting;\r\n\t\t\tif (window.RS_MODULES.waiting.indexOf('elementor') == -1) window.RS_MODULES.waiting.push('elementor');\r\n\t\t\tif (document.body && document.body.className.indexOf('elementor-editor-active')==-1) window.RS_MODULES.elementorCounterCheck = true;\r\n\t\t\twindow.RS_MODULES.elementorCounter = 0;\r\n\t\t\taddElementorHook();\r\n\t\t}\r\n\t}\r\n\r\n\t// IF DOCUMENT NOT LADED YET !??? ( NOT POSSIBLE...)\r\n\tif (document.readyState === \"loading\")\r\n\t\tdocument.addEventListener('readystatechange', function() {\r\n\t\t\tif (document.readyState === \"interactive\" || document.readyState === \"complete\") {\r\n\t\t\t\tcheckElementor();\r\n\t\t\t\t window.RS_MODULES.DOM = {loaded:true};\r\n\t\t\t\t window.RS_MODULES.checkMinimal();\r\n\t\t\t}\r\n\t\t});\r\n\telse if (document.readyState === \"complete\" || document.readyState === \"interactive\") {\r\n\t\tcheckElementor();\r\n\t\twindow.RS_MODULES.DOM = {loaded:true};\r\n\t}\r\n\r\n\t//CHECK FOR MINIMAL REQUIREMENTS\r\n\twindow.RS_MODULES.checkMinimal = function() {\r\n\t\tif (window.RS_MODULES.minimal == false) {\r\n\t\t\tvar allthere = window.RS_MODULES.minimal == true ? true : window.RS_MODULES.waiting !== undefined && jQuery.fn.revolution !== undefined && window.tpGS !== undefined && window.tpGS.gsap !== undefined;\r\n\t\t\tif (allthere){\r\n\t\t\t\tfor (var i in window.RS_MODULES.waiting) {\r\n                    if(!window.RS_MODULES.waiting.hasOwnProperty(i) || typeof window.RS_MODULES.waiting[i]==\"function\") continue;\r\n                    if (!allthere) continue;\r\n\t\t\t\t\tif (window.RS_MODULES[window.RS_MODULES.waiting[i]] === undefined) {\r\n\t\t\t\t\t\tallthere = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (allthere) {\r\n\t\t\t\tif (window.RS_MODULES.minimal !== true) jQuery(document).trigger('REVSLIDER_READY_TO_USE');\r\n\t\t\t\twindow.RS_MODULES.minimal = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twindow.RS_MODULES.minimal = true;\r\n\t\t}\r\n\t\tif (window.RS_MODULES.minimal === true) window.RS_MODULES.callSliders()\r\n\r\n\t}\r\n\twindow.RS_MODULES.checkMinimal();\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.navigation.js":"/********************************************\r\n * REVOLUTION EXTENSION - NAVIGATION\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n    \"use strict\";\r\nvar version=\"6.6.0\";\r\n    jQuery.fn.revolution = jQuery.fn.revolution || {};\r\n    var _R = jQuery.fn.revolution;\r\n\r\n\r\n    ///////////////////////////////////////////\r\n    // \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n    ///////////////////////////////////////////\r\n    jQuery.extend(true,_R, {\r\n\r\n        hideUnHideNav : function(id) {\r\n            window.requestAnimationFrame(function() {\r\n                var chng = false;\r\n                if (ckNO(_R[id].navigation.arrows)) chng = biggerNav(_R[id].navigation.arrows,id,chng);\r\n                if (ckNO(_R[id].navigation.bullets)) chng = biggerNav(_R[id].navigation.bullets,id,chng);\r\n                if (ckNO(_R[id].navigation.thumbnails)) chng = biggerNav(_R[id].navigation.thumbnails,id,chng);\r\n                if (ckNO(_R[id].navigation.tabs)) chng = biggerNav(_R[id].navigation.tabs,id,chng);\r\n                if (chng) _R.manageNavigation(id);\r\n\r\n\r\n            });\r\n        },\r\n\r\n\r\n        // CALCULATE OUTTER NAVIGATION SUM DIMENSION\r\n        getOuterNavDimension : function(id) {\r\n            _R[id].navigation.scaler = Math.max(0,Math.min(1,(_R.winW-480) / 500));\r\n            var r = {left:0, right:0 , horizontal:0, vertical:0, top:0, bottom:0};\r\n\r\n\r\n            if (_R[id].navigation.thumbnails && _R[id].navigation.thumbnails.enable) {\r\n                _R[id].navigation.thumbnails.isVisible = _R[id].navigation.thumbnails.hide_under<_R[id].module.width &&  _R[id].navigation.thumbnails.hide_over>_R[id].module.width;\r\n                _R[id].navigation.thumbnails.cw = Math.max(Math.round(_R[id].navigation.thumbnails.width * _R[id].navigation.scaler) , _R[id].navigation.thumbnails.min_width);\r\n                _R[id].navigation.thumbnails.ch = Math.round((_R[id].navigation.thumbnails.cw/_R[id].navigation.thumbnails.width) * _R[id].navigation.thumbnails.height);\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-left\") r.left = _R[id].navigation.thumbnails.cw + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-right\") r.right = _R[id].navigation.thumbnails.cw + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-top\") r.top = _R[id].navigation.thumbnails.ch + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.thumbnails.isVisible && _R[id].navigation.thumbnails.position===\"outer-bottom\") r.bottom = _R[id].navigation.thumbnails.ch + (2*_R[id].navigation.thumbnails.wrapper_padding);\r\n            }\r\n\r\n            if (_R[id].navigation.tabs && _R[id].navigation.tabs.enable) {\r\n                _R[id].navigation.tabs.isVisible = _R[id].navigation.tabs.hide_under<_R[id].module.width &&  _R[id].navigation.tabs.hide_over>_R[id].module.width;\r\n                _R[id].navigation.tabs.cw = Math.max(Math.round(_R[id].navigation.tabs.width * _R[id].navigation.scaler) , _R[id].navigation.tabs.min_width);\r\n                _R[id].navigation.tabs.ch = Math.round((_R[id].navigation.tabs.cw/_R[id].navigation.tabs.width) * _R[id].navigation.tabs.height);\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-left\") r.left += _R[id].navigation.tabs.cw + (2*_R[id].navigation.tabs.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-right\") r.right += _R[id].navigation.tabs.cw + (2*_R[id].navigation.tabs.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-top\") r.top += _R[id].navigation.tabs.ch + (2*_R[id].navigation.tabs.wrapper_padding);\r\n                else\r\n                if (_R[id].navigation.tabs.isVisible && _R[id].navigation.tabs.position===\"outer-bottom\") r.bottom += _R[id].navigation.tabs.ch + (2*_R[id].navigation.tabs.wrapper_padding);\r\n            }\r\n            return {left:r.left, right:r.right, horizontal:r.left+r.right, vertical:r.top+r.bottom, top:r.top, bottom:r.bottom};\r\n        },\r\n\r\n        resizeThumbsTabs : function(id,force) {\r\n\r\n            if (_R[id]!==undefined && _R[id].navigation.use && ((_R[id].navigation && _R[id].navigation.bullets.enable) || (_R[id].navigation && _R[id].navigation.tabs.enable) || (_R[id].navigation && _R[id].navigation.thumbnails.enable))) {\r\n\r\n                var tws = tpGS.gsap.timeline(),\r\n                    otab = _R[id].navigation.tabs,\r\n                    othu = _R[id].navigation.thumbnails,\r\n                    otbu = _R[id].navigation.bullets;\r\n\r\n                tws.pause();\r\n\r\n\r\n                if (ckNO(otab) && (force || otab.width>otab.min_width)) rtt(id, tws,_R[id].c,otab,_R[id].slideamount,'tab');\r\n                if (ckNO(othu) && (force || othu.width>othu.min_width)) {\r\n                    rtt(id, tws,_R[id].c,othu,_R[id].slideamount,'thumb', id);\r\n                }\r\n                if (ckNO(otbu) && force) {\r\n\r\n                    // SET BULLET SPACES AND POSITION\r\n                    var bw = _R[id].c.find('.tp-bullets');\r\n\r\n                    bw.find('.tp-bullet').each(function(i){\r\n                        var b = jQuery(this),\r\n                            am = i+1,\r\n                            w = b.outerWidth()+parseInt((otbu.space===undefined? 0:otbu.space),0),\r\n                            h = b.outerHeight()+parseInt((otbu.space===undefined? 0:otbu.space),0);\r\n\r\n                    if (otbu.direction===\"vertical\") {\r\n                        b.css({top:((am-1)*h)+\"px\", left:\"0px\"});\r\n                        bw.css({height:(((am-1)*h) + b.outerHeight()),width:b.outerWidth()});\r\n                    }\r\n                    else {\r\n                        b.css({left:((am-1)*w)+\"px\", top:\"0px\"});\r\n                        bw.css({width:(((am-1)*w) + b.outerWidth()),height:b.outerHeight()});\r\n                    }\r\n                    });\r\n\r\n                }\r\n\r\n                tws.play();\r\n\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        updateNavIndexes : function(id) {\r\n            var _ = _R[id].c;\r\n\r\n            function setNavIndex(a) {\r\n                if (_.find(a).lenght>0) {\r\n                    _.find(a).each(function(i) {\r\n                        jQuery(this).data('liindex',i);\r\n                    });\r\n                }\r\n            }\r\n            setNavIndex('rs-tab');\r\n            setNavIndex('rs-bullet');\r\n            setNavIndex('rs-thumb');\r\n            _R.resizeThumbsTabs(id,true);\r\n            _R.manageNavigation(id);\r\n\r\n        },\r\n\r\n        // PUT NAVIGATION IN POSITION AND MAKE SURE THUMBS AND TABS SHOWING TO THE RIGHT POSITION\r\n        manageNavigation : function(id,movetoposition) {\r\n            if (!_R[id].navigation.use) return;\r\n\r\n\r\n            if (ckNO(_R[id].navigation.bullets)) {\r\n                if (_R[id].sliderLayout!=\"fullscreen\" && _R[id].sliderLayout!=\"fullwidth\") {\r\n                    // OFFSET ADJUSTEMENT FOR LEFT ARROWS BASED ON THUMBNAILS AND TABS OUTTER\r\n                    _R[id].navigation.bullets.h_offset_old = _R[id].navigation.bullets.h_offset_old === undefined ? parseInt(_R[id].navigation.bullets.h_offset,0) : _R[id].navigation.bullets.h_offset_old;\r\n                    _R[id].navigation.bullets.h_offset = _R[id].navigation.bullets.h_align===\"center\" ? _R[id].navigation.bullets.h_offset_old+_R[id].outNavDims.left/2 -_R[id].outNavDims.right/2: _R[id].navigation.bullets.h_offset_old+_R[id].outNavDims.left;\r\n                }\r\n                setNavElPositions(_R[id].navigation.bullets,id);\r\n            }\r\n\r\n            if (ckNO(_R[id].navigation.thumbnails)) setNavElPositions(_R[id].navigation.thumbnails,id);\r\n\r\n            if (ckNO(_R[id].navigation.tabs)) setNavElPositions(_R[id].navigation.tabs,id);\r\n\r\n            if (ckNO(_R[id].navigation.arrows)) {\r\n\r\n                if (_R[id].sliderLayout!=\"fullscreen\" && _R[id].sliderLayout!=\"fullwidth\") {\r\n                    // OFFSET ADJUSTEMENT FOR LEFT ARROWS BASED ON THUMBNAILS AND TABS OUTTER\r\n\r\n                    _R[id].navigation.arrows.left.h_offset_old = _R[id].navigation.arrows.left.h_offset_old === undefined ? parseInt(_R[id].navigation.arrows.left.h_offset,0) : _R[id].navigation.arrows.left.h_offset_old;\r\n                    _R[id].navigation.arrows.left.h_offset = _R[id].navigation.arrows.left.h_align===\"right\" ?  _R[id].navigation.arrows.left.h_offset_old : _R[id].navigation.arrows.left.h_offset_old;\r\n\r\n                    _R[id].navigation.arrows.right.h_offset_old = _R[id].navigation.arrows.right.h_offset_old === undefined ? parseInt(_R[id].navigation.arrows.right.h_offset,0) : _R[id].navigation.arrows.right.h_offset_old;\r\n                    _R[id].navigation.arrows.right.h_offset = _R[id].navigation.arrows.right.h_align===\"right\" ? _R[id].navigation.arrows.right.h_offset_old : _R[id].navigation.arrows.right.h_offset_old;\r\n\r\n                }\r\n                setNavElPositions(_R[id].navigation.arrows.left,id);\r\n                setNavElPositions(_R[id].navigation.arrows.right,id);\r\n            }\r\n\r\n            if (movetoposition!==false) {\r\n                if (ckNO(_R[id].navigation.thumbnails)) moveThumbsInPosition(_R[id].navigation.thumbnails,id);\r\n                if (ckNO(_R[id].navigation.tabs)) moveThumbsInPosition(_R[id].navigation.tabs,id);\r\n            }\r\n        },\r\n\r\n        showFirstTime : function(id) {\r\n            showNavElements(id);\r\n            _R.hideUnHideNav(id);\r\n        },\r\n        selectNavElement : function(id,si,cl,callback) {\r\n            var el = _R[id].cpar[0].getElementsByClassName(cl);\r\n            for (var i=0;i<el.length;i++) if (_R.gA(el[i],\"key\")===si) {\r\n                el[i].classList.add('selected');\r\n                if (callback!==undefined) callback();\r\n            } else el[i].classList.remove('selected');\r\n        },\r\n        transferParams : function(w,p) {\r\n            if (p!==undefined) for (var i in p.params) if (p.params.hasOwnProperty(i)) w = w.replace(p.params[i].from,p.params[i].to);\r\n            return w;\r\n        },\r\n\r\n        // UPDATE CONTENT OF NAVIGATION ELEMENTS\r\n        updateNavElementContent : function(id,_a,_b,_c,_d) {\r\n            if (_R[id].pr_next_key===undefined && _R[id].pr_active_key===undefined) return;\r\n\r\n            var key= _R[id].pr_next_key===undefined ? _R[id].pr_cache_pr_next_key===undefined ? _R[id].pr_active_key : _R[id].pr_cache_pr_next_key : _R[id].pr_next_key,\r\n                si = _R.gA(_R[id].slides[key],\"key\"),ai = 0, f = false;\r\n\r\n            if (_b.enable) _R.selectNavElement(id,si,'tp-bullet');\r\n            if (_c.enable) _R.selectNavElement(id,si,'tp-thumb',function() {moveThumbsInPosition(_c,id);});\r\n            if (_d.enable) _R.selectNavElement(id,si,'tp-tab',function() {moveThumbsInPosition(_d,id);});\r\n\r\n            for (var i in _R[id].thumbs) {  ai = f===true ? ai : i; f = _R[id].thumbs[i].id===si || i==si ? true : f;}\r\n            ai = parseInt(ai,0);\r\n            var pi = ai>0 ? ai-1 : _R[id].slideamount-1,\r\n                ni = ai+1==_R[id].slideamount ? 0 : ai+1;\r\n\r\n            if (_a.enable === true && (_a.pi!== pi && _a.ni!==ni)) {\r\n                _a.pi = pi;\r\n                _a.ni = ni;\r\n                _a.left.c[0].innerHTML = _R.transferParams(_a.tmp,_R[id].thumbs[pi]);\r\n                if (ni>_R[id].slideamount) return;\r\n                _a.right.c[0].innerHTML = _R.transferParams(_a.tmp,_R[id].thumbs[ni]);\r\n                _a.right.iholder = _a.right.c.find('.tp-arr-imgholder');\r\n                _a.left.iholder = _a.left.c.find('.tp-arr-imgholder');\r\n\r\n                if (!_a.rtl) {\r\n                    if (_R[id].thumbs[pi]!==undefined && _a.left.iholder[0]!==undefined) tpGS.gsap.set(_a.left.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[pi].src+\")\"});\r\n                    if (_a.right.iholder[0]!==undefined) tpGS.gsap.set(_a.right.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[ni].src+\")\"});\r\n                } else {\r\n                    if (_a.left.iholder[0]!==undefined) tpGS.gsap.set(_a.left.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[ni].src+\")\"});\r\n                    if (_R[id].thumbs[pi]!==undefined && _a.right.iholder[0]!==undefined) tpGS.gsap.set(_a.right.iholder,{backgroundImage:\"url(\"+_R[id].thumbs[pi].src+\")\"});\r\n                }\r\n            }\r\n        },\r\n\r\n\r\n        // MANAGE THE NAVIGATION\r\n         createNavigation : function(id) {\r\n\r\n            var\t_a = _R[id].navigation.arrows, _b = _R[id].navigation.bullets, _c = _R[id].navigation.thumbnails, _d = _R[id].navigation.tabs,\r\n                a = ckNO(_a), b = ckNO(_b), c = ckNO(_c), d = ckNO(_d);\r\n\r\n            // Initialise Keyboard Navigation if Option set so\r\n            initKeyboard(id);\r\n\r\n            // Initialise Mouse Scroll Navigation if _R[id]ion set so\r\n            initMouseScroll(id);\r\n\r\n            //Draw the Arrows\r\n            if (a) {\r\n                initArrows(_a,id);\r\n                _a.c = _R[id].cpar.find('.tparrows');\r\n            }\r\n\r\n            // BUILD BULLETS, THUMBS and TABS\r\n            for (var i in _R[id].slides) {\r\n                if (!_R[id].slides.hasOwnProperty(i)) continue;\r\n                if (_R.gA(_R[id].slides[i],'not_in_nav')!='true') {\r\n                    var li_rtl = jQuery(_R[id].slides[_R[id].slides.length-1-i]),\r\n                        li = jQuery(_R[id].slides[i]);\r\n                    if (b)\r\n                        if (_R[id].navigation.bullets.rtl)\r\n                            addBullet(_R[id].c,_b,li_rtl,id);\r\n                        else\r\n                            addBullet(_R[id].c,_b,li,id);\r\n\r\n                    if (c)\r\n                        if (_R[id].navigation.thumbnails.rtl)\r\n                            addThumb(_R[id].c,_c,li_rtl,'tp-thumb',id);\r\n                        else\r\n                            addThumb(_R[id].c,_c,li,'tp-thumb',id);\r\n                    if (d)\r\n                        if (_R[id].navigation.tabs.rtl)\r\n                            addThumb(_R[id].c,_d,li_rtl,'tp-tab',id);\r\n                        else\r\n                            addThumb(_R[id].c,_d,li,'tp-tab',id);\r\n                }\r\n            }\r\n\r\n            if (b) setNavElPositions(_b,id);\r\n            if (c) setNavElPositions(_c,id);\r\n            if (d) setNavElPositions(_d,id);\r\n            if (c || d) _R.updateDims(id);\r\n\r\n            _R[id].navigation.createNavigationDone = true;\r\n\r\n\r\n            if (c) jQuery.extend(true,_c,navOExt(id,\"thumb\"));\r\n            if (d) jQuery.extend(true,_d,navOExt(id,\"tab\"));\r\n\r\n\r\n            // LISTEN TO SLIDE CHANGE - SET ACTIVE SLIDE BULLET\r\n            _R[id].c.on('revolution.slide.onafterswap revolution.nextslide.waiting',function() {_R.updateNavElementContent(id,_a,_b,_c,_d)});\r\n\r\n            hdResets(_a);\r\n            hdResets(_b);\r\n            hdResets(_c);\r\n            hdResets(_d);\r\n\r\n            // HOVER OVER ELEMENTS SHOULD SHOW/HIDE NAVIGATION ELEMENTS\r\n\t\t_R[id].cpar.on(_R.ISM ? \"touchstart touchmove\" : \"mouseenter mousemove\",function(e) {\r\n                if (e.target!==undefined && e.target.className!==undefined && typeof e.target.className===\"string\" && e.target.className.indexOf(\"rs-waction\")>=0) return;\r\n                if (_R[id].tpMouseOver!==true) {\r\n                    if (_R[id].firstSlideAvailable) {\r\n                        _R[id].tpMouseOver=true;\r\n                        showNavElements(id);\r\n                        // ON MOBILE WE NEED TO HIDE ELEMENTS EVEN AFTER TOUCH\r\n                        if (_R.ISM && _R[id].someNavIsDragged!==true) {\r\n                            ct(_R[id].hideAllNavElementTimer);\r\n                            _R[id].hideAllNavElementTimer = setTimeout(function() {\r\n                                _R[id].tpMouseOver=false;\r\n                                hidaNavElements(id);\r\n                            },150);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n\t\t_R[id].cpar.on(_R.ISM ? \"touchend\" : \"mouseleave \",function() {\r\n                _R[id].tpMouseOver=false;\r\n                hidaNavElements(id);\r\n            });\r\n\r\n            // Initialise Swipe Navigation\r\n            if (c || d || _R[id].sliderType===\"carousel\" || ((_R[id].navigation.touch.touchOnDesktop) || (_R[id].navigation.touch.touchenabled && _R.ISM))) swipeAction(id);\r\n            _R[id].navigation.initialised = true;\r\n            _R.updateNavElementContent(id,_a,_b,_c,_d);\r\n            _R.showFirstTime(id);\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n    /////////////////////////////////\r\n    //\t-\tINTERNAL FUNCTIONS\t- ///\r\n    /////////////////////////////////\r\n\r\n    function navOExt(id,a) {\r\n        var r = new Object({single:'.tp-'+a,c:_R[id].cpar.find('.tp-'+a+'s')});\r\n        r.mask = r.c.find('.tp-'+a+'-mask');\r\n        r.wrap = r.c.find('.tp-'+a+'s-inner-wrapper');\r\n        return r;\r\n    }\r\n\r\n    var moveThumbsInPosition = function(s,id) {\r\n        if (s===undefined || s.mask==undefined) return;\r\n        var tw = s.direction===\"vertical\" ?\r\n            s.mask.find(s.single).first().outerHeight(true)+s.space :\r\n            s.mask.find(s.single).first().outerWidth(true)+s.space,\r\n            tmw = s.direction===\"vertical\" ? s.mask.height() : s.mask.width(),\r\n            ti = s.mask.find(s.single+'.selected').data('liindex');\r\n        ti = s.rtl ? (_R[id].slideamount - ti) : ti;\r\n        ti = ti===undefined ? 0 : ti;\r\n        ti = ti>0 && _R[id].sdir===1 ? s.visibleAmount>1 ? ti-1 : ti  : ti;\r\n\r\n        var me = tmw/tw,\r\n            ts = s.direction===\"vertical\" ? s.mask.height() : s.mask.width(),\r\n            tp = 0-(ti * tw),\r\n            els =  s.direction===\"vertical\" ? s.wrap.height() : s.wrap.width(),\r\n            curpos = tp < 0-(els-ts) ? 0-(els-ts) : tp,\r\n            elp = _R.gA(s.wrap[0],\"offset\");\r\n\r\n        elp = elp===undefined ? 0 : elp;\r\n\r\n        if (me>2) {\r\n            curpos = tp - (elp+tw) <= 0 ? tp - (elp+tw) < 0-tw ? elp : curpos + tw : curpos;\r\n            curpos = ( (tp-tw + elp + tmw)< tw && tp  + (Math.round(me)-2)*tw < elp) ? tp + (Math.round(me)-2)*tw : curpos;\r\n        }\r\n\r\n        curpos = (s.direction!==\"vertical\" && s.mask.width()>=s.wrap.width()  || s.direction===\"vertical\" && s.mask.height()>=s.wrap.height()) ? 0 : curpos < 0-(els-ts) ? 0-(els-ts) : curpos > 0 ? 0 : curpos;\r\n\r\n\r\n\r\n        if (!s.c.hasClass(\"dragged\")) {\r\n            if (s.direction===\"vertical\")\r\n                s.wrap.data('tmmove',tpGS.gsap.to(s.wrap,0.5,{top:curpos+\"px\",ease:\"power3.inOut\"}));\r\n            else\r\n                s.wrap.data('tmmove',tpGS.gsap.to(s.wrap,0.5,{left:curpos+\"px\",ease:\"power3.inOut\"}));\r\n            s.wrap.data('offset',curpos);\r\n        }\r\n    };\r\n\r\n\r\n    // RESIZE THE THUMBS BASED ON ORIGINAL SIZE AND CURRENT SIZE OF WINDOW\r\n    var rtt = function(id,tws,c,o,lis,wh) {\r\n        var h = c.parent().find('.tp-'+wh+'s'),\r\n            ins = h.find('.tp-'+wh+'s-inner-wrapper'),\r\n            mask = h.find('.tp-'+wh+'-mask'),\r\n            iw = o.direction === \"vertical\" ? o.cw : (o.cw*lis) + (parseFloat(o.space)*(lis-1)),\r\n            ih = o.direction === \"vertical\" ? (o.ch*lis) + (parseInt(o.space)*(lis-1)) : o.ch,\r\n            anm = o.direction === \"vertical\" ? {width:o.cw+\"px\"} : {height:o.ch+\"px\"};\r\n\r\n        tws.add(tpGS.gsap.set(h,anm));\r\n        tws.add(tpGS.gsap.set(ins,{width:iw+\"px\",height:ih+\"px\"}));\r\n\r\n        // Fixes wrong mask width when thumbs amount is set\r\n        // Old tws.add(tpGS.gsap.set(mask,{width:iw+\"px\",height:ih+\"px\"}));\r\n        if(o.direction === 'horizontal') {\r\n            var maskw = Math.min(iw, ((o.cw * o.visibleAmount) + (parseFloat(o.space) * (o.visibleAmount - 1))));\r\n            tws.add(tpGS.gsap.set(mask, { width: maskw + \"px\", height: ih + \"px\" }));\r\n        } else {\r\n            var maskh = Math.min(ih, ((o.ch * o.visibleAmount) + (parseFloat(o.space) * (o.visibleAmount - 1))));\r\n            tws.add(tpGS.gsap.set(mask, { width: iw + \"px\", height: maskh + \"px\" }));\r\n        }\r\n\r\n\r\n        if(ins.outerWidth() !== null) _R[id].thumbResized = true;\r\n\r\n        var fin = ins.find('.tp-'+wh+'');\r\n        if (fin)\r\n            jQuery.each(fin,function(i,el) {\r\n                if (o.direction === \"vertical\")\r\n                        tws.add(tpGS.gsap.set(el,{top:(i*(o.ch+parseInt((o.space===undefined? 0:o.space),0))),width:o.cw+\"px\",height:o.ch+\"px\"}));\r\n                else\r\n                if (o.direction === \"horizontal\")\r\n                    tws.add(tpGS.gsap.set(el,{left:(i*(o.cw+parseInt((o.space===undefined? 0:o.space),0))),width:o.cw+\"px\",height:o.ch+\"px\"}));\r\n            });\r\n        return tws;\r\n    };\r\n\r\n    // INTERNAL FUNCTIONS\r\n    var normalizeWheel = function( event) {\r\n        var  y = 0;\r\n\r\n        if ('deltaY' in event || 'deltaX' in event) { y = (event.deltaY==0 || event.deltaY==-0) && (event.deltaX<0 || event.deltaX>0) ? event.deltaX : event.deltaY; } else {\r\n              if ('detail'      in event) { y = event.detail; }\r\n              if ('wheelDelta'  in event) { y = -event.wheelDelta / 120; }\r\n              if ('wheelDeltaY' in event) { y = -event.wheelDeltaY / 120; }\r\n        }\r\n        y = navigator.userAgent.match(/mozilla/i) ? y*10 : y;\r\n        if (y>300 || y<-300) y = y/10;\r\n        return y;\r\n    };\r\n\r\n    var initKeyboard = function(id) {\r\n        if (_R[id].navigation.keyboardNavigation!==true)  return;\r\n        _R.document.on('keydown', function(e){\r\n\r\n            if ((_R[id].navigation.keyboard_direction==\"horizontal\" && e.keyCode == 39) || (_R[id].navigation.keyboard_direction==\"vertical\" && e.keyCode==40)) {\r\n                if (_R[id].keydown_time_stamp !==undefined && ((new Date().getTime() - _R[id].keydown_time_stamp)<1000)) return;\r\n                _R[id].sc_indicator=\"arrow\";\r\n                _R[id].sc_indicator_dir = 0;\r\n                if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n                _R.callingNewSlide(id,1,_R[id].sliderType===\"carousel\");\r\n            }\r\n            if ((_R[id].navigation.keyboard_direction==\"horizontal\" && e.keyCode == 37) || (_R[id].navigation.keyboard_direction==\"vertical\" && e.keyCode==38)) {\r\n                if (_R[id].keydown_time_stamp !==undefined && ((new Date().getTime() - _R[id].keydown_time_stamp)<1000)) return;\r\n                _R[id].sc_indicator=\"arrow\";\r\n                _R[id].sc_indicator_dir = 1;\r\n                if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n                _R.callingNewSlide(id,-1,_R[id].sliderType===\"carousel\");\r\n            }\r\n            _R[id].keydown_time_stamp = new Date().getTime();\r\n        });\r\n    };\r\n\r\n\r\n\r\n    var initMouseScroll = function(id) {\r\n\r\n        if (_R[id].navigation.mouseScrollNavigation!==true && _R[id].navigation.mouseScrollNavigation!==\"on\" && _R[id].navigation.mouseScrollNavigation!==\"carousel\") return;\r\n\r\n\t_R[id].c[0].addEventListener('wheel', wheelListener, {passive: false});\r\n\r\n\tfunction wheelListener(e) {\r\n\t\tvar y = normalizeWheel(e),\r\n                ret = false,\r\n                fs = _R[id].pr_active_key==0 || _R[id].pr_processing_key == 0,\r\n                ls = _R[id].pr_active_key==_R[id].slideamount-1 ||  _R[id].pr_processing_key == _R[id].slideamount-1,\r\n                b = _R[id].topc!==undefined ? _R[id].topc[0].getBoundingClientRect() : _R[id].canv.height === 0 ? _R[id].cpar[0].getBoundingClientRect() : _R[id].c[0].getBoundingClientRect(),\r\n\t\t\tvisiblesize = b.top >= 0 && b.bottom <= _R.winH ? 1 : b.top >= 0 && b.bottom >= _R.winH ? (_R.winH - Math.round(b.top)) / b.height : b.top <= 0 && b.bottom <= _R.winH ? Math.round(b.bottom) / b.height : 1;\r\n\r\n\t\t\tvar dir = y<0 ? -1 : 1,\r\n\t\t\t\twVP = _R[id].navigation.wheelViewPort;\r\n\r\n\t\t\tvisiblesize = Math.round(visiblesize*100) / 100;\r\n                if (_R[id].navigation.mouseScrollReverse==\"reverse\") {var a = ls; ls = fs;fs = a;}\r\n\r\n\t\tif(wVP - visiblesize <= _R[id].navigation.threshold/100 && !(visiblesize>=wVP)\r\n\t\t\t&& !((b.top >= 0 && dir === -1) || b.top <= 0 && dir === 1)) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif(!_R[id].mScrollTween){\r\n\t\t\t\tvar scrollTarget = _R[id].navigation.target === 'window' || !_R[id].navigation.target ? window : _R[id].navigation.target;\r\n\t\t\t\t_R[id].mScrollTween = tpGS.gsap.to(scrollTarget, {\r\n\t\t\t\t\tduration:  jQuery.fn.revolution.isWebkit() ? .1 : 0.7,\r\n\t\t\t\t\tscrollTo:{\r\n\t\t\t\t\t\ty: _R[id].topc,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tease: \"power2.out\",\r\n\t\t\t\t\tonComplete: function (){\r\n\t\t\t\t\t\t_R[id].mScrollTween.kill();\r\n\t\t\t\t\t\tdelete _R[id].mScrollTween;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t} else if (visiblesize>=wVP) {\r\n\r\n                if (_R[id].sliderType===\"carousel\" && _R[id].carousel.snap===false)\r\n                    _R.swipeAnimate({id:id,to:(_R[id].carousel.slide_offset+(y*5)),direction:y<0 ? \"left\" : \"right\",easing:\"power2.out\",phase:\"move\"});\r\n                else {\r\n\r\n\t\t\t\t_R[id].sc_indicator_dir = (_R[id].navigation.mouseScrollReverse===\"reverse\" && dir<0) || (_R[id].navigation.mouseScrollReverse!==\"reverse\" && dir>0) ? (_R[id].navigation.mouseScrollReverse!==\"reverse\" ? 0 : 1) : (_R[id].navigation.mouseScrollReverse!==\"reverse\" ? 1: 0);\r\n                    if (_R[id].navigation.mouseScrollNavigation==\"carousel\" || (_R[id].sc_indicator_dir===0 && !ls) || (_R[id].sc_indicator_dir===1 && !fs)) {\r\n\t\t\t\t\tif (_R[id].pr_processing_key===undefined && _R[id].justmouseScrolled!==true) {\r\n                            _R[id].sc_indicator=\"arrow\";\r\n                            if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n\t\t\t\t\t\t_R.callingNewSlide(id,_R[id].sc_indicator_dir===0 ? (_R[id].navigation.mouseScrollReverse===\"reverse\" ? -1 : 1) : (_R[id].navigation.mouseScrollReverse===\"reverse\" ? 1 : -1),_R[id].sliderType===\"carousel\");\r\n                            _R[id].justmouseScrolled = true;\r\n                            setTimeout(function() {\r\n                                _R[id].justmouseScrolled=false;\r\n                            },_R[id].navigation.wheelCallDelay)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//else delete _R[id].sc_indicator_dir;\r\n                    } else if (_R[id].justmouseScrolled!==true) ret = true;\r\n                }\r\n\r\n                if (!ret) {\r\n                    e.preventDefault(e);\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n\t}\r\n    };\r\n\r\n    var getClosest = function (elem, tagName) {\r\n        for ( ; elem && elem !== document; elem = elem.parentNode ) {\r\n            if ( elem.tagName === tagName ) return elem;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    var isme = function (a,e) {\r\n            var ret=false;\r\n            if (e.path===undefined || _R.ISM) ret = getClosest(e.target,a);\r\n            for (var i in e.path) if (e.path.hasOwnProperty(i) && e.path[i].tagName===a) ret = true;\r\n            return ret;\r\n    };\r\n    // \t-\tSET THE SWIPE FUNCTION //\r\n\r\n    var swipeAction = function(id) {\r\n        // TOUCH ENABLED SCROLL\r\n        var _ = _R[id].carousel,\r\n            ONANDROID = _R.is_android();\r\n\r\n        jQuery(\".bullet, .bullets, .tp-bullets, .tparrows\").addClass(\"noSwipe\");\r\n        _R[id].navigation.touch = _R[id].navigation.touch===undefined ? {} : _R[id].navigation.touch;\r\n        _R[id].navigation.touch.swipe_direction = _R[id].navigation.touch.swipe_direction===undefined ? \"horizontal\" : _R[id].navigation.touch.swipe_direction;\r\n\r\n\r\n        /*\r\n        Swipe over Navigation\r\n        */\r\n        _R[id].cpar.find('.rs-nav-element').rsswipe({\r\n            allowPageScroll:\"vertical\",\r\n            triggerOnTouchLeave:true,\r\n            treshold:_R[id].navigation.touch.swipe_treshold,\r\n            fingers:_R[id].navigation.touch.swipe_min_touches>5 ? 1 : _R[id].navigation.touch.swipe_min_touches,\r\n            excludedElements:\"button, input, select, textarea, .noSwipe, .rs-waction\",\r\n            tap:function(event,target) {\r\n                if (target!==undefined)\r\n                    var p = jQuery(target).closest('rs-thumb'); if (p!==undefined && p.length>0) p.trigger('click'); else { p = jQuery(target).closest('rs-tab'); if (p.length>0) p.trigger('click'); else { p = jQuery(target).closest('rs-bullet'); if (p.length>0) p.trigger('click');}}\r\n            },\r\n            swipeStatus:function(event,phase,direction,distance,duration,fingerCount,fingerData) {\r\n                // SWIPE OVER THUMBS OR TABS\r\n                if (phase===\"start\" || phase===\"move\" || phase===\"end\" || phase==\"cancel\") {\r\n                    var ONTHUMBS =  isme('RS-THUMB',event),\r\n                        ONTABS =  isme('RS-TAB',event);\r\n                    if (ONTHUMBS===false && ONTABS===false) {\r\n                        ONTHUMBS =  event.target.tagName === 'RS-THUMBS-WRAP' || event.target.tagName === 'RS-THUMBS' || event.target.className.indexOf('tp-thumb-mask')>=0;\r\n                        if (ONTHUMBS!==true) ONTABS =  event.target.tagName === 'RS-TABS-WRAP' || event.target.tagName === 'RS-TABS' ||  event.target.className.indexOf('tp-tab-mask')>=0 ;\r\n                    }\r\n                    var\tdistanceX = phase===\"start\" ? 0 : ONANDROID ? fingerData[0].end.x - fingerData[0].start.x : event.pageX - _.screenX,\r\n                        distanceY = phase===\"start\" ? 0 : ONANDROID ? fingerData[0].end.y - fingerData[0].start.y : event.pageY - _.screenY,\r\n                        thumbs = ONTHUMBS ? \".tp-thumbs\" : \".tp-tabs\",\r\n                        thumbmask = ONTHUMBS ? \".tp-thumb-mask\" : \".tp-tab-mask\",\r\n                        thumbsiw = ONTHUMBS ? \".tp-thumbs-inner-wrapper\" : \".tp-tabs-inner-wrapper\",\r\n                        thumb = ONTHUMBS ? \".tp-thumb\" : \".tp-tab\",\r\n                        _o = ONTHUMBS ? _R[id].navigation.thumbnails : _R[id].navigation.tabs,\r\n                        t= _R[id].cpar.find(thumbmask),\r\n                        el = t.find(thumbsiw),\r\n                        tdir = _o.direction,\r\n                        els = tdir===\"vertical\" ? el.height() : el.width(),\r\n                        ts =  tdir===\"vertical\" ? t.height() : t.width(),\r\n                        tw = tdir===\"vertical\" ? t.find(thumb).first().outerHeight(true)+parseFloat(_o.space) : t.find(thumb).first().outerWidth(true)+parseFloat(_o.space),\r\n                        newpos =  (el.data('offset') === undefined ? 0 : parseInt(el.data('offset'),0)),\r\n                        curpos = 0;\r\n\r\n                    switch (phase) {\r\n                        case \"start\":\r\n                            if (tdir===\"vertical\") event.preventDefault();\r\n                            _.screenX = ONANDROID ? fingerData[0].end.x : event.pageX;\r\n                            _.screenY = ONANDROID ? fingerData[0].end.y : event.pageY;\r\n                            _R[id].cpar.find(thumbs).addClass(\"dragged\");\r\n                            newpos = tdir === \"vertical\" ? el.position().top : el.position().left;\r\n                            el.data('offset',newpos);\r\n                            if (el.data('tmmove')) el.data('tmmove').pause();\r\n                            _R[id].someNavIsDragged = true;\r\n                            clearAllHidings(id);\r\n                        break;\r\n                        case \"move\":\r\n                            if (els<=ts) return false;\r\n                            curpos = newpos + (tdir === \"vertical\" ? distanceY : distanceX);\r\n                            curpos = curpos>0 ? tdir===\"horizontal\" ? curpos - (el.width() * (curpos/el.width() * curpos/el.width())) : curpos - (el.height() * (curpos/el.height() * curpos/el.height())) : curpos;\r\n                            var dif = tdir===\"vertical\" ? 0-(el.height()-t.height()) : 0-(el.width()-t.width());\r\n                            curpos = curpos < dif ? tdir===\"horizontal\" ? curpos + (el.width() * (curpos-dif)/el.width() * (curpos-dif)/el.width()) : curpos + (el.height() * (curpos-dif)/el.height() * (curpos-dif)/el.height()) : curpos;\r\n                            if (tdir===\"vertical\") tpGS.gsap.set(el,{top:curpos+\"px\"}); else tpGS.gsap.set(el,{left:curpos+\"px\"});\r\n                            ct(_R[id].hideAllNavElementTimer);\r\n                        break;\r\n                        case \"end\":\r\n                        case \"cancel\":\r\n\t\t\t\t\t\tif(_R[id].navigation.draggable && _R[id].navigation.draggable.enable) _R[id].navigation.draggable.enable();\r\n\t\t\t\t\t\tif(_.draggable && _.draggable.enable) _.draggable.enable();\r\n\r\n                            curpos = newpos + (tdir === \"vertical\" ? distanceY : distanceX);\r\n                            curpos = tdir===\"vertical\" ? curpos < 0-(el.height()-t.height()) ? 0-(el.height()-t.height()) : curpos : curpos < 0-(el.width()-t.width()) ? 0-(el.width()-t.width()) : curpos;\r\n                            curpos = curpos > 0 ? 0 : curpos;\r\n                            curpos = Math.abs(distance)>tw/10 ? distance<=0 ? Math.floor(curpos/tw)*tw : Math.ceil(curpos/tw)*tw : distance<0 ? Math.ceil(curpos/tw)*tw : Math.floor(curpos/tw)*tw;\r\n                            curpos = tdir===\"vertical\" ? curpos < 0-(el.height()-t.height()) ? 0-(el.height()-t.height()) : curpos : curpos < 0-(el.width()-t.width()) ? 0-(el.width()-t.width()) : curpos;\r\n                            curpos = curpos > 0 ? 0 : curpos;\r\n                            if (tdir===\"vertical\") tpGS.gsap.to(el,0.5,{top:curpos+\"px\",ease:\"power3.out\"}); else tpGS.gsap.to(el,0.5,{left:curpos+\"px\",ease:\"power3.out\"});\r\n                            curpos = !curpos ?  tdir===\"vertical\" ? el.position().top : el.position().left : curpos;\r\n                            el.data('offset',curpos);\r\n                            el.data('distance',distance);\r\n                            _R[id].cpar.find(thumbs).removeClass(\"dragged\");\r\n                            _R[id].someNavIsDragged = false;\r\n                            return true;\r\n                        break;\r\n                    }\r\n                } else {\r\n                    //if (_R[id].navigation.touch.drag_block_vertical) event.preventDefault();\r\n                    return true;\r\n                }\r\n            }\r\n        });\r\n\r\n        /*\r\n        SWIPE OVER SLIDER\r\n        */\r\n\r\n\r\n\tif (_R[id].sliderType === \"carousel\"){\r\n\t\t_R.setupCarousel(id);\r\n\t}\r\n\r\n\tif(_R[id].sliderType!==\"carousel\" && ((_R.ISM && _R[id].navigation.touch.touchenabled) || (_R.ISM!==true && _R[id].navigation.touch.touchOnDesktop))){\r\n\t\t_R[id].navigation.proxy = document.createElement('div');\r\n\t\t_R[id].navigation.draggable = tpGS.draggable.create(_R[id].navigation.proxy, {\r\n\t\t\ttrigger: _R[id].c[0],\r\n\t\t\ttype: _R[id].navigation.touch.swipe_direction === \"horizontal\" ? \"x\" : \"y\",\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tlockAxis: true,\r\n\t\t\tallowContextMenu: true,\r\n\t\t\tallowEventDefault: true,\r\n\t\t\tonPress: function(e){\r\n\t\t\t\tif(_R.closestClass(e.target, 'rs-nav-element')) {\r\n\t\t\t\t\t_R[id].navigation.draggable.endDrag();\r\n\t\t\t\t\t_R[id].navigation.draggable.disable();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDragStart: function(){\r\n\t\t\t\tvar nav = _R[id].navigation;\r\n\t\t\t\tvar key = _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key === undefined ? 0 : _R[id].pr_active_key;\r\n\r\n\t\t\t\tif(this.getDirection() === \"up\" && key == _R[id].slideamount - 1 ||\r\n\t\t\t\tthis.getDirection() === \"down\" && (key === 0)) {\r\n\t\t\t\t\tnav.forceScroll = true;\r\n                    }\r\n\t\t\t\telse nav.forceScroll = false;\r\n\r\n                },\r\n\t\t\tonDragEnd: function(){\r\n\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\tvar direction = this.getDirection();\r\n\t\t\t\tvar nav = _R[id].navigation;\r\n\r\n\t\t\t\tif(nav.forceScroll) {\r\n\t\t\t\t\tif(this.getDirection() === \"up\") _R.document.scrollTop(_R[id].cpar.offset().top + _R[id].module.height);\r\n\t\t\t\t\telse _R.document.scrollTop(_R.document.scrollTop() - (window.innerHeight - _R[id].cpar[0].getBoundingClientRect().top));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((_R[id].navigation.touch.swipe_direction==\"horizontal\" && direction == \"left\") || (_R[id].navigation.touch.swipe_direction==\"vertical\" && direction == \"up\")) {\r\n\t\t\t\t\t_R[id].sc_indicator_dir = 0;\r\n\t\t\t\t\t_R.callingNewSlide(id,1);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif ((_R[id].navigation.touch.swipe_direction==\"horizontal\" && direction == \"right\") || (_R[id].navigation.touch.swipe_direction==\"vertical\" && direction == \"down\")) {\r\n\t\t\t\t\t_R[id].sc_indicator_dir = 1;\r\n\t\t\t\t\t_R.callingNewSlide(id,-1);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n                }\r\n            });\r\n        }\r\n\r\n        // REMOVE CAROUSEL ICONS IF NOT NEEDED\r\n        if (_R[id].sliderType===\"carousel\" && ((_R.ISM && _R[id].navigation.touch.mobileCarousel==false) || (_R.ISM!==true && _R[id].navigation.touch.desktopCarousel===false))) _.wrap.addClass(\"noswipe\");\r\n        //NEW iOS Disable Vertical Scroll Class\r\n        if (_R[id].navigation.touch.drag_block_vertical) _R[id].c.addClass(\"disableVerticalScroll\");\r\n    };\r\n\r\n\r\n    // NAVIGATION HELPER FUNCTIONS\r\n    var hdResets = function(o) {\r\n\r\n        o.hide_delay = !_R.isNumeric(parseInt(o.hide_delay,0)) ? 0.2 : o.hide_delay;\r\n        o.hide_delay_mobile = !_R.isNumeric(parseInt(o.hide_delay_mobile,0)) ? 0.2 : o.hide_delay_mobile;\r\n    };\r\n\r\n    var ckNO = function(s) {\r\n         return s && s.enable;\r\n    };\r\n\r\n\r\n    var ct = function(a) {\r\n        clearTimeout(a);\r\n    };\r\n\r\n    var showNavElements = function(id) {\r\n        var nt = _R[id].navigation.maintypes;\r\n        for (var i in nt)\r\n            if (nt.hasOwnProperty(i))\r\n                if (ckNO(_R[id].navigation[nt[i]]) && _R[id].navigation[nt[i]].c!==undefined) {\r\n                    ct(_R[id].navigation[nt[i]].showCall);\r\n                    _R[id].navigation[nt[i]].showCall = setTimeout(function(a) {\r\n                        ct(a.hideCall);\r\n                        if  (!(a.hide_onleave && _R[id].tpMouseOver!==true)) {\r\n                            if (a.tween===undefined)\r\n                                a.tween = showHideNavElements(a);\r\n                            else\r\n                                a.tween.play();\r\n                        }\r\n                    },(_R[id].navigation[nt[i]].hide_onleave && _R[id].tpMouseOver!==true ? 0 : parseInt(_R[id].navigation[nt[i]].animDelay)),_R[id].navigation[nt[i]]);\r\n                }\r\n\r\n    };\r\n    var clearAllHidings = function(id) {\r\n        var nt = _R[id].navigation.maintypes;\r\n        for (var i in nt) if (nt.hasOwnProperty(i)) if (_R[id].navigation[nt[i]]!==undefined && _R[id].navigation[nt[i]].hide_onleave && ckNO(_R[id].navigation[nt[i]])) ct(_R[id].navigation[nt[i]].hideCall);\r\n    }\r\n\r\n    var hidaNavElements = function(id,removeClass) {\r\n        var nt = _R[id].navigation.maintypes;\r\n        for (var i in nt)\r\n            if (nt.hasOwnProperty(i))\r\n                if (_R[id].navigation[nt[i]]!==undefined && _R[id].navigation[nt[i]].hide_onleave && ckNO(_R[id].navigation[nt[i]])) {\r\n                    ct(_R[id].navigation[nt[i]].hideCall);\r\n                    _R[id].navigation[nt[i]].hideCall = setTimeout(function(a) {\r\n                        ct(a.showCall);\r\n                        if (a.tween) a.tween.reverse();\r\n                    },(_R.ISM ? parseInt(_R[id].navigation[nt[i]].hide_delay_mobile,0) : parseInt(_R[id].navigation[nt[i]].hide_delay,0)),_R[id].navigation[nt[i]]);\r\n                }\r\n    };\r\n\r\n\r\n    var showHideNavElements = function(a) {\r\n        a.speed = a.animSpeed===undefined ? 0.5 : a.animSpeed;\r\n        a.anims = [];\r\n        if (a.anim!==undefined && a.left===undefined) a.anims.push(a.anim);\r\n        if (a.left!==undefined) a.anims.push(a.left.anim);\r\n        if (a.right!==undefined) a.anims.push(a.right.anim);\r\n\r\n\r\n        var tw = tpGS.gsap.timeline()\r\n        tw.add(tpGS.gsap.to(a.c,a.speed, {delay: a.animDelay, opacity:1,ease:\"power3.inOut\"}),0);\r\n        for (var i in a.anims) {\r\n            if (!a.anims.hasOwnProperty(i)) continue;\r\n            switch (a.anims[i]) {\r\n                case \"left\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginLeft:-50},{delay: a.animDelay, marginLeft:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"right\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginLeft:50},{delay: a.animDelay, marginLeft:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"top\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginTop:-50},{delay: a.animDelay, marginTop:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"bottom\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {marginTop:50},{delay: a.animDelay, marginTop:\"0px\",ease:\"power3.inOut\"}),0);break;\r\n                case \"zoomin\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {scale:0.5},{delay: a.animDelay, scale:1,ease:\"power3.inOut\"}),0);break;\r\n                case \"zoomout\":tw.add(tpGS.gsap.fromTo(a.c[i],a.speed, {scale:1.2},{delay: a.animDelay, scale:1,ease:\"power3.inOut\"}),0);break;\r\n            }\r\n        }\r\n        tw.play();\r\n        return tw;\r\n    };\r\n\r\n\r\n\r\n    // ADD ARROWS\r\n    var initArrows = function(o,id) {\r\n\r\n        // SET oIONAL CLASSES\r\n        o.style = o.style === undefined ? \"\" : o.style;\r\n        o.left.style = o.left.style === undefined ? \"\" : o.left.style;\r\n        o.right.style = o.right.style === undefined ? \"\" : o.right.style;\r\n\r\n        // ADD LEFT AND RIGHT ARROWS\r\n        if (o.left.c===undefined) {\r\n            o.left.c = jQuery('<rs-arrow style=\"opacity:0\" class=\"tp-leftarrow tparrows '+o.style+' '+o.left.style+'\">'+o.tmp+'</rs-arrow>');\r\n            _R[id].c.append(o.left.c);;\r\n        }\r\n        if (o.right.c===undefined) {\r\n            o.right.c= jQuery('<rs-arrow style=\"opacity:0\"  class=\"tp-rightarrow tparrows '+o.style+' '+o.right.style+'\">'+o.tmp+'</rs-arrow>');\r\n            _R[id].c.append(o.right.c);\r\n        }\r\n\r\n        o[o.rtl ? \"left\" : \"right\"].c.on('click',function() { /* if (_R.delayer(id,500,\"arrow\")===false) return false; */if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;_R[id].sc_indicator=\"arrow\"; _R[id].sc_indicator_dir = 0;_R[id].c.revnext();});\r\n        o[o.rtl ? \"right\" : \"left\"].c.on('click',function() {  /*if (_R.delayer(id,500,\"arrow\")===false) return false; */if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;_R[id].sc_indicator=\"arrow\"; _R[id].sc_indicator_dir = 1;_R[id].c.revprev();});\r\n\r\n\r\n        // OUTTUER PADDING DEFAULTS\r\n        o.padding_top = parseInt((_R[id].carousel.padding_top||0),0);\r\n        o.padding_bottom = parseInt((_R[id].carousel.padding_bottom||0),0);\r\n\r\n        // POSITION OF ARROWS\r\n        setNavElPositions(o.left,id);\r\n        setNavElPositions(o.right,id);\r\n\r\n        if (o.position==\"outer-left\" || o.position==\"outer-right\") _R[id].outernav = true;\r\n    };\r\n\r\n\r\n    // PUT ELEMENTS VERTICAL / HORIZONTAL IN THE RIGHT POSITION\r\n    var putVinPosition = function(el,o,id,elh) {\r\n        var elh = elh===undefined ? el.outerHeight(true) : elh,\r\n            oh = _R[id]== undefined ? 0 : _R[id].canv.height == 0 ? _R[id].module.height : _R[id].canv.height,\r\n            by = o.container==\"layergrid\" ? _R[id].sliderLayout==\"fullscreen\" ? _R[id].module.height/2 - (_R[id].gridheight[_R[id].level]*_R[id].CM.h)/2 : (_R[id].autoHeight || (_R[id].minHeight!=undefined && _R[id].minHeight>0)) ?\r\n                            oh/2 - (_R[id].gridheight[_R[id].level]*_R[id].CM.h)/2\r\n                            : 0\r\n                : 0,\r\n            a = o.v_align === \"top\" ? {top:\"0px\",y:Math.round(o.v_offset+by)+\"px\"} : o.v_align === \"center\" ? {top:\"50%\",y:Math.round(((0-elh/2)+o.v_offset))+\"px\"} : {top:\"100%\",y:Math.round((0-(elh+o.v_offset+by)))+\"px\"};\r\n        if (!el.hasClass(\"outer-bottom\")) tpGS.gsap.set(el,a);\r\n    };\r\n\r\n    var putHinPosition = function(el,o,id,elw) {\r\n        var elw = elw===undefined ? el.outerWidth() : elw,\r\n            bx = o.container===\"layergrid\" ? _R[id].module.width/2 - (_R[id].gridwidth[_R[id].level]*_R[id].CM.w)/2 : 0,\r\n            a = o.h_align === \"left\" ? \t\t{left:\"0px\",\tx:Math.round(o.h_offset+bx) + \"px\"} :\r\n                o.h_align === \"center\" ? \t{left:\"50%\",\tx:Math.round(((0-elw/2)+o.h_offset)) + \"px\" } :\r\n                                            //{right:elw+\"px\", left:\"auto\",\t\tx:Math.round((0-(o.h_offset+bx))) + \"px\" };\r\n                                            {left:\"100%\",\tx:Math.round((0-(elw+o.h_offset+bx))) + \"px\" };\r\n        tpGS.gsap.set(el,a);\r\n    };\r\n\r\n    var setNavElPositions = function(o,id) {\r\n        if (o==undefined || o.c===undefined) return;\r\n        var ff = (_R[id].sliderLayout==\"fullwidth\" || _R[id].sliderLayout==\"fullscreen\"),\r\n            ww = ff ? _R[id].module.width : _R[id].canv.width,\r\n            ow = o.c.outerWidth(),\r\n            oh = o.c.outerHeight();\r\n\r\n\r\n        //if (ow===0 || oh===0) return;\r\n        if (ow <= 0 || oh <= 0) return;\r\n\r\n        putVinPosition(o.c,o,id,oh);\r\n        putHinPosition(o.c,o,id,ow);\r\n\r\n        if (o.position===\"outer-left\")\r\n            tpGS.gsap.set(o.c,{left:(0-ow)+\"px\",x:o.h_offset+\"px\"});\r\n        else\r\n        if (o.position===\"outer-right\")\r\n            tpGS.gsap.set(o.c,{right:(0-ow)+\"px\",x:o.h_offset+\"px\"});\r\n\r\n\r\n        // MAX WIDTH AND HEIGHT BASED ON THE SOURROUNDING CONTAINER\r\n        if (o.type===\"tp-thumb\" || o.type===\"tp-tab\") {\r\n\r\n            var\tcpt = parseInt((o.padding_top||0),0),\r\n                cpb = parseInt((o.padding_bottom||0),0),\r\n                _el = {},\r\n                _mask = {};\r\n\r\n            if (o.maxw>ww && o.position!==\"outer-left\" && o.position!==\"outer-right\") {\r\n                _el.left = \"0px\";\r\n                _el.x = 0;\r\n                _el.maxWidth = ((ww-2*o.wpad)) +\"px\";\r\n                _mask.maxWidth = (ww-2*o.wpad)+\"px\";\r\n            } else {\r\n                _el.maxWidth = o.maxw;\r\n                _mask.maxWidth = ww+\"px\";\r\n            }\r\n\r\n\r\n\r\n            if (o.maxh+2*o.wpad>_R[id].conh && o.position!==\"outer-bottom\" && o.position!==\"outer-top\") {\r\n                _el.top = \"0px\";\r\n                _el.y = 0;\r\n                _el.maxHeight = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n                _mask.maxHeight = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n            } else {\r\n                _el.maxHeight = (o.maxh ) + \"px\";\r\n                _mask.maxHeight = (o.maxh) + \"px\";\r\n            }\r\n\r\n            o.mask=o.mask===undefined ? o.c.find('rs-navmask') : o.mask;\r\n\r\n            if (o.mhoff>0 || o.mvoff>0) _mask.padding = o.mvoff+\"px \"+o.mhoff+\"px\";\r\n\r\n\r\n            // SPAN IS ENABLED\r\n            if (o.span) {\r\n                if (o.container==\"layergrid\" && o.position!==\"outer-left\" && o.position!==\"outer-right\") cpt = cpb = 0;\r\n                if (o.direction===\"vertical\") {\r\n\r\n                    _el.maxHeight = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n                    _el.height = (cpt+cpb+(_R[id].conh-2*o.wpad))+\"px\";\r\n                    _el.top = 0; //(0-cpt);\r\n                    _el.y = 0;\r\n                    _mask.maxHeight = \t(cpt+cpb+(Math.min(o.maxh,(_R[id].conh-2*o.wpad))))+\"px\";\r\n                    tpGS.gsap.set(o.c,_el);\r\n                    tpGS.gsap.set(o.mask,_mask);\r\n                    putVinPosition(o.mask,o,id);\r\n                } else\r\n                if (o.direction===\"horizontal\") {\r\n                    _el.maxWidth = \"100%\";\r\n                    _el.width = (ww-2*o.wpad)+\"px\";\r\n                    _el.left = 0;\r\n                    _el.x = 0;\r\n                    _mask.maxWidth = o.maxw>=ww ? \"100%\" : (Math.min(o.maxw,ww))+\"px\";\r\n                    tpGS.gsap.set(o.c,_el);\r\n                    tpGS.gsap.set(o.mask,_mask);\r\n                    putHinPosition(o.mask,o,id);\r\n                }\r\n            } else {\r\n                tpGS.gsap.set(o.c,_el);\r\n                tpGS.gsap.set(o.mask,_mask);\r\n            }\r\n        }\r\n    };\r\n\r\n    // ADD A BULLET\r\n    var addBullet = function(container,o,li,id) {\r\n        // Check if Bullet exists already ?\r\n        if (container.find('.tp-bullets').length===0) {\r\n            o.style = o.style === undefined ? \"\" : o.style;\r\n            o.c = jQuery('<rs-bullets style=\"opacity:0\"  class=\"tp-bullets '+o.style+' '+o.direction+' nav-pos-hor-'+o.h_align+' nav-pos-ver-'+o.v_align+' nav-dir-'+o.direction+'\"></rs-bullets>');\r\n        }\r\n        // Add Bullet Structure to the Bullet Container\r\n        var linkto = li.data('key'),\r\n             inst = o.tmp;\r\n\r\n        if (_R[id].thumbs[li.index()]!==undefined) jQuery.each(_R[id].thumbs[li.index()].params,function(i,obj) { inst = inst.replace(obj.from,obj.to);});\r\n        var b = jQuery('<rs-bullet data-key=\"'+linkto+'\" class=\"tp-bullet\">'+inst+'</rs-bullet>');\r\n        if (_R[id].thumbs[li.index()]!==undefined) b.find('.tp-bullet-image').css({backgroundImage:'url('+_R[id].thumbs[li.index()].src+')'});\r\n\r\n        o.c.append(b);\r\n        container.append(o.c);\r\n\r\n        // SET BULLET SPACES AND POSITION\r\n        var am = o.c.find('.tp-bullet').length,\r\n            bOW = b.outerWidth(),\r\n            bOH = b.outerHeight(),\r\n            w = bOW+parseInt((o.space===undefined? 0:o.space),0),\r\n            h = bOH+parseInt((o.space===undefined? 0:o.space),0);\r\n\r\n        if (o.direction===\"vertical\") {\r\n            b.css({top:((am-1)*h)+\"px\", left:\"0px\"});\r\n            o.c.css({height:(((am-1)*h) + bOH),width:bOW});\r\n        }\r\n        else {\r\n            b.css({left:((am-1)*w)+\"px\", top:\"0px\"});\r\n            o.c.css({width:(((am-1)*w) + bOW),height:bOH});\r\n        }\r\n\r\n        // SET LINK TO AND LISTEN TO CLICK\r\n        b.on('click',function() {\r\n            if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n            _R[id].sc_indicator=\"bullet\";\r\n            container.revcallslidewithid(linkto);\r\n            container.find('.tp-bullet').removeClass(\"selected\");\r\n            jQuery(this).addClass(\"selected\");\r\n        });\r\n\r\n        // OUTTUER PADDING DEFAULTS\r\n        o.padding_top = parseInt((_R[id].carousel.padding_top||0),0);\r\n        o.padding_bottom = parseInt((_R[id].carousel.padding_bottom||0),0);\r\n\r\n        if (o.position==\"outer-left\" || o.position==\"outer-right\") _R[id].outernav = true;\r\n    };\r\n\r\n\r\n    // ADD THUMBNAILS\r\n    var addThumb = function(container,o,li,what,id) {\r\n\r\n        var thumbs = what===\"tp-thumb\" ? \".tp-thumbs\" : \".tp-tabs\",\r\n            thumbmask = what===\"tp-thumb\" ? \".tp-thumb-mask\" : \".tp-tab-mask\",\r\n            thumbsiw = what===\"tp-thumb\" ? \".tp-thumbs-inner-wrapper\" : \".tp-tabs-inner-wrapper\",\r\n            thumb = what===\"tp-thumb\" ? \".tp-thumb\" : \".tp-tab\",\r\n            timg = what ===\"tp-thumb\" ? \".tp-thumb-image\" : \".tp-tab-image\",\r\n            tag = what===\"tp-thumb\" ? 'rs-thumb' : 'rs-tab';\r\n        o.type = what;\r\n        o.visibleAmount = o.visibleAmount>_R[id].slideamount ? _R[id].slideamount : o.visibleAmount;\r\n        o.sliderLayout = _R[id].sliderLayout;\r\n\r\n\r\n\r\n        // Check if THUNBS/TABS exists already ?\r\n        if (o.c===undefined) {\r\n            o.wpad = o.wrapper_padding;\r\n            o.c = jQuery('<'+tag+'s style=\"opacity:0\" class=\"nav-dir-'+o.direction+' nav-pos-ver-'+o.v_align+' nav-pos-hor-'+o.h_align+' rs-nav-element '+what+'s '+(o.span===true ? \"tp-span-wrapper\" : \"\")+\" \"+o.position+\" \"+(o.style === undefined ? \"\" : o.style)+'\"><rs-navmask class=\"'+what+'-mask\" style=\"overflow:hidden;position:relative\"><'+tag+'s-wrap class=\"'+what+'s-inner-wrapper\" style=\"position:relative;\"></'+tag+'s-wrap></rs-navmask></'+tag+'s>');\r\n            o.c.css({overflow:\"visible\",position:(o.position === \"outer-top\" || o.position===\"outer-bottom\" ? \"relative\" : \"absolute\"),background:o.wrapper_color,padding:o.wpad+\"px\",boxSizing:\"contet-box\"});\r\n            if (o.position===\"outer-top\") container.parent().prepend(o.c);\r\n            else if (o.position===\"outer-bottom\") container.after(o.c);\r\n            else container.append(o.c);\r\n\r\n            if (o.position===\"outer-left\" || o.position===\"outer-right\") tpGS.gsap.set(_R[id].c,{overflow:\"visible\"});\r\n\r\n            // OUTTUER PADDING DEFAULTS\r\n            o.padding_top = parseInt((_R[id].carousel.padding_top||0),0);\r\n            o.padding_bottom = parseInt((_R[id].carousel.padding_bottom||0),0);\r\n\r\n            if (o.position==\"outer-left\" || o.position==\"outer-right\") _R[id].outernav = true;\r\n        }\r\n\r\n        // Add Thumb/TAB Structure to the THUMB/TAB Container\r\n        var linkto = li.data('key'),\r\n            tm = o.c.find(thumbmask),\r\n            tw = tm.find(thumbsiw),\r\n            inst = o.tmp;\r\n        o.space = parseFloat(o.space) || 0;\r\n\r\n        o.maxw = o.direction===\"horizontal\" ? (o.width * o.visibleAmount) + (o.space*(o.visibleAmount-1)) : o.width;\r\n        o.maxh = o.direction===\"horizontal\" ? o.height : (o.height * o.visibleAmount) + (o.space*(o.visibleAmount-1));\r\n\r\n        o.maxw += 2*o.mhoff;\r\n        o.maxh += 2*o.mvoff;\r\n\r\n        if (_R[id].thumbs[li.index()] !== undefined) jQuery.each(_R[id].thumbs[li.index()].params,function(i,obj) { inst = inst.replace(obj.from,obj.to);});\r\n\r\n        var b = jQuery('<'+tag+' data-liindex=\"'+li.index()+'\" data-key=\"'+linkto+'\" class=\"'+what+'\" style=\"width:'+o.width+'px;height:'+o.height+'px;\">'+inst+'<'+tag+'>');\r\n        // FILL CONTENT INTO THE TAB / THUMBNAIL\r\n        if (_R[id].thumbs[li.index()]!==undefined)\tb.find(timg).css({backgroundImage:\"url(\"+_R[id].thumbs[li.index()].src+\")\"});\r\n        tw.append(b);\r\n\r\n        // SET BULLET SPACES AND POSITION\r\n        var am = o.c.find(thumb).length,\r\n            bow = b.outerWidth(),\r\n            boh = b.outerHeight(),\r\n            w = bow+parseInt((o.space===undefined? 0:o.space),0),\r\n            h = boh+parseInt((o.space===undefined? 0:o.space),0);\r\n\r\n\r\n        if (o.direction===\"vertical\") {\r\n            b.css({top:((am-1)*h)+\"px\", left:\"0px\"});\r\n            tw.css({height:(((am-1)*h) + boh),width:bow});\r\n        }\r\n        else {\r\n            b.css({left:((am-1)*w)+\"px\", top:\"0px\"});\r\n            tw.css({width:(((am-1)*w) + bow),height:boh});\r\n        }\r\n\r\n\r\n        tm.css({maxWidth:o.maxw+\"px\",maxHeight:o.maxh+\"px\"});\r\n        o.c.css({maxWidth:(o.maxw)+\"px\", maxHeight:o.maxh+\"px\"});\r\n\r\n\r\n        // SET LINK TO AND LISTEN TO CLICK\r\n        b.on('click',function() {\r\n            _R[id].sc_indicator=\"bullet\";\r\n            if (_R[id].sliderType===\"carousel\") _R[id].ctNavElement=true;\r\n            var dis = container.parent().find(thumbsiw).data('distance');\r\n            dis = dis === undefined ? 0 : dis;\r\n            if (Math.abs(dis)<10) {\r\n                container.revcallslidewithid(linkto);\r\n                container.parent().find(thumbs).removeClass(\"selected\");\r\n                jQuery(this).addClass(\"selected\");\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // HIDE NAVIGATION ON PURPOSE\r\n    var biggerNav = function(el,id,chng) {\r\n        if (el==undefined || el.c===undefined) return chng;\r\n        if (el.hide_under>_R[id].canv.width || _R[id].canv.width>el.hide_over) {\r\n            if (el.tpForceNotVisible!==true) { el.c.addClass(\"tp-forcenotvisible\");\tel.isVisible = false; chng=true;}\r\n            el.tpForceNotVisible = true;\r\n        } else {\r\n            if (el.tpForceNotVisible!==false) {el.c.removeClass(\"tp-forcenotvisible\");\tel.isVisible = true;chng=true;}\r\n            el.tpForceNotVisible = false;\r\n        }\r\n        return chng;\r\n    }\r\n\r\n    //Support Defer and Async and Footer Loads\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.navigation = {loaded:true, version:version};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n    })(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.layeranimation.js":"/************************************************\r\n * REVOLUTION EXTENSION LAYER ANIMATION\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n ************************************************/\r\n\r\n (function($) {\r\n\t\"use strict\";\r\n\r\n\tvar\r\n\t\tversion = \"6.6.0\",\r\n\t\tsplitTypes = [\"chars\", \"words\", \"lines\"],\r\n\t\tHR = [\"Top\", \"Right\", \"Bottom\", \"Left\"],\r\n\t\tCO = [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"],\r\n\t\thr = [\"top\", \"right\", \"bottom\", \"left\"];\r\n\r\n\tjQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\tvar _R = jQuery.fn.revolution;\r\n\r\n\t///////////////////////////////////////////\r\n\t// \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n\t///////////////////////////////////////////\r\n\tjQuery.extend(true, _R, {\r\n\t\tcheckLayerDimensions: function(o) {\r\n\t\t\tvar reset = false;\r\n\t\t\tfor (var li in _R[o.id].layers[o.skey]) {\r\n\t\t\t\tif (!_R[o.id].layers[o.skey].hasOwnProperty(li)) continue;\r\n\t\t\t\t//if (reset) continue;\r\n\t\t\t\tvar layer = _R[o.id].layers[o.skey][li],\r\n\t\t\t\t\t_ = _R[o.id]._L[layer.id];\r\n\t\t\t\tif (_.eow !== layer.offsetWidth && _R.gA(layer, \"vary-layer-dims\") !== \"true\") reset = true;\r\n\t\t\t\t_.lastknownwidth = _.eow;\r\n\t\t\t\t_.lastknownheight = _.eoh;\r\n\r\n\t\t\t\tif (!_._slidelink) _R[o.id].caches.calcResponsiveLayersList.push({ a: _R[o.id]._L[layer.id].c, b: o.id, c: 0, d: _.rsp_bd, e: o.slideIndex });\r\n\t\t\t}\r\n\t\t\treturn reset;\r\n\t\t},\r\n\r\n\t\trequestLayerUpdates: function(id, type, layerid, tPE) {\r\n\t\t\t// Update Force Hidden Classes\r\n\t\t\tvar i, tch, hid, v;\r\n\t\t\tif (layerid !== undefined) {\r\n\r\n\r\n\t\t\t\ti = layerid;\r\n\r\n\r\n\t\t\t\t//SHOW / HIDE Layers within Menus etc. where Parrent not yet started\r\n\t\t\t\tif (_R[id]._L[i].pVisRequest !== _R[id]._L[i].pVisStatus) {\r\n\t\t\t\t\tif (_R[id]._L[i]._ligid === undefined || _R[id]._L[_R[id]._L[i]._ligid].childrenAtStartNotVisible !== true) {\r\n\t\t\t\t\t\t_R[id]._L[i].pVisStatus = _R[id]._L[i].pVisRequest;\r\n\t\t\t\t\t\tv = ((_R[id]._L[i].type === \"row\" || _R[id]._L[i].type === \"column\" || _R[id]._L[i].type === \"group\") && _R[id]._L[i].frames !== undefined && _R[id]._L[i].frames.frame_999 !== undefined && _R[id]._L[i].frames.frame_999.transform !== undefined && \"\" + _R[id]._L[i].frames.frame_999.transform.opacity !== \"0\");\r\n\t\t\t\t\t\thid = _R[id]._L[i].pVisRequest === 1 ? \"remove\" : !v ? \"add\" : hid;\r\n\t\t\t\t\t\ttch = _R[id]._L[i].pVisRequest === 1 ? \"remove\" : v ? \"add\" : tch;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thid = \"add\";\r\n\t\t\t\t\t\ttch = \"remove\";\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (_R[id]._L[i].type===\"group\" && tch==\"add\" && (_R[id]._L[i].pVisStatus === 1 ? 'visible' : _R[id]._L[i].pVisStatus === 0 ? 'hidden' : _R[id]._L[i].pVisStatus)==\"hidden\") hid=\"add\";\r\n\t\t\t\t\tif (tch !== undefined) _R[id]._L[i].p[0].classList[tch](\"rs-forceuntouchable\");\r\n\t\t\t\t\tif (hid !== undefined) _R[id]._L[i].p[0].classList[hid](\"rs-forcehidden\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_R[id]._L[i].pPointerStatus !== _R[id]._L[i].pPeventsRequest) {\r\n\t\t\t\t\t_R[id]._L[i].pPointerStatus = _R[id]._L[i].pPeventsRequest;\r\n\t\t\t\t\ttpGS.gsap.set(_R[id]._L[i].p[0], { pointerEvents: _R[id]._L[i].pPointerStatus, visibility: (_R[id]._L[i].pVisStatus === 1 ? 'visible' : _R[id]._L[i].pVisStatus === 0 ? 'hidden' : _R[id]._L[i].pVisStatus) });\r\n\t\t\t\t}\r\n\t\t\t\t// If transform Perspective has any value and we should not ignore it (means layer should not use Perspective) than during Animation we add Perspective to Parrent element to avoid issues with\r\n\t\t\t\t// scaleing andjittering unsmooth animations.\r\n\t\t\t\tif (tPE !== undefined && tPE !== \"ignore\" && tPE !== 0) {\r\n\t\t\t\t\ttPE++; // Use an other Number which is unlike any other perspective, so if somethign change we dont remove it !\r\n\t\t\t\t\tif (type === \"enterstage\" || type === \"leavestage\" || type === \"framestarted\") {\r\n\t\t\t\t\t\tif (_R.isFirefox(id)) {\r\n\t\t\t\t\t\t\tif (_R[id]._L[i].p[0].style.transform.indexOf(\"perspective\") === -1) _R[id]._L[i].p[0].style.transform += (_R[id]._L[i].p[0].style.transform.length === 0 ? \" \" : \"\") + 'perspective(' + tPE + \"px\" + ')';\r\n\t\t\t\t\t\t} else // For Not Safari\r\n\t\t\t\t\t\tif (!window.isSafari11 && _R[id]._L[i].maskHasPerspective !== true && _R[id]._L[i].p[0].style.perspective.length === 0 || _R[id]._L[i].p[0].style.perspective == \"none\") _R[id]._L[i].p[0].style.perspective = tPE + \"px\";\r\n\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (type === \"frameended\") {\r\n\t\t\t\t\t\t//For FireFox\r\n\t\t\t\t\t\tif (_R.isFirefox(id)) _R[id]._L[i].p[0].style.transform = _R[id]._L[i].p[0].style.transform.replace('perspective(' + tPE + \"px\" + ')', '');\r\n\t\t\t\t\t\telse // For not Safari\r\n\t\t\t\t\t\tif (!window.isSafari11) _R[id]._L[i].p[0].style.perspective = _R[id]._L[i].p[0].style.perspective.replace((tPE - 1) + \"px\", '');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\tfor (i in _R[id]._L) {\r\n\r\n\t\t\t\t\tif (!_R[id]._L.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tif (_R[id]._L[i].pVisRequest !== _R[id]._L[i].pVisStatus) {\r\n\t\t\t\t\t\t_R[id]._L[i].pVisStatus = _R[id]._L[i].pVisRequest;\r\n\t\t\t\t\t\tif (_R[id]._L[i].pVisStatus === 0) { _R[id]._L[i].p[0].classList.add(\"rs-forcehidden\"); } else _R[id]._L[i].p[0].classList.remove(\"rs-forcehidden\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_R[id]._L[i].pPointerStatus !== _R[id]._L[i].pPeventsRequest) {\r\n\t\t\t\t\t\t_R[id]._L[i].pPointerStatus = _R[id]._L[i].pPeventsRequest;\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id]._L[i].p[0], { pointerEvents: _R[id]._L[i].pPointerStatus, visibility: _R[id]._L[i].pVisStatus });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Update Height of Rows / Columns\r\n\t\t\tif (type === \"enterstage\")\r\n\t\t\t\tif (layerid !== undefined && _R[id]._L[layerid].esginside !== undefined && _R[id]._L[layerid].esginside.length > 0 && _R[id]._L[layerid].esginside.esredraw !== undefined) _R[id]._L[layerid].esginside.esredraw();\r\n\r\n\t\t},\r\n\r\n\t\tupdateMiddleZonesAndESG: function(id) {\r\n\t\t\tvar _actli = _R[id].pr_processing_key || _R[id].pr_active_key || 0,\r\n\t\t\t\ti;\r\n\t\t\tif (_R[id].middleZones && _R[id].middleZones.length > 0 && _R[id].middleZones[_actli] !== undefined)\r\n\t\t\t\tfor (i = 0; i < _R[id].middleZones[_actli].length; i++)\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].middleZones[_actli][i], { y: Math.round(_R[id].module.height / 2 - _R[id].middleZones[_actli][i].offsetHeight / 2) + \"px\" });\r\n\t\t\tif (_R[id].smiddleZones && _R[id].smiddleZones.length > 0)\r\n\t\t\t\tfor (i = 0; i < _R[id].smiddleZones.length; i++)\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].smiddleZones[i], { y: Math.round(_R[id].module.height / 2 - _R[id].smiddleZones[i].offsetHeight / 2) + \"px\" });\r\n\r\n\r\n\t\t},\r\n\r\n\t\t// CALCULATE SUM OF ALL ROW HEIGHTS\r\n\t\tgetRowHeights: function(id, onli) {\r\n\t\t\t// If no Layer calcualted yet at all, we dont need to respect the Current Row height\r\n\t\t\tif (!_R[id].firstLayerCalculated) return { cur:0, last:0, cache:[],tz:0};\r\n\t\t\tvar mh = 0,\r\n\t\t\t\tomh = 0,\r\n\t\t\t\tsmh = 0,\r\n\t\t\t\t_actli = onli!==undefined ? onli : _R[id].pr_processing_key || _R[id].pr_active_key || 0,\r\n\t\t\t\t_oldli = onli!==undefined ? onli : _R[id].pr_active_key || 0;\r\n\r\n\t\t\t_R[id].rowMiddleHeights = _R[id].rowMiddleHeights == undefined ? {} : _R[id].rowMiddleHeights;\r\n\t\t\t_R[id].rowMiddleHeights[_actli] = 0;\r\n\r\n\t\t\tif (_R[id].rowzones && _R[id].rowzones.length > 0) {\r\n\t\t\t\tif (_R[id].rowzones[_actli] !== undefined)\r\n\t\t\t\t\tfor (var a = 0; a < _R[id].rowzones[_actli].length; a++) {\r\n\t\t\t\t\t\t_R[id].rowzonesHeights[_actli][a] = _R[id].rowzones[_actli][a][0].offsetHeight;\r\n\t\t\t\t\t\tmh += _R[id].rowzonesHeights[_actli][a];\r\n\t\t\t\t\t\tif (_R[id].rowzones[_actli][a][0].dataset.middle==\"true\")\r\n\t\t\t\t\t\t_R[id].rowMiddleHeights[_actli] +=  _R[id].rowzonesHeights[_actli][a];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif (_oldli !== _actli) {\r\n\t\t\t\t\t_R[id].rowMiddleHeights[_oldli] = 0;\r\n\t\t\t\t\tfor (a = 0; a < _R[id].rowzones[_oldli].length; a++) {\r\n\t\t\t\t\t\t_R[id].rowzonesHeights[_oldli][a] = _R[id].rowzones[_oldli][a][0].offsetHeight;\r\n\t\t\t\t\t\tomh += _R[id].rowzonesHeights[_oldli][a];\r\n\t\t\t\t\t\tif (_R[id].rowzones[_oldli][a][0].dataset.middle==\"true\") _R[id].rowMiddleHeights[_oldli] += _R[id].rowzonesHeights[_oldli][a];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//mh = omh/2>mh ? omh : mh;  // To Avoid Minimal Portfolio Website Jumps\r\n\t\t\t}\r\n\t\t\tif (_R[id].srowzones && _R[id].srowzones.length > 0) {\r\n\t\t\t\t_R[id].rowMiddleHeights.static = 0;\r\n\t\t\t\tfor (a = 0; a < _R[id].srowzones.length; a++) {\r\n\t\t\t\t\tsmh += _R[id].srowzones[a][0].offsetHeight;\r\n\t\t\t\t\tif (_R[id].srowzones[a][0].dataset.middle==\"true\") _R[id].rowMiddleHeights.static += _R[id].srowzones[a][0].offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmh = mh < smh ? smh : mh;\r\n\r\n\t\t\tvar cache =  _R[id].rowHeights===undefined ? [] :  _R[id].rowHeights.cache,\r\n\t\t\t\ttz = new Date().getTime();\r\n\r\n\t\t\tif (_R[id].rowHeights!==undefined && tz-_R[id].rowHeights.tz<300) {\r\n\t\t\t\t//Check if we are in Loop\r\n\t\t\t\tif (_R[id].rowHeights.cache.length>5) {\r\n\t\t\t\t\tmh = _R[id].rowHeights.cache[_R[id].rowHeights.cache.length-1]===mh ? _R[id].rowHeights.cache[_R[id].rowHeights.cache.length-2] : _R[id].rowHeights.cache[_R[id].rowHeights.cache.length-1];\r\n\t\t\t\t\ttz = _R[id].rowHeights.tz;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcache = [];\r\n\t\t\t}\r\n\r\n\t\t\treturn { cur: mh, last: omh, cache:cache, tz:tz };\r\n\r\n\t\t},\r\n\r\n\t\tgetGridOffset: function(id, slideIndex, basealign, isstatic) {\r\n\t\t\tvar gw = basealign === \"grid\" ? _R[id].canv.width : _R[id].sliderType === \"carousel\" && !isstatic ? _R[id].carousel.slide_width : _R[id].canv.width,\r\n\t\t\t\tgh = _R[id].useFullScreenHeight ? _R[id].module.height : basealign === \"grid\" ? _R[id].content.height : _R[id].sliderType === \"carousel\" && !isstatic ? _R[id].canv.height : _R[id].module.height, //_R[id].carousel.slide_height :  _R[id].module.height;\r\n\t\t\t\toffsety = basealign === \"slide\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation==\"v\")  ? 0 : Math.max(0, _R[id].sliderLayout == \"fullscreen\" ? _R[id].module.height / 2 - (_R.iHE(id) * (_R[id].keepBPHeight ? 1 : _R[id].CM.h)) / 2 : (_R[id].autoHeight || (_R[id].minHeight != undefined && _R[id].minHeight > 0) || _R[id].keepBPHeight) ? _R[id].canv.height / 2 - (_R.iHE(id) * _R[id].CM.h) / 2 : 0),\r\n\t\t\t\toffsetx = basealign === \"slide\" ? 0 : Math.max(0, (_R[id].sliderType === \"carousel\" && _R[id].carousel.orientation!=='v'? 0 : _R[id].canv.width / 2 - (_R.iWA(id, slideIndex) * _R[id].CM.w) / 2));\r\n\t\t\tif (basealign !== \"slide\" && _R[id].sliderType === \"carousel\" && isstatic && _R[id].carousel !== undefined && _R[id].carousel.horizontal_align !== undefined)\r\n\t\t\t\toffsetx = Math.max(0, (_R[id].carousel.horizontal_align === \"center\" ? 0 + (_R[id].module.width - (_R.iWA(id, 'static') * _R[id].CM.w)) / 2 : _R[id].carousel.horizontal_align === \"right\" ? (_R[id].module.width - (_R[id].gridwidth[_R[id].level] * _R[id].CM.w)) : offsetx));\r\n\r\n\t\t\treturn [gw, gh, offsetx, offsety];\r\n\t\t},\r\n\r\n\r\n\t\tinitLayer: function(o) {\r\n\t\t\tvar id = o.id,\r\n\t\t\t\tskey = o.skey,\r\n\t\t\t\tu, s, corner;\r\n\r\n\r\n\t\t\t// Collect All Layers\r\n\t\t\tfor (var li in _R[id].layers[o.skey]) {\r\n\r\n\t\t\t\tif (!_R[id].layers[o.skey].hasOwnProperty(li)) continue;\r\n\r\n\t\t\t\tvar layer = _R[id].layers[o.skey][li],\r\n\t\t\t\t\tL = jQuery(layer),\r\n\t\t\t\t\tlinited = _R.gA(layer, \"initialised\"),\r\n\t\t\t\t\t_ = linited ? _R[id]._L[layer.id] : L.data();\r\n\r\n\t\t\t\tif (o.skey === \"individual\") {\r\n\t\t\t\t\t_.slideKey = _.slideKey === undefined ? _R.gA(L.closest('rs-slide')[0], 'key') : _.slideKey;\r\n\t\t\t\t\t_.slideIndex = _.slideIndex === undefined ? _R.getSlideIndex(id, _.slideKey) : _.slideIndex;\r\n\t\t\t\t\to.slideIndex = _.slideIndex;\r\n\t\t\t\t\tskey = _.slideKey;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t/****************************\r\n\t\t\t\t\tPREPARE DATAS 1 TIME\r\n\t\t\t\t*****************************/\r\n\r\n\t\t\t\tif (linited === undefined) {\r\n\t\t\t\t\t_R.revCheckIDS(id, layer);\r\n\t\t\t\t\t_R[id]._L[layer.id] = _;\r\n\r\n\t\t\t\t\t/***********************\r\n\t\t\t\t\t\tFRAME MANAGEMENT\r\n\t\t\t\t\t***********************/\r\n\r\n\t\t\t\t\t//FRAME ORDER\r\n\t\t\t\t\t_.ford = _.ford === undefined ? \"frame_0;frame_1;frame_999\" : _.ford;\r\n\t\t\t\t\t_.ford = _.ford[_.ford.length - 1] == ';' ? _.ford.substring(0, _.ford.length - 1) : _.ford;\r\n\t\t\t\t\t_.ford = _.ford.split(';');\r\n\r\n\t\t\t\t\t// CLIPPATH\r\n\t\t\t\t\tif (_.clip !== undefined) {\r\n\t\t\t\t\t\t_.clipPath = { use: false, origin: \"l\", type: \"rectangle\" };\r\n\t\t\t\t\t\t_.clip = _.clip.split(\";\");\r\n\t\t\t\t\t\tfor (u in _.clip) {\r\n\t\t\t\t\t\t\tif (!_.clip.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.clip[u].split(\":\");\r\n\t\t\t\t\t\t\tif (s[0] == 'u') _.clipPath.use = s[1] == \"true\";\r\n\t\t\t\t\t\t\tif (s[0] == 'o') _.clipPath.origin = s[1];\r\n\t\t\t\t\t\t\tif (s[0] == 't') _.clipPath.type = s[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 0.05\r\n\r\n\t\t\t\t\t_.frames = buildFrameObj(_, id); //0.2 - 0.6ms\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t/************\r\n\t\t\t\t\t\tBASICS\r\n\t\t\t\t\t*************/\r\n\t\t\t\t\t_.caches = {}; //Cache last Set Values and only update if cached and not cached are different !\r\n\t\t\t\t\t_.OBJUPD = {}; //Some further values which influence LOBJ, LPOBJ, MOBJ, POBJ etc.\r\n\t\t\t\t\t_.c = L;\r\n\r\n\t\t\t\t\t_.p = _R[id]._Lshortcuts[layer.id].p;\r\n\t\t\t\t\t_.lp = _.reqWrp.loop ? _R[id]._Lshortcuts[layer.id].lp : undefined;\r\n\t\t\t\t\t_.m =  _.reqWrp.mask ? _R[id]._Lshortcuts[layer.id].m : undefined;\r\n\r\n\t\t\t\t\t_.triggercache = _.triggercache === undefined ? \"reset\" : _.triggercache;\r\n\t\t\t\t\t_.rsp_bd = _.rsp_bd === undefined ? _.type === \"column\" || _.type === \"row\" ? \"off\" : \"on\" : _.rsp_bd;\r\n\t\t\t\t\t_.rsp_o = _.rsp_o === undefined ? \"on\" : _.rsp_o;\r\n\t\t\t\t\t_.basealign = _.basealign === undefined ? \"grid\" : _.basealign;\r\n\t\t\t\t\tlet tmpgrp;\r\n\t\t\t\t\t_.group = (_.type !== \"group\" && ((tmpgrp = _R.closestNode(L[0], 'RS-GROUP')) !== null))  || (_.type === \"group\" && ((tmpgrp = _R.closestNode(L[0].parentNode, 'RS-GROUP')) !== null)) ? \"group\" : _.type !== \"column\" && ((tmpgrp = _R.closestNode(L[0], 'RS-COLUMN')) !== null)  ? \"column\" : _.type !== \"row\" && ((tmpgrp = _R.closestNode(L[0], 'RS-ROW')) !== null)  ? \"row\" : undefined;\r\n\t\t\t\t\t_._lig = tmpgrp!==null && tmpgrp!==undefined ? jQuery(tmpgrp) : undefined;\r\n\t\t\t\t\t_._ligid = _._lig !== undefined ? _._lig[0].id : undefined;\r\n\r\n\t\t\t\t\t_._column = L[0].tagName === \"RS-COLUMN\" ? jQuery(_R.closestNode(L[0], 'RS-COLUMN-WRAP')) /*L.closest(\"rs-column-wrap\")*/ : \"none\";\r\n\t\t\t\t\t_._row = L[0].tagName === \"RS-COLUMN\" ? jQuery(_R.closestNode(L[0], 'RS-ROW')) /*L.closest(\"rs-row\") */ : false;\r\n\t\t\t\t\t_._ingroup = _.group === \"group\";\r\n\t\t\t\t\t_._incolumn = _.group === \"column\";\r\n\t\t\t\t\t_._inrow = _.group === \"row\";\r\n\t\t\t\t\t_.fsom = _.fsom==\"true\" || _.fsom==true;\r\n\t\t\t\t\t_.fullinset = \"\"+_.fullinset==\"true\" ? true : false;\r\n\r\n\t\t\t\t\t_.position = _.pos!==undefined ? _.pos==\"r\" ? \"relative\" : \"absolute\" : _._incolumn ? \"relative\" : \"absolute\";\r\n\r\n\r\n\t\t\t\t\t// EXTEND SBA IF PARRENT ELLEMENT IS ALREADY SBA\r\n\t\t\t\t\tif ((_._ingroup || _._incolumn) && _._lig[0].className.indexOf('rs-sba') >= 0 && !(_.animationonscroll === false && _.frames.loop !== undefined) && _.animOnScrollForceDisable !== true) { _.animationonscroll = true;\r\n\t\t\t\t\t\tL[0].className += \" rs-sba\";\r\n\t\t\t\t\t\t_R[id].sbas[skey][layer.id] = L[0]; }\r\n\t\t\t\t\t_.animOnScrollRepeats = 0;\r\n\t\t\t\t\t_._isgroup = L[0].tagName === \"RS-GROUP\";\r\n\t\t\t\t\t//_.dchildren = _._row ?  _R.getByTag(L[0],'RS-COLUMN') : _._column!==\"none\" || _._isgroup ?  L[0].getElementsByClassName('rs-layer') : \"none\";\r\n\t\t\t\t\t_.type = _.type || \"none\";\r\n\r\n\r\n\r\n\t\t\t\t\tif (_.type === \"row\") {\r\n\t\t\t\t\t\tif (_.cbreak === undefined) _.cbreak = 2;\r\n\t\t\t\t\t\tif (_.zone === undefined) {\r\n\t\t\t\t\t\t\t_.zone = _R.closestNode(L[0], 'RS-ZONE');\r\n\t\t\t\t\t\t\t_.zone = _.zone !== null && _.zone !== undefined ? _.zone.className : \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.esginside = jQuery(L[0].getElementsByClassName('esg-grid')[0]);\r\n\t\t\t\t\t_._isnotext = jQuery.inArray(_.type, [\"video\", \"image\", \"audio\", \"shape\", \"row\", \"group\"]) !== -1;\r\n\t\t\t\t\t_._mediatag = _.audio == \"html5\" ? \"audio\" : \"video\";\r\n\t\t\t\t\t_.img = L.find(\"img\");\r\n\t\t\t\t\t_.deepiframe = _R.getByTag(L[0], 'iframe');\r\n\t\t\t\t\t_.deepmedia = _R.getByTag(L[0], _._mediatag);\r\n\t\t\t\t\t_.layertype = _.type === \"image\" ? \"image\" : L[0].className.indexOf(\"rs-layer-video\") >= 0 || L[0].className.indexOf(\"rs-layer-audio\") >= 0 || (_.deepiframe.length > 0 && (_.deepiframe[0].src.toLowerCase().indexOf('youtube') > 0 || _.deepiframe[0].src.toLowerCase().indexOf('vimeo') > 0)) || _.deepmedia.length > 0 ? \"video\" : \"html\";\r\n\t\t\t\t\tif (_.deepiframe.length > 0) _R.sA(_.deepiframe[0], \"layertype\", _.layertype);\r\n\r\n\t\t\t\t\tif (_.type === \"column\" && _.cbgexists) {\r\n\t\t\t\t\t\t_.cbg = jQuery(_R.getByTag(_.p[0], \"RS-COLUMN-BG\")[0]);\r\n\t\t\t\t\t\t_.cbgmask = jQuery(_R.getByTag(_.p[0], \"RS-CBG-MASK-WRAP\")[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_._slidelink = L[0].className.indexOf(\"slidelink\") >= 0;\r\n\t\t\t\t\t_._isstatic = L[0].className.indexOf(\"rs-layer-static\") >= 0;\r\n\t\t\t\t\t_.slidekey = _._isstatic ? \"staticlayers\" : skey;\r\n\t\t\t\t\t//_._li = _._isstatic ? L.closest('rs-static-layers') : L.closest('rs-slide');\r\n\t\t\t\t\t_._togglelisteners = L[0].getElementsByClassName('rs-toggled-content').length > 0;\r\n\r\n\t\t\t\t\t// Check for two special Metas ->\r\n\t\t\t\t\t// total_slide_count and current_slide_index\r\n\t\t\t\t\tif (_.type === \"text\") {\r\n\t\t\t\t\t\tif(_.c[0].innerHTML.indexOf('{{total_slide_count}}') !== -1) _.c[0].innerHTML = _.c[0].innerHTML.replace('{{total_slide_count}}', _R[id].realslideamount);\r\n\r\n\t\t\t\t\t\tif (_.c[0].innerHTML.indexOf('{{current_slide_index}}') >= 0) {\r\n\t\t\t\t\t\t\tif (_._isstatic) {\r\n\t\t\t\t\t\t\t\t_.metas = _.metas || {};\r\n\t\t\t\t\t\t\t\t_.metas.csi = {};\r\n\t\t\t\t\t\t\t\t_.c[0].innerHTML = _.c[0].innerHTML.replace('{{current_slide_index}}', '<cusli>' + _R[id].realslideamount + '</cusli>');\r\n\t\t\t\t\t\t\t\t_.metas.csi.c = _.c[0].getElementsByTagName('CUSLI')[0];\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar digit = parseInt(o.slideIndex) + 1;\r\n\t\t\t\t\t\t\t\t_.c[0].innerHTML = _.c[0].innerHTML.replace('{{current_slide_index}}', ((digit < 10 && _R[id].realslideamount > 9 ? '0' : '') + digit));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.bgcol = _.bgcol === undefined ? L[0].style.background.indexOf(\"gradient\") >= 0 ? L[0].style.background : L[0].style.backgroundColor : _.bgcol;\r\n\t\t\t\t\t_.bgcol = _.bgcol === \"\" ? \"rgba(0, 0, 0, 0)\" : _.bgcol;\r\n\t\t\t\t\t_.bgcol = _.bgcol.indexOf('rgba(0, 0, 0, 0)') === 0 && _.bgcol.length > 18 ? _.bgcol.replace(\"rgba(0, 0, 0, 0)\", \"\") : _.bgcol;\r\n\t\t\t\t\t_.zindex = _.zindex === undefined ? L[0].style.zIndex : _.zindex;\r\n\r\n\t\t\t\t\t//Set Visibility at Start to hidden (0) to avoid Triggered Group Content availibity.\r\n\t\t\t\t\tif (_._isgroup) {\r\n\t\t\t\t\t\tif (_.frames.frame_1.timeline.waitoncall) _.childrenAtStartNotVisible = true; // If Group is waiting for Start, the Children should not be visible also !\r\n\t\t\t\t\t\t_.pVisRequest = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_._togglelisteners) L.on('click', function() { _R.swaptoggleState([this.id]); });\r\n\t\t\t\t\t// GET AND SPLIT THE BORDER SETTINGS\r\n\t\t\t\t\tif (_.border !== undefined) {\r\n\t\t\t\t\t\t_.border = _.border.split(\";\");\r\n\t\t\t\t\t\t_.bordercolor = \"transparent\";\r\n\t\t\t\t\t\tfor (u in _.border) {\r\n\t\t\t\t\t\t\tif (!_.border.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.border[u].split(\":\");\r\n\t\t\t\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"boc\":_.bordercolor = s[1];break;\r\n\t\t\t\t\t\t\t\tcase \"bow\":_.borderwidth = _R.revToResp(s[1], 4, 0);break;\r\n\t\t\t\t\t\t\t\tcase \"bos\":_.borderstyle = _R.revToResp(s[1], 4, 0);break;\r\n\t\t\t\t\t\t\t\tcase \"bor\":_.borderradius = _R.revToResp(s[1], 4, 0);break;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// GET SVG SETTINGS\r\n\t\t\t\t\tif (_.type === \"svg\") {\r\n\t\t\t\t\t\t_.svg = L.find(\"svg\");\r\n\t\t\t\t\t\t_.svgI = _svgprep(_.svgi, id); //svgi\r\n\t\t\t\t\t\t_.svgPath = _.svg.find(!_.svgI.svgAll ? 'path' : 'path, circle, ellipse, line, polygon, polyline, rect');\r\n\t\t\t\t\t\t_.svgH = (_.svgi !== undefined && _.svgi.indexOf('oc:t') === -1) ? _svgprep(_.svgh, id) : {}; //svgh\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// GET MASK BASIC TRANSFORMS\r\n\t\t\t\t\tif (_.btrans !== undefined) { var btr = _.btrans;\r\n\t\t\t\t\t\t_.btrans = { rX: 0, rY: 0, rZ: 0, o: 1 };\r\n\t\t\t\t\t\tbtr = btr.split(\";\"); for (u in btr) { if (!btr.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = btr[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"rX\":_.btrans.rX = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"rY\":_.btrans.rY = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"rZ\":_.btrans.rZ = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"o\":_.btrans.o = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"iosfx\":_.iOSFix = s[1] == \"default\" ? \"d\" : s[1] == \"r\" ? \"rotationX\" : s[1]; break; } } }\r\n\r\n\t\t\t\t\t// GET BOX SHADOW\r\n\t\t\t\t\tif (_.tsh !== undefined) { _.tshadow = { c: \"rgba(0,0,0,0.25)\", v: 0, h: 0, b: 0 };\r\n\t\t\t\t\t\t_.tsh = _.tsh.split(\";\"); for (u in _.tsh) { if (!_.tsh.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.tsh[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.tshadow.c = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"h\":_.tshadow.h = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"v\":_.tshadow.v = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.tshadow.b = s[1]; break; } } }\r\n\t\t\t\t\tif (_.tst !== undefined) { _.tstroke = { c: \"rgba(0,0,0,0.25)\", w: 1 };\r\n\t\t\t\t\t\t_.tst = _.tst.split(\";\"); for (u in _.tst) { if (!_.tst.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.tst[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.tstroke.c = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"w\":_.tstroke.w = s[1]; break; } } }\r\n\t\t\t\t\tif (_.bsh !== undefined) { _.bshadow = { e: \"c\", c: \"rgba(0,0,0,0.25)\", v: 0, h: 0, b: 0, s: 0 };\r\n\t\t\t\t\t\t_.bsh = _.bsh.split(\";\"); for (u in _.bsh) { if (!_.bsh.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.bsh[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.bshadow.c = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"h\":_.bshadow.h = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"v\":_.bshadow.v = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.bshadow.b = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"s\":_.bshadow.s = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"e\":_.bshadow.e = s[1]; break; } } }\r\n\r\n\t\t\t\t\t// GET AND SPLIT THE DIMENSION PARAMETERS\r\n\t\t\t\t\tif (_.dim !== undefined) { _.dim = _.dim.split(\";\"); for (u in _.dim) { if (!_.dim.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.dim[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"w\":_.width = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"h\":_.height = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"maxw\":_.maxwidth = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"maxh\":_.maxheight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"minw\":_.minwidth = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"minh\":_.minheight = s[1]; break; } } }\r\n\r\n\r\n\t\t\t\t\t// GET AND SPLIT POSITION PARAMETERS\r\n\t\t\t\t\tif (_.xy !== undefined && _.type !== \"row\" && _.type !== \"column\") { _.xy = _.xy.split(\";\"); for (u in _.xy) { if (!_.xy.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.xy[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"x\":_.x = s[1].replace(\"px\", \"\"); break;\r\n\t\t\t\t\t\t\t\tcase \"y\":_.y = s[1].replace(\"px\", \"\"); break;\r\n\t\t\t\t\t\t\t\tcase \"xo\":_.hoffset = s[1].replace(\"px\", \"\"); break;\r\n\t\t\t\t\t\t\t\tcase \"yo\":_.voffset = s[1].replace(\"px\", \"\"); break; } } }\r\n\r\n\t\t\t\t\t// GET TEXT VALUES\r\n\t\t\t\t\tif ((!_._isnotext) && _.text !== undefined) { _.text = _.text.split(\";\"); for (u in _.text) { if (!_.text.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.text[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"w\":_.whitespace = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"td\":_.textDecoration = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"c\":_.clear = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"f\":_.float = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"s\":_.fontsize = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"l\":_.lineheight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"ls\":_.letterspacing = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"fw\":_.fontweight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"a\":_.textalign = s[1]; break; } } }\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_._isgroup && _.text !== undefined) { _.text = _.text.split(\";\"); for (u in _.text) { if (!_.text.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.text[u].split(\":\");switch (s[0]) {\r\n\t\t\t\t\t\t\t\t//case \"l\":_.lineheight = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"a\":_.textalign = s[1]; break; } } }\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type === \"column\" && _.textDecoration !== undefined) delete _.textDecoration;\r\n\t\t\t\t\t// GET FLOAT VALUES\r\n\t\t\t\t\tif (_.flcr !== undefined) { _.flcr = _.flcr.split(\";\"); for (u in _.flcr) { if (!_.flcr.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.flcr[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"c\":_.clear = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"f\":_.float = s[1]; break; } } }\r\n\r\n\r\n\t\t\t\t\t// GET PADDING VALUES\r\n\t\t\t\t\tif (_.padding !== undefined) { _.padding = _.padding.split(\";\"); for (u in _.padding) { if (!_.padding.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.padding[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"t\":_.paddingtop = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.paddingbottom = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"l\":_.paddingleft = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"r\":_.paddingright = s[1]; break; } } }\r\n\r\n\t\t\t\t\t// GET MARGIN VALUES\r\n\t\t\t\t\tif (_.margin !== undefined) { _.margin = _.margin.split(\";\"); for (u in _.margin) { if (!_.margin.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\ts = _.margin[u].split(\":\"); switch (s[0]) {\r\n\t\t\t\t\t\t\t\tcase \"t\":_.margintop = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"b\":_.marginbottom = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"l\":_.marginleft = s[1]; break;\r\n\t\t\t\t\t\t\t\tcase \"r\":_.marginright = s[1]; break; } } }\r\n\r\n\t\t\t\t\t// SPIKE MASK ON ELEMENTS\r\n\t\t\t\t\tif (_.spike !== undefined) _.spike = getSpikePath(_.spike);\r\n\r\n\t\t\t\t\t// SHARP CORNERS FALLBACK\r\n\t\t\t\t\tif (_.corners !== undefined) {\r\n\t\t\t\t\t\tcorner = _.corners.split(\";\");\r\n\t\t\t\t\t\t_.corners = {};\r\n\t\t\t\t\t\tfor (u in corner) {\r\n\t\t\t\t\t\t\tif (!corner.hasOwnProperty(u)) continue;\r\n\t\t\t\t\t\t\tif (corner[u].length > 0) {\r\n\t\t\t\t\t\t\t\t_.corners[corner[u]] = jQuery('<' + corner[u] + '></' + corner[u] + '>');\r\n\t\t\t\t\t\t\t\t_.c.append(_.corners[corner[u]]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 0.114 - 0.25\r\n\r\n\t\t\t\t\t//CONVERT TEXT VALUES\r\n\t\t\t\t\t_.textalign = convToCLR(_.textalign);\r\n\r\n\t\t\t\t\t_.vbility = _R.revToResp(_.vbility, _R[id].rle, true);\r\n\r\n\t\t\t\t\t_.hoffset = _R.revToResp(_.hoffset, _R[id].rle, 0);\r\n\t\t\t\t\t_.voffset = _R.revToResp(_.voffset, _R[id].rle, 0);\r\n\t\t\t\t\t_.x = _R.revToResp(_.x, _R[id].rle, \"l\");\r\n\t\t\t\t\t_.y = _R.revToResp(_.y, _R[id].rle, \"t\");\r\n\r\n\t\t\t\t\tgetStyleAtStart(L, 0, id);\r\n\t\t\t\t\t_R.sA(layer, \"initialised\", true);\r\n\t\t\t\t\t// 1-2 MS\r\n\t\t\t\t\t_R[id].c.trigger('layerinitialised', { layer: L[0].id, slider: id });\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t/***************************\r\n\t\t\t\t\tRUNTIME ON EACH CALL\r\n\t\t\t\t****************************/\r\n\r\n\t\t\t\tvar elx = _.x[_R[id].level],\r\n\t\t\t\t\tely = _.y[_R[id].level],\r\n\t\t\t\t\ttempGridOffset = _R.getGridOffset(id, o.slideIndex, _.basealign, _._isstatic),\r\n\t\t\t\t\tgw = tempGridOffset[0],\r\n\t\t\t\t\tgh = tempGridOffset[1],\r\n\t\t\t\t\toffsetx = tempGridOffset[2],\r\n\t\t\t\t\toffsety = tempGridOffset[3];\r\n\r\n\t\t\t\t//Cache Slide Index into the Layer Attributes\r\n\t\t\t\t_.slideIndex = o.slideIndex;\r\n\r\n\t\t\t\tif (o.mode !== \"updateposition\") {\r\n\t\t\t\t\t// HIDE CAPTION IF RESOLUTION IS TOO LOW\r\n\t\t\t\t\tif (_.vbility[_R[id].levelForced] == false || _.vbility[_R[id].levelForced] == \"f\" || (gw < _R[id].hideLayerAtLimit && _.layeronlimit == \"on\") || (gw < _R[id].hideAllLayerAtLimit)) {\r\n\t\t\t\t\t\tif (_.layerIsHidden !== true) _.p[0].classList.add(\"rs-layer-hidden\");\r\n\t\t\t\t\t\t_.layerIsHidden = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (_.layerIsHidden) _.p[0].classList.remove(\"rs-layer-hidden\");\r\n\t\t\t\t\t\t_.layerIsHidden = false;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// FALL BACK TO NORMAL IMAGES\r\n\t\t\t\t\t_.poster = _.poster == undefined && _.thumbimage !== undefined ? _.thumbimage : _.poster;\r\n\r\n\t\t\t\t\t// LAYER IS AN IMAGE OR HAS IMAGE INSIDE\r\n\t\t\t\t\tif (_.layertype === \"image\") {\r\n\t\t\t\t\t\t_.imgOBJ = {};\r\n\r\n\t\t\t\t\t\tif (_.img.data('c') === \"cover-proportional\") {\r\n\t\t\t\t\t\t\t_R.sA(_.img[0], \"owidth\", _R.gA(_.img[0], \"owidth\", _.img[0].width));\r\n\t\t\t\t\t\t\t_R.sA(_.img[0], \"oheight\", _R.gA(_.img[0], \"oheight\", _.img[0].height));\r\n\t\t\t\t\t\t\tvar ip = _R.gA(_.img[0], \"owidth\") / _R.gA(_.img[0], \"oheight\"),\r\n\t\t\t\t\t\t\t\tcp = gw / gh;\r\n\r\n\t\t\t\t\t\t\tif ((ip > cp && ip <= 1) || (ip < cp && ip > 1))\r\n\t\t\t\t\t\t\t\t_.imgOBJ = { width: \"100%\", height: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tleft: elx === \"c\" || elx === \"center\" ? \"50%\" : elx === \"left\" || elx === \"l\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tright: elx === \"r\" || elx === \"right\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\ttop: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"50%\" : ely === \"top\" || ely === \"t\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tbottom: ely === \"b\" || ely === \"bottom\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tx: elx === \"c\" || elx === \"center\" || elx===\"middle\" || elx===\"m\" ? \"-50%\" : \"0\",\r\n\t\t\t\t\t\t\t\t\t\t\ty: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"-50%\" : \"0\" };\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t_.imgOBJ = { height: \"100%\", width: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tleft: elx === \"c\" || elx === \"center\" ? \"50%\" : elx === \"left\" || elx === \"l\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tright: elx === \"r\" || elx === \"right\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\ttop: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"50%\" : ely === \"top\" || ely === \"t\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tbottom: ely === \"b\" || ely === \"bottom\" ? \"0\" : \"auto\",\r\n\t\t\t\t\t\t\t\t\t\t\tx: elx === \"c\" || elx === \"center\" || elx===\"middle\" || elx===\"m\" ? \"-50%\" : \"0\",\r\n\t\t\t\t\t\t\t\t\t\t\ty: ely === \"c\" || ely === \"center\" || ely===\"middle\" || ely===\"m\" ? \"-50%\" : \"0\" };\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// FALL BACK IF WIDTH/HEIGHT IS AUTO AND IMAGE IS ON ROOT\r\n\t\t\t\t\t\t\tif (_.group === undefined && _.width[_R[id].level] === \"auto\" && _.height[_R[id].level] === \"auto\") {\r\n\t\t\t\t\t\t\t\t_.width[_R[id].level] = _R.gA(_.img[0], \"owidth\", _.img[0].width);\r\n\t\t\t\t\t\t\t\t_.height[_R[id].level] = _R.gA(_.img[0], \"owidth\", _.img[0].height);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_.imgOBJ = { width: _.width[_R[id].level] !== \"auto\" || isNaN(_.width[_R[id].level]) && _.width[_R[id].level].indexOf(\"%\") >= 0 ? \"100%\" : \"auto\", height: _.height[_R[id].level] !== \"auto\" || isNaN(_.height[_R[id].level]) && _.height[_R[id].level].indexOf(\"%\") >= 0 ? \"100%\" : \"auto\" }\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} // END OF LAYERTYPE IMAGE\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.layertype === \"video\") { // IF IT IS A VIDEO LAYER\r\n\t\t\t\t\t\t_R.manageVideoLayer(L, id, skey);\r\n\t\t\t\t\t\tif (o.mode !== \"rebuild\") _R.resetVideo(L, id, o.mode);\r\n\t\t\t\t\t\tif (_.aspectratio != undefined && _.aspectratio.split(\":\").length > 1 && _.bgvideo == 1) _R.prepareCoveredVideo(id, L);\r\n\t\t\t\t\t\t_.media = _.media === undefined ? _.deepiframe.length > 0 ? jQuery(_.deepiframe[0]) : jQuery(_.deepmedia[0]) : _.media;\r\n\t\t\t\t\t\t_.html5vid = _.html5vid === undefined ? _.deepiframe.length > 0 ? false : true : _.html5vid;\r\n\t\t\t\t\t\t_.mediaOBJ = { display: \"block\" };\r\n\r\n\t\t\t\t\t\t// SET WIDTH / HEIGHT\r\n\t\t\t\t\t\tvar ww = _.width[_R[id].level],\r\n\t\t\t\t\t\t\thh = _.height[_R[id].level];\r\n\r\n\t\t\t\t\t\tww = ww === \"auto\" ? ww : (!_R.isNumeric(ww) && ww.indexOf(\"%\") > 0) ? _._incolumn || _._ingroup ? \"100%\" : _.basealign === \"grid\" ? _R.iWA(id, o.slideIndex) * _R[id].CM.w : gw : _.rsp_bd !== \"off\" ? (parseFloat(ww) * _R[id].CM.w) + \"px\" : parseFloat(ww) + \"px\";\r\n\t\t\t\t\t\thh = hh === \"auto\" ? hh : (!_R.isNumeric(hh) && hh.indexOf(\"%\") > 0) ? _.basealign === \"grid\" ? _R.iHE(id) * _R[id].CM.w : gh : _.rsp_bd !== \"off\" ? (parseFloat(hh) * _R[id].CM.h) + \"px\" : parseFloat(hh) + \"px\";\r\n\t\t\t\t\t\t_.vd = _.vd === undefined ? _R[id].videos[L[0].id].ratio.split(':').length > 1 ? _R[id].videos[L[0].id].ratio.split(':')[0] / _R[id].videos[L[0].id].ratio.split(':')[1] : 1 : _.vd;\r\n\t\t\t\t\t\tif (_._incolumn && (ww === \"100%\" || hh === \"auto\") && _.ytid !== undefined) {\r\n\t\t\t\t\t\t\tvar nvw = L.width(),\r\n\t\t\t\t\t\t\t\tnvh = hh === \"auto\" ? nvw / _.vd : hh;\r\n\t\t\t\t\t\t\t_.vidOBJ = { width: \"auto\", height: nvh };\r\n\t\t\t\t\t\t\t_.heightSetByVideo = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (L[0].className.indexOf('rs-fsv') == -1) {\r\n\t\t\t\t\t\t\t\thh = hh === \"auto\" && _.vd !== undefined && ww !== \"auto\" ? ww === \"100%\" ? L.width() / _.vd : ww / _.vd : hh;\r\n\t\t\t\t\t\t\t\t_.vidOBJ = { width: ww, height: hh };\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tif (_.basealign !== \"grid\") {\r\n\t\t\t\t\t\t\t\t\toffsetx = 0;\r\n\t\t\t\t\t\t\t\t\toffsety = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_.x = _R.revToResp(0, _R[id].rle, 0);\r\n\t\t\t\t\t\t\t\t_.y = _R.revToResp(0, _R[id].rle, 0);\r\n\r\n\t\t\t\t\t\t\t\t_.vidOBJ = { width: ww, height: (_R[id].autoHeight ? _R[id].canv.height : hh) };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_.html5vid == false || !L.hasClass('rs-fsv')) _.mediaOBJ = { width: ww, height: hh, display: \"block\" };\r\n\t\t\t\t\t\t\tif (_._ingroup && _.vidOBJ.width !== null && _.vidOBJ.width !== undefined && !_R.isNumeric(_.vidOBJ.width) && _.vidOBJ.width.indexOf(\"%\") > 0) _.OBJUPD.lppmOBJ = { minWidth: ww };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} // END OF POSITION AND STYLE READ OUTS OF VIDEO\r\n\r\n\t\t\t\t\t// RESPONIVE HANDLING OF CURRENT LAYER  - COLLECT ALL FOR LATER WORK\r\n\r\n\r\n\t\t\t\t\tif (!_._slidelink) _R[id].caches.calcResponsiveLayersList.push({ a: L, b: id, c: 0, d: _.rsp_bd, e: o.slideIndex });\r\n\r\n\r\n\t\t\t\t\t// ALL ELEMENTS IF THE MAIN ELEMENT IS REKURSIVE RESPONSIVE SHOULD BE REPONSIVE HANDLED\r\n\t\t\t\t\tif (_.rsp_ch === \"on\" && _.type !== \"row\" && _.type !== \"column\" && _.type !== \"group\" && _.type !== \"image\" && _.type !== \"video\" && _.type !== \"shape\") {\r\n\r\n\t\t\t\t\t\tL.find('*').each(function() {\r\n\t\t\t\t\t\t\tvar jthis = jQuery(this);\r\n\t\t\t\t\t\t\tif (_R.gA(this, \"stylerecorder\") !== \"true\" && _R.gA(this, \"stylerecorder\") !== true) getStyleAtStart(jthis, \"rekursive\", id);\r\n\t\t\t\t\t\t\t_R[id].caches.calcResponsiveLayersList.push({ a: jthis, b: id, c: \"rekursive\", d: _.rsp_bd, e: o.slideIndex, RSL: L });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} // NOT ONLY UPDATE POSITION !\r\n\r\n\r\n\t\t\t\tif (o.mode !== \"preset\") {\r\n\r\n\t\t\t\t\t_.oldeow = _.eow;\r\n\t\t\t\t\t_.oldeoh = _.eoh;\r\n\t\t\t\t\t_.eow = L.outerWidth(true);\r\n\t\t\t\t\t_.eoh = L.outerHeight(true);\r\n\r\n\r\n\t\t\t\t\t//GROUP WITH AUTO HEIGHTS NEED TO BE CALCULATED BY WRAPPERS\r\n\t\t\t\t\tif (_.eoh==0 && _.type==\"group\" && _.height[_R[id].level]==\"auto\") _.eoh = _.p[0].offsetHeight;\r\n\r\n\r\n\t\t\t\t\t// CHECK FOR CURRENT SLIDE INDEX META\r\n\t\t\t\t\tif (_.metas !== undefined && _.metas.csi !== undefined && _.metas.csi.change !== _R[id].focusedSlideIndex) {\r\n\t\t\t\t\t\t_.metas.csi.change = _R[id].focusedSlideIndex;\r\n\t\t\t\t\t\tvar digit = parseInt(_.metas.csi.change) + 1;\r\n\t\t\t\t\t\t_.metas.csi.c.innerHTML = (_R[id].realslideamount > 9 && digit < 10 ? '0' : '') + digit;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.imgInFirefox = _.type == \"image\" && _.width[_R[id].level] == \"auto\" && _.height[_R[id].level] == \"100%\" && _R.isFirefox(id);\r\n\r\n\t\t\t\t\t//IMAGE WITH FULLHEIGHT NEED TO BE REPSECTED DIFFERENTLY IN FIREFOX\r\n\t\t\t\t\tif (_.imgInFirefox) {\r\n\t\t\t\t\t\tvar imgw = _.img.width();\r\n\t\t\t\t\t\t_.eow = imgw !== 0 ? imgw : _.eow;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.eow <= 0 && _.lastknownwidth !== undefined) _.eow = _.lastknownwidth;\r\n\t\t\t\t\tif (_.eoh <= 0 && _.lastknownheight !== undefined) _.eoh = _.lastknownheight;\r\n\r\n\r\n\r\n\t\t\t\t\t// BUILD AND UPDATE SHARP DECO CORNERS\r\n\t\t\t\t\tif (_.corners !== undefined && (_.type === \"text\" || _.type === \"button\" || _.type === \"shape\")) {\r\n\t\t\t\t\t\tfor (corner in _.corners) {\r\n\t\t\t\t\t\t\tif (!_.corners.hasOwnProperty(corner)) continue;\r\n\t\t\t\t\t\t\t_.corners[corner].css('borderWidth', _.eoh + \"px\");\r\n\t\t\t\t\t\t\tvar fcr = corner === \"rs-fcrt\" || corner === \"rs-fcr\";\r\n\t\t\t\t\t\t\t_.corners[corner].css('border' + (fcr ? \"Right\" : \"Left\"), '0px solid transparent');\r\n\t\t\t\t\t\t\t_.corners[corner].css('border' + (corner == \"rs-fcrt\" || corner == \"rs-bcr\" ? \"Bottom\" : \"Top\") + 'Color', _.bgcol);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_.eow = L.outerWidth(true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// NEED CLASS FOR FULLWIDTH AND FULLHEIGHT LAYER SETTING !!\r\n\t\t\t\t\tif (_.eow == 0 && _.eoh == 0) {\r\n\t\t\t\t\t\t_.eow = _.basealign === \"grid\" ? _R[id].content.width : _R[id].module.width;\r\n\t\t\t\t\t\t_.eoh = _.basealign === \"grid\" ? _R[id].content.height : _R[id].module.height;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.basealign = _R[id].justifyCarousel ? \"grid\" : _.basealign;\r\n\r\n\r\n\t\t\t\t\tvar vofs = _.rsp_o === \"on\" ? parseInt(_.voffset[_R[id].level], 0) * _R[id].CM.w : parseInt(_.voffset[_R[id].level], 0),\r\n\t\t\t\t\t\thofs = _.rsp_o === \"on\" ? parseInt(_.hoffset[_R[id].level], 0) * _R[id].CM.h : parseInt(_.hoffset[_R[id].level], 0),\r\n\t\t\t\t\t\tcrw = _.basealign === \"grid\" ? _R.iWA(id, o.slideIndex) * _R[id].CM.w : gw,\r\n\t\t\t\t\t\tcrh = _.basealign === \"grid\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation === \"v\")  ? _R.iHE(id) * (_R[id].keepBPHeight || _R[id].currentRowsHeight > _R[id].gridheight[_R[id].level] ? 1 : _R[id].CM.h) : gh;\r\n\r\n\t\t\t\t\tif (_R[id].gridEQModule == true || (_._lig !== undefined && _.type !== \"row\" && _.type !== \"column\" && (_.type !== \"group\" || _._ingroup))) {\r\n\t\t\t\t\t\tcrw = _._lig !== undefined ? _._lig.width() : _R[id].module.width;\r\n\t\t\t\t\t\tcrh = _._lig !== undefined ? _._lig.height() : _R[id].module.height;\r\n\t\t\t\t\t\toffsetx = 0;\r\n\t\t\t\t\t\toffsety = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_R[id].keepBPHeight && crh == _R[id].module.height) offsety = 0;\r\n\r\n\t\t\t\t\t// Soft Protection for Video Height if Video has no Dimenstion yet.\r\n\t\t\t\t\tif (_.type === \"video\" && _.vidOBJ != undefined) {\r\n\t\t\t\t\t\tif (_.vidOBJ.height >= 0 && _.eoh === 0) _.eoh = _.vidOBJ.height;\r\n\t\t\t\t\t\tif (_.vidOBJ.width >= 0 && _.eow === 0) _.eow = _.vidOBJ.width;\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\telx = _.position==\"relative\" ? 0 : elx === \"c\" || elx === \"m\" || elx === \"center\" || elx === \"middle\" ? (crw / 2 - _.eow / 2) + hofs : elx === \"l\" || elx === \"left\" ? hofs : elx === \"r\" || elx === \"right\" ? (crw - _.eow) - hofs : _.rsp_o !== \"off\" ? elx * _R[id].CM.w : elx;\r\n\t\t\t\t\tely = _.position==\"relative\" ? 0 : ely === \"m\" || ely === \"c\" || ely === \"center\" || ely === \"middle\" ? (crh / 2 - _.eoh / 2) + vofs : ely === \"t\" || ely == \"top\" ? vofs : ely === \"b\" || ely == \"bottom\" ? (crh - _.eoh) - vofs : _.rsp_o !== \"off\" ? ely * _R[id].CM.w : ely;\r\n\r\n\t\t\t\t\telx = _._slidelink ? 0 : _R[id].rtl && (\"\" + _.width[_R[id].level]).indexOf(\"%\") == -1 ? parseInt(elx) + _.eow : elx;\r\n\r\n\r\n\t\t\t\t\t_.calcx = _.position==\"relative\" && (_.type===\"group\" || _._incolumn)  ? 0 : (parseInt(elx, 0) + offsetx);\r\n\t\t\t\t\t_.calcy = _.position==\"relative\" && (_.type===\"group\" || _._incolumn) ? 0 : (parseInt(ely, 0) + offsety);\r\n\r\n\t\t\t\t\t// SET TOP/LEFT POSITION OF LAYER\r\n\t\t\t\t\tif (_.type !== \"row\" && _.type !== \"column\") _.OBJUPD.POBJ = { zIndex: _.zindex, top: _.calcy, left: _.calcx, overwrite: \"auto\" };\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type !== \"row\") _.OBJUPD.POBJ = { zIndex: _.zindex, width: _.columnwidth, top: 0, left: 0, overwrite: \"auto\" };\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type === \"row\") {\r\n\t\t\t\t\t\t_.OBJUPD.POBJ = { zIndex: _.zindex, width: (_.basealign === \"grid\" ? crw + \"px\" : \"100%\"), top: 0, left: _R[id].rtl ? offsetx * -1 : offsetx, overwrite: \"auto\" };\r\n\r\n\t\t\t\t\t\tif (_.cbreak <= _R[id].level) {\r\n\t\t\t\t\t\t\tif (L[0].className.indexOf(\"rev_break_columns\") === -1) L[0].classList.add(\"rev_break_columns\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (L[0].className.indexOf(\"rev_break_columns\") > 0) L[0].classList.remove(\"rev_break_columns\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Adjust ROW Calculations\r\n\t\t\t\t\t\t_.rowcalcx = _.OBJUPD.POBJ.left;\r\n\t\t\t\t\t\t_.pow = _.p.outerWidth(true);\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\tif (_.blendmode !== undefined) _.OBJUPD.POBJ.mixBlendMode = _.blendmode===\"color\" && window.isSafari11 ? \"color-burn\" : _.blendmode;\r\n\r\n\t\t\t\t\t// LOOP ANIMATION WIDTH/HEIGHT\r\n\t\t\t\t\tif (_.frames.loop !== undefined || _.imgInFirefox) _.OBJUPD.LPOBJ = { width: _.eow, height: _.eoh }; //tpGS.gsap.set(_.lp,{width:_.eow,height:_.eoh});\r\n\t\t\t\t\t// ELEMENT IN GROUPS WITH % WIDTH AND HEIGHT SHOULD EXTEND PARRENT SIZES\r\n\t\t\t\t\tif (_._ingroup) {\r\n\t\t\t\t\t\tif (_._groupw !== undefined && !_R.isNumeric(_._groupw) && _._groupw.indexOf(\"%\") > 0) _.OBJUPD.lppmOBJ.minWidth = _._groupw;\r\n\t\t\t\t\t\tif (_._grouph !== undefined && !_R.isNumeric(_._grouph) && _._grouph.indexOf(\"%\") > 0) _.OBJUPD.lppmOBJ.minHeight = _._grouph;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (o.mode === \"updateposition\") {\r\n\t\t\t\t\t\tif (_.caches.POBJ_LEFT !== _.OBJUPD.POBJ.left || _.caches.POBJ_TOP !== _.OBJUPD.POBJ.top) {\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_.p, _.OBJUPD.POBJ);\r\n\t\t\t\t\t\t\t_.caches.POBJ_LEFT = _.OBJUPD.POBJ.left;\r\n\t\t\t\t\t\t\t_.caches.POBJ_TOP = _.OBJUPD.POBJ.top;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (o.animcompleted) _R.animcompleted(L, id);\r\n\r\n\r\n\t\t\t\t} // IT WAS ONLY PRESET ? OVERJUMP PARTS\r\n\t\t\t} // END OF FOR li RUNTRHOUGH OF LAYERS\r\n\t\t},\r\n\r\n\t\thoverReverseDone: function(_) {\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].textDecoration) tpGS.gsap.set(_R[_.id]._L[_.L[0].id].c, { textDecoration: _R[_.id]._L[_.L[0].id].textDecoration });\r\n\t\t},\r\n\r\n\t\t// MAKE SURE THE ANIMATION ENDS WITH A CLEANING ON MOZ TRANSFORMS\r\n\t\tanimcompleted: function(_nc, id, force) {\r\n\r\n\t\t\tif (_R[id].videos === undefined) return;\r\n\t\t\tvar _ = _R[id].videos[_nc[0].id];\r\n\t\t\tif (_ == undefined) return;\r\n\t\t\tif (_.type != undefined && _.type != \"none\")\r\n\t\t\t\tif (_.aplay == true || _.aplay == \"true\" || _.aplay == \"on\" || _.aplay == \"1sttime\") {\r\n\r\n\t\t\t\t\t//Addedd a double test if carousel and focus not changed, we can compare activeRSSSLider to index when oldfocus and newfocus still same !\r\n\t\t\t\t\tif (_.slideid === \"static\" || (_R[id].sliderType !== \"carousel\" || (_nc.closest('rs-slide').index() == _R[id].carousel.focused) || (_nc.closest('rs-slide').index() == _R[id].activeRSSlide && _R[id].carousel.oldfocused == _R[id].carousel.focused) || force)) _R.playVideo(_nc, id);\r\n\t\t\t\t\t_R.toggleState(_nc.data('videotoggledby'));\r\n\t\t\t\t\tif (_.aplay1 || _.aplay == \"1sttime\") {\r\n\t\t\t\t\t\t_.aplay1 = false;\r\n\t\t\t\t\t\t_.aplay = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_.aplay == \"no1sttime\") _.aplay = true;\r\n\t\t\t\t\t_R.unToggleState(_nc.data('videotoggledby'));\r\n\t\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/********************************************************\r\n\t\t\t-\tCONVERT TRANSFORM VALUES FOR HOVER ANIMATION -\r\n\t\t*********************************************************/\r\n\t\tconvertHoverTransform : function(_, el, idle) {\r\n\t\t\tvar a = _R.clone(_.transform),\r\n\t\t\t\tnb, l;\r\n\t\t\tif (a.originX || a.originY || a.originZ) {\r\n\t\t\t\ta.transformOrigin = (a.originX === undefined ? \"50%\" : a.originX) + \" \" + (a.originY === undefined ? \"50%\" : a.originY) + \" \" + (a.originZ === undefined ? \"50%\" : a.originZ);\r\n\t\t\t\tdelete a.originX;\r\n\t\t\t\tdelete a.originY;\r\n\t\t\t\tdelete a.originZ;\r\n\t\t\t}\r\n\r\n\t\t\tif (_ !== undefined && _.filter !== undefined) {\r\n\t\t\t\ta.filter = buildFilter(_.filter);\r\n\t\t\t\ta['-webkit-filter'] = a.filter;\r\n\t\t\t}\r\n\r\n\t\t\ta.color = a.color === undefined ? 'rgba(255,255,255,1)' : a.color;\r\n\t\t\ta.force3D = \"auto\";\r\n\r\n\t\t\tif (a.borderRadius !== undefined) {\r\n\t\t\t\tnb = a.borderRadius.split(\" \");\r\n\t\t\t\tl = nb.length;\r\n\t\t\t\ta.borderTopLeftRadius = nb[0];\r\n\t\t\t\ta.borderTopRightRadius = nb[1];\r\n\t\t\t\ta.borderBottomRightRadius = nb[2];\r\n\t\t\t\ta.borderBottomLeftRadius = nb[3];\r\n\t\t\t\tdelete a.borderRadius;\r\n\t\t\t}\r\n\r\n\t\t\tif (a.borderWidth !== undefined) {\r\n\t\t\t\tnb = a.borderWidth.split(\" \"),\r\n\t\t\t\t\tl = nb.length;\r\n\t\t\t\ta.borderTopWidth = nb[0];\r\n\t\t\t\ta.borderRightWidth = nb[1];\r\n\t\t\t\ta.borderBottomWidth = nb[2];\r\n\t\t\t\ta.borderLeftWidth = nb[3];\r\n\t\t\t\tdelete a.borderWidth;\r\n\t\t\t}\r\n\r\n\t\t\tif (idle.bg === undefined || idle.bg.indexOf('url') === -1) {\r\n\t\t\t\tvar elGradient = idle.bgCol.search('gradient') !== -1,\r\n\t\t\t\t\taGradient = a.backgroundImage && typeof a.backgroundImage === 'string' && a.backgroundImage.search('gradient') !== -1;\r\n\r\n\t\t\t\tif (aGradient && elGradient) {\r\n\t\t\t\t\tif (gradDegree(idle.bgCol) !== 180 && gradDegree(a.backgroundImage) == 180) a.backgroundImage = addGradDegree(a.backgroundImage, 180);\r\n\t\t\t\t\ta.backgroundImage = tpGS.getSSGColors(idle.bgCol, a.backgroundImage, (a.gs === undefined ? \"fading\" : a.gs)).to;\r\n\t\t\t\t} else\r\n\t\t\t\tif (aGradient && !elGradient)\r\n\t\t\t\t\ta.backgroundImage = tpGS.getSSGColors(idle.bgCol, a.backgroundImage, (a.gs === undefined ? \"fading\" : a.gs)).to;\r\n\t\t\t\telse\r\n\t\t\t\tif (!aGradient && elGradient) {\r\n\t\t\t\t\ta.backgroundImage = tpGS.getSSGColors(idle.bgCol, a.backgroundColor, (a.gs === undefined ? \"fading\" : a.gs)).to;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdelete a.gs;\r\n\r\n\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\r\n\r\n\t\t/********************************************************\r\n\t\t\t-\tPREPARE AND DEFINE STATIC LAYER DIRECTIONS -\r\n\t\t*********************************************************/\r\n\t\thandleStaticLayers: function(_nc, id) {\r\n\t\t\tvar s = 0,\r\n\t\t\t\te = _R[id].realslideamount + 1;\r\n\r\n\t\t\tif (_R.gA(_nc[0], \"onslides\") !== undefined) {\r\n\t\t\t\tvar ons = _R.gA(_nc[0], \"onslides\").split(\";\");\r\n\t\t\t\tfor (var i in ons) {\r\n\t\t\t\t\tif (!ons.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tvar v = ons[i].split(\":\");\r\n\t\t\t\t\tif (v[0] === \"s\") s = parseInt(v[1], 0);\r\n\t\t\t\t\tif (v[0] === \"e\") e = parseInt(v[1], 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ts = Math.max(0, s);\r\n\t\t\te = Math.min(_R[id].realslideamount, (e < 0 ? _R[id].realslideamount : e));\r\n\r\n\r\n\t\t\te = (s === 1 || s === 0) && e === _R[id].realslideamount ? _R[id].realslideamount + 1 : e;\r\n\t\t\t_nc.data('startslide', s);\r\n\t\t\t_nc.data('endslide', e);\r\n\t\t\t_R.sA(_nc[0], \"startslide\", s);\r\n\t\t\t_R.sA(_nc[0], \"endslide\", e);\r\n\t\t},\r\n\r\n\t\tupdateLayersOnFullStage: function(id) {\r\n\t\t\tif (_R[id].caches.calcResponsiveLayersList.length > 0) {\r\n\t\t\t\tif (_R[id].slideHasIframe !== true && _R[id].fullScreenMode !== true && _R[id].skipAttachDetach!==true) {\r\n\t\t\t\t\tif (_R[id].sliderType === \"carousel\") _R[id].carousel.wrap.detach(); else _R[id].canvas.detach();\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < _R[id].caches.calcResponsiveLayersList.length; i++)\r\n\t\t\t\t\tif (_R[id].caches.calcResponsiveLayersList[i] !== undefined) calcResponsiveLayer(_R[id].caches.calcResponsiveLayersList[i]);\r\n\t\t\t\tif (_R[id].slideHasIframe !== true && _R[id].fullScreenMode !== true && _R[id].skipAttachDetach!==true) {\r\n\t\t\t\t\tif (_R[id].sliderType === \"carousel\") _R[id].c[0].appendChild(_R[id].carousel.wrap[0]);else _R[id].c[0].appendChild(_R[id].canvas[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/************************************\r\n\t\t\tANIMATE ALL CAPTIONS\r\n\t\t*************************************/\r\n\t\tanimateTheLayers: function(obj) {\r\n\r\n\t\t\tif (obj.slide === undefined) return false;\r\n\t\t\tvar id = obj.id;\r\n\t\t\tif (_R[id].slides[obj.slide] === undefined && obj.slide !== \"individual\") return false;\r\n\r\n\t\t\t// Protection against double call if Carousel Auto Slide Swap processing\r\n\t\t\tif (_R[id].sliderType === \"carousel\") {\r\n\t\t\t\tif (obj.mode === \"start\" && _R[id].lastATLmode === \"start\") {\r\n\t\t\t\t\tif (obj.slide === _R[id].lastATLslide && (new Date().getTime() - _R[id].lastATLtime) < 1500) return;\r\n\t\t\t\t\t_R[id].lastATLtime = new Date().getTime();\r\n\t\t\t\t}\r\n\t\t\t\t_R[id].lastATLmode = obj.mode;\r\n\t\t\t\t_R[id].lastATLslide = obj.slide;\r\n\t\t\t}\r\n\r\n\t\t\tvar key = obj.slide !== \"individual\" ? _R.gA(_R[id].slides[obj.slide], \"key\") : \"individual\",\r\n\t\t\t\tindex = _R[id].pr_processing_key !== undefined ? _R[id].pr_processing_key : _R[id].pr_active_key !== undefined ? _R[id].pr_active_key : 0;\r\n\t\t\t_R[id].focusedSlideIndex = index;\r\n\t\t\t_R[id].caches.calcResponsiveLayersList = [];\r\n\r\n\t\t\t// COLLECTION OF LAYERS\r\n\t\t\t_R[id].layers = _R[id].layers || {};\r\n\r\n\t\t\tif (key === \"individual\") _R[id].layers[\"individual\"] = _R[id].layers[\"individual\"] === undefined ? _R[id].carousel.showLayersAllTime === \"all\" ? getLayersInSlide(jQuery(_R[id].c), 'rs-layer', 'rs-layer-static') : getLayersInSlide(jQuery(_R[id].c), 'rs-on-car') : _R[id].layers[\"individual\"];\r\n\t\t\telse {\r\n\t\t\t\t_R[id].layers[key] = _R[id].layers[key] === undefined ? _R[id].carousel.showLayersAllTime === \"all\" ? [] : getLayersInSlide(jQuery(_R[id].slides[obj.slide]), 'rs-layer', (_R[id].sliderType === \"carousel\" ? 'rs-on-car' : undefined)) : _R[id].layers[key];\r\n\t\t\t\t_R[id].layers[\"static\"] = _R[id].layers[\"static\"] === undefined ? getLayersInSlide(jQuery(_R[id].c.find('rs-static-layers')), 'rs-layer', 'rs-on-car') : _R[id].layers[\"static\"];\r\n\t\t\t\t_R[id].sbas[key] = _R[id].sbas[key] === undefined ? getLayersInSlide(jQuery(_R[id].slides[obj.slide]), 'rs-sba') : _R[id].sbas[key];\r\n\t\t\t}\r\n\r\n\r\n\t\t\t//_R.updateDims(id);\r\n\t\t\tvar shPermnt = obj.mode === \"rebuild\" && _R[id].sliderType === \"carousel\" && key === \"individual\";\r\n\r\n\t\t\t// PREPARE AND ANIMATE SLIDE LAYERS\r\n\t\t\tif (key !== undefined && _R[id].layers[key]) _R.initLayer({ id: id, slideIndex: obj.slide, skey: key, mode: obj.mode, animcompleted: shPermnt });\r\n\r\n\t\t\t// PREPARE AND ANIMATE STATIC LAYERS\r\n\t\t\tif (_R[id].layers[\"static\"]) _R.initLayer({ id: id, skey: \"static\", slideIndex: 'static', mode: obj.mode, animcompleted: shPermnt });\r\n\r\n\t\t\t// UPDATE LAYER STYLES ON THE FULL STAGE\r\n\t\t\t_R.updateLayersOnFullStage(id);\r\n\r\n\t\t\tif (obj.mode === \"preset\" && (_R[id].slidePresets === undefined || _R[id].slidePresets[obj.slide] === undefined)) {\r\n\t\t\t\t_R[id].slidePresets = _R[id].slidePresets === undefined ? {} : _R[id].slidePresets;\r\n\t\t\t\t_R[id].slidePresets[obj.slide] = true;\r\n\t\t\t\t_R[id].c.trigger('revolution.slideprepared', { slide: obj.slide, key: key });\r\n\t\t\t}\r\n\r\n\t\t\t_R[id].heightInLayers = _R[id].module.height;\r\n\t\t\t_R[id].widthInLayers = _R[id].module.width;\r\n\t\t\t_R[id].levelInLayers = _R[id].level;\r\n\r\n\t\t\tvar cache = { id: id, skey: key, slide: obj.slide, key: key, mode: obj.mode, index: index };\r\n\r\n\t\t\t// MODIFICATED REQUEST ANIMATION BASED START OF ANIMATION\r\n\t\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t\t//_R[obj.id].heightInLayers = undefined;\r\n\t\t\t\t//_R[obj.id].widthInLayers = undefined;\r\n\t\t\t\tif (_R[id].dimensionReCheck[key] === undefined) {\r\n\t\t\t\t\t_R.updateLayerDimensions(cache);\r\n\t\t\t\t\tif (_R[id].doubleDimensionCheck !== true) setTimeout(function() {\r\n\t\t\t\t\t\t_R.updateLayerDimensions(cache);\r\n\t\t\t\t\t\t_R.updateRowZones(cache);\r\n\t\t\t\t\t}, 150);\r\n\t\t\t\t\telse _R.updateRowZones(cache);\r\n\t\t\t\t\t_R[id].doubleDimensionCheck = true;\r\n\t\t\t\t\t_R[id].dimensionReCheck[key] = true;\r\n\t\t\t\t} else _R.updateRowZones(cache);\r\n\r\n\t\t\t\tif (key !== undefined && _R[id].layers[key])\r\n\t\t\t\t\tfor (var li in _R[id].layers[key])\r\n\t\t\t\t\t\tif (_R[id].layers[key].hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers[key][li]), id: id, mode: obj.mode, caller: obj.caller });\r\n\t\t\t\tif (_R[id].layers.static)\r\n\t\t\t\t\tfor (var li in _R[id].layers.static)\r\n\t\t\t\t\t\tif (_R[id].layers.static.hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers.static[li]), id: id, mode: obj.mode, caller: obj.caller });\r\n\t\t\t\tif (_R[id].mtl != undefined) _R[id].mtl.resume();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tupdateRowZones: function(obj) {\r\n\t\t\tif ((_R[obj.id].rowzones !== undefined && _R[obj.id].rowzones.length > 0 && obj.index >= 0 && (_R[obj.id].rowzones[Math.min(obj.index, _R[obj.id].rowzones.length)] && _R[obj.id].rowzones[Math.min(obj.index, _R[obj.id].rowzones.length)].length > 0)) || (_R[obj.id].srowzones !== undefined && _R[obj.id].srowzones.length > 0) || (_R[obj.id].smiddleZones !== undefined && _R[obj.id].smiddleZones.length > 0)) {\r\n\t\t\t\t_R.updateDims(obj.id);\r\n\t\t\t\t//requestAnimationFrame(function() {_R.updateMiddleZonesAndESG(obj.id);}); // CENTERED ROWS, SOLTION NOW VIA CSS\r\n\t\t\t\t_R.initLayer({ id: obj.id, skey: obj.key, slideIndex: obj.slide, mode: \"updateposition\" });\r\n\t\t\t\t_R.initLayer({ id: obj.id, skey: \"static\", slideIndex: 'static', mode: \"updateposition\" });\r\n\t\t\t\tif (obj.mode === \"start\" || obj.mode === \"preset\") _R.manageNavigation(obj.id);\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.putRowsInPosition(obj.id);});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tupdateLayerDimensions: function(obj) {\r\n\t\t\tvar changes = false;\r\n\t\t\t_R[obj.id].caches.calcResponsiveLayersList = [];\r\n\t\t\tif (obj.key !== undefined && (obj.key == \"individual\" || _R[obj.id].layers[obj.key] !== undefined) && _R.checkLayerDimensions({ id: obj.id, skey: obj.key, slideIndex: obj.slide })) changes = true;\r\n\t\t\t_R.initLayer({ id: obj.id, skey: obj.key, slideIndex: obj.slide, mode: \"updateAndResize\" });\r\n\t\t\tif (_R[obj.id].layers[\"static\"] && _R.checkLayerDimensions({ id: obj.id, skey: \"static\", slideIndex: 'static' })) { changes = true;\r\n\t\t\t\t_R.initLayer({ id: obj.id, skey: \"static\", slideIndex: 'static', mode: \"updateAndResize\" }); }\r\n\t\t\tif (changes) _R.updateLayersOnFullStage(obj.id);\r\n\t\t},\r\n\r\n\t\t// Update the Layers which are or will be animated currently .  i.e. Stage size changed based on Navigation outter size. (call from updateDimensions so far);\r\n\t\tupdateAnimatingLayerPositions: function(obj) {\r\n\t\t\t_R.initLayer({ id: obj.id, skey: obj.key, slideIndex: obj.slide, mode: \"updateposition\" })\r\n\t\t},\r\n\r\n\t\t//////////////////////////\r\n\t\t//\tREMOVE THE CAPTIONS //\r\n\t\t/////////////////////////\r\n\t\tremoveTheLayers: function(slide, id, allforce) {\r\n\r\n\t\t\tvar skey = _R.gA(slide[0], \"key\");\r\n\t\t\tif (_R[id].sloops && _R[id].sloops[skey] && _R[id].sloops[skey].tl) _R[id].sloops[skey].tl.pause();\r\n\t\t\t//REMOVE CURRENT LAYERS\r\n\t\t\tfor (var li in _R[id].layers[skey])\r\n\t\t\t\tif (_R[id].layers[skey].hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers[skey][li]), frame: \"frame_999\", mode: \"continue\", remove: true, id: id, allforce: allforce });\r\n\t\t\t\t//REMOVE STATIC LAYERS IF NEEDED\r\n\t\t\tfor (var li in _R[id].layers.static)\r\n\t\t\t\tif (_R[id].layers.static.hasOwnProperty(li)) _R.renderLayerAnimation({ layer: jQuery(_R[id].layers.static[li]), frame: \"frame_999\", mode: \"continue\", remove: true, id: id, allforce: allforce });\r\n\r\n\t\t},\r\n\r\n\t\t/************************************\r\n\t\t\t\tRENDER LAYER ANIMATIONS\r\n\t\t*************************************/\r\n\t\trenderLayerAnimation: function(obj) {\r\n\r\n\t\t\tvar L = obj.layer,\r\n\t\t\t\tid = obj.id,\r\n\t\t\t\tscren = _R[id].level,\r\n\t\t\t\t_ = _R[id]._L[L[0].id],\r\n\t\t\t\tfifame = \"frame_1\",\r\n\t\t\t\tcachetime = _.timeline !== undefined ? _.timeline.time() : undefined,\r\n\t\t\t\tignoreframes = false,\r\n\t\t\t\tcalledframereached = false,\r\n\t\t\t\tsl = \"none\",\r\n\t\t\t\tjumpToCacheTime = false,\r\n\t\t\t\ttPE;\r\n\r\n\t\t\tif ((obj.caller === \"containerResized_2\" || obj.caller === \"swapSlideProgress_2\") && _.animationRendered !== true) return;\r\n\t\t\t_.animationRendered = true;\r\n\r\n\t\t\t// ONLY PREPARE ELEMENTS WE REALLY NEED\r\n\t\t\tif (obj.mode === \"preset\" && _.frames.frame_1.timeline.waitoncall !== true && _.scrollBasedOffset === undefined) return;\r\n\t\t\tif (obj.mode == \"trigger\") _.triggeredFrame = obj.frame;\r\n\t\t\t//STATIC LAYERS CAN BE IGNORED IN SOME CASES\r\n\t\t\tif (_._isstatic) {\r\n\r\n\t\t\t\tvar cs = _R[id].sliderType === \"carousel\" && _R[id].carousel.oldfocused !== undefined ? parseInt(_R[id].carousel.oldfocused) + 1 : _R[id].focusedSlideIndex === undefined ? 0 : parseInt(_R[id].focusedSlideIndex, 0) + 1,\r\n\t\t\t\t\tns = _R[id].sliderType === \"carousel\" ?\r\n\t\t\t\t\t\t_R[id].pr_next_key === undefined ?\r\n\t\t\t\t\t\t\tcs == 0 ? 1 : cs\r\n\t\t\t\t\t\t\t: parseInt(_R[id].pr_next_key, 0) + 1 :\r\n\t\t\t\t\t\t\t_R[id].pr_processing_key === undefined ? cs==0 ? 1 : cs : parseInt(_R[id].pr_processing_key, 0) + 1,\r\n\t\t\t\t\tinrangecs = cs >= _.startslide && cs <= _.endslide,\r\n\t\t\t\t\tinrangens = ns >= _.startslide && ns <= _.endslide,\r\n\t\t\t\t\tleaveNotAtEnd =  _.frames.frame_999!==undefined &&_.frames.frame_999.timeline!==undefined &&  _.frames.frame_999.timeline.waitoncall!==true && (cs===_.endslide || cs===_.endslide-1);\r\n\r\n\r\n\t\t\t\t// OPENING MODAL / REOPENING MODAL  SHOULD PLAY THE GLOBAL LAYERS AGAIN\r\n\t\t\t\tif (_R[id].modal!==undefined && (obj.mode==\"start\" || obj.mode==\"continue\")) {\r\n\t\t\t\t\tif (obj.mode===\"continue\" && _R[id].modal.lastModalCall==\"close\") inrangens = false;\r\n\t\t\t\t\tif (obj.mode===\"start\" && (_R[id].modal.lastModalCall===\"show\" || _R[id].modal.lastModalCall===\"init\") &&  _R[id].modal.lastModalCall!==_.lastModalCall) {\r\n\t\t\t\t\t\t_.triggeredFrame = undefined;\r\n\t\t\t\t\t\t_.triggercache = \"reset\";\r\n\t\t\t\t\t\tif (_.timeline!==undefined && _.timeline.currentLabel()!==undefined && _.timeline.currentLabel().indexOf('frame_999')==-1) _.timeline.pause(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_.lastModalCall = _R[id].modal.lastModalCall;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tsl = obj.mode===\"start\" && leaveNotAtEnd ? true  : cs === _.endslide && obj.mode === \"continue\" ? true : obj.mode !== \"continue\" && cs !== _.endslide ? false : \"none\";\r\n\r\n\t\t\t\tif (_.animatedFrame===\"frame_999\" && (_.animatingFrame===\"done\" | _.animatingFrame==undefined)) _.lastRequestedMainFrame = \"frame_999\";\r\n\r\n\r\n\t\t\t\tif (_.timeline!==undefined && _.timeline.currentLabel()!==undefined && _.timeline.currentLabel().indexOf('frame_999')==-1) {\r\n\t\t\t\t\tjumpToCacheTime = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.allforce === true || sl === true) {\r\n\t\t\t\t\t//Force to Redo Whatever we need to do\r\n\t\t\t\t\tif (obj.mode===\"continue\" && inrangens && leaveNotAtEnd && _.timeline!==undefined) {\r\n\t\t\t\t\t\tif (_.timeline.currentLabel().indexOf('frame_999')>=0) _.timeline.pause(_.timeline.previousLabel());\r\n\t\t\t\t\t\telse _.timeline.pause(_.timeline.currentLabel());\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.mode === \"continue\" && obj.frame === \"frame_999\" && (inrangens || _.lastRequestedMainFrame === undefined)) return;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (obj.mode === \"preset\" && (_.elementHovered || !inrangens)) return;\r\n\t\t\t\t\tif (obj.mode === \"rebuild\" && !inrangecs && !inrangens) return;\r\n\t\t\t\t\t// In case Element animates before Slide End out, we need to check the Real Frame Position\r\n\t\t\t\t\tif (obj.mode === \"start\" && inrangens && _.lastRequestedMainFrame === \"frame_1\") return;\r\n\t\t\t\t\tif ((obj.mode === \"start\" || obj.mode === \"preset\") && _.lastRequestedMainFrame === \"frame_999\" && _.leftstage !== true) return;\r\n\t\t\t\t\tif ((obj.mode === \"continue\") && obj.frame === \"frame_999\" && (inrangens || _.lastRequestedMainFrame === undefined)) return;\r\n\t\t\t\t\tif (obj.mode === \"start\" && !inrangens) return;\r\n\t\t\t\t\tif (obj.mode === \"rebuild\" && _.elementHovered && _._isstatic && _.hovertimeline) return;\r\n\t\t\t\t\t//if (obj.mode === \"continue\" && _R[id].sliderType === \"carousel\" && ((cs==0 && ns==0 && !isNaN(_.lastRequestedMainFrame)) || (obj.frame==\"frame_999\" && inrangens))) return;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (obj.mode === \"start\" && _.triggercache !== \"keep\") _.triggeredFrame = undefined;\r\n\t\t\tif (L[0].id==\"kri\") console.log(obj.mode+\"  \"+_.triggeredFrame);\r\n\t\t\tif (obj.mode === \"start\") {\r\n\t\t\t\tif (_.layerLoop !== undefined) _.layerLoop.count = 0;\r\n\t\t\t\tobj.frame = _.triggeredFrame === undefined ? jumpToCacheTime ? undefined : 0 : _.triggeredFrame;\r\n\t\t\t}\r\n\r\n\t\t\tif ((obj.mode !== \"continue\" && obj.mode !== \"trigger\") && _.timeline !== undefined && (!_._isstatic || _.leftstage !== true)) {\r\n\t\t\t\t_.timeline.pause(0); //(!_._isstatic || _.leftstage!==true) is Fix for Closed Menu due Togglelayer action which reopens if this not exists\r\n\t\t\t}\r\n\r\n\t\t\tif ((obj.mode === \"continue\" || obj.mode === \"trigger\") && _.timeline !== undefined) _.timeline.pause();\r\n\r\n\t\t\t_.timeline = tpGS.gsap.timeline({ paused: true });\r\n\r\n\r\n\t\t\tif ((_.type === \"text\" || _.type === \"button\") && (_.splitText === undefined || (_.splitTextFix === undefined && (obj.mode === \"start\" || obj.mode === \"preset\")))) {\r\n\t\t\t\tupdateSplitContent({ layer: L, id: id });\r\n\t\t\t\tif (obj.mode === \"start\") _.splitTextFix = true;\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t// LETS GO THROUGH THE FRAMES\r\n\t\t\tfor (var fiin in _.ford) {\r\n\t\t\t\tif (!_.ford.hasOwnProperty(fiin)) continue;\r\n\r\n\t\t\t\tvar fi = _.ford[fiin],\r\n\t\t\t\t\trenderJustFrom = false;\r\n\t\t\t\tif (fi === \"frame_0\" || fi === \"frame_hover\" || fi === \"loop\") continue;\r\n\t\t\t\tif (fi === \"frame_999\" && !_.frames[fi].timeline.waitoncall && _.frames[fi].timeline.start >= _R[id].duration && obj.remove !== true) _.frames[fi].timeline.waitoncall = true;\r\n\r\n\t\t\t\t// IF SCENE STARTS, AND NO MEMORY SET, RESET CALL STATES\r\n\t\t\t\tif (obj.mode === \"start\" && _.triggercache !== \"keep\") _.frames[fi].timeline.callstate = _.frames[fi].timeline.waitoncall ? \"waiting\" : \"\";\r\n\r\n\t\t\t\t//SET TRIGGER STATE ON SINGLE FRAMES\r\n\t\t\t\tif (obj.mode === \"trigger\" && _.frames[fi].timeline.waitoncall) {\r\n\t\t\t\t\tif (fi === obj.frame) {\r\n\t\t\t\t\t\t_.frames[fi].timeline.triggered = true;\r\n\t\t\t\t\t\t_.frames[fi].timeline.callstate = \"called\";\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\t_.frames[fi].timeline.triggered = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.mode !== \"rebuild\" && !_.frames[fi].timeline.triggered) _.frames[fi].timeline.callstate = _.frames[fi].timeline.waitoncall ? \"waiting\" : \"\";\r\n\r\n\t\t\t\tif (obj.fastforward !== false) {\r\n\t\t\t\t\t// WE DONT NEED TO RENDER THE FRAMES COMING BEFORE THE TRIGGERED ONE !\r\n\t\t\t\t\tif ((obj.mode === \"continue\" || obj.mode === \"trigger\") && calledframereached === false && fi !== obj.frame) continue;\r\n\t\t\t\t\t// IF REBUILD, CHECK IF WE ALREADY CALLED SOMETHIGN ELSE THAN FRAME_1 and Skip frames before to fix Timeline Issues\r\n\t\t\t\t\tif ((obj.mode === \"rebuild\" || obj.mode === \"preset\") && calledframereached === false && (_.triggeredFrame !== undefined && fi !== _.triggeredFrame)) continue;\r\n\t\t\t\t\tif (fi === obj.frame || (obj.mode === \"rebuild\" && fi === _.triggeredFrame)) calledframereached = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (fi === obj.frame) calledframereached = true;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t//SKIP FRAME IF IT IS ON ACTION, IF TWO NEIGHBOUR ACTION BASED, SKIP ANYTHING ELSE\r\n\t\t\t\tif (fi !== obj.frame && _.frames[fi].timeline.waitoncall && _.frames[fi].timeline.callstate !== \"called\") ignoreframes = true;\r\n\t\t\t\tif (fi !== obj.frame && calledframereached) ignoreframes = ignoreframes === true && _.frames[fi].timeline.waitoncall ? 'skiprest' : ignoreframes === true ? false : ignoreframes;\r\n\r\n\t\t\t\tif (_.hideonfirststart === undefined && fi === \"frame_1\" && _.frames[fi].timeline.waitoncall) _.hideonfirststart = true;\r\n\r\n\r\n\r\n\t\t\t\t// COMING FRAME IGNORED, OR FRAME IS NOT CALLED YET, OR FRAME IS WAITING, BUT NEVER RENDERED YET ?\r\n\t\t\t\tif (ignoreframes && _.frames[fi].timeline.callstate === \"waiting\" && obj.mode === \"preset\" && _.firstTimeRendered != true) {\r\n\r\n\t\t\t\t\tif (_._isstatic && _.currentframe === undefined) continue;\r\n\t\t\t\t\trenderJustFrom = true;\r\n\t\t\t\t\t_.firstTimeRendered = true;\r\n\t\t\t\t} else\r\n\t\t\t\tif ((ignoreframes === \"skiprest\") || (_.frames[fi].timeline.callstate !== \"called\" && ignoreframes && obj.toframe !== fi)) continue;\r\n\r\n\r\n\r\n\t\t\t\tif (fi === \"frame_999\" && (sl === false) && (obj.mode === \"continue\" || obj.mode === \"start\" || obj.mode === \"rebuild\")) continue;\r\n\r\n\r\n\r\n\t\t\t\t_.fff = fi === fifame && (obj.mode !== \"trigger\" || _.currentframe === \"frame_999\" || _.currentframe === \"frame_0\" || _.currentframe === undefined);\r\n\t\t\t\tif (obj.mode === \"trigger\" && obj.frame === \"frame_1\" && _.leftstage === false) _.fff = false; // Fix When 1st Layer triggered after frame_999 started but not yet animated out !!\r\n\r\n\t\t\t\tif (!renderJustFrom) {\r\n\t\t\t\t\t_.frames[fi].timeline.callstate = \"called\";\r\n\t\t\t\t\t_.currentframe = fi;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar _frameObj = _.frames[fi],\r\n\t\t\t\t\t_fromFrameObj = _.fff ? _.frames.frame_0 : undefined,\r\n\t\t\t\t\tftl = tpGS.gsap.timeline(),\r\n\t\t\t\t\ttt = tpGS.gsap.timeline(),\r\n\t\t\t\t\taObj = _.c,\r\n\t\t\t\t\tsfx = _frameObj.sfx !== undefined ? checkSFXAnimations(_frameObj.sfx.effect, _.m, _frameObj.timeline.ease) : false,\r\n\t\t\t\t\tspeed = _frameObj.timeline.speed / 1000,\r\n\t\t\t\t\tmaxSplitDelay = 0,\r\n\t\t\t\t\tanim = convertTransformValues({ id: id, frame: _frameObj, layer: L, ease: _frameObj.timeline.ease, splitAmount: aObj.length, target: fi, forcefilter: (_.frames.frame_hover !== undefined && _.frames.frame_hover.filter !== undefined) }),\r\n\t\t\t\t\tfrom = _.fff ? convertTransformValues({ id: id, frame: _fromFrameObj, layer: L, ease: _frameObj.timeline.ease, splitAmount: aObj.length, target: \"frame_0\" }) : undefined,\r\n\t\t\t\t\tmask = _frameObj.mask !== undefined ? convertTransformValues({ id: id, frame: { transform: { x: _frameObj.mask.x, y: _frameObj.mask.y } }, layer: L, ease: anim.ease, target: \"mask\" }) : undefined,\r\n\t\t\t\t\tfrommask = mask !== undefined && _.fff ? convertTransformValues({ id: id, frame: { transform: { x: _fromFrameObj.mask.x, y: _fromFrameObj.mask.y } }, layer: L, ease: anim.ease, target: \"frommask\" }) : undefined,\r\n\t\t\t\t\torigEase = anim.ease;\r\n\r\n\t\t\t\tanim.force3D = true;\r\n\r\n\t\t\t\tif (sfx.type === \"block\") {\r\n\t\t\t\t\tsfx.ft[0].background = _frameObj.sfx.fxc;\r\n\t\t\t\t\t//_fromFrameObj.mask.overflow = \"hidden\";\r\n\t\t\t\t\t//_frameObj.mask.overflow = \"hidden\";\r\n\t\t\t\t\tsfx.ft[0].visibility = 'visible';\r\n\t\t\t\t\tsfx.ft[1].visibility = 'visible';\r\n\t\t\t\t\tftl.add(tpGS.gsap.fromTo(sfx.bmask_in, speed / 2, sfx.ft[0], sfx.ft[1], 0));\r\n\t\t\t\t\tftl.add(tpGS.gsap.fromTo(sfx.bmask_in, speed / 2, sfx.ft[1], sfx.t, speed / 2));\r\n\t\t\t\t\tif (fi === \"frame_0\" || fi === \"frame_1\") from.opacity = 0;\r\n\r\n\t\t\t\t\t// If the following line is added, the Layer Animation starts at wrong time (Already visible at start) if only SFX Block Out set to layer.\r\n\t\t\t\t\t//else if (fi===\"frame_999\" ) ftl.add(tt.staggerFromTo(aObj,0.05,{ autoAlpha:1},{autoAlpha:0,delay:speed/2},0),0.001);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// SET COLOR ON LAYER (TO AND FROM)\r\n\t\t\t\tif (_frameObj.color !== undefined) anim.color = _frameObj.color;\r\n\t\t\t\telse\r\n\t\t\t\tif (_.color !== undefined && _.color[scren] !== \"npc\") anim.color = _.color[scren];\r\n\r\n\t\t\t\tif (_fromFrameObj !== undefined && _fromFrameObj.color !== undefined) from.color = _fromFrameObj.color;\r\n\t\t\t\telse\r\n\t\t\t\tif (_fromFrameObj !== undefined && _.color !== undefined && _.color[scren] !== \"npc\") from.color = _.color[scren];\r\n\r\n\r\n\r\n\t\t\t\t// SET BACKGROUNDCOLOR ON LAYER (TO AND FROM)\r\n\t\t\t\tif (_frameObj.bgcolor !== undefined)\r\n\t\t\t\t\tif (_frameObj.bgcolor.indexOf(\"gradient\") >= 0) anim.background = _frameObj.bgcolor;\r\n\t\t\t\t\telse anim.backgroundColor = _frameObj.bgcolor;\r\n\t\t\t\telse\r\n\t\t\t\tif (_.bgcolinuse === true)\r\n\t\t\t\t\tif (_.bgcol.indexOf(\"gradient\") >= 0) anim.background = _.bgcol;\r\n\t\t\t\t\telse anim.backgroundColor = _.bgcol;\r\n\r\n\t\t\t\tif (_fromFrameObj !== undefined) {\r\n\t\t\t\t\tif (_fromFrameObj.bgcolor !== undefined)\r\n\t\t\t\t\t\tif (_fromFrameObj.bgcolor.indexOf(\"gradient\") >= 0) from.background = _fromFrameObj.bgcolor;\r\n\t\t\t\t\t\telse from.backgroundColor = _fromFrameObj.bgcolor;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.bgcolinuse === true)\r\n\t\t\t\t\t\tif (_.bgcol.indexOf(\"gradient\") >= 0) from.background = _.bgcol;\r\n\t\t\t\t\t\telse from.backgroundColor = _.bgcol;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ANIMATE CHARS, WORDS, LINES\r\n\t\t\t\tif (_.splitText !== undefined && _.splitText !== false) {\r\n\t\t\t\t\tfor (var i in splitTypes) if (splitTypes.hasOwnProperty(i)) {\r\n\t\t\t\t\t\tif (_frameObj[splitTypes[i]] !== undefined && !_.quickRendering) {\r\n\t\t\t\t\t\t\tvar sObj = _.splitText[splitTypes[i]],\r\n\t\t\t\t\t\t\t\tsanim = convertTransformValues({ id: id, frame: _frameObj, source: splitTypes[i], ease: origEase, layer: L, splitAmount: sObj.length, target: fi + \"_\" + splitTypes[i] }),\r\n\t\t\t\t\t\t\t\tsfrom = (_.fff ? convertTransformValues({ id: id, frame: _fromFrameObj, ease: sanim.ease, source: splitTypes[i], layer: L, splitAmount: sObj.length, target: \"frame_0_\" + splitTypes[i] }) : undefined),\r\n\t\t\t\t\t\t\t\tsDelay = _.frames[fi].dosplit ? _frameObj[splitTypes[i]].delay === undefined ? 0.05 : _frameObj[splitTypes[i]].delay / 100 : 0;\r\n\r\n\t\t\t\t\t\t\t// SET COLOR ON SPLIT  (TO AND FROM)\r\n\t\t\t\t\t\t\tif (_.color[scren] !== anim.color || fi !== \"frame_1\") sanim.color = anim.color; // ADDED IF TO RESPECT INLINE STYLES\r\n\t\t\t\t\t\t\tif (from !== undefined && _.color[scren] !== from.color) sfrom.color = from.color; // ADDED IF TO RESPECT INLINE STYLES\r\n\t\t\t\t\t\t\tif (sfrom !== undefined && sfrom.color !== anim.color) sanim.color = anim.color;\r\n\t\t\t\t\t\t\tvar $anim = _R.clone(sanim),\r\n\t\t\t\t\t\t\t\t$from = _.fff ? _R.clone(sfrom) : undefined,\r\n\t\t\t\t\t\t\t\tdir = _frameObj[splitTypes[i]].dir;\r\n\r\n\t\t\t\t\t\t\tdelete $anim.dir;\r\n\r\n\t\t\t\t\t\t\t$anim.data = { splitted: true };\r\n\r\n\t\t\t\t\t\t\t$anim.stagger = dir === \"center\" || dir === \"edge\" ? offsetStagger({ each: sDelay, offset: sDelay / 2, from: dir }) : { each: sDelay, from: dir };\r\n\t\t\t\t\t\t\t$anim.duration = speed;\r\n\r\n\t\t\t\t\t\t\tif ($from !== undefined) {\r\n\t\t\t\t\t\t\t\tif ($from.opacity!==undefined && (_R.ISM || window.isSafari11)) $from.opacity = Math.max(0.001,parseFloat($from.opacity));\r\n\t\t\t\t\t\t\t\tdelete $from.dir;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (_.fff) ftl.add(tt.fromTo(sObj, $from, $anim), 0);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tftl.add(tt.to(sObj, $anim), 0);\r\n\r\n\r\n\t\t\t\t\t\t\tmaxSplitDelay = Math.max(maxSplitDelay, (sObj.length * sDelay));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t//SPEED SYNC WITH THE SPLIT SPEEDS IF NECESSARY\r\n\t\t\t\tspeed = speed + maxSplitDelay;\r\n\t\t\t\tif (tPE === undefined) tPE = _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspectiveType === \"local\" ? anim.transformPerspective !== undefined ? anim.transformPerspective : _.fff && from.transfromPerspective !== undefined ? from.transfromPerspective : _R[id].perspective : _R[id].perspective;\r\n\t\t\t\t_.knowTransformPerspective = tPE;\r\n\r\n\t\t\t\t// MOVE FILTER FROM LAYER TO MASK\r\n\t\t\t\tif (_.fsom && (anim.filter!==undefined || (_.fff && from.filter!==undefined))) {\r\n\t\t\t\t\tmask.filter = anim.filter;\r\n\t\t\t\t\tmask['-webkit-filter'] = anim.filter;\r\n\t\t\t\t\tdelete anim.filter;\r\n\t\t\t\t\tdelete anim['-webkit-filter'];\r\n\t\t\t\t\tif (_.fff && from.filter!==undefined) {\r\n\t\t\t\t\t\tfrommask = frommask || {};\r\n\t\t\t\t\t\tfrommask.filter = from.filter;\r\n\t\t\t\t\t\tfrommask['-webkit-filter'] = from.filter;\r\n\t\t\t\t\t\tdelete from.filter;\r\n\t\t\t\t\t\tdelete from['-webkit-filter'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_.forceFsom = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.forceFsom = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ANIMATE MASK\r\n\t\t\t\t_.useMaskAnimation = (_.pxundermask || (mask !== undefined && ((_fromFrameObj !== undefined && _fromFrameObj.mask.overflow === \"hidden\") || _frameObj.mask.overflow === \"hidden\")));\r\n\r\n\t\t\t\tif (_.useMaskAnimation || _.forceFsom) {\r\n\t\t\t\t\tif (_.useMaskAnimation) ftl.add(tpGS.gsap.to(_.m, 0.001, { overflow: \"hidden\" }), 0); else ftl.add(tpGS.gsap.to(_.m, 0.001, { overflow: \"visible\" }), 0);\r\n\t\t\t\t\tif (_.type === \"column\" && _.cbgexists && _.useMaskAnimation) ftl.add(tpGS.gsap.to(_.cbgmask, 0.001, { overflow: \"hidden\" }), 0);\r\n\t\t\t\t\tif (_.btrans) {\r\n\t\t\t\t\t\tif (frommask) { frommask.rotationX = _.btrans.rX;\r\n\t\t\t\t\t\t\tfrommask.rotationY = _.btrans.rY;\r\n\t\t\t\t\t\t\tfrommask.rotationZ = _.btrans.rZ;\r\n\t\t\t\t\t\t\tfrommask.opacity = _.btrans.o; }\r\n\t\t\t\t\t\tmask.rotationX = _.btrans.rX;\r\n\t\t\t\t\t\tmask.rotationY = _.btrans.rY;\r\n\t\t\t\t\t\tmask.rotationZ = _.btrans.rZ;\r\n\t\t\t\t\t\tmask.opacity = _.btrans.o;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.fff)\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.fromTo((_.m!==undefined && _.cbgmask!==undefined ? [_.m, _.cbgmask] : _.m!==undefined ? _.m : _.cbgmask), speed, _R.clone(frommask), _R.clone(mask)), 0.001);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.to((_.m!==undefined && _.cbgmask!==undefined ? [_.m, _.cbgmask] : _.m!==undefined ? _.m : _.cbgmask), speed, _R.clone(mask)), 0.001);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_.btrans !== undefined) {\r\n\t\t\t\t\t\tvar mtrans = { x: 0, y: 0, filter: \"none\", opacity: _.btrans.o, rotationX: _.btrans.rX, rotationY: _.btrans.rY, rotationZ: _.btrans.rZ, overflow: \"visible\" }\r\n\t\t\t\t\t\tif (_.btrans.rX !== 0 || _.btrans.rY != 0) {\r\n\t\t\t\t\t\t\t_.maskHasPerspective = true;\r\n\t\t\t\t\t\t\tmtrans.transformPerspective = tPE;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.to(_.m, 0.001, mtrans), 0);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tftl.add(tpGS.gsap.to(_.m, 0.001, { clearProps: \"transform\", overflow: (_.ofHidOnHov==\"hidden\") ? \"hidden\" : \"visible\"}), 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tanim.force3D = \"auto\";\r\n\r\n\r\n\t\t\t\t// ANIMATE ELEMENT\r\n\t\t\t\tif (_.fff) {\r\n\t\t\t\t\tanim.visibility = \"visible\";\r\n\t\t\t\t\tif (_.cbg !== undefined) ftl.fromTo(_.cbg, speed, from, anim, 0);\r\n\r\n\t\t\t\t\t// safari bug fix\r\n\t\t\t\t\tif (_R[id].BUG_safari_clipPath && (from.clipPath || anim.clipPath || _.spike)) {\r\n\t\t\t\t\t\t//if (!from.z || !parseInt(from.z, 10)) from.z = -0.0001;\r\n\t\t\t\t\t\t//if (!anim.z || !parseInt(anim.z, 10)) anim.z = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tspeed = speed>0 ? speed - 0.001 : speed;\r\n\t\t\t\t\tif (_.cbg !== undefined && _.type === \"column\") ftl.fromTo(aObj, speed, reduceColumn(from), reduceColumn(anim), 0);\r\n\t\t\t\t\telse ftl.fromTo(aObj, speed, from, anim, 0);\r\n\t\t\t\t\tftl.invalidate();\r\n\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_.frame !== \"frame_999\") anim.visibility = \"visible\";\r\n\t\t\t\t\tif (_.cbg !== undefined) ftl.to(_.cbg, speed, anim, 0);\r\n\t\t\t\t\t// safari bug fix\r\n\t\t\t\t\t//if (_R[id].BUG_safari_clipPath && (anim.clipPath || _.spike) && (!anim.z || !parseInt(anim.z, 10))) anim.z = 0 - Math.random() * 0.01;\r\n\t\t\t\t\tif (_.cbg !== undefined && _.type === \"column\") ftl.to(aObj, speed, reduceColumn(anim), 0);\r\n\t\t\t\t\telse ftl.to(aObj, speed, anim, 0);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (origEase !== undefined && typeof origEase !== \"object\" && typeof origEase !== \"function\" && origEase.indexOf(\"SFXBounce\") >= 0) ftl.to(aObj, speed, { scaleY: 0.5, scaleX: 1.3, ease: anim.ease + \"-squash\", transformOrigin: \"bottom\" }, 0.0001);\r\n\r\n\t\t\t\t//WAITING FRAMES ADD DIRECTLY AFTER OTHER FRAMES\r\n\r\n\t\t\t\tvar pos = (obj.mode === \"trigger\" || ((ignoreframes === true || ignoreframes === \"skiprest\") && obj.mode === \"rebuild\")) && obj.frame !== fi && _frameObj.timeline.start !== undefined && _R.isNumeric(_frameObj.timeline.start) ?\r\n\t\t\t\t\t\"+=\" + parseInt(_frameObj.timeline.startRelative, 0) / 1000 :\r\n\t\t\t\t\t_frameObj.timeline.start === \"+=0\" || _frameObj.timeline.start === undefined ? \"+=0.001\" : parseInt(_frameObj.timeline.start, 0) / 1000;\r\n\r\n\r\n\t\t\t\t_.timeline.addLabel(fi, pos);\r\n\t\t\t\t_.timeline.add(ftl, pos);\r\n\t\t\t\t_.timeline.addLabel(fi + \"_end\", \"+=0.01\");\r\n\t\t\t\tftl.eventCallback(\"onStart\", tweenOnStart, [{ id: id, frame: fi, L: L, tPE: tPE }]);\r\n\t\t\t\tif (_.animationonscroll == \"true\" || _.animationonscroll == true) {\r\n\r\n\t\t\t\t\tftl.eventCallback(\"onUpdate\", tweenOnUpdate, [{ id: id, frame: fi, L: L }]);\r\n\t\t\t\t\tftl.smoothChildTiming = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tftl.eventCallback(\"onUpdate\", tweenOnUpdate, [{ id: id, frame: fi, L: L }]);\r\n\t\t\t\t}\r\n\t\t\t\tftl.eventCallback(\"onComplete\", tweenOnEnd, [{ id: id, frame: fi, L: L, tPE: tPE }]);\r\n\t\t\t}\r\n\r\n\t\t\t//RENDER LOOP ANIMATION\r\n\t\t\tif (_.frames.loop !== undefined) {\r\n\t\t\t\tvar lspeed = parseInt(_.frames.loop.timeline.speed, 0) / 1000,\r\n\t\t\t\t\tlstart = parseInt(_.frames.loop.timeline.start) / 1000 || 0,\r\n\t\t\t\t\tlsspeed = ((obj.mode !== \"trigger\" && obj.frame !== \"frame_999\") || obj.frame !== \"frame_999\") ? 0.2 : 0, // Check if it is triggered, or last frame called or triggered but not last frame called before adding animation delay!\r\n\t\t\t\t\tlssstart = lstart + lsspeed;\r\n\r\n\t\t\t\t_.loop = {\r\n\t\t\t\t\troot: tpGS.gsap.timeline({}),\r\n\t\t\t\t\tpreset: tpGS.gsap.timeline({}),\r\n\t\t\t\t\tmove: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_move }),\r\n\t\t\t\t\trotate: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_rotate }),\r\n\t\t\t\t\tscale: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_scale }),\r\n\t\t\t\t\tfilter: tpGS.gsap.timeline({ repeat: -1, yoyo: _.frames.loop.timeline.yoyo_filter })\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar lif = _.frames.loop.frame_0,\r\n\t\t\t\t\tlof = _.frames.loop.frame_999,\r\n\t\t\t\t\tloopsfilter = 'blur(' + parseInt(lif.blur || 0, 0) + 'px) grayscale(' + parseInt(lif.grayscale || 0, 0) + '%) brightness(' + parseInt(lif.brightness || 100, 0) + '%)',\r\n\t\t\t\t\tloopendfilter = 'blur(' + (lof.blur || 0) + 'px) grayscale(' + (lof.grayscale || 0) + '%) brightness(' + (lof.brightness || 100) + '%)';\r\n\r\n\t\t\t\t_.loop.root.add(_.loop.preset, 0);\r\n\t\t\t\t_.loop.root.add(_.loop.move, lsspeed);\r\n\t\t\t\t_.loop.root.add(_.loop.rotate, lsspeed);\r\n\t\t\t\t_.loop.root.add(_.loop.scale, lsspeed);\r\n\t\t\t\t_.loop.root.add(_.loop.filter, lsspeed);\r\n\r\n\t\t\t\tif (loopsfilter === 'blur(0px) grayscale(0%) brightness(100%)' && loopendfilter === 'blur(0px) grayscale(0%) brightness(100%)') {\r\n\t\t\t\t\tloopsfilter = \"none\";\r\n\t\t\t\t\tloopendfilter = \"none\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//_.loop.root.delay = lssstart;\r\n\t\t\t\tlof.originX = lif.originX;\r\n\t\t\t\tlof.originY = lif.originY;\r\n\t\t\t\tlof.originZ = lif.originZ;\r\n\r\n\t\t\t\t//LOOP MOVE ANIMATION\r\n\t\t\t\tif (tPE === undefined) tPE = _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspectiveType === \"local\" ? anim !== undefined ? anim.transformPerspective !== undefined ? anim.transformPerspective : _.fff && from.transfromPerspective !== undefined ? from.transfromPerspective : _R[id].perspective : _R[id].perspective : _R[id].perspective;\r\n\r\n\t\t\t\tif (!_.frames.loop.timeline.curved) {\r\n\t\t\t\t\t// Check if it is triggered, or last frame called or triggered but not last frame called before reset values to loop_frame_0 !\r\n\t\t\t\t\tif ((obj.mode !== \"trigger\" && obj.frame !== \"frame_999\") || obj.frame !== \"frame_999\") _.loop.preset.fromTo(_.lp, lsspeed, { '-webkit-filter': loopsfilter, 'filter': loopsfilter, x: 0, y: 0, z: 0, minWidth: (_._incolumn || _._ingroup ? \"100%\" : _.eow === undefined ? 0 : _.eow), minHeight: (_._incolumn || _._ingroup ? \"100%\" : _.eoh === undefined ? 0 : _.eoh), scaleX: 1, scaleY: 1, skewX: 0, skewY: 0, rotationX: 0, rotationY: 0, rotationZ: 0, transformPerspective: tPE, transformOrigin: lof.originX + \" \" + lof.originY + \" \" + lof.originZ, opacity: 1 }, checkLoopSkew({ x: lif.x * _R[id].CM.w, y: lif.y * _R[id].CM.w, z: lif.z * _R[id].CM.w, scaleX: lif.scaleX, skewX: lif.skewX, skewY: lif.skewY, scaleY: lif.scaleY, rotationX: lif.rotationX, rotationY: lif.rotationY, rotationZ: lif.rotationZ, ease: \"sine.out\", opacity: lif.opacity, '-webkit-filter': loopsfilter, 'filter': loopsfilter }), 0);\r\n\t\t\t\t\t_.loop.move.to(_.lp, (_.frames.loop.timeline.yoyo_move ? lspeed / 2 : lspeed), { x: lof.x * _R[id].CM.w, y: lof.y * _R[id].CM.w, z: lof.z * _R[id].CM.w, ease: _.frames.loop.timeline.ease });\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//CALCULATE EDGES\r\n\t\t\t\t\tvar sangle = parseInt(_.frames.loop.timeline.radiusAngle, 0) || 0,\r\n\t\t\t\t\t\tv = [{ x: (lif.x - lif.xr) * _R[id].CM.w, y: 0, z: (lif.z - lif.zr) * _R[id].CM.w },\r\n\t\t\t\t\t\t\t{ x: 0, y: (lif.y + lif.yr) * _R[id].CM.w, z: 0 },\r\n\t\t\t\t\t\t\t{ x: (lof.x + lof.xr) * _R[id].CM.w, y: 0, z: (lof.z + lof.zr) * _R[id].CM.w },\r\n\t\t\t\t\t\t\t{ x: 0, y: (lof.y - lof.yr) * _R[id].CM.w, z: 0 }\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tmotionPath = { type: \"thru\", curviness: _.frames.loop.timeline.curviness, path: [], autoRotate: _.frames.loop.timeline.autoRotate };\r\n\r\n\t\t\t\t\tfor (var bind in v) {\r\n\t\t\t\t\t\tif (!v.hasOwnProperty((bind))) continue;\r\n\t\t\t\t\t\tmotionPath.path[bind] = v[sangle];\r\n\t\t\t\t\t\tsangle++;\r\n\t\t\t\t\t\tsangle = sangle == v.length ? 0 : sangle;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Check if it is triggered, or last frame called or triggered but not last frame called before reset values to loop_frame_0 !\r\n\t\t\t\t\tif ((obj.mode !== \"trigger\" && obj.frame !== \"frame_999\") || obj.frame !== \"frame_999\") _.loop.preset.fromTo(_.lp, lsspeed, { '-webkit-filter': loopsfilter, 'filter': loopsfilter, x: 0, y: 0, z: 0, minWidth: (_._incolumn || _._ingroup ? \"100%\" : _.eow === undefined ? 0 : _.eow), minHeight: (_._incolumn || _._ingroup ? \"100%\" : _.eoh === undefined ? 0 : _.eoh), scaleX: 1, scaleY: 1, skewX: 0, skewY: 0, rotationX: 0, rotationY: 0, rotationZ: 0, transformPerspective: tPE, transformOrigin: lof.originX + \" \" + lof.originY + \" \" + lof.originZ, opacity: 1 }, checkLoopSkew({ x: motionPath.path[3].x, y: motionPath.path[3].y, z: motionPath.path[3].z, scaleX: lif.scaleX, skewX: lif.skewX, skewY: lif.skewY, scaleY: lif.scaleY, rotationX: lif.rotationX, rotationY: lif.rotationY, rotationZ: lif.rotationZ, '-webkit-filter': loopsfilter, 'filter': loopsfilter, ease: \"sine.inOut\", opacity: lif.opacity }), 0);\r\n\t\t\t\t\tif (checkMotionPath(motionPath)) _.loop.move.to(_.lp, (_.frames.loop.timeline.yoyo_move ? lspeed / 2 : lspeed), { motionPath: motionPath, ease: _.frames.loop.timeline.ease });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//LOOP ROTATE ANIMATION\r\n\t\t\t\t_.loop.rotate.to(_.lp, (_.frames.loop.timeline.yoyo_rotate ? lspeed / 2 : lspeed), { rotationX: lof.rotationX, rotationY: lof.rotationY, rotationZ: lof.rotationZ, ease: _.frames.loop.timeline.ease });\r\n\r\n\t\t\t\t//LOOP SCALE ANIMATION\r\n\t\t\t\t_.loop.scale.to(_.lp, (_.frames.loop.timeline.yoyo_scale ? lspeed / 2 : lspeed), checkLoopSkew({ scaleX: lof.scaleX, scaleY: lof.scaleY, skewX: lof.skewX, skewY: lof.skewY, ease: _.frames.loop.timeline.ease }));\r\n\r\n\t\t\t\t//LOOP FILTER ANIMATION\r\n\t\t\t\tvar filtanim = { opacity: lof.opacity || 1, ease: _.frames.loop.timeline.ease, '-webkit-filter': loopendfilter, 'filter': loopendfilter };\r\n\t\t\t\t_.loop.filter.to(_.lp, (_.frames.loop.timeline.yoyo_filter ? lspeed / 2 : lspeed), filtanim);\r\n\t\t\t\t_.timeline.add(_.loop.root, lssstart);\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// RENDER HOVER ANIMATION\r\n\t\t\tif (_.frames.frame_hover !== undefined && (obj.mode === \"start\" || _.hoverframeadded === undefined)) {\r\n\r\n\t\t\t\t_.hoverframeadded = true;\r\n\t\t\t\tvar hoverspeed = _.frames.frame_hover.timeline.speed / 1000;\r\n\t\t\t\thoverspeed = hoverspeed === 0 ? 0.00001 : hoverspeed;\r\n\t\t\t\t_.cachedHoverSpeed = hoverspeed;\r\n\t\t\t\t//SET HOVER ANIMATION\r\n\t\t\t\tif (!_.hoverlistener) {\r\n\t\t\t\t\t_.hoverlistener = true;\r\n\t\t\t\t\t_R.document.on(\"mouseenter mousemove\", (_.type === \"column\" && _.cbg!==undefined ? \"#\" + _.cbg[0].id + \",\" : \"\") + \"#\" + _.c[0].id, function(e) {\r\n\t\t\t\t\t\t_.mouseIsOver = true;\r\n\t\t\t\t\t\tif (_.ignoreHoverFrames==true) return;\r\n\t\t\t\t\t\tif (e.type === \"mousemove\" && _.ignoremousemove === true) return;\r\n\t\t\t\t\t\tif (_.animationonscroll || _.readyForHover) {\r\n\t\t\t\t\t\t\t_.elementHovered = true;\r\n\t\t\t\t\t\t\t// only create new hover timeline if it doesn't already exist\r\n\t\t\t\t\t\t\tif (!_.hovertimeline) _.hovertimeline = tpGS.gsap.timeline({ paused: true });\r\n\r\n\t\t\t\t\t\t\tif (_.hovertimeline.progress() == 0 && (_.lastHoveredTimeStamp === undefined || ((new Date().getTime() - _.lastHoveredTimeStamp) > 150))) { //changed limit from 1500 to 150 for a shorter delay. \"Bug\" after animation hover is not directly available\r\n\t\t\t\t\t\t\t\t_.ignoremousemove = true; // Moved ingoremouse here, since first we can ignore it when the animation really runs 1st time.\r\n\t\t\t\t\t\t\t\t_.ofHidOnHov = (_.frames.frame_hover.mask ? \"hidden\" : \"visible\");\r\n\t\t\t\t\t\t\t\t_.hovertimeline.to((_.m!==undefined && _.cbgmask!==undefined ? [_.m, _.cbgmask] : _.m!==undefined ? _.m : _.cbgmask) , hoverspeed, { overflow: _.ofHidOnHov }, 0);\r\n\t\t\t\t\t\t\t\tif (_.type === \"column\" && _.cbg!=undefined) _.hovertimeline.to(_.cbg, hoverspeed, _R.clone(_R.convertHoverTransform(_.frames.frame_hover, _.cbg, { bgCol: _.bgcol, bg: _.styleProps.background })), 0);\r\n\t\t\t\t\t\t\t\tif ((_.type === \"text\" || _.type === \"button\") && _.splitText !== undefined && _.splitText !== false) _.hovertimeline.to([_.splitText.lines, _.splitText.words, _.splitText.chars], hoverspeed, { color: _.frames.frame_hover.color, ease: _.frames.frame_hover.transform.ease }, 0);\r\n\t\t\t\t\t\t\t\tif (_.type === \"column\")\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.c, hoverspeed, reduceColumn(_R.clone(_R.convertHoverTransform(_.frames.frame_hover, _.c, { bgCol: _.bgcol, bg: _.styleProps.background }))), 0);\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.c, hoverspeed, _R.clone(_R.convertHoverTransform(_.frames.frame_hover, _.c, { bgCol: _.bgcol, bg: _.styleProps.background })), 0);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (_.type === \"svg\") {\r\n\t\t\t\t\t\t\t\t\t_.svgHTemp = _R.clone(_.svgH);\r\n\t\t\t\t\t\t\t\t\tdelete _.svgHTemp.svgAll;\r\n\r\n\t\t\t\t\t\t\t\t\t// hover colors can exist on the different responsive levels\r\n\t\t\t\t\t\t\t\t\tvar fillColor = Array.isArray(_.svgHTemp.fill) ? _.svgHTemp.fill[_R[id].level] : _.svgHTemp.fill;\r\n\t\t\t\t\t\t\t\t\t_.svgHTemp.fill = fillColor;\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.svg, hoverspeed, _.svgHTemp, 0);\r\n\t\t\t\t\t\t\t\t\tif(_.svg.length <= 0) _.svg = L.find(\"svg\");\r\n\t\t\t\t\t\t\t\t\tif(_.svgPath.length <= 0) _.svgPath = _.svg.find(!_.svgI.svgAll ? 'path' : 'path, circle, ellipse, line, polygon, polyline, rect');\r\n\t\t\t\t\t\t\t\t\t_.hovertimeline.to(_.svgPath, hoverspeed, { fill: fillColor }, 0);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//_.hovertimeline.eventCallback('onStart',function(par) {}, [{ id: id,  _: _,}])\r\n\t\t\t\t\t\t\t_.hovertimeline.play();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_.lastHoveredTimeStamp = new Date().getTime();\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_R.document.on(\"mouseleave\", (_.type === \"column\" && _.cbg!==undefined ? \"#\" + _.cbg[0].id + \",\" : \"\") + \"#\" + _.c[0].id, function() {\r\n\t\t\t\t\t\t_.mouseIsOver = false;\r\n\t\t\t\t\t\tif (_.ignoreHoverFrames==true) return;\r\n\t\t\t\t\t\t_.elementHovered = false;\r\n\t\t\t\t\t\tif ((_.animationonscroll || _.readyForHover) && _.hovertimeline !== undefined) {\r\n\t\t\t\t\t\t\t_.hovertimeline.reverse();\r\n\t\t\t\t\t\t\t_.hovertimeline.eventCallback(\"onReverseComplete\", _R.hoverReverseDone, [{ id: id, L: L }]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t// Added _.currentframe to save last played Frame in Static Layer -> Slide change will nor restart animation of already triggered layers in groups when drawn on Static\r\n\t\t\tif (!renderJustFrom) _.lastRequestedMainFrame = obj.mode === \"start\" ? \"frame_1\" : obj.mode === \"continue\" ? obj.frame === undefined ? _.currentframe : obj.frame : _.lastRequestedMainFrame;\r\n\r\n\r\n\t\t\tif (obj.totime !== undefined) _.tSTART = obj.totime;\r\n\t\t\telse\r\n\t\t\tif (cachetime !== undefined && obj.frame === undefined) _.tSTART = cachetime;\r\n\t\t\telse\r\n\t\t\tif (obj.frame !== undefined) _.tSTART = obj.frame;\r\n\t\t\telse\r\n\t\t\t\t_.tSTART = 0;\r\n\r\n\t\t\tif (_.tSTART === 0 && _.startedAnimOnce === undefined && _.leftstage === undefined && _.startedAnimOnce === undefined && _.hideonfirststart === true && obj.mode === \"preset\") {\r\n\t\t\t\t//window.requestAnimationFrame(function() {\r\n\t\t\t\t//_R[id]._L[_R[id]._L[i]._ligid].childrenAtStartNotVisible\r\n\t\t\t\t_R[id]._L[L[0].id].pVisRequest = 0; //Hidden\r\n\t\t\t\t//_R[id]._L[L[0].id].p[0].classList.add(\"rs-forcehidden\");\r\n\t\t\t\t//});\r\n\t\t\t\t_.hideonfirststart = false;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ((_.tSTART === \"frame_999\" || _.triggeredFrame === \"frame_999\") && (_.leftstage || _.startedAnimOnce === undefined)) {\r\n\t\t\t\t// WE DONT NEED TO TOUCH THE LAYER, IT IS ANYWAY NOT VISIBLE\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (_.animationonscroll != \"true\" && _.animationonscroll != true)\r\n\t\t\t\t\t_.timeline.play(_.tSTART);\r\n\t\t\t\telse\r\n\t\t\t\t\t_.timeline.time(_.tSTART);\r\n\r\n\t\t\t\t// Move Children Timeline to the Right Position\r\n\t\t\t\tif (jQuery.inArray(_.type, [\"group\", \"row\", \"column\"]) >= 0 && obj.frame !== undefined) {\r\n\t\t\t\t\tif (_.childrenJS === undefined) {\r\n\t\t\t\t\t\t_.childrenJS = {};\r\n\r\n\t\t\t\t\t\tfor (var i in _R[id]._L)\r\n\t\t\t\t\t\t\tif (_R[id]._L[i]._lig !== undefined && _R[id]._L[i]._lig[0] !== undefined && _R[id]._L[i]._lig[0].id === L[0].id && _R[id]._L[i]._lig[0].id !== _R[id]._L[i].c[0].id)\r\n\t\t\t\t\t\t\t\t_.childrenJS[_R[id]._L[i].c[0].id] = _R[id]._L[i].c;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj.frame = obj.frame == \"0\" ? \"frame_0\" : obj.frame;\r\n\t\t\t\t\tobj.frame = obj.frame == \"1\" ? \"frame_1\" : obj.frame;\r\n\t\t\t\t\tobj.frame = obj.frame == \"999\" ? \"frame_999\" : obj.frame;\r\n\t\t\t\t\tvar totime = obj.totime === undefined ?\r\n\t\t\t\t\t\t_.frames[obj.frame].timeline.startAbsolute !== undefined ?\r\n\t\t\t\t\t\tparseInt(_.frames[obj.frame].timeline.startAbsolute, 0) / 1000 :\r\n\t\t\t\t\t\t_.frames[obj.frame].timeline.start !== undefined ?\r\n\t\t\t\t\t\t_R.isNumeric(_.frames[obj.frame].timeline.start) ?\r\n\t\t\t\t\t\tparseInt(_.frames[obj.frame].timeline.start, 0) / 1000 : 0 //obj.totime  Set to \"0\" if Start is Unknown.\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t0.001 :\r\n\t\t\t\t\t\tobj.totime;\r\n\t\t\t\t\tif (obj.updateChildren === true) {\r\n\r\n\r\n\t\t\t\t\t\tfor (var i in _.childrenJS)\r\n\t\t\t\t\t\t\tif (_.childrenJS.hasOwnProperty(i)) _R.renderLayerAnimation({ layer: _.childrenJS[i], fastforward: false, id: id, mode: \"continue\", updateChildren: true, totime: totime });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i in _.childrenJS) {\r\n\t\t\t\t\t\t\tif (!_.childrenJS.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\t\tif (_R[id]._L[i].pausedTrueParrent) {\r\n\t\t\t\t\t\t\t\t_R.renderLayerAnimation({ layer: _.childrenJS[i], fastforward: false, id: id, mode: \"continue\", updateChildren: true, totime: totime });\r\n\t\t\t\t\t\t\t\t_R[id]._L[i].pausedTrueParrent = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\t/**********************************************************************************************\r\n\t\t\t\t\t\t-\tTWEEN STARTS AND ENDS -\r\n\t**********************************************************************************************/\r\n\r\n\tvar reduceColumn = function(_) {\r\n\t\t\tvar r = _R.clone(_);\r\n\t\t\tdelete r.backgroundColor;\r\n\t\t\tdelete r.background;\r\n\t\t\tdelete r.backgroundImage;\r\n\t\t\tdelete r.borderSize;\r\n\t\t\tdelete r.borderStyle;\r\n\t\t\tdelete r['backdrop-filter'];\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\tcheckMotionPath = function(_) {\r\n\t\t\tif (_ === undefined || _.path === undefined || !Array.isArray(_.path)) return;\r\n\t\t\tvar x = 0,\r\n\t\t\t\ty = 0;\r\n\t\t\tfor (var i in _.path) {\r\n\t\t\t\tif (!_.path.hasOwnProperty(i) || x > 0 || y > 0) continue;\r\n\t\t\t\tx += _.path[i].x;\r\n\t\t\t\ty += _.path[i].y;\r\n\t\t\t}\r\n\t\t\treturn x == 0 && y == 0 ? false : true;\r\n\t\t},\r\n\r\n\t\tcheckLoopSkew = function(_) {\r\n\t\t\tif (_.skewX === undefined) delete _.skewX;\r\n\t\t\tif (_.skewY === undefined) delete _.skewY;\r\n\t\t\treturn _;\r\n\t\t},\r\n\t\t// reusable function that you can wrap around your stagger vars and define an \"offset\" value that'll get added to the 2nd half of the values\r\n\t\toffsetStagger = function(_) {\r\n\t\t\t_.from = _.from === \"edge\" ? \"edges\" : _.from;\r\n\t\t\tvar distributor = tpGS.gsap.utils.distribute(_);\r\n\t\t\treturn function(i, target, targets) {\r\n\t\t\t\treturn distributor(i, target, targets) + (i <= targets.length / 2 ? 0 : _.offset || 0);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// TWEEN EVENTS - START\r\n\t\ttweenOnStart = function(_) {\r\n\r\n\r\n\t\t\t// SAFARI CLIP-PATH BUG FIX\r\n\t\t\tif (_R[_.id].BUG_safari_clipPath) _.L[0].classList.remove(\"rs-pelock\");\r\n\r\n\t\t\t//Check if Group Element Animation should be paused\r\n\t\t\tif ((_R[_.id]._L[_.L[0].id]._ingroup || _R[_.id]._L[_.L[0].id]._incolumn || _R[_.id]._L[_.L[0].id]._inrow) && _R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid] !== undefined && _R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timeline !== undefined) {\r\n\t\t\t\tif (!_R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timeline.isActive() && _R[_.id]._L[_.L[0].id] !== undefined && _R[_.id]._L[_.L[0].id].frames[_R[_.id]._L[_.L[0].id].timeline.currentLabel()] !== undefined)\r\n\t\t\t\t\tif (_R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timezone == undefined || _R[_.id]._L[_R[_.id]._L[_.L[0].id]._ligid].timezone.to <= parseInt(_R[_.id]._L[_.L[0].id].frames[_R[_.id]._L[_.L[0].id].timeline.currentLabel()].timeline.start, 0))\r\n\t\t\t\t\t\tif (_R[_.id]._L[_.L[0].id].animOnScrollForceDisable !== true) {\r\n\t\t\t\t\t\t\t_R[_.id]._L[_.L[0].id].pausedTrueParrent = true;\r\n\t\t\t\t\t\t\t_R[_.id]._L[_.L[0].id].timeline.pause();\r\n\t\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// handle hover madness\r\n\t\t\tvar curLayer = _R[_.id]._L[_.L[0].id],\r\n\t\t\t\thovertimeline = curLayer.hovertimeline;\r\n\r\n\t\t\tif (hovertimeline && hovertimeline.time() > 0) {\r\n\t\t\t\thovertimeline.pause();\r\n\t\t\t\thovertimeline.time(0);\r\n\t\t\t\thovertimeline.kill();\r\n\t\t\t\tdelete curLayer.hovertimeline;\r\n\t\t\t}\r\n\r\n\t\t\tdelete _R[_.id]._L[_.L[0].id].childrenAtStartNotVisible;\r\n\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 1;\r\n\r\n\t\t\tvar data = { layer: _.L };\r\n\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnStart = true;\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatingFrame = _.frame;\r\n\t\t\t_R[_.id]._L[_.L[0].id].ignoremousemove = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].leftstage = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].readyForHover = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenDirection =_R[_.id]._L[_.L[0].id].animationonscroll == true || _R[_.id]._L[_.L[0].id].animationonscroll == \"true\" ? _R[_.id]._L[_.L[0].id].animteToTimeCache>_R[_.id]._L[_.L[0].id].animteToTime ? -1 : 1 : undefined;\r\n\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].layerLoop !== undefined) if (_R[_.id]._L[_.L[0].id].layerLoop.from === _.frame) _R[_.id]._L[_.L[0].id].layerLoop.count++;\r\n\r\n\t\t\t// BACKWARDS MOVING ANIMATION\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].tweenDirection!==undefined && _R[_.id]._L[_.L[0].id].tweenDirection==-1 && (_.frame === \"frame_0\" || _.frame==\"frame_1\") && !(_R[_.id]._L[_.L[0].id].type === \"column\" || _R[_.id]._L[_.L[0].id].type === \"row\" || _R[_.id]._L[_.L[0].id].type === \"group\"))  {\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].leftstage = true;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 0; //Hidden\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = \"none\"\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'leftstage', _.L[0].id); });\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Safari do not render Image transform well if its opacity === 0 !?\r\n\t\t\t\tif (_.frame === \"frame_1\" && window.RSBrowser === \"Safari\" && _R[_.id]._L[_.L[0].id].safariRenderIssue === undefined) {\r\n\t\t\t\t\ttpGS.gsap.set([_R[_.id]._L[_.L[0].id].c], { opacity: 1 });\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].safariRenderIssue = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.frame !== \"frame_999\") {\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].startedAnimOnce = true;\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = _R[_.id]._L[_.L[0].id].noPevents ? \"none\" : \"auto\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.eventtype = _.frame === \"frame_0\" || _.frame === \"frame_1\" ? \"enterstage\" : _.frame === \"frame_999\" ? \"leavestage\" : \"framestarted\";\r\n\t\t\t\t//FORWARDS, BACKWARDS ON SCROLL BASED ANIMATION\r\n\r\n\r\n\t\t\t// window.requestAnimationFrame(function() {\r\n\t\t\t\tif (_R[_.id]._L[_.L[0].id]._ingroup && _R[_.id]._L[_R[_.id]._L[_.L[0].id]._lig[0].id].frames.frame_1.timeline.waitoncall !== true) _R[_.id]._L[_R[_.id]._L[_.L[0].id]._lig[0].id].pVisRequest = 1;\r\n\t\t\t\t\t_R.requestLayerUpdates(_.id, data.eventtype, _.L[0].id, _R[_.id]._L[_.L[0].id].frames[_.frame] !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline.usePerspective == false ? _.tPE : \"ignore\");\r\n\t\t\t// });\r\n\t\t\t}\r\n\r\n\t\t\tdata.id = _.id;\r\n\t\t\tdata.layerid = _.L[0].id;\r\n\t\t\tdata.layertype = _R[_.id]._L[_.L[0].id].type;\r\n\t\t\tdata.frame_index = _.frame;\r\n\t\t\tdata.layersettings = _R[_.id]._L[_.L[0].id];\r\n\r\n\r\n\r\n\t\t\t_R[_.id].c.trigger(\"revolution.layeraction\", [data]);\r\n\t\t\tif (data.eventtype === \"enterstage\") _R.toggleState(_R[_.id]._L[_.L[0].id].layertoggledby);\r\n\t\t\tif (_.frame === \"frame_1\") _R.animcompleted(_.L, _.id);\r\n\r\n\t\t},\r\n\r\n\t\ttweenOnUpdate = function(_) {\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatingFrame = _.frame;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnStart = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnEnd = false;\r\n\t\t\tif (_.frame === \"frame_999\") {\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 1;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = _R[_.id]._L[_.L[0].id].noPevents ? \"none\" : \"auto\";\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].leftstage = false;\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'update', _.L[0].id); });\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttweenOnEnd = function(_) {\r\n\r\n\t\t\tvar vis = true;\r\n\t\t\t//GET ZONE\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].type === \"column\" || _R[_.id]._L[_.L[0].id].type === \"row\" || _R[_.id]._L[_.L[0].id].type === \"group\") {\r\n\t\t\t\tvar cl = _R[_.id]._L[_.L[0].id].timeline.currentLabel(),\r\n\t\t\t\t\tnl = jQuery.inArray(cl, _R[_.id]._L[_.L[0].id].ford);\r\n\t\t\t\tnl++;\r\n\t\t\t\tnl = _R[_.id]._L[_.L[0].id].ford.length > nl ? _R[_.id]._L[_.L[0].id].ford[nl] : cl;\r\n\r\n\t\t\t\tif (_R[_.id]._L[_.L[0].id].frames[nl] !== undefined && _R[_.id]._L[_.L[0].id].frames[cl] !== undefined) {\r\n\t\t\t\t\t_R[_.id]._L[_.L[0].id].timezone = { from: parseInt(_R[_.id]._L[_.L[0].id].frames[cl].timeline.startAbsolute, 0), to: parseInt(_R[_.id]._L[_.L[0].id].frames[nl].timeline.startAbsolute, 0) };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (_.frame !== \"frame_999\" && _R[_.id].isEdge && _R[_.id]._L[_.L[0].id].type === \"shape\") {\r\n\t\t\t\t// ISSUS FOR IE EDGE WHICH  BREAKS SHAPE MASK ANIMATIONS\r\n\t\t\t\tvar cachemw = _R[_.id]._L[_.L[0].id].c[0].style.opacity;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].c[0].style.opacity = cachemw - 0.0001\r\n\t\t\t\ttpGS.gsap.set(_R[_.id]._L[_.L[0].id].c[0], { opacity: (cachemw - 0.001), delay: 0.05 });\r\n\t\t\t\ttpGS.gsap.set(_R[_.id]._L[_.L[0].id].c[0], { opacity: cachemw, delay: 0.1 });\r\n\t\t\t}\r\n\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatingFrame = \"done\";\r\n\t\t\t_R[_.id]._L[_.L[0].id].animatedFrame = _.frame;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnStart = false;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenOnEnd = true;\r\n\t\t\t_R[_.id]._L[_.L[0].id].tweenDirection =_R[_.id]._L[_.L[0].id].animationonscroll == true || _R[_.id]._L[_.L[0].id].animationonscroll == \"true\" ? _R[_.id]._L[_.L[0].id].animteToTimeCache>_R[_.id]._L[_.L[0].id].animteToTime ? -1 : 1 : undefined;\r\n\r\n\t\t\tvar data = {};\r\n\t\t\tdata.layer = _.L;\r\n\t\t\tdata.eventtype = _.frame === \"frame_0\" || _.frame === \"frame_1\" ? \"enteredstage\" : _.frame === \"frame_999\" ? \"leftstage\" : \"frameended\";\r\n\t\t\t_R[_.id]._L[_.L[0].id].readyForHover = true;\r\n\t\t\tdata.layertype = _R[_.id]._L[_.L[0].id].type;\r\n\t\t\tdata.frame_index = _.frame;\r\n\t\t\tdata.layersettings = _R[_.id]._L[_.L[0].id];\r\n\t\t\t_R[_.id].c.trigger(\"revolution.layeraction\", [data]);\r\n\r\n\t\t\tif (_.frame === \"frame_999\" && data.eventtype === \"leftstage\") {\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].leftstage = true;\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pVisRequest = 0; //Hidden\r\n\t\t\t\t_R[_.id]._L[_.L[0].id].pPeventsRequest = \"none\"\r\n\t\t\t\tvis = false;\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'leftstage', _.L[0].id); });\r\n\t\t\t} else // If Perspective should not be used, and Frame Ended, we can remove the \"pseudo\" perspective which helps to animate things smoother, i.e. scale Animations\r\n\t\t\tif (_.L[0].id, _R[_.id]._L[_.L[0].id].frames[_.frame] !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline !== undefined && _R[_.id]._L[_.L[0].id].frames[_.frame].timeline.usePerspective == false)\r\n\t\t\t\twindow.requestAnimationFrame(function() { _R.requestLayerUpdates(_.id, 'frameended', _.L[0].id, _.tPE); });\r\n\r\n\r\n\t\t\tif (data.eventtype === \"leftstage\" && _R[_.id].videos !== undefined && _R[_.id].videos[_.L[0].id] !== undefined && _R.stopVideo) _R.stopVideo(_.L, _.id);\r\n\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].type === \"column\" && _R[_.id]._L[_.L[0].id].cbg!==undefined) tpGS.gsap.to(_R[_.id]._L[_.L[0].id].cbg, 0.01, { visibility: \"visible\" });\r\n\r\n\t\t\tif (data.eventtype === \"leftstage\") {\r\n\t\t\t\t_R.unToggleState(_.layertoggledby);\r\n\t\t\t\t//RESET VIDEO AFTER REMOVING LAYER\r\n\t\t\t\tif (_R[_.id]._L[_.L[0].id].type === \"video\" && _R.resetVideo) setTimeout(function() {\r\n\t\t\t\t\t_R.resetVideo(_.L, _.id);\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\r\n\t\t\tif (_R[_.id].BUG_safari_clipPath && !vis) _.L[0].classList.add(\"rs-pelock\");\r\n\r\n\t\t\t// Loop Layer if Needed\r\n\t\t\tif (_R[_.id]._L[_.L[0].id].layerLoop !== undefined && _R[_.id]._L[_.L[0].id].layerLoop.to === _.frame)\r\n\t\t\t\tif ((_R[_.id]._L[_.L[0].id].layerLoop.repeat == -1 || _R[_.id]._L[_.L[0].id].layerLoop.repeat > _R[_.id]._L[_.L[0].id].layerLoop.count))\r\n\t\t\t\t\t_R.renderLayerAnimation({ layer: _R[_.id]._L[_.L[0].id].c, frame: _R[_.id]._L[_.L[0].id].layerLoop.from, updateChildren: _R[_.id]._L[_.L[0].id].layerLoop.children, mode: \"continue\", fastforward: _R[_.id]._L[_.L[0].id].layerLoop.keep === true ? true : false, id: _.id });\r\n\r\n\t\t},\r\n\r\n\t\t/**********************************************************************************************\r\n\t\t\t\t\t\t\t-\tHELPER FUNCTIONS FOR LAYER TRANSFORMS -\r\n\t\t**********************************************************************************************/\r\n\t\t////////////////////////////////\r\n\t\t// EXTRA INTERNAL FUNCTIONS  //\r\n\t\t//////////////////////////////\r\n\t\tbuildFilter = function(f) {\r\n\t\t\tif (f === undefined) return \"\";\r\n\t\t\tvar r = \"\";\r\n\t\t\tif (_R.isChrome8889 && f.blur === 0) f.blur = 0.05;\r\n\t\t\tr = f.blur !== undefined ? 'blur(' + (f.blur || 0) + 'px)' : '';\r\n\t\t\tr += f.grayscale !== undefined ? (r.length > 0 ? ' ' : '') + 'grayscale(' + (f.grayscale || 0) + '%)' : '';\r\n\t\t\tr += f.brightness !== undefined ? (r.length > 0 ? ' ' : '') + 'brightness(' + (f.brightness || 100) + '%)' : '';\r\n\t\t\treturn r === \"\" ? \"none\" : r;\r\n\t\t},\r\n\r\n\t\tbuildBackdropFilter = function(f) {\r\n\t\t\tif (f === undefined) return \"\";\r\n\t\t\tvar r = \"\";\r\n\t\t\tif (_R.isChrome8889 && f.b_blur === 0) f.b_blur = 0.05;\r\n\t\t\tr = f.b_blur !== undefined ? 'blur(' + (f.b_blur || 0) + 'px)' : '';\r\n\t\t\tr += f.b_grayscale !== undefined ? (r.length > 0 ? ' ' : '') + 'grayscale(' + (f.b_grayscale || 0) + '%)' : '';\r\n\t\t\tr += f.b_sepia !== undefined ? (r.length > 0 ? ' ' : '') + 'sepia(' + (f.b_sepia || 0) + '%)' : '';\r\n\t\t\tr += f.b_invert !== undefined ? (r.length > 0 ? ' ' : '') + 'invert(' + (f.b_invert || 0) + '%)' : '';\r\n\t\t\tr += f.b_brightness !== undefined ? (r.length > 0 ? ' ' : '') + 'brightness(' + (f.b_brightness || 100) + '%)' : '';\r\n\t\t\treturn r === \"\" ? \"none\" : r;\r\n\t\t},\r\n\r\n\r\n\r\n\r\n\t\taddGradDegree = function(grad, deg) {\r\n\t\t\tgrad = grad.split('(');\r\n\t\t\tvar begin = grad[0];\r\n\t\t\tgrad.shift();\r\n\t\t\treturn begin + '(' + deg + 'deg, ' + grad.join('(');\r\n\t\t},\r\n\t\tgradDegree = function(grad) {\r\n\t\t\tif (grad.search('deg,') !== -1) {\r\n\t\t\t\tvar deg = grad.split('deg,')[0];\r\n\t\t\t\tif (deg.search(/\\(/) !== -1) return parseInt(deg.split('(')[1], 10);\r\n\t\t\t}\r\n\t\t\treturn 180;\r\n\t\t},\r\n\r\n\t\t_svgprep = function(a, id) {\r\n\t\t\tif (a !== undefined && a.indexOf('oc:t') >= 0) return {};\r\n\r\n\t\t\ta = a === undefined ? \"\" : a.split(\";\");\r\n\r\n\t\t\t// default fill needs to be responsive\r\n\t\t\tvar r = { fill: _R.revToResp('#ffffff', _R[id].rle), stroke: 'transparent', \"stroke-width\": \"0px\", \"stroke-dasharray\": \"0\", \"stroke-dashoffset\": \"0\" };\r\n\r\n\t\t\tfor (var u in a) {\r\n\t\t\t\tif (!a.hasOwnProperty(u)) continue;\r\n\t\t\t\tvar s = a[u].split(\":\");\r\n\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\t//case \"oc\": if (s[1]===\"t\") r.original=true;break;\r\n\t\t\t\t\tcase \"c\":\r\n\t\t\t\t\t\tr.fill = _R.revToResp(s[1], _R[id].rle, undefined, \"||\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sw\":\r\n\t\t\t\t\t\tr[\"stroke-width\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sc\":\r\n\t\t\t\t\t\tr.stroke = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"so\":\r\n\t\t\t\t\t\tr[\"stroke-dashoffset\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sa\":\r\n\t\t\t\t\t\tr[\"stroke-dasharray\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"sall\":\r\n\t\t\t\t\t\tr[\"svgAll\"] = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\tconvToCLR = function(a) {\r\n\t\t\treturn a === \"c\" ? \"center\" : a === \"l\" ? \"left\" : a === \"r\" ? \"right\" : a;\r\n\t\t},\r\n\r\n\r\n\t\t/*\r\n\t\tUPDATE SPLITTED OR NONE SPLITTED CONTENT\r\n\t\t*/\r\n\t\tupdateSplitContent = function(obj) {\r\n\t\t\tvar _ = _R[obj.id]._L[obj.layer[0].id],\r\n\t\t\t\tsplit = false;\r\n\t\t\tif (_.splitText && _.splitText !== false) _.splitText.revert();\r\n\t\t\tif (_.type === \"text\" || _.type === \"button\") {\r\n\t\t\t\tfor (var frame in _.frames) {\r\n\t\t\t\t\tif (_.frames[frame].chars !== undefined || _.frames[frame].words !== undefined || _.frames[frame].lines !== undefined) {\r\n\t\t\t\t\t\tsplit = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (split)\r\n\t\t\t\t\t_.splitText = new tpGS.SplitText(_.c, { type: \"lines,words,chars\", wordsClass: \"rs_splitted_words\", linesClass: \"rs_splitted_lines\", charsClass: \"rs_splitted_chars\" });\r\n\t\t\t\telse\r\n\t\t\t\t\t_.splitText = false;\r\n\t\t\t} else _.splitText = false;\r\n\t\t},\r\n\r\n\r\n\t\t// SFX ANIMATIONS\r\n\t\tcheckSFXAnimations = function(effect, mask, easedata) {\r\n\t\t\t// BLOCK SFX ANIMATIONS\r\n\t\t\tif (effect !== undefined && effect.indexOf(\"block\") >= 0) {\r\n\t\t\t\tvar sfx = {};\r\n\r\n\t\t\t\tif (mask[0].getElementsByClassName('tp-blockmask_in').length === 0) {\r\n\t\t\t\t\tmask.append('<div class=\"tp-blockmask_in\"></div>');\r\n\t\t\t\t\tmask.append('<div class=\"tp-blockmask_out\"></div>');\r\n\t\t\t\t}\r\n\t\t\t\teasedata = easedata === undefined ? \"power3.inOut\" : easedata;\r\n\r\n\t\t\t\tsfx.ft = [{ scaleY: 1, scaleX: 0, transformOrigin: \"0% 50%\" }, { scaleY: 1, scaleX: 1, ease: easedata, immediateRender: false }];\r\n\t\t\t\tsfx.t = { scaleY: 1, scaleX: 0, transformOrigin: \"100% 50%\", ease: easedata, immediateRender: false };\r\n\t\t\t\tsfx.bmask_in = mask.find('.tp-blockmask_in');\r\n\t\t\t\tsfx.bmask_out = mask.find('.tp-blockmask_out');\r\n\t\t\t\tsfx.type = \"block\";\r\n\r\n\t\t\t\tswitch (effect) {\r\n\t\t\t\t\tcase \"blocktoleft\":\r\n\t\t\t\t\tcase \"blockfromright\":\r\n\t\t\t\t\t\tsfx.ft[0].transformOrigin = \"100% 50%\";\r\n\t\t\t\t\t\tsfx.t.transformOrigin = \"0% 50%\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"blockfromtop\":\r\n\t\t\t\t\tcase \"blocktobottom\":\r\n\t\t\t\t\t\tsfx.ft = [{ scaleX: 1, scaleY: 0, transformOrigin: \"50% 0%\" }, { scaleX: 1, scaleY: 1, ease: easedata, immediateRender: false }];\r\n\t\t\t\t\t\tsfx.t = { scaleX: 1, scaleY: 0, transformOrigin: \"50% 100%\", ease: easedata, immediateRender: false };\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"blocktotop\":\r\n\t\t\t\t\tcase \"blockfrombottom\":\r\n\t\t\t\t\t\tsfx.ft = [{ scaleX: 1, scaleY: 0, transformOrigin: \"50% 100%\" }, { scaleX: 1, scaleY: 1, ease: easedata, immediateRender: false }];\r\n\t\t\t\t\t\tsfx.t = { scaleX: 1, scaleY: 0, transformOrigin: \"50% 0%\", ease: easedata, immediateRender: false };\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tsfx.ft[1].overwrite = \"auto\";\r\n\t\t\t\tsfx.t.overwrite = \"auto\";\r\n\t\t\t\treturn sfx;\r\n\t\t\t} else {\r\n\t\t\t\t//mask.find('.tp-blockmask').remove();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcheckReverse = function(a, r, t, atr, id) {\r\n\t\t\tif (_R[id].sdir === 0 || r === undefined) return a;\r\n\t\t\tif (t === \"mask\") atr = atr === \"x\" ? \"mX\" : atr === \"y\" ? \"mY\" : atr;\r\n\t\t\telse\r\n\t\t\tif (t === \"chars\") atr = atr === \"x\" ? \"cX\" : atr === \"y\" ? \"cY\" : atr === \"dir\" ? \"cD\" : atr;\r\n\t\t\telse\r\n\t\t\tif (t === \"words\") atr = atr === \"x\" ? \"wX\" : atr === \"y\" ? \"wY\" : atr === \"dir\" ? \"wD\" : atr;\r\n\t\t\telse\r\n\t\t\tif (t === \"lines\") atr = atr === \"x\" ? \"lX\" : atr === \"y\" ? \"lY\" : atr === \"dir\" ? \"lD\" : atr;\r\n\t\t\tif (r[atr] === undefined || r[atr] === false) return a;\r\n\t\t\telse\r\n\t\t\tif (r !== undefined && r[atr] === true) return a === \"t\" || a === \"top\" ? \"b\" : a === \"b\" || a === \"bottom\" ? \"t\" : a === \"l\" || a === \"left\" ? \"r\" : a === \"r\" || a === \"right\" ? \"l\" : (parseFloat(a) * -1) + ((\"\"+a).indexOf(\"px\")>=0 ? \"px\" : (\"\"+a).indexOf(\"%\")>=0 ? \"%\" : \"\");\r\n\t\t},\r\n\r\n\r\n\t\tconvertTransformValues = function(obj) {\r\n\r\n\t\t\tvar _ = _R[obj.id]._L[obj.layer[0].id],\r\n\t\t\t\ta = obj.source === undefined ? _R.clone(obj.frame.transform) : _R.clone(obj.frame[obj.source]),\r\n\t\t\t\tb,\r\n\t\t\t\ttorig = { originX: \"50%\", originY: \"50%\", originZ: \"0\" },\r\n\t\t\t\tparw = _._lig !== undefined ? _R[obj.id]._L[_._lig[0].id].eow : _R[obj.id].conw,\r\n\t\t\t\tparh = _._lig !== undefined ? _R[obj.id]._L[_._lig[0].id].eoh : _R[obj.id].conh;\r\n\r\n\r\n\r\n\t\t\tfor (var atr in a) {\r\n\t\t\t\tif (!a.hasOwnProperty(atr)) continue;\r\n\t\t\t\ta[atr] = (typeof a[atr] === \"object\") ? a[atr][_R[obj.id].level] : a[atr];\r\n\r\n\t\t\t\tif (a[atr] === \"inherit\" || atr === \"delay\" || atr === \"direction\" || atr === \"use\") delete a[atr]; // NOT FOR ANIMATION\r\n\t\t\t\telse\r\n\t\t\t\tif (atr === \"originX\" || atr === \"originY\" || atr === \"originZ\") { // COLLECT ORIGINS\r\n\t\t\t\t\ttorig[atr] = a[atr];\r\n\t\t\t\t\tdelete a[atr];\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (_R.isNumeric(a[atr], 0)) a[atr] = checkReverse(a[atr], obj.frame.reverse, obj.target, atr, obj.id, obj.id); // NUMERIC ?\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (a[atr][0] === \"r\" && a[atr][1] === \"a\" && a[atr][3] === \"(\") a[atr] = a[atr].replace(\"ran\", \"random\"); // RANDOM\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (a[atr].indexOf(\"cyc(\") >= 0) { // CYCLE\r\n\t\t\t\t\t\tvar cycar = a[atr].replace(\"cyc(\", \"\").replace(\")\", \"\").replace(\"[\", \"\").replace(\"]\", \"\").split(\"|\");\r\n\t\t\t\t\t\ta[atr] = new function(index) { return tpGS.gsap.utils.wrap(cycar, index) };\r\n\r\n\t\t\t\t\t} else // NUMERIC WITH %\r\n\t\t\t\t\tif (a[atr].indexOf(\"%\") >= 0 && _R.isNumeric(b = parseInt(a[atr], 0))) {\r\n\r\n\t\t\t\t\t\t/*a[atr]= atr===\"x\" ? function() { return checkReverse((_.eow||0)*b/100,obj.frame.reverse,obj.target,atr,obj.id)} :\r\n\t\t\t\t\t\t\t\tatr===\"y\" ?  function() { return checkReverse((_.eoh||0)*b/100,obj.frame.reverse,obj.target,atr,obj.id)} : a[atr];*/\r\n\r\n\t\t\t\t\t\ta[atr] = atr === \"x\" ? checkReverse((_.eow || 0) * b / 100, obj.frame.reverse, obj.target, atr, obj.id) : atr === \"y\" ? checkReverse((_.eoh || 0) * b / 100, obj.frame.reverse, obj.target, atr, obj.id) : a[atr];\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ta[atr] = a[atr].replace(\"[\", \"\").replace(\"]\", \"\");\r\n\t\t\t\t\t\ta[atr] = checkReverse(a[atr], obj.frame.reverse, obj.target, atr, obj.id, obj.id);\r\n\t\t\t\t\t\tvar zoneOffset = { t: 0, b: 0 };\r\n\t\t\t\t\t\tif (_.type === \"row\") {\r\n\t\t\t\t\t\t\tif (_.zone === \"rev_row_zone_top\" && _R[obj.id].topZones[_.slideIndex] !== undefined && _R[obj.id].topZones[_.slideIndex][0] !== undefined)\r\n\t\t\t\t\t\t\t\tzoneOffset = { t: 0, b: 0 };\r\n\t\t\t\t\t\t\telse if (_.zone === \"rev_row_zone_middle\" && _R[obj.id].middleZones[_.slideIndex] !== undefined && _R[obj.id].middleZones[_.slideIndex][0] !== undefined)\r\n\t\t\t\t\t\t\t\tzoneOffset = { t: Math.round(_R[obj.id].module.height / 2 - _R[obj.id].middleZones[_.slideIndex][0].offsetHeight / 2), b: Math.round(_R[obj.id].module.height / 2 + _R[obj.id].middleZones[_.slideIndex][0].offsetHeight / 2) };\r\n\t\t\t\t\t\t\telse if (_.zone === \"rev_row_zone_bottom\" && _R[obj.id].bottomZones[_.slideIndex] !== undefined && _R[obj.id].bottomZones[_.slideIndex][0] !== undefined)\r\n\t\t\t\t\t\t\t\tzoneOffset = { t: Math.round(_R[obj.id].module.height - _R[obj.id].bottomZones[_.slideIndex][0].offsetHeight), b: _R[obj.id].module.height + _R[obj.id].bottomZones[_.slideIndex][0].offsetHeight };\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tswitch (a[atr]) {\r\n\t\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\t\t\t\ta[atr] = (0 - (_.eoh || 0) - (_.type === \"column\" ? 0 : _.calcy || 0) - (_R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"v\")) - (_.type === \"row\" && _.marginTop !== undefined ? _.marginTop[_R[obj.id].level] : 0)) - zoneOffset.b;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\t\t\ta[atr] = (parh - (_.type === \"column\" || _.type === \"row\" ? 0 : _.calcy || 0) + (_R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"v\"))) - zoneOffset.t;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\t\t\t\ta[atr] = 0 - (_.type === \"row\" ? _.pow : (_.eow || 0)) - (_.type === \"column\" ? 0 : _.type === \"row\" ? _.rowcalcx : (_.calcx || 0)) - (_R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"h\"));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\t\t\ta[atr] = parw - (_.type === \"column\" ? 0 : _.type === \"row\" ? _.rowcalcx : _.calcx || 0) + _R.getLayerParallaxOffset(obj.id, obj.layer[0].id, \"h\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"m\":\r\n\t\t\t\t\t\t\tcase \"c\":\r\n\t\t\t\t\t\t\tcase \"middle\":\r\n\t\t\t\t\t\t\tcase \"center\":\r\n\t\t\t\t\t\t\t\ta[atr] = atr === \"x\" ? checkReverse((parw / 2 - (_.type === \"column\" ? 0 : _.calcx || 0) - (_.eow || 0) / 2), obj.frame.reverse, obj.target, atr, obj.id) : atr === \"y\" ? checkReverse((parh / 2 - (_.type === \"column\" ? 0 : (_.calcy || 0)) - (_.eoh || 0) / 2), obj.frame.reverse, obj.target, atr, obj.id) : a[atr];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// MANAGE SKEW CALCULATION\r\n\t\t\t\tif (atr === \"skewX\" && a[atr] !== undefined) {\r\n\t\t\t\t\ta['scaleY'] = a['scaleY'] === undefined ? 1 : parseFloat(a['scaleY']);\r\n\t\t\t\t\ta['scaleY'] *= Math.cos(parseFloat(a[atr]) * tpGS.DEG2RAD);\r\n\t\t\t\t}\r\n\t\t\t\tif (atr === \"skewY\" && a[atr] !== undefined) {\r\n\t\t\t\t\ta['scaleX'] = a['scaleX'] === undefined ? 1 : parseFloat(a['scaleX']);\r\n\t\t\t\t\ta['scaleX'] *= Math.cos(parseFloat(a[atr]) * tpGS.DEG2RAD);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ta.transformOrigin = torig.originX + \" \" + torig.originY + \" \" + torig.originZ;\r\n\r\n\t\t\t// CLIPPING EFFECTS\r\n\t\t\tif (!_R[obj.id].BUG_ie_clipPath && a.clip !== undefined && _.clipPath !== undefined && _.clipPath.use) {\r\n\t\t\t\ta.clipB = a.clipB==undefined ? 100 : a.clipB;\r\n\t\t\t\tvar cty = _.clipPath.type == \"rectangle\",\r\n\t\t\t\t\tcl = parseInt(a.clip, 0),\r\n\t\t\t\t\tclb = 100 - parseInt(a.clipB, 0),\r\n\t\t\t\t\tch = Math.round(cl / 2);\r\n\t\t\t\tswitch (_.clipPath.origin) {\r\n\t\t\t\t\tcase \"invh\":a.clipPath = \"polygon(0% 0%, 0% 100%, \" + cl + \"% 100%, \" + cl + \"% 0%, 100% 0%, 100% 100%, \" + clb + \"% 100%, \" + clb + \"% 0%, 0% 0%)\";break;\r\n\t\t\t\t\tcase \"invv\":a.clipPath = \"polygon(100% 0%, 0% 0%, 0% \" + cl + \"%, 100% \" + cl + \"%, 100% 100%, 0% 100%, 0% \" + clb + \"%, 100% \" + clb + \"%, 100% 0%)\";break;\r\n\t\t\t\t\tcase \"cv\":a.clipPath = cty ? \"polygon(\" + (50 - ch) + \"% 0%, \" + (50 + ch) + \"% 0%, \" + (50 + ch) + \"% 100%, \" + (50 - ch) + \"% 100%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t\tcase \"ch\":a.clipPath = cty ? \"polygon(0% \" + (50 - ch) + \"%, 0% \" + (50 + ch) + \"%, 100% \" + (50 + ch) + \"%, 100% \" + (50 - ch) + \"%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t\tcase \"l\":a.clipPath = cty ? \"polygon(0% 0%, \" + cl + \"% 0%, \" + cl + \"% 100%, 0% 100%)\" : \"circle(\" + cl + \"% at 0% 50%)\";break;\r\n\t\t\t\t\tcase \"r\":a.clipPath = cty ? \"polygon(\" + (100 - cl) + \"% 0%, 100% 0%, 100% 100%, \" + (100 - cl) + \"% 100%)\" : \"circle(\" + cl + \"% at 100% 50%)\";break;\r\n\t\t\t\t\tcase \"t\":a.clipPath = cty ? \"polygon(0% 0%, 100% 0%, 100% \" + cl + \"%, 0% \" + cl + \"%)\" : \"circle(\" + cl + \"% at 50% 0%)\";break;\r\n\t\t\t\t\tcase \"b\":a.clipPath = cty ? \"polygon(0% 100%, 100% 100%, 100% \" + (100 - cl) + \"%, 0% \" + (100 - cl) + \"%)\" : \"circle(\" + cl + \"% at 50% 100%)\";break;\r\n\t\t\t\t\tcase \"lt\":a.clipPath = cty ? \"polygon(0% 0%,\" + (2 * cl) + \"% 0%, 0% \" + (2 * cl) + \"%)\" : \"circle(\" + cl + \"% at 0% 0%)\";break;\r\n\t\t\t\t\tcase \"lb\":a.clipPath = cty ? \"polygon(0% \" + (100 - 2 * cl) + \"%, 0% 100%,\" + (2 * cl) + \"% 100%)\" : \"circle(\" + cl + \"% at 0% 100%)\";break;\r\n\t\t\t\t\tcase \"rt\":a.clipPath = cty ? \"polygon(\" + (100 - 2 * cl) + \"% 0%, 100% 0%, 100% \" + (2 * cl) + \"%)\" : \"circle(\" + cl + \"% at 100% 0%)\";break;\r\n\t\t\t\t\tcase \"rb\":a.clipPath = cty ? \"polygon(\" + (100 - 2 * cl) + \"% 100%, 100% 100%, 100% \" + (100 - 2 * cl) + \"%)\" : \"circle(\" + cl + \"% at 100% 100%)\";break;\r\n\t\t\t\t\tcase \"clr\":a.clipPath = cty ? \"polygon(0% 0%, 0% \" + cl + \"%, \" + (100 - cl) + \"% 100%, 100% 100%, 100% \" + (100 - cl) + \"%, \" + cl + \"% 0%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t\tcase \"crl\":a.clipPath = cty ? \"polygon(0% \" + (100 - cl) + \"%, 0% 100%, \" + cl + \"% 100%, 100% \" + cl + \"%, 100% 0%, \" + (100 - cl) + \"% 0%)\" : \"circle(\" + cl + \"% at 50% 50%)\";break;\r\n\t\t\t\t}\r\n\t\t\t\tif (_R.isFirefox(obj.id) !== true) a[\"-webkit-clip-path\"] = a.clipPath;\r\n\t\t\t\ta[\"clip-path\"] = a.clipPath;\r\n\r\n\t\t\t\t//a.overflow = \"hidden\" // MAYBE ADD TO AVOID SKEW ISSUES IN LOOPED AND MASKED LAYERS\r\n\t\t\t\tdelete a.clip;\r\n\t\t\t\tdelete a.clipB;\r\n\t\t\t} else {\r\n\t\t\t\tdelete a.clip;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (obj.target !== \"mask\") {\r\n\t\t\t\t// FILTER EFFECTS\r\n\t\t\t\tif (obj.frame !== undefined && (obj.frame.filter !== undefined || obj.forcefilter)) {\r\n\t\t\t\t\ta.filter = buildFilter(obj.frame.filter);\r\n\t\t\t\t\ta['-webkit-filter'] = a.filter;\r\n\t\t\t\t\tif(_R.useBackdrop) if (window.isSafari11)  a['-webkit-backdrop-filter'] = buildBackdropFilter(obj.frame.filter); else a['backdrop-filter'] = buildBackdropFilter(obj.frame.filter);\r\n\r\n\t\t\t\t\t//SAFARI BLUR FILTER FIX - Was rotationX but it negative influence Black Friday Letter Zooms\r\n\t\t\t\t\t// z - had issues with iPad\r\n\t\t\t\t\t// x - has issue on blurred element and mask\r\n\t\t\t\t\tif (window.isSafari11 && a.filter !== undefined && a[_.iOSFix==undefined || _.iOSFix==\"d\" ? _.type==\"shape\" ? \"z\" : \"x\" : _.iOSFix] === undefined && obj.frame.filter !== undefined && obj.frame.filter.blur !== undefined) a[_.iOSFix==undefined || _.iOSFix==\"d\" ? _.type==\"shape\" ? \"z\" : \"x\" : _.iOSFix] = 0.0001;\r\n\t\t\t\t}\r\n\t\t\t\tif (jQuery.inArray(obj.source, [\"chars\", \"words\", \"lines\"]) >= 0 && (obj.frame[obj.source].blur !== undefined || obj.forcefilter)) {\r\n\t\t\t\t\ta.filter = buildFilter(obj.frame[obj.source]);\r\n\t\t\t\t\ta['-webkit-filter'] = a.filter;\r\n\t\t\t\t}\r\n\t\t\t\tdelete a.grayscale;\r\n\t\t\t\tdelete a.blur;\r\n\t\t\t\tdelete a.brightness;\r\n\t\t\t}\r\n\r\n\t\t\t// EASE\r\n\t\t\ta.ease = a.ease !== undefined ? a.ease : (a.ease === undefined && obj.ease !== undefined) || (a.ease !== undefined && obj.ease !== undefined && a.ease === \"inherit\") ? obj.ease : obj.frame.timeline.ease;\r\n\t\t\ta.ease = a.ease === undefined || a.ease === \"default\" ? \"power3.inOut\" : a.ease;\r\n\r\n\r\n\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\r\n\t\tgetCycles = function(anim) {\r\n\t\t\tvar _;\r\n\t\t\tfor (var a in anim) if (anim.hasOwnProperty(a)) {\r\n\t\t\t\tif (typeof anim[a] === \"string\" && anim[a].indexOf(\"|\") >= 0) {\r\n\t\t\t\t\t_ = anim[a].replace(\"[\", \"\").replace(\"]\", \"\").split(\"|\");\r\n\t\t\t\t\tanim[a] = function(index) { return tpGS.gsap.utils.wrap(_, index) };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn anim;\r\n\t\t},\r\n\r\n\t\tshuffleArray = function(array) {\r\n\t\t\tvar currentIndex = array.length,\r\n\t\t\t\ttemporaryValue, randomIndex;\r\n\r\n\t\t\t// While there remain elements to shuffle...\r\n\t\t\twhile (0 !== currentIndex) {\r\n\r\n\t\t\t\t// Pick a remaining element...\r\n\t\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\t\t\tcurrentIndex -= 1;\r\n\r\n\t\t\t\t// And swap it with the current element.\r\n\t\t\t\ttemporaryValue = array[currentIndex];\r\n\t\t\t\tarray[currentIndex] = array[randomIndex];\r\n\t\t\t\tarray[randomIndex] = temporaryValue;\r\n\t\t\t}\r\n\t\t\treturn array;\r\n\t\t},\r\n\r\n\r\n\t\t// GET ANIMATION PARAMETERS 1 TIME\r\n\t\tgFrPar = function(_, id, wtl, transform, caller) {\r\n\r\n\t\t\tvar color,\r\n\t\t\t\tbgcolor,\r\n\t\t\t\tn = {},\r\n\t\t\t\tf = {},\r\n\t\t\t\tt = {};\r\n\t\t\ttransform = transform === undefined ? \"transform\" : transform;\r\n\r\n\t\t\tif (caller === \"loop\") {\r\n\t\t\t\tt.autoRotate = false;\r\n\t\t\t\tt.yoyo_filter = false;\r\n\t\t\t\tt.yoyo_rotate = false;\r\n\t\t\t\tt.yoyo_move = false;\r\n\t\t\t\tt.yoyo_scale = false;\r\n\t\t\t\tt.curved = false;\r\n\t\t\t\tt.curviness = 2;\r\n\t\t\t\tt.ease = \"none\";\r\n\t\t\t\tt.speed = 1000;\r\n\t\t\t\tt.st = 0;\r\n\t\t\t\tn.x = 0;\r\n\t\t\t\tn.y = 0;\r\n\t\t\t\tn.z = 0;\r\n\t\t\t\tn.xr = 0;\r\n\t\t\t\tn.yr = 0;\r\n\t\t\t\tn.zr = 0;\r\n\t\t\t\tn.scaleX = 1;\r\n\t\t\t\tn.scaleY = 1;\r\n\t\t\t\tn.originX = \"50%\";\r\n\t\t\t\tn.originY = \"50%\";\r\n\t\t\t\tn.originZ = \"0\";\r\n\t\t\t\tn.rotationX = \"0deg\";\r\n\t\t\t\tn.rotationY = \"0deg\";\r\n\t\t\t\tn.rotationZ = \"0deg\";\r\n\t\t\t} else {\r\n\t\t\t\tt.speed = 300;\r\n\t\t\t\tif (wtl)\r\n\t\t\t\t\tt.ease = \"default\";\r\n\t\t\t\telse\r\n\t\t\t\t\tn.ease = \"default\";\r\n\t\t\t}\r\n\t\t\tif (caller === \"sfx\") n.fxc = \"#ffffff\";\r\n\t\t\t_ = _.split(\";\");\r\n\t\t\tfor (var i in _) {\r\n\t\t\t\tif (!_.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar v = _[i].split(\":\");\r\n\r\n\t\t\t\tswitch (v[0]) {\r\n\t\t\t\t\tcase \"u\":n.use = v[1] === \"true\" || v[1] === \"t\" ? true : fasle;break;\r\n\t\t\t\t\t// BASIC VALUES\r\n\t\t\t\t\tcase \"c\":color = v[1];break;\r\n\t\t\t\t\tcase \"fxc\":n.fxc = v[1];break;\r\n\t\t\t\t\tcase \"bgc\":bgcolor = v[1];break;\r\n\t\t\t\t\tcase \"auto\":n.auto = v[1] === \"t\" || v[1] === undefined || v[1] === \"true\" ? true : false;break;\r\n\t\t\t\t\t// FRAME VALUES\r\n\t\t\t\t\tcase \"o\":n.opacity = v[1];break;\r\n\t\t\t\t\tcase \"oX\":n.originX = v[1];break;\r\n\t\t\t\t\tcase \"oY\":n.originY = v[1];break;\r\n\t\t\t\t\tcase \"oZ\":n.originZ = v[1];break;\r\n\t\t\t\t\tcase \"sX\":n.scaleX = v[1];break;\r\n\t\t\t\t\tcase \"sY\":n.scaleY = v[1];break;\r\n\t\t\t\t\tcase \"skX\":n.skewX = v[1];break;\r\n\t\t\t\t\tcase \"skY\":n.skewY = v[1];break;\r\n\t\t\t\t\tcase \"rX\":n.rotationX = v[1];if (v[1] != 0 && v[1] !== \"0deg\") _R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"rY\":n.rotationY = v[1];if (v[1] != 0 && v[1] !== \"0deg\") _R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"rZ\":n.rotationZ = v[1];break;\r\n\t\t\t\t\tcase \"sc\":n.color = v[1];break;\r\n\t\t\t\t\tcase \"se\":n.effect = v[1];break;\r\n\t\t\t\t\tcase \"bos\":n.borderStyle = v[1];break;\r\n\t\t\t\t\tcase \"boc\":n.borderColor = v[1];break;\r\n\t\t\t\t\tcase \"td\":n.textDecoration = v[1];break;\r\n\t\t\t\t\tcase \"zI\":n.zIndex = v[1];break;\r\n\t\t\t\t\tcase \"tp\":n.transformPerspective = _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspectiveType === \"global\" ? _R[id].perspective : v[1];break;\r\n\t\t\t\t\tcase \"cp\":n.clip = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"cpb\":n.clipB = parseInt(v[1], 0);break;//case \"fpr\": n.fpr = v[1]===\"t\" || v[1]===\"true\" || v[1]===true ? true : false; break;\r\n\r\n\t\t\t\t\t// TIMELINE LOOP VALUES\r\n\t\t\t\t\tcase \"aR\":t.autoRotate = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"rA\":t.radiusAngle = v[1];break;\r\n\t\t\t\t\tcase \"yyf\":t.yoyo_filter = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"yym\":t.yoyo_move = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"yyr\":t.yoyo_rotate = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"yys\":t.yoyo_scale = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\tcase \"crd\":t.curved = (v[1] == \"t\" ? true : false);break;\r\n\t\t\t\t\t//RESPONSIVE VALUES\r\n\t\t\t\t\tcase \"x\":n.x = caller === \"reverse\" ? v[1] === \"t\" || v[1] === true || v[1] == 'true' ? true : false : caller === \"loop\" ? parseInt(v[1], 0) : _R.revToResp(v[1], _R[id].rle);break;\r\n\t\t\t\t\tcase \"y\":n.y = caller === \"reverse\" ? v[1] === \"t\" || v[1] === true || v[1] == 'true' ? true : false : caller === \"loop\" ? parseInt(v[1], 0) : _R.revToResp(v[1], _R[id].rle);break;\r\n\t\t\t\t\tcase \"z\":n.z = caller === \"loop\" ? parseInt(v[1], 0) : _R.revToResp(v[1], _R[id].rle);if (v[1] != 0) _R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"bow\":n.borderWidth = _R.revToResp(v[1], 4, 0).toString().replace(/,/g, \" \");break;\r\n\t\t\t\t\tcase \"bor\":n.borderRadius = _R.revToResp(v[1], 4, 0).toString().replace(/,/g, \" \");break;\r\n\t\t\t\t\t//USE HOVER MASK\r\n\t\t\t\t\tcase \"m\":n.mask = v[1] === \"t\" ? true : v[1] === \"f\" ? false : v[1];break;\r\n\t\t\t\t\tcase \"iC\":n.instantClick = v[1] === \"t\" ? true : v[1] === \"f\" ? false : v[1];break;\r\n\t\t\t\t\t//CONVERTED VALUES\r\n\t\t\t\t\tcase \"xR\":n.xr = parseInt(v[1], 0);_R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"yR\":n.yr = parseInt(v[1], 0);_R.addSafariFix(id);break;\r\n\t\t\t\t\tcase \"zR\":n.zr = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"iosfx\": if(v[1]!==\"default\" && v[1]!==\"d\") f.iosfx = v[1]; break;\r\n\t\t\t\t\tcase \"blu\":if (caller === \"loop\") n.blur = parseInt(v[1], 0);else f.blur = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"gra\":if (caller === \"loop\") n.grayscale = parseInt(v[1], 0);else f.grayscale = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bri\":if (caller === \"loop\") n.brightness = parseInt(v[1], 0);else f.brightness = parseInt(v[1], 0);break;\r\n\t\t\t\t\t// BACKDROP FILTERS\r\n\t\t\t\t\tcase \"bB\":f.b_blur = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bG\":f.b_grayscale = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bR\":f.b_brightness = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bI\":f.b_invert = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"bS\":f.b_sepia = parseInt(v[1], 0);break;\r\n\r\n\t\t\t\t\tcase \"sp\":t.speed = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"d\":n.delay = parseInt(v[1], 0);break;\r\n\t\t\t\t\tcase \"crns\":t.curviness = parseInt(v[1], 0);break;\r\n\t\t\t\t\t//SPECIAL HANDLINGS\r\n\t\t\t\t\tcase \"st\":t.start = (v[1] === \"w\" || v[1] === \"a\" ? \"+=0\" : v[1]);t.waitoncall = (v[1] === \"w\" || v[1] === \"a\");break;\r\n\t\t\t\t\tcase \"sA\":t.startAbsolute = v[1];break;\r\n\t\t\t\t\tcase \"sR\":t.startRelative = v[1];break;\r\n\r\n\t\t\t\t\tcase \"e\":if (wtl) t.ease = v[1];else n.ease = v[1];break;\r\n\r\n\t\t\t\t\t//DEFAULT\r\n\t\t\t\t\tdefault:if (v[0].length > 0) n[v[0]] = v[1] === \"t\" ? true : v[1] === \"f\" ? false : v[1];break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar r = { timeline: t };\r\n\t\t\tif (!jQuery.isEmptyObject(f))\r\n\t\t\t\tif (caller === \"split\") n = jQuery.extend(true, n, f);\r\n\t\t\t\telse r.filter = f;\r\n\r\n\t\t\tif (caller === \"split\") n.dir = n.dir === undefined ? \"start\" : n.dir === \"backward\" ? \"end\" : n.dir === \"middletoedge\" ? \"center\" : n.dir === \"edgetomiddle\" ? \"edge\" : n.dir;\r\n\r\n\t\t\tif (!jQuery.isEmptyObject(color)) r.color = color;\r\n\r\n\r\n\t\t\tif (!jQuery.isEmptyObject(bgcolor)) r.bgcolor = bgcolor;\r\n\t\t\tr[transform] = n;\r\n\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\tBUILD THE FRAME OBJECT STRUCTURE\r\n\t\t*/\r\n\t\tbuildFrameObj = function(_, id) {\r\n\t\t\tvar n = {},\r\n\t\t\t\ti = 0;\r\n\t\t\tif (_R[id]._rdF0 === undefined) {\r\n\t\t\t\tvar b = gFrPar(\"x:0;y:0;z:0;rX:0;rY:0;rZ:0;o:0;skX:0;skY:0;sX:0;sY:0;oX:50%;oY:50%;oZ:0;dir:forward;d:5\", id).transform;\r\n\t\t\t\t_R[id]._rdF0 = _R[id]._rdF1 = {\r\n\t\t\t\t\ttransform: gFrPar(\"x:0;y:0;z:0;rX:0;rY:0;rZ:0;o:0;skX:0;skY:0;sX:0;sY:0;oX:50%;oY:50%;oZ:0;tp:600px\", id, true).transform,\r\n\t\t\t\t\tmask: gFrPar(\"x:0;y:0\", id, true).transform,\r\n\t\t\t\t\tchars: jQuery.extend(true, { blur: 0, grayscale: 0, brightness: 100 }, b),\r\n\t\t\t\t\twords: jQuery.extend(true, { blur: 0, grayscale: 0, brightness: 100 }, b),\r\n\t\t\t\t\tlines: jQuery.extend(true, { blur: 0, grayscale: 0, brightness: 100 }, b)\r\n\t\t\t\t};\r\n\t\t\t\t_R[id]._rdF1.transform.opacity = _R[id]._rdF1.chars.opacity = _R[id]._rdF1.words.opacity = _R[id]._rdF1.lines.opacity = _R[id]._rdF1.transform.scaleX = _R[id]._rdF1.chars.scaleX = _R[id]._rdF1.words.scaleX = _R[id]._rdF1.lines.scaleX = _R[id]._rdF1.transform.scaleY = _R[id]._rdF1.chars.scaleY = _R[id]._rdF1.words.scaleY = _R[id]._rdF1.lines.scaleY = 1;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (_.frame_0 === undefined) _.frame_0 = \"x:0\";\r\n\t\t\tif (_.frame_1 === undefined) _.frame_1 = \"x:0\";\r\n\t\t\t_.dddNeeded = false;\r\n\r\n\t\t\t// GET ANIMATION FRAME DATAS\r\n\t\t\tfor (var i in _.ford) {\r\n\t\t\t\tif (!_.ford.hasOwnProperty(i)) continue;\r\n\t\t\t\tvar q = _.ford[i];\r\n\r\n\t\t\t\tif (_[q]) {\r\n\t\t\t\t\tn[q] = gFrPar(_[q], id, true);\r\n\t\t\t\t\tif (n[q].bgcolor !== undefined) _.bgcolinuse = true;\r\n\t\t\t\t\t//IE FIX FOR CLIP PATH\r\n\t\t\t\t\tif (_R[id].BUG_ie_clipPath && _.clipPath !== undefined && _.clipPath.use && n[q].transform.clip !== undefined) {\r\n\t\t\t\t\t\tvar cl = _.clipPath.type === \"rectangle\" ? 100 - parseInt(n[q].transform.clip) : 100 - Math.min(100, (2 * parseInt(n[q].transform.clip)));\r\n\t\t\t\t\t\tswitch (_.clipPath.origin) {\r\n\t\t\t\t\t\t\tcase \"clr\":\r\n\t\t\t\t\t\t\tcase \"rb\":\r\n\t\t\t\t\t\t\tcase \"rt\":\r\n\t\t\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;x:\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.x = _R.revToResp(\"-\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"crl\":\r\n\t\t\t\t\t\t\tcase \"lb\":\r\n\t\t\t\t\t\t\tcase \"lt\":\r\n\t\t\t\t\t\t\tcase \"cv\":\r\n\t\t\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;x:-\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.x = _R.revToResp(\"\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"ch\":\r\n\t\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;y:-\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.y = _R.revToResp(\"\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"b\":\r\n\t\t\t\t\t\t\t\t_[q + \"_mask\"] = \"u:t;y:\" + cl + \"%;y:0px;\";\r\n\t\t\t\t\t\t\t\tn[q].transform.y = _R.revToResp(\"-\" + cl + \"%\", _R[id].rle);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete n[q].transform.clip;\r\n\t\t\t\t\t\tdelete n[q].transform.clipB;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_[q + \"_mask\"]) n[q].mask = gFrPar(_[q + \"_mask\"], id).transform;\r\n\t\t\t\t\tif (n[q].mask != undefined && n[q].mask.use) {\r\n\t\t\t\t\t\tn[q].mask.x = n[q].mask.x === undefined ? 0 : n[q].mask.x;\r\n\t\t\t\t\t\tn[q].mask.y = n[q].mask.y === undefined ? 0 : n[q].mask.y;\r\n\t\t\t\t\t\tdelete n[q].mask.use;\r\n\t\t\t\t\t\tn[q].mask.overflow = \"hidden\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tn[q].mask = { ease: \"default\", overflow: \"visible\" };\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_[q + \"_chars\"]) n[q].chars = gFrPar(_[q + \"_chars\"], id, undefined, undefined, \"split\").transform;\r\n\t\t\t\t\tif (_[q + \"_words\"]) n[q].words = gFrPar(_[q + \"_words\"], id, undefined, undefined, \"split\").transform;\r\n\t\t\t\t\tif (_[q + \"_lines\"]) n[q].lines = gFrPar(_[q + \"_lines\"], id, undefined, undefined, \"split\").transform;\r\n\r\n\r\n\r\n\t\t\t\t\tif (_[q + \"_chars\"] || _[q + \"_words\"] || _[q + \"_lines\"]) n[q].dosplit = true;\r\n\t\t\t\t\tn.frame_0 = n.frame_0 === undefined ? { transform: {} } : n.frame_0;\r\n\t\t\t\t\tif (n[q].transform.auto) {\r\n\r\n\t\t\t\t\t\tn[q].transform = _R.clone(n.frame_0.transform);\r\n\t\t\t\t\t\tn[q].transform.opacity = n[q].transform.opacity === undefined ? 0 : n[q].transform.opacity;\r\n\t\t\t\t\t\tif (n.frame_0.filter !== undefined) n[q].filter = _R.clone(n.frame_0.filter);\r\n\t\t\t\t\t\tif (n.frame_0.mask !== undefined) n[q].mask = _R.clone(n.frame_0.mask);\r\n\t\t\t\t\t\tif (n.frame_0.chars !== undefined) n[q].chars = _R.clone(n.frame_0.chars);\r\n\t\t\t\t\t\tif (n.frame_0.words !== undefined) n[q].words = _R.clone(n.frame_0.words);\r\n\t\t\t\t\t\tif (n.frame_0.lines !== undefined) n[q].lines = _R.clone(n.frame_0.lines);\r\n\t\t\t\t\t\tif (n.frame_0.chars !== undefined || n.frame_0.words !== undefined || n.frame_0.lines !== undefined) n[q].dosplit = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_[q + \"_sfx\"]) n[q].sfx = gFrPar(_[q + \"_sfx\"], id, false, undefined, \"sfx\").transform;\r\n\t\t\t\t\tif (_[q + \"_reverse\"]) n[q].reverse = gFrPar(_[q + \"_reverse\"], id, false, undefined, \"reverse\").transform;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (n.frame_0.dosplit) n.frame_1.dosplit = true;\r\n\r\n\r\n\t\t\t// GET HOVER DATAS\r\n\t\t\tif (_.frame_hover !== undefined || _.svgh !== undefined) {\r\n\t\t\t\tn.frame_hover = gFrPar((_.frame_hover === undefined ? \"\" : _.frame_hover), id);\r\n\t\t\t\tif (_R.ISM && (n.frame_hover.transform.instantClick == 'true' || n.frame_hover.transform.instantClick == true)) delete n.frame_hover;\r\n\t\t\t\telse {\r\n\t\t\t\t\tdelete n.frame_hover.transform.instantClick;\r\n\t\t\t\t\tn.frame_hover.transform.color = n.frame_hover.color;\r\n\t\t\t\t\tif (n.frame_hover.transform.color === undefined) delete n.frame_hover.transform.color;\r\n\r\n\t\t\t\t\tif (n.frame_hover.bgcolor !== undefined && n.frame_hover.bgcolor.indexOf(\"gradient\") >= 0) n.frame_hover.transform.backgroundImage = n.frame_hover.bgcolor;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (n.frame_hover.bgcolor !== undefined) n.frame_hover.transform.backgroundColor = n.frame_hover.bgcolor;\r\n\r\n\t\t\t\t\tif (n.frame_hover.bgcolor !== undefined) _.bgcolinuse = true;\r\n\r\n\t\t\t\t\tn.frame_hover.transform.opacity = n.frame_hover.transform.opacity === undefined ? 1 : n.frame_hover.transform.opacity;\r\n\t\t\t\t\tn.frame_hover.mask = n.frame_hover.transform.mask === undefined ? false : n.frame_hover.transform.mask;\r\n\t\t\t\t\tdelete n.frame_hover.transform.mask;\r\n\t\t\t\t\t//CHECK FOR DEFAULT BORDER STYLING:\r\n\t\t\t\t\tif (n.frame_hover.transform !== undefined) {\r\n\r\n\t\t\t\t\t\tif (n.frame_hover.transform.borderWidth || n.frame_hover.transform.borderStyle) n.frame_hover.transform.borderColor = n.frame_hover.transform.borderColor === undefined ? \"transparent\" : n.frame_hover.transform.borderColor;\r\n\t\t\t\t\t\tif (n.frame_hover.transform.borderStyle !== \"none\" && n.frame_hover.transform.borderWidth === undefined) n.frame_hover.transform.borderWidth = _R.revToResp(0, 4, 0).toString().replace(/,/g, \" \");\r\n\t\t\t\t\t\tif (_.bordercolor === undefined && n.frame_hover.transform.borderColor !== undefined) _.bordercolor = \"transparent\";\r\n\t\t\t\t\t\tif (_.borderwidth === undefined && n.frame_hover.transform.borderWidth !== undefined) _.borderwidth = _R.revToResp(n.frame_hover.transform.borderWidth, 4, 0);\r\n\t\t\t\t\t\tif (_.borderstyle === undefined && n.frame_hover.transform.borderStyle !== undefined) _.borderstyle = _R.revToResp(n.frame_hover.transform.borderStyle, 4, 0);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t// Single Loop of Layer\r\n\t\t\tif (_.tloop !== undefined) {\r\n\t\t\t\t_.layerLoop = { from: \"frame_1\", to: \"frame_999\", repeat: -1, keep: true, children: true };\r\n\t\t\t\tvar tlo = _.tloop.split(\";\");\r\n\t\t\t\tfor (var i in tlo) {\r\n\t\t\t\t\tif (!tlo.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tvar v = tlo[i].split(\":\");\r\n\t\t\t\t\tswitch (v[0]) {\r\n\t\t\t\t\t\tcase \"f\":\r\n\t\t\t\t\t\t\t_.layerLoop.from = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"t\":\r\n\t\t\t\t\t\t\t_.layerLoop.to = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"k\":\r\n\t\t\t\t\t\t\t_.layerLoop.keep = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\t\t_.layerLoop.repeat = parseInt(v[1], 0);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"c\":\r\n\t\t\t\t\t\t\t_.layerLoop.children = v[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t_.layerLoop.count = 0;\r\n\t\t\t}\r\n\r\n\t\t\t// GET LOOP DATAS\r\n\t\t\tif (_.loop_0 || _.loop_999) {\r\n\t\t\t\tn.loop = gFrPar(_.loop_999, id, true, \"frame_999\", \"loop\");\r\n\t\t\t\tn.loop.frame_0 = gFrPar(_.loop_0 || \"\", id, false, undefined, \"loop\").transform;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//OPACITY VALUES FOR START\r\n\t\t\tn.frame_0.transform.opacity = n.frame_0.transform.opacity === undefined ? 0 : n.frame_0.transform.opacity;\r\n\t\t\tn.frame_1.transform.opacity = n.frame_1.transform.opacity === undefined ? 1 : n.frame_1.transform.opacity;\r\n\t\t\tn.frame_999.transform.opacity = n.frame_999.transform.opacity === undefined ? \"inherit\" : n.frame_999.transform.opacity;\r\n\r\n\t\t\tif (_.clipPath && _.clipPath.use) {\r\n\t\t\t\tn.frame_0.transform.clip = n.frame_0.transform.clip === undefined ? 100 : parseInt(n.frame_0.transform.clip);\r\n\t\t\t\tn.frame_1.transform.clip = n.frame_1.transform.clip === undefined ? 100 : parseInt(n.frame_1.transform.clip);\r\n\t\t\t}\r\n\r\n\t\t\t// Reset Filters at Start if Needed !\r\n\t\t\t_.resetfilter = false;\r\n\t\t\t_.useFilter = { blur: false, grayscale: false, brightness: false, b_blur: false, b_grayscale: false, b_brightness: false, b_invert: false, b_sepia: false };\r\n\r\n\t\t\tfor (var i in n)\r\n\t\t\t\tif (n.hasOwnProperty(i) && n[i].filter !== undefined) {\r\n\t\t\t\t\t_.resetfilter = true;\r\n\t\t\t\t\t_.useFilter = useFilter(_.useFilter, n[i].filter);\r\n\t\t\t\t}\r\n\t\t\tif (_.resetFilter !== true && n.frame_hover !== undefined) _.useFilter = useFilter(_.useFilter, n.frame_hover);\r\n\r\n\t\t\tif (_.resetfilter) {\r\n\t\t\t\tn.frame_0.filter = _R.clone(n.frame_0.filter);\r\n\t\t\t\tn.frame_0.filter = resetSingleFilter(_.useFilter, _R.clone(n.frame_0.filter));\r\n\t\t\t\tfor (var i in n)\r\n\t\t\t\t\tif (n.hasOwnProperty(i) && n[i].filter !== undefined && i !== \"frame_1\" && i !== \"frame_0\") {\r\n\t\t\t\t\t\tn[i].filter = _R.clone(n[i].filter);\r\n\t\t\t\t\t\tn[i].filter = resetSingleFilter(_.useFilter, _R.clone(n[i].filter));\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (n.frame_0.filter !== undefined) {\r\n\t\t\t\tn.frame_1.filter = _R.clone(n.frame_1.filter);\r\n\t\t\t\tif (n.frame_0.filter.blur !== undefined && n.frame_1.filter.blur !== 0) n.frame_1.filter.blur = n.frame_1.filter.blur === undefined ? 0 : n.frame_1.filter.blur;\r\n\t\t\t\tif (n.frame_0.filter.brightness !== undefined && n.frame_1.filter.brightness !== 100) n.frame_1.filter.brightness = n.frame_1.filter.brightness === undefined ? 100 : n.frame_1.filter.brightness;\r\n\t\t\t\tif (n.frame_0.filter.grayscale !== undefined && n.frame_1.filter.grayscale !== 0) n.frame_1.filter.grayscale = n.frame_1.filter.grayscale === undefined ? 0 : n.frame_1.filter.grayscale;\r\n\r\n\t\t\t\tif (n.frame_0.filter.b_blur !== undefined && n.frame_1.filter.b_blur !== 0) n.frame_1.filter.b_blur = n.frame_1.filter.b_blur === undefined ? 0 : n.frame_1.filter.b_blur;\r\n\t\t\t\tif (n.frame_0.filter.b_brightness !== undefined && n.frame_1.filter.b_brightness !== 100) n.frame_1.filter.b_brightness = n.frame_1.filter.b_brightness === undefined ? 100 : n.frame_1.filter.b_brightness;\r\n\t\t\t\tif (n.frame_0.filter.b_grayscale !== undefined && n.frame_1.filter.b_grayscale !== 0) n.frame_1.filter.b_grayscale = n.frame_1.filter.b_grayscale === undefined ? 0 : n.frame_1.filter.b_grayscale;\r\n\t\t\t\tif (n.frame_0.filter.b_invert !== undefined && n.frame_1.filter.b_invert !== 0) n.frame_1.filter.b_invert = n.frame_1.filter.b_invert === undefined ? 0 : n.frame_1.filter.b_invert;\r\n\t\t\t\tif (n.frame_0.filter.b_sepia !== undefined && n.frame_1.filter.b_sepia !== 0) n.frame_1.filter.b_sepia = n.frame_1.filter.b_sepia === undefined ? 0 : n.frame_1.filter.b_sepia;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Sync the Frames\r\n\t\t\treturn syncFrames(n, id, _);\r\n\t\t},\r\n\r\n\t\tresetSingleFilter = function(a, f) {\r\n\t\t\t//NORMAL FILTERS\r\n\t\t\tif (a.blur) f.blur = f.blur === undefined ? 0 : f.blur;\r\n\t\t\telse delete f.blur;\r\n\t\t\tif (a.brightness) f.brightness = f.brightness === undefined ? 100 : f.brightness;\r\n\t\t\telse delete f.brightness;\r\n\t\t\tif (a.grayscale) f.grayscale = f.grayscale === undefined ? 0 : f.grayscale;\r\n\t\t\telse delete f.grayscale;\r\n\r\n\t\t\t//BACKDROP FILTERS\r\n\t\t\tif (a.b_blur) f.b_blur = f.b_blur === undefined ? 0 : f.b_blur;\r\n\t\t\telse delete f.b_blur;\r\n\t\t\tif (a.b_brightness) f.b_brightness = f.b_brightness === undefined ? 100 : f.b_brightness;\r\n\t\t\telse delete f.b_brightness;\r\n\t\t\tif (a.b_grayscale) f.b_grayscale = f.b_grayscale === undefined ? 0 : f.b_grayscale;\r\n\t\t\telse delete f.b_grayscale;\r\n\t\t\tif (a.b_invert) f.b_invert = f.b_invert === undefined ? 0 : f.b_invert;\r\n\t\t\telse delete f.b_invert;\r\n\t\t\tif (a.b_sepia) f.b_sepia = f.b_sepia === undefined ? 0 : f.b_sepia;\r\n\t\t\telse delete f.b_sepia;\r\n\r\n\t\t\treturn f;\r\n\t\t},\r\n\t\tuseFilter = function(a, f) {\r\n\t\t\t//NORMAL FILTERS\r\n\t\t\ta.blur = a.blur === true || (f.blur !== undefined && f.blur !== 0 && f.blur !== \"0px\") ? true : false;\r\n\t\t\ta.grayscale = a.grayscale === true || (f.grayscale !== undefined && f.grayscale !== 0 && f.grayscale !== \"0%\") ? true : false;\r\n\t\t\ta.brightness = a.brightness === true || (f.brightness !== undefined && f.brightness !== 100 && f.brightness !== \"100%\") ? true : false;\r\n\r\n\t\t\t//BACKDROP FILTERS\r\n\t\t\ta.b_blur = a.b_blur === true || (f.b_blur !== undefined && f.b_blur !== 0 && f.b_blur !== \"0px\") ? true : false;\r\n\t\t\ta.b_grayscale = a.b_grayscale === true || (f.b_grayscale !== undefined && f.b_grayscale !== 0 && f.b_grayscale !== \"0%\") ? true : false;\r\n\t\t\ta.b_brightness = a.b_brightness === true || (f.b_brightness !== undefined && f.b_brightness !== 100 && f.b_brightness !== \"100%\") ? true : false;\r\n\t\t\ta.b_invert = a.b_invert === true || (f.b_invert !== undefined && f.b_invert !== 0 && f.b_invert !== \"0%\") ? true : false;\r\n\t\t\ta.b_sepia = a.b_sepia === true || (f.b_sepia !== undefined && f.b_sepia !== 0 && f.b_sepia !== \"0%\") ? true : false;\r\n\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\t\tneedPerspective = function(a) {\r\n\t\t\treturn (a !== undefined && (a.rotationY !== undefined || a.rotationX !== undefined || a.z !== undefined));\r\n\t\t},\r\n\r\n\t\t// Sync The Frames, and use the same Attributes on each Frame\r\n\t\t// Sync The Frames, and use the same Attributes on each Frame\r\n\t\tsyncFrames = function(_, id, LObj) {\r\n\t\t\tvar e = {},\r\n\t\t\t\tc = [\"transform\", \"words\", \"chars\", \"lines\", \"mask\"],\r\n\t\t\t\tt,\r\n\t\t\t\ttPE = _R[id].perspectiveType == \"global\" ? _R[id].perspective : 0,\r\n\t\t\t\tignorePerspective = true,\r\n\t\t\t\tsetPreserve3D = false; // set preserve 3D on layer to fix chars/words/lines bug in iOS\r\n\r\n\t\t\t//Collect All Information\r\n\t\t\tfor (var f in _) { if (f !== 'loop' && f !== 'frame_hover') e = jQuery.extend(true, e, _[f]); }\r\n\r\n\t\t\t//All Frame should have the Same Attributes set to a Definitive Value\r\n\t\t\tfor (var f in _) {\r\n\t\t\t\tif (!_.hasOwnProperty(f)) continue;\r\n\t\t\t\tif (_[f].timeline !== undefined) _[f].timeline.usePerspective = false;\r\n\t\t\t\tif (f !== 'loop' && f !== 'frame_hover') {\r\n\t\t\t\t\tfor (t in e.transform) {\r\n\t\t\t\t\t\tif (!e.transform.hasOwnProperty(t)) continue;\r\n\t\t\t\t\t\te.transform[t] = _[f].transform[t] === undefined ? f === \"frame_0\" ? _R[id]._rdF0.transform[t] : f === \"frame_1\" ? _R[id]._rdF1.transform[t] : e.transform[t] : _[f].transform[t];\r\n\t\t\t\t\t\t_[f].transform[t] = _[f].transform[t] === undefined ? e.transform[t] : _[f].transform[t];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var ci = 1; ci <= 4; ci++)\r\n\t\t\t\t\t\tfor (t in e[c[ci]]) {\r\n\t\t\t\t\t\t\tif (!e[c[ci]].hasOwnProperty(t)) continue;\r\n\t\t\t\t\t\t\t_[f][c[ci]] = _[f][c[ci]] === undefined ? {} : _[f][c[ci]];\r\n\t\t\t\t\t\t\te[c[ci]][t] = _[f][c[ci]][t] === undefined ? f === \"frame_0\" ? _R[id]._rdF0[c[ci]][t] : f === \"frame_1\" ? _R[id]._rdF1[c[ci]][t] : e[c[ci]][t] : _[f][c[ci]][t];\r\n\t\t\t\t\t\t\t_[f][c[ci]][t] = _[f][c[ci]][t] === undefined ? e[c[ci]][t] : _[f][c[ci]][t];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tif (_[f].timeline !== undefined && _[f].timeline.usePerspective === false && _[f].transform !== undefined && (_[f].transform.rotationY !== undefined || _[f].transform.rotationX !== undefined || _[f].transform.z !== undefined || needPerspective(_[f].chars) || needPerspective(_[f].words) || needPerspective(_[f].lines))) {\r\n\t\t\t\t\t\ttPE = _R[id].perspectiveType == \"local\" ? _[f].transform.transformPerspective === undefined ? 600 : _[f].transform.transformPerspective : tPE;\r\n\t\t\t\t\t\t_[f].timeline.usePerspective = true;\r\n\t\t\t\t\t\tif ((needPerspective(_[f].chars) || needPerspective(_[f].words) || needPerspective(_[f].lines)) && !_R.isFirefox(id)) setPreserve3D = true;\r\n\t\t\t\t\t\tignorePerspective = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (setPreserve3D) requestAnimationFrame(function() { tpGS.gsap.set(LObj.c, { transformStyle: 'preserve-3d' }); });\r\n\r\n\t\t\t// SET START PERSPECTIVE\r\n\t\t\tif (_.frame_0.timeline !== undefined && _.frame_0.timeline.usePerspective) _.frame_0.transform.transformPerspective = _R[id].perspectiveType === \"local\" ? _.frame_0.transform.transformPerspective === undefined ? tPE : _.frame_0.transform.transformPerspective : _R[id].perspectiveType === \"isometric\" ? 0 : _R[id].perspective;\r\n\r\n\r\n\t\t\t//REMOVE UNNEEDED PERSPECTITVES IF LAYER NOT NEED IT AT ALL\r\n\t\t\tif (ignorePerspective)\r\n\t\t\t\tfor (var f in _)\r\n\t\t\t\t\tif (!_.hasOwnProperty(f) || _[f].transform === undefined) continue;\r\n\t\t\t\t\telse delete _[f].transform.transformPerspective;\r\n\r\n\t\t\treturn _;\r\n\t\t},\r\n\t\tgetLayersInSlide = function(slide, cname, nocname) {\r\n\t\t\tif (slide.length === 0) return {};\r\n\t\t\tvar ar = slide[0].getElementsByClassName(cname),\r\n\t\t\t\tret = {}; //(ar[i].dataset.type===\"row\" ? \"0\" : ar[i].dataset.type===\"column\" ? \"1\" : \"2\")+\"_\"+\r\n\t\t\tfor (var i = 0; i < ar.length; i++)\r\n\t\t\t\tif (nocname === undefined || ar[i].className.indexOf(nocname) === -1) ret[ar[i].id] = ar[i];\r\n\t\t\tif (slide[1] !== undefined) {\r\n\t\t\t\tar = slide[1].getElementsByClassName(cname);\r\n\t\t\t\tfor (i = 0; i < ar.length; i++)\r\n\t\t\t\t\tif (nocname === undefined || ar[i].className.indexOf(nocname) === -1) ret[ar[i].id] = ar[i];\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\tFWS = function(a) {\r\n\t\t\ta = _R.isNumeric(a) ? a : a.toLowerCase();\r\n\t\t\treturn (a === \"thin\" ? '00' : a === \"extra light\" ? 200 : a === \"light\" ? 300 : a === \"normal\" ? 400 : a === \"medium\" ? 500 : a === \"semi bold\" ? 600 : a === \"bold\" ? 700 : a === \"extra bold\" ? 800 : a === \"ultra bold\" ? 900 : a === \"black\" ? 900 : a);\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\tCOLLECT CSS VALUES FROM ELEMENT\r\n\t\t*/\r\n\t\tgetStyleAtStart = function(L, level, id) {\r\n\r\n\t\t\tvar i;\r\n\t\t\tif (L[0].nodeName == \"BR\" || L[0].tagName == \"br\" || (typeof L[0].className !== \"object\" && L[0].className.indexOf(\"rs_splitted_\") >= 0)) return false;\r\n\t\t\t_R.sA(L[0], \"stylerecorder\", true);\r\n\r\n\t\t\tif (L[0].id === undefined) L[0].id = \"rs-layer-sub-\" + Math.round(Math.random() * 1000000);\r\n\r\n\t\t\t_R[id].computedStyle[L[0].id] = window.getComputedStyle(L[0], null);\r\n\r\n\t\t\tvar d = L[0].id !== undefined && _R[id]._L[L[0].id] !== undefined ? _R[id]._L[L[0].id] : L.data(),\r\n\t\t\t\tpc = level === \"rekursive\" ? jQuery(_R.closestClass(L[0], 'rs-layer')) : undefined;\r\n\r\n\t\t\tif (pc !== undefined) _R[id].computedStyle[pc[0].id] = _R[id].computedStyle[pc[0].id] === undefined ? window.getComputedStyle(pc[0], null) : _R[id].computedStyle[pc[0].id];\r\n\r\n\t\t\tvar gp = pc !== undefined && (_R[id].computedStyle[L[0].id].fontSize == _R[id].computedStyle[pc[0].id].fontSize && FWS(_R[id].computedStyle[L[0].id].fontWeight) == FWS(_R[id].computedStyle[pc[0].id].fontWeight) && _R[id].computedStyle[L[0].id].lineHeight == _R[id].computedStyle[pc[0].id].lineHeight) ? true : false,\r\n\t\t\t\tdpc = gp ? pc[0].id !== undefined && _R[id]._L[pc[0].id] !== undefined ? _R[id]._L[pc[0].id] : pc.data() : undefined,\r\n\t\t\t\tlhdef = 0;\r\n\r\n\t\t\td.basealign = d.basealign === undefined ? \"grid\" : d.basealign;\r\n\r\n\t\t\tif (!d._isnotext) {\r\n\r\n\t\t\t\td.fontSize = _R.revToResp(gp ? dpc.fontsize === undefined ? parseInt(_R[id].computedStyle[pc[0].id].fontSize, 0) || 20 : dpc.fontsize : d.fontsize === undefined ? (level !== \"rekursive\" ? 20 : \"inherit\") : d.fontsize, _R[id].rle);\r\n\t\t\t\td.fontWeight = _R.revToResp(gp ? dpc.fontweight === undefined ? _R[id].computedStyle[pc[0].id].fontWeight || \"inherit\" : dpc.fontweight : d.fontweight === undefined ? _R[id].computedStyle[L[0].id].fontWeight || \"inherit\" : d.fontweight, _R[id].rle);\r\n\t\t\t\td.whiteSpace =  _R.revToResp(gp ? dpc.whitespace === undefined ? \"nowrap\" : dpc.whitespace : d.whitespace === undefined ? \"nowrap\" : d.whitespace, _R[id].rle);\r\n\r\n\t\t\t\td.textAlign = _R.revToResp(gp ? dpc.textalign === undefined ? \"left\" : dpc.textalign : d.textalign === undefined ? \"left\" : d.textalign, _R[id].rle);\r\n\t\t\t\td.letterSpacing = _R.revToResp(gp ? dpc.letterspacing === undefined ? parseInt(_R[id].computedStyle[pc[0].id].letterSpacing, 0) || \"inherit\" : dpc.letterspacing : d.letterspacing === undefined ? parseInt(_R[id].computedStyle[L[0].id].letterSpacing === \"normal\" ? 0 : _R[id].computedStyle[L[0].id].letterSpacing, 0) || \"inherit\" : d.letterspacing, _R[id].rle);\r\n\t\t\t\td.textDecoration = gp ? dpc.textDecoration === undefined ? \"none\" : dpc.textDecoration : d.textDecoration === undefined ? \"none\" : d.textDecoration;\r\n\t\t\t\tlhdef = 25;\r\n\r\n\t\t\t\tlhdef = pc !== undefined && (L[0].tagName === \"I\" || L[0].tagName === \"STRONG\") ? \"inherit\" : lhdef;\r\n\t\t\t\tif (d.tshadow !== undefined) {\r\n\t\t\t\t\td.tshadow.b = _R.revToResp(d.tshadow.b, _R[id].rle);\r\n\t\t\t\t\td.tshadow.h = _R.revToResp(d.tshadow.h, _R[id].rle);\r\n\t\t\t\t\td.tshadow.v = _R.revToResp(d.tshadow.v, _R[id].rle);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (d.type===\"group\") {\r\n\t\t\t\td.whiteSpace = \"normal\";\r\n\t\t\t\td.textAlign = _R.revToResp(gp ? dpc.textalign === undefined ? \"left\" : dpc.textalign : d.textalign === undefined ? \"left\" : d.textalign, _R[id].rle);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (d.bshadow !== undefined) {\r\n\t\t\t\td.bshadow.b = _R.revToResp(d.bshadow.b, _R[id].rle);\r\n\t\t\t\td.bshadow.h = _R.revToResp(d.bshadow.h, _R[id].rle);\r\n\t\t\t\td.bshadow.v = _R.revToResp(d.bshadow.v, _R[id].rle);\r\n\t\t\t\td.bshadow.s = _R.revToResp(d.bshadow.s, _R[id].rle);\r\n\t\t\t}\r\n\r\n\t\t\tif (d.tstroke !== undefined) d.tstroke.w = _R.revToResp(d.tstroke.w, _R[id].rle);\r\n\r\n\r\n\t\t\td.display = gp ? dpc.display === undefined ? _R[id].computedStyle[pc[0].id].display : dpc.display : d.display === undefined ? _R[id].computedStyle[L[0].id].display : d.display;\r\n\t\t\td.float = _R.revToResp(gp ? dpc.float === undefined ? _R[id].computedStyle[pc[0].id].float || \"none\" : dpc.float : d.float === undefined ? \"none\" : d.float, _R[id].rle);\r\n\t\t\td.clear = _R.revToResp(gp ? dpc.clear === undefined ? _R[id].computedStyle[pc[0].id].clear || \"none\" : dpc.clear : d.clear === undefined ? \"none\" : d.clear, _R[id].rle);\r\n\r\n\r\n\t\t\td.lineHeight = _R.revToResp(!L.is('img') && jQuery.inArray(d.layertype, [\"video\", \"image\", \"audio\"]) == -1 ?\r\n\t\t\t\tgp ?\r\n\t\t\t\tdpc.lineheight === undefined ? parseInt(_R[id].computedStyle[pc[0].id].lineHeight, 0) || lhdef : dpc.lineheight :\r\n\t\t\t\td.lineheight === undefined ? lhdef :\r\n\t\t\t\td.lineheight :\r\n\t\t\t\tlhdef, _R[id].rle);\r\n\r\n\r\n\r\n\t\t\td.zIndex = gp ? dpc.zindex === undefined ? parseInt(_R[id].computedStyle[pc[0].id].zIndex, 0) || \"inherit\" : dpc.zindex : d.zindex === undefined ? parseInt(_R[id].computedStyle[L[0].id].zIndex, 0) || \"inherit\" : d.zindex;\r\n\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\td['padding' + HR[i]] = _R.revToResp(d['padding' + hr[i]] === undefined ? parseInt(_R[id].computedStyle[L[0].id]['padding' + HR[i]], 0) || 0 : d['padding' + hr[i]], _R[id].rle);\r\n\t\t\t\td['margin' + HR[i]] = _R.revToResp(d['margin' + hr[i]] === undefined ? parseInt(_R[id].computedStyle[L[0].id]['margin' + HR[i]], 0) || 0 : d['margin' + hr[i]], _R[id].rle);\r\n\t\t\t\td['border' + HR[i] + 'Width'] = d.borderwidth === undefined ? parseInt(_R[id].computedStyle[L[0].id]['border' + HR[i] + 'Width'], 0) || 0 : d.borderwidth[i];\r\n\r\n\t\t\t\td['border' + HR[i] + 'Color'] = d.bordercolor === undefined ? _R[id].computedStyle[L[0].id][\"border-\" + hr[i] + \"-color\"] : d.bordercolor;\r\n\t\t\t\td['border' + CO[i] + 'Radius'] = _R.revToResp(d.borderradius === undefined ? _R[id].computedStyle[L[0].id]['border' + CO[i] + 'Radius'] || 0 : d.borderradius[i], _R[id].rle);\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\td.borderStyle = _R.revToResp(d.borderstyle === undefined ? _R[id].computedStyle[L[0].id].borderStyle || 0 : d.borderstyle, _R[id].rle);\r\n\r\n\r\n\t\t\tif (level !== \"rekursive\") {\r\n\t\t\t\td.color = _R.revToResp(d.color === undefined ? \"#ffffff\" : d.color, _R[id].rle, undefined, \"||\");\r\n\t\t\t\td.minWidth = _R.revToResp(d.minwidth === undefined ? parseInt(_R[id].computedStyle[L[0].id].minWidth, 0) || 0 : d.minwidth, _R[id].rle);\r\n\t\t\t\td.minHeight = _R.revToResp(d.minheight === undefined ? parseInt(_R[id].computedStyle[L[0].id].minHeight, 0) || 0 : d.minheight, _R[id].rle);\r\n\t\t\t\td.width = _R.revToResp(d.width === undefined ? \"auto\" : _R.smartConvertDivs(d.width), _R[id].rle);\r\n\t\t\t\td.height = _R.revToResp(d.height === undefined ? \"auto\" : _R.smartConvertDivs(d.height), _R[id].rle);\r\n\t\t\t\td.maxWidth = _R.revToResp(d.maxwidth === undefined ? parseInt(_R[id].computedStyle[L[0].id].maxWidth, 0) || \"none\" : d.maxwidth, _R[id].rle);\r\n\t\t\t\td.maxHeight = _R.revToResp(jQuery.inArray(d.type, [\"column\", \"row\"]) !== -1 ? \"none\" : d.maxheight !== undefined ? parseInt(_R[id].computedStyle[L[0].id].maxHeight, 0) || \"none\" : d.maxheight, _R[id].rle);\r\n\t\t\t} else\r\n\t\t\tif (d.layertype === \"html\") {\r\n\t\t\t\td.width = _R.revToResp(L[0].width, _R[id].rle);\r\n\t\t\t\td.height = _R.revToResp(L[0].height, _R[id].rle);\r\n\t\t\t}\r\n\r\n\t\t\tif(d._incolumn){\r\n\t\t\t\tfor(var i = 0; i < d.height.length; i++){\r\n\t\t\t\t\tif(d.height[i].indexOf('%') !== -1 && parseFloat(d.height[i]) > 98) d.height[i] = d.height[i].replace('%', 'px');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\td.styleProps = {\r\n\t\t\t\t\"background\": L[0].style.background,\r\n\t\t\t\t\"background-color\": L[0].style[\"background-color\"],\r\n\t\t\t\t\"color\": L[0].style.color,\r\n\t\t\t\t\"cursor\": L[0].style.cursor,\r\n\t\t\t\t\"font-style\": L[0].style[\"font-style\"]\r\n\t\t\t};\r\n\t\t\tif (d.bshadow == undefined) d.styleProps.boxShadow = L[0].style.boxShadow;\r\n\t\t\tif (d.styleProps.background === \"\" || d.styleProps.background === undefined || d.styleProps.background === d.styleProps[\"background-color\"]) delete d.styleProps.background;\r\n\r\n\t\t\tif (d.styleProps.color == \"\") d.styleProps.color = _R[id].computedStyle[L[0].id].color;\r\n\r\n\r\n\t\t\t//REMOVE UNNEEDD THINGS\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\tif (notNeeded(d['padding' + HR[i]], 0)) delete d['padding' + HR[i]];\r\n\t\t\t\tif (notNeeded(d['margin' + HR[i]], 0)) delete d['margin' + HR[i]];\r\n\t\t\t\tif (notNeeded(d['border' + CO[i] + 'Radius'], '0px')) delete d['border' + CO[i] + 'Radius'];\r\n\t\t\t\telse if (notNeeded(d['border' + CO[i] + 'Radius'], \"0\")) delete d['border' + CO[i] + 'Radius'];\r\n\t\t\t}\r\n\r\n\t\t\tif (notNeeded(d.borderStyle, 'none')) {\r\n\r\n\t\t\t\tdelete d.borderStyle;\r\n\t\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\t\tdelete d['border' + HR[i] + 'Width'];\r\n\t\t\t\t\tdelete d['border' + HR[i] + 'Color'];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t},\r\n\r\n\t\tnotNeeded = function(a, d) { return (d === a[0] && d === a[1] && d === a[2] && d === a[3]); },\r\n\t\tgetLayerResponsiveValues = function(L, id, RSL) {\r\n\r\n\t\t\tif (L === undefined) return;\r\n\t\t\tif (L[0].nodeName == \"BR\" || L[0].tagName == \"br\") return false;\r\n\r\n\t\t\tvar l = _R[id].level,\r\n\t\t\t\ti,\r\n\t\t\t\t_ = L[0] !== undefined && L[0].id !== undefined && _R[id]._L[L[0].id] !== undefined ? _R[id]._L[L[0].id] : L.data();\r\n\r\n\t\t\t_ = _.basealign === undefined ? RSL.data() : _;\r\n\t\t\tif (_._isnotext === undefined) _._isnotext = RSL !== undefined && RSL[0] !== undefined && RSL[0].length > 0 ? _R.gA(RSL[0], '_isnotext') : _._isnotext;\r\n\r\n\t\t\tvar ret = {\r\n\t\t\t\tbasealign: _.basealign === undefined ? \"grid\" : _.basealign,\r\n\t\t\t\tlineHeight: _.basealign === undefined ? \"inherit\" : parseInt(_.lineHeight[l]),\r\n\t\t\t\tcolor: _.color === undefined ? undefined : _.color[l],\r\n\t\t\t\twidth: _.width === undefined ? undefined : _.width[l] === \"a\" ? \"auto\" : _.width[l],\r\n\t\t\t\theight: _.height === undefined ? undefined : _.height[l] === \"a\" ? \"auto\" : _.height[l],\r\n\t\t\t\tminWidth: _.minWidth === undefined ? undefined : _.minWidth[l] === \"n\" ? \"none\" : _.minWidth[l],\r\n\t\t\t\tminHeight: _.minHeight === undefined ? undefined : _.minHeight[l] == \"n\" ? \"none\" : _.minHeight[l],\r\n\t\t\t\tmaxWidth: _.maxWidth === undefined ? undefined : _.maxWidth[l] == \"n\" ? \"none\" : _.maxWidth[l],\r\n\t\t\t\tmaxHeight: _.maxHeight === undefined ? undefined : _.maxHeight[l] == \"n\" ? \"none\" : _.maxHeight[l],\r\n\t\t\t\tfloat: _.float[l],\r\n\t\t\t\tclear: _.clear[l]\r\n\t\t\t};\r\n\r\n\r\n\r\n\t\t\tif (_.borderStyle) ret.borderStyle = _.borderStyle[l];\r\n\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\tif (_['padding' + HR[i]]) ret['padding' + HR[i]] = _['padding' + HR[i]][l];\r\n\t\t\t\tif (_['margin' + HR[i]]) ret['margin' + HR[i]] = parseInt(_['margin' + HR[i]][l]);\r\n\t\t\t\tif (_['border' + CO[i] + 'Radius']) ret['border' + CO[i] + 'Radius'] = _['border' + CO[i] + 'Radius'][l];\r\n\r\n\t\t\t\tif (ret.borderStyle!==undefined && ret.borderStyle!==\"none\") {\r\n\t\t\t\t\tif (_['border' + HR[i] + 'Color']) ret['border' + HR[i] + 'Color'] = _['border' + HR[i] + 'Color'];\r\n\t\t\t\t\tif (_['border' + HR[i] + 'Width']) ret['border' + HR[i] + 'Width'] = parseInt(_['border' + HR[i] + 'Width']);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!_._isnotext) {\r\n\t\t\t\tret.textDecoration = _.textDecoration;\r\n\t\t\t\tret.fontSize = parseInt(_.fontSize[l]);\r\n\t\t\t\tret.fontWeight = parseInt(_.fontWeight[l]);\r\n\t\t\t\tret.letterSpacing = parseInt(_.letterSpacing[l]) || 0;\r\n\t\t\t\tret.textAlign = _.textAlign[l];\r\n\t\t\t\tret.whiteSpace = _.whiteSpace[l];\r\n\t\t\t\t//if (_.x!==undefined && _.x[_R[id].level]==\"r\" && ret.width === \"auto\" && ret.whiteSpace === \"normal\" && ((_._incolumn !== true  && _._ingroup !== true) || _.position!==\"relative\")) ret.whiteSpace = \"nowrap\";\r\n\t\t\t\tret.whiteSpace = ret.whiteSpace === \"normal\" && ret.width === \"auto\" &&  ((_._incolumn !== true  && _._ingroup !== true) || _.position!==\"relative\")? \"nowrap\" : ret.whiteSpace;\r\n\t\t\t\tret.display = _.display;\r\n\t\t\t\tif (_.tshadow !== undefined) ret.textShadow = \"\" + parseInt(_.tshadow.h[l], 0) + \"px \" + parseInt(_.tshadow.v[l], 0) + \"px \" + _.tshadow.b[l] + \" \" + _.tshadow.c;\r\n\t\t\t\tif (_.tstroke !== undefined) ret.textStroke = \"\" + parseInt(_.tstroke.w[l], 0) + \"px \" + _.tstroke.c;\r\n\t\t\t}\r\n\r\n\t\t\tif (_.type===\"group\") {\r\n\t\t\t\tret.whiteSpace = _.whiteSpace;\r\n\t\t\t\tret.textAlign = _.textAlign[l];\r\n\t\t\t\tret.display = _.display;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (_.bshadow !== undefined) ret.boxShadow = \"\" + parseInt(_.bshadow.h[l], 0) + \"px \" + parseInt(_.bshadow.v[l], 0) + \"px \" + parseInt(_.bshadow.b[l], 0) + \"px \" + parseInt(_.bshadow.s[l], 0) + \"px \" + _.bshadow.c;\r\n\r\n\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\r\n\t\tminmaxconvert = function(a, m, r, fr, b) {\r\n\t\t\tvar sfx = !_R.isNumeric(a) && a !== undefined ? a.indexOf(\"px\") >= 0 ? \"px\" : a.indexOf(\"%\") >= 0 ? \"%\" : \"\" : \"\";\r\n\t\t\ta = _R.isNumeric(parseInt(a)) ? parseInt(a) : a;\r\n\t\t\ta = _R.isNumeric(a) ? (a * m) + sfx : a;\r\n\t\t\ta = a === \"full\" ? fr : a === \"auto\" || a === \"none\" ? r : a;\r\n\t\t\ta = a == undefined ? b : a;\r\n\t\t\treturn a;\r\n\t\t},\r\n\r\n\t\tfixInnerBorderRadius = function(a) {\r\n\t\t\tvar _ = _R.clone(a);\r\n\t\t\t_.top  = 0 - ((parseInt(_.borderTopWidth) || 0) +  (parseInt(_.borderBottomWidth) || 0))  / 2 + \"px\";\r\n\t\t\t_.left  = 0 - ((parseInt(_.borderLeftWidth) || 0) +  (parseInt(_.borderRightWidth) || 0))  / 2 + \"px\";\r\n\t\t\t_.borderStyle = _.borderTopWidth!==undefined || _.borderBottomWidth!==undefined || _.borderLeftWidth!==undefined || _.borderRightWidth!==undefined ? \"solid\" : \"none\";\r\n\t\t\t_.borderColor =\"transparent\";\r\n\t\t\t_.boxSizing = \"content-box\";\r\n\t\t\treturn _;\r\n\t\t},\r\n\r\n\t\tnotzero = function(a) {\r\n\t\t\treturn a !== undefined && a !== null && parseInt(a, 0) !== 0;\r\n\t\t},\r\n\r\n\t\t/////////////////////////////////////////////////////////////////\r\n\t\t//\t-\tCALCULATE THE RESPONSIVE SIZES OF THE CAPTIONS\t-\t  //\r\n\t\t/////////////////////////////////////////////////////////////////\r\n\t\tcalcResponsiveLayer = function(inobj) {\r\n\r\n\r\n\t\t\tvar i,\r\n\t\t\t\tS, a, b, c, d,\r\n\t\t\t\tframs, prop,\r\n\t\t\t\tL = inobj.a,\r\n\t\t\t\tid = inobj.b,\r\n\t\t\t\tlevel = inobj.c,\r\n\t\t\t\tresponsive = inobj.d,\r\n\t\t\t\tslideIndex = inobj.e,\r\n\t\t\t\twinw, winh, LOBJ = {},\r\n\t\t\t\tMOBJ = {},\r\n\t\t\t\t_ = _R[id]._L[L[0].id],\r\n\t\t\t\tclasName = L[0].className;\r\n\r\n\r\n\t\t\t_ = _ === undefined ? {} : _;\r\n\r\n\t\t\t// svg elements and their children can return an Object as their \"className\" which then fails when calling \"L[0].className.indexOf\"\r\n\t\t\tif (typeof clasName === 'object') clasName = '';\r\n\r\n\t\t\tif (L !== undefined && L[0] !== undefined && (clasName.indexOf(\"rs_splitted\") >= 0 || L[0].nodeName == \"BR\" || L[0].tagName == \"br\" || L[0].tagName.indexOf(\"FCR\") > 0 || L[0].tagName.indexOf(\"BCR\") > 0)) return false;\r\n\r\n\t\t\tslideIndex = slideIndex === \"individual\" ? _.slideIndex : slideIndex;\r\n\r\n\t\t\tvar obj = getLayerResponsiveValues(L, id, inobj.RSL),\r\n\t\t\t\tbw = responsive === \"off\" ? 1 : _R[id].CM.w,\r\n\t\t\t\tobjCache;\r\n\t\t\tif (_._isnotext === undefined) _._isnotext = obj.RSL !== undefined && obj.RSL[0] !== undefined && obj.RSL[0].length > 0 ? _R.gA(obj.RSL[0], '_isnotext') : _._isnotext;\r\n\r\n\t\t\t// PROTECTION AGAINST LAYERS HEIGHT % BASED in COLUMNS\r\n\t\t\tif (_._incolumn && (_.type===\"shape\" || _.type===\"text\" || _.type===\"button\") && (\"\"+obj.height).indexOf('%'>0)) {\r\n\t\t\t\tobj.height = obj.height;\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t_.OBJUPD = _.OBJUPD == undefined ? {} : _.OBJUPD;\r\n\t\t\t_.caches = _.caches == undefined ? {} : _.caches;\r\n\r\n\t\t\t// Column Gets Margin as Padding\r\n\t\t\tif (_.type === \"column\") {\r\n\t\t\t\tS = {};\r\n\t\t\t\tobjCache = {};\r\n\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) {\r\n\t\t\t\t\t\tS['padding' + HR[i]] = Math.round(obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\t\tobjCache['margin' + HR[i]] = obj['margin' + HR[i]];\r\n\t\t\t\t\t\tdelete obj['margin' + HR[i]];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif (!jQuery.isEmptyObject(S)) tpGS.gsap.set(_._column, S);\r\n\t\t\t}\r\n\r\n\t\t\tvar POBJ = _R.clone(_.OBJUPD.POBJ),\r\n\t\t\t\tLPOBJ = _R.clone(_.OBJUPD.LPOBJ);\r\n\r\n\r\n\t\t\tif (clasName.indexOf(\"rs_splitted_\") === -1) {\r\n\t\t\t\tS = { overwrite: \"auto\" }\r\n\t\t\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\t\t\tif (obj['border' + CO[i] + 'Radius'] !== undefined) S['border' + CO[i] + 'Radius'] = obj['border' + CO[i] + 'Radius'];\r\n\t\t\t\t\tif (obj['padding' + HR[i]] !== undefined) S['padding' + HR[i]] = Math.round(obj['padding' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined && (!_._incolumn && (!_._ingroup || _.position==\"absolute\"))) S['margin' + HR[i]] = _.type === \"row\" ? 0 : Math.round(obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t}\r\n\t\t\t\tif (_.spike !== undefined) S[\"clip-path\"] = S[\"-webkit-clip-path\"] = _.spike;\r\n\t\t\t\tif (obj.boxShadow) S.boxShadow = obj.boxShadow;\r\n\r\n\r\n\t\t\t\tif (_.type !== \"column\") {\r\n\t\t\t\t\tif (obj.borderStyle !== undefined && obj.borderStyle !== \"none\" && (obj.borderTopWidth !== 0 || obj.borderBottomWidth > 0 || obj.borderLeftWidth > 0 || obj.borderRightWidth > 0)) {\r\n\r\n\t\t\t\t\t\tS.borderTopWidth = Math.round(obj.borderTopWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderBottomWidth = Math.round(obj.borderBottomWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderLeftWidth = Math.round(obj.borderLeftWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderRightWidth = Math.round(obj.borderRightWidth * bw) + \"px\";\r\n\t\t\t\t\t\tS.borderStyle = obj.borderStyle;\r\n\t\t\t\t\t\tS.borderTopColor = obj.borderTopColor;\r\n\t\t\t\t\t\tS.borderBottomColor = obj.borderBottomColor;\r\n\t\t\t\t\t\tS.borderLeftColor = obj.borderLeftColor;\r\n\t\t\t\t\t\tS.borderRightColor = obj.borderRightColor;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (obj.borderStyle === \"none\") S.borderStyle = \"none\";\r\n\t\t\t\t\t\tif (obj.borderTopColor!==undefined) S.borderTopColor = obj.borderTopColor;\r\n\t\t\t\t\t\tif (obj.borderBottomColor!==undefined) S.borderBottomColor = obj.borderBottomColor;\r\n\t\t\t\t\t\tif (obj.borderLeftColor!==undefined) S.borderLeftColor = obj.borderLeftColor;\r\n\t\t\t\t\t\tif (obj.borderRightColor!==undefined) S.borderRightColor = obj.borderRightColor;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((_.type === \"shape\" || _.type === \"image\") && (notzero(obj.borderTopLeftRadius) || notzero(obj.borderTopRightRadius) || notzero(obj.borderBottomLeftRadius) || notzero(obj.borderBottomRightRadius))) S.overflow = \"hidden\";\r\n\r\n\t\t\t\tif (!_._isnotext) {\r\n\t\t\t\t\tif (_.type !== \"column\") {\r\n\t\t\t\t\t\tS.fontSize = Math.round((obj.fontSize * bw)) + \"px\";\r\n\t\t\t\t\t\tS.fontWeight = obj.fontWeight;\r\n\t\t\t\t\t\tS.letterSpacing = (obj.letterSpacing * bw) + \"px\";\r\n\t\t\t\t\t\tif (obj.textShadow) S.textShadow = obj.textShadow;\r\n\t\t\t\t\t\tif (obj.textStroke) S['-webkit-text-stroke'] = obj.textStroke;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tS.lineHeight = Math.round(obj.lineHeight * bw) + \"px\";\r\n\t\t\t\t\tS.textAlign = (obj.textAlign);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//FIX Video Border Radius Issue on some GPU\r\n\t\t\t\tif (_.type===\"video\" && _.html5vid && _.deepmedia!==undefined && _.deepmedia[0]!==undefined && _.deepmedia[0].parentNode!=undefined && (notzero(obj.borderTopLeftRadius) || notzero(obj.borderTopRightRadius) || notzero(obj.borderBottomLeftRadius) || notzero(obj.borderBottomRightRadius))) {\r\n\t\t\t\t\ttpGS.gsap.set(_.deepmedia[0].parentNode, fixInnerBorderRadius(S));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.type === \"column\" && _.cbg!==undefined) {\r\n\t\t\t\t\tif (_.cbg_set === undefined) {\r\n\t\t\t\t\t\t_.cbg_set = _.styleProps[\"background-color\"];\r\n\t\t\t\t\t\t_.cbg_set = _.cbg_set == \"\" || _.cbg_set === undefined || _.cbg_set.length == 0 ? \"transparent\" : _.cbg_set;\r\n\r\n\t\t\t\t\t\t_.cbg_img = L[0].dataset.bglazy!==undefined ? 'url(\"'+L[0].dataset.bglazy+'\")' : L.css('backgroundImage');\r\n\r\n\t\t\t\t\t\tif (_.cbg_img !== \"\" && _.cbg_img !== undefined && _.cbg_img !== \"none\") {\r\n\t\t\t\t\t\t\t_.cbg_img_r = L.css('backgroundRepeat');\r\n\t\t\t\t\t\t\t_.cbg_img_p = L.css('backgroundPosition');\r\n\t\t\t\t\t\t\t_.cbg_img_s = L.css('backgroundSize');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_.cbg_o = _.bgopacity ? 1 : _.bgopacity;\r\n\t\t\t\t\t\tLOBJ.backgroundColor = \"transparent\";\r\n\t\t\t\t\t\tLOBJ.backgroundImage = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tS.backgroundColor = \"transparent\";\r\n\t\t\t\t\tS.backgroundImage = \"none\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_._isstatic && _.elementHovered) {\r\n\t\t\t\t\tframs = L.data('frames');\r\n\t\t\t\t\tif (frams && frams.frame_hover && frams.frame_hover.transform)\r\n\t\t\t\t\t\tfor (prop in S)\r\n\t\t\t\t\t\t\tif (S.hasOwnProperty(prop) && frams.frame_hover.transform.hasOwnProperty(prop)) delete S[prop];\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (L[0].nodeName == \"IFRAME\" && _R.gA(L[0], \"layertype\") === \"html\") {\r\n\t\t\t\t\twinw = obj.basealign == \"slide\" ? _R[id].module.width : _R.iWA(id, slideIndex);\r\n\t\t\t\t\twinh = obj.basealign == \"slide\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation === \"v\") ? _R[id].module.height : _R.iHE(id); //*(_R[id].keepBPHeight || _R[id].currentRowsHeight>_R[id].gridheight[_R[id].level] ? 1 :_R[id].CM.h)\r\n\t\t\t\t\tS.width = !_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winw * parseInt(obj.width, 0) / 100 : obj.width : minmaxconvert(obj.width, bw, \"auto\", winw, \"auto\");\r\n\t\t\t\t\tS.height = !_R.isNumeric(obj.height) && obj.height.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winh * parseInt(obj.height, 0) / 100 : obj.height : minmaxconvert(obj.height, bw, \"auto\", winw, \"auto\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tLOBJ = jQuery.extend(true, LOBJ, S);\r\n\t\t\t\t_R[id].firstLayerCalculated = true;\r\n\t\t\t\tif (level != \"rekursive\") {\r\n\t\t\t\t\twinw = obj.basealign == \"slide\" ? _R[id].module.width : _R.iWA(id, slideIndex);\r\n\t\t\t\t\twinh = obj.basealign == \"slide\" || (_R[id].sliderType==\"carousel\" && _R[id].carousel.orientation === \"v\") ? _R[id].module.height : _R.iHE(id); //*(_R[id].keepBPHeight || _R[id].currentRowsHeight>_R[id].gridheight[_R[id].level] ? 1 :_R[id].CM.h)\r\n\r\n\r\n\t\t\t\t\tvar swid = !_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winw * parseInt(obj.width, 0) / 100 : obj.width : minmaxconvert(obj.width, bw, \"auto\", winw, \"auto\"),\r\n\t\t\t\t\t\tshei = !_R.isNumeric(obj.height) && obj.height.indexOf(\"%\") >= 0 ? (_._isstatic && !_._incolumn && !_._ingroup) ? winh * parseInt(obj.height, 0) / 100 : obj.height : minmaxconvert(obj.height, bw, \"auto\", winw, \"auto\"),\r\n\t\t\t\t\t\tSr = {\r\n\t\t\t\t\t\t\tmaxWidth: minmaxconvert(obj.maxWidth, bw, \"none\", winw, \"none\"),\r\n\t\t\t\t\t\t\tmaxHeight: minmaxconvert(obj.maxHeight, bw, \"none\", winh, \"none\"),\r\n\t\t\t\t\t\t\tminWidth: minmaxconvert(obj.minWidth, bw, \"0px\", winw, 0),\r\n\t\t\t\t\t\t\tminHeight: minmaxconvert(obj.minHeight, bw, \"0px\", winh, 0),\r\n\t\t\t\t\t\t\theight: shei,\r\n\t\t\t\t\t\t\twidth: swid,\r\n\t\t\t\t\t\t\toverwrite: \"auto\"\r\n\t\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tif (_.heightSetByVideo == true) Sr.height = _.vidOBJ.height;\r\n\r\n\t\t\t\t\tvar POBJ_HEIGHT_PERCENTAGE = false;\r\n\r\n\t\t\t\t\t// FIX FOR OLD VERSION KILLS MAX WIDTH CONTAINERS IN COLUMNS IN NEW VERSION\r\n\t\t\t\t\t//swid = obj.float===\"none\" && (obj.display===\"block\" || _.display===\"block\") && _._incolumn && _.type!==\"column\" ? \"auto\" : swid;\r\n\r\n\t\t\t\t\tif (_._incolumn) {\r\n\t\t\t\t\t\tPOBJ = jQuery.extend(true, POBJ, { minWidth: swid, maxWidth: swid, float: obj.float, clear: obj.clear });\r\n\t\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) POBJ['margin' + HR[i]] = (obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\t\tLPOBJ.width = \"100%\";\r\n\t\t\t\t\t\tif (obj.display === undefined || obj.display === \"inline-block\") MOBJ = { width: \"100%\" };\r\n\t\t\t\t\t\tSr.width = !_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0 ? \"100%\" : swid;\r\n\t\t\t\t\t\tif (_.type === \"image\") tpGS.gsap.set(_.img, { width: \"100%\" /*Sr.width*/ });\r\n\t\t\t\t\t\t// Make sure Image Inside Layer has 100% Width to fill Inline Block Elements in Columns\r\n\t\t\t\t\t\t// Put 100% now back to make sure that Borders are visible well on Images in Column.\r\n\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (!_R.isNumeric(obj.width) && obj.width.indexOf(\"%\") >= 0) {\r\n\r\n\t\t\t\t\t\tif ((_._isgroup && _.position===\"absolute\") || (_._ingroup===true || _._incolumn==true) && (_.position===\"relative\") || (_.reqWrp!==undefined && (!_.reqWrp.loop || !_.reqWrp.mask)))\r\n\t\t\t\t\t\t\tPOBJ.width = _.basealign === \"slide\" || _._ingroup === true || _._isstatic ? swid : (_R.iWA(id, slideIndex) * _R[id].CM.w) * parseInt(swid) / 100 + \"px\";\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tPOBJ.minWidth = _.basealign === \"slide\" || _._ingroup === true || _._isstatic? swid : (_R.iWA(id, slideIndex) * _R[id].CM.w) * parseInt(swid) / 100 + \"px\";\r\n\r\n\t\t\t\t\t\tLPOBJ.width = \"100%\";\r\n\t\t\t\t\t\tMOBJ.width = \"100%\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//if (obj.width==\"auto\") POBJ.maxWidth = \"100%\"\r\n\r\n\r\n\r\n\t\t\t\t\tif (_._ingroup===true && _.position===\"relative\") {\r\n\t\t\t\t\t\tPOBJ.float = obj.float;\r\n\t\t\t\t\t\tPOBJ.lineHeight=obj.lineHeight+\"px\";\r\n\t\t\t\t\t\tLOBJ.verticalAlign = \"top\";\r\n\t\t\t\t\t\tMOBJ.verticalAlign = \"top\";\r\n\t\t\t\t\t\tLPOBJ.verticalAlign = \"top\";\r\n\t\t\t\t\t\tPOBJ.verticalAlign = \"inherit\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!_R.isNumeric(obj.height) && obj.height.indexOf(\"%\") >= 0) {\r\n\t\t\t\t\t\tPOBJ.minHeight = _.basealign === \"slide\" || _._ingroup === true ||  _._isstatic ? shei : (_R.iHE(id) * ( /*_R[id].keepBPHeight ||*/ _R[id].currentRowsHeight > _R[id].gridheight[_R[id].level] ? 1 : _R[id].CM.w)) * parseInt(shei) / 100 + \"px\";\r\n\t\t\t\t\t\tif ((_.reqWrp!==undefined && !_.reqWrp.loop && !_.reqWrp.mask)) POBJ.height = POBJ.minHeight;\r\n\t\t\t\t\t\tLPOBJ.height = \"100%\";\r\n\t\t\t\t\t\tMOBJ.height = \"100%\";\r\n\t\t\t\t\t\tPOBJ_HEIGHT_PERCENTAGE = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!_._isnotext) {\r\n\r\n\t\t\t\t\t\tSr.whiteSpace = obj.whiteSpace;\r\n\t\t\t\t\t\tSr.textAlign = obj.textAlign;\r\n\t\t\t\t\t\tSr.textDecoration = obj.textDecoration;\r\n\t\t\t\t\t} else if (_.type == \"group\") Sr.whiteSpace = \"normal\";\r\n\t\t\t\t\tif (obj.color != \"npc\" && obj.color !== undefined) Sr.color = obj.color;\r\n\r\n\t\t\t\t\tif (_._ingroup) {\r\n\t\t\t\t\t\t_._groupw = Sr.minWidth;\r\n\t\t\t\t\t\t_._grouph = Sr.minHeight;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.type === \"row\" && (_R.isNumeric(Sr.minHeight) || Sr.minHeight.indexOf(\"px\") >= 0) && Sr.minHeight !== \"0px\" && Sr.minHeight !== 0 && Sr.minHeight !== \"0\" && Sr.minHeight !== \"none\")\r\n\t\t\t\t\t\tSr.height = Sr.minHeight;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (_.type === \"row\")\r\n\t\t\t\t\t\tSr.height = \"auto\";\r\n\r\n\t\t\t\t\t// see blocked comment block above\r\n\t\t\t\t\tif (_._isstatic && _.elementHovered) {\r\n\t\t\t\t\t\tframs = L.data('frames');\r\n\t\t\t\t\t\tif (frams && frams.frame_hover && frams.frame_hover.transform) {\r\n\t\t\t\t\t\t\tfor (prop in Sr) {\r\n\t\t\t\t\t\t\t\tif (Sr.hasOwnProperty(prop) && frams.frame_hover.transform.hasOwnProperty(prop)) delete Sr[prop];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_.type !== \"group\" && _.type !== \"row\" && _.type !== \"column\") {\r\n\t\t\t\t\t\tif (!_R.isNumeric(Sr.width) && Sr.width.indexOf(\"%\") >= 0) Sr.width = \"100%\";\r\n\t\t\t\t\t\tif (!_R.isNumeric(Sr.height) && Sr.height.indexOf(\"%\") >= 0) Sr.height = \"100%\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_._isgroup) {\r\n\t\t\t\t\t\tif (!_R.isNumeric(Sr.width) && Sr.width.indexOf(\"%\") >= 0) Sr.width = \"100%\";\r\n\t\t\t\t\t\t//Groups on Top Level must have a Height, and Child Object must have 100% Height\r\n\t\t\t\t\t\tif (_.position==\"absolute\" && !_._ingroup && !_._incolumn && POBJ_HEIGHT_PERCENTAGE) {\r\n\t\t\t\t\t\t\tPOBJ.height = POBJ.minHeight;\r\n\t\t\t\t\t\t\tSr.height = \"100%\";\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tPOBJ.height = POBJ_HEIGHT_PERCENTAGE ? \"100%\" : Sr.height;\r\n\t\t\t\t\t\tSr.lineHeight = obj.lineHeight===undefined || POBJ_HEIGHT_PERCENTAGE ? \"initial\" : obj.lineHeight + \"px\";\r\n\t\t\t\t\t\tSr.verticalAlign = _.verticalalign;\r\n\t\t\t\t\t\tSr.textAlign = obj.textAlign;\r\n\t\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\t\tif (LOBJ['border' + CO[i] + 'Radius'] !== undefined) {\r\n\t\t\t\t\t\t\t\tMOBJ['border' + CO[i] + 'Radius'] = LOBJ['border' + CO[i] + 'Radius'];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (_.position==\"relative\" && obj.display!==undefined) POBJ.display = obj.display\r\n\t\t\t\t\t\tif (obj.width==\"auto\") MOBJ.position = \"relative\";\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\tLOBJ = jQuery.extend(true, LOBJ, Sr);\r\n\r\n\t\t\t\t\tif (_.svg_src != undefined && _.svgI !== undefined) {\r\n\t\t\t\t\t\t// patch, as this value can sometimes exist as a string\r\n\t\t\t\t\t\tif (typeof _.svgI.fill === 'string') _.svgI.fill = [_.svgI.fill];\r\n\r\n\r\n\t\t\t\t\t\t_.svgTemp = _R.clone(_.svgI);\r\n\t\t\t\t\t\tdelete _.svgTemp.svgAll;\r\n\t\t\t\t\t\tif (_.svgTemp.fill !== undefined && (_.elementHovered && _._isstatic)!==true) {  // IGNORE IF WE ARE IN STATIC LAYERS AND ON HOVER MODE !!\r\n\t\t\t\t\t\t\t_.svgTemp.fill = _.svgTemp.fill[_R[id].level];\r\n\t\t\t\t\t\t\tif(_.svg.length <= 0) _.svg = L.find(\"svg\");\r\n\t\t\t\t\t\t\tif(_.svgPath.length <= 0) _.svgPath = _.svg.find(!_.svgI.svgAll ? 'path' : 'path, circle, ellipse, line, polygon, polyline, rect');\r\n\t\t\t\t\t\t\ttpGS.gsap.set(_.svgPath, { fill: _.svgI.fill[_R[id].level] });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttpGS.gsap.set(_.svg, _.svgTemp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ROW MARGIN SHOULD BE SET AS PADDING\r\n\t\t\t\tif (_.type === \"row\")\r\n\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) POBJ['padding' + HR[i]] = (obj['margin' + HR[i]] * bw) + \"px\";\r\n\r\n\t\t\t\t// LAYERS WITH RELATIVE POSITIONS IN GROUP NEED TO HAVE MARGINS ON THE WRAPPER\r\n\t\t\t\tif (_._ingroup && _.position==\"relative\") {\r\n\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\tif (obj['margin' + HR[i]] !== undefined) POBJ['margin' + HR[i]] = (obj['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\t\tif (_.type===\"shape\" && MOBJ.width==\"100%\" && MOBJ.height==\"100%\") MOBJ.position = \"absolute\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.type === \"column\" && _.cbg && _.cbg.length > 0) {\r\n\t\t\t\t\t// DYNAMIC HEIGHT AUTO CALCULATED BY BROWSER\r\n\t\t\t\t\tif (_.cbg_img_s !== undefined && _.cbg!==undefined) _.cbg[0].style.backgroundSize = _.cbg_img_s;\r\n\t\t\t\t\tS = {};\r\n\t\t\t\t\tif (_.styleProps.cursor !== \"\") S.cursor = _.styleProps.cursor;\r\n\t\t\t\t\tif (_.cbg_set !== \"\" && _.cbg_set !== \"transparent\") S.backgroundColor = _.cbg_set;\r\n\t\t\t\t\tif (_.cbg_img !== \"\" && _.cbg_img !== \"none\") {\r\n\t\t\t\t\t\tS.backgroundImage = _.cbg_img;\r\n\t\t\t\t\t\tif (_.cbg_img_r !== \"\") S.backgroundRepeat = _.cbg_img_r;\r\n\t\t\t\t\t\tif (_.cbg_img_p !== \"\") S.backgroundPosition = _.cbg_img_p;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.cbg_o !== \"\" && _.cbg_o !== undefined) S.opacity = _.cbg_o;\r\n\r\n\t\t\t\t\tfor (i = 0; i < 4; i++) {\r\n\r\n\t\t\t\t\t\tif (obj.borderStyle !== undefined && obj.borderStyle !== \"none\") {\r\n\t\t\t\t\t\t\tif (obj['border' + HR[i] + 'Width'] !== undefined) S['border' + HR[i] + 'Width'] = Math.round(parseInt(obj['border' + HR[i] + 'Width']) * bw) + \"px\";\r\n\t\t\t\t\t\t\tif (obj['border' + HR[i] + 'Color'] !== undefined) S['border' + HR[i] + 'Color'] = obj['border' + HR[i] + 'Color'];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (obj['border' + CO[i] + 'Radius']) S['border' + CO[i] + 'Radius'] = obj['border' + CO[i] + 'Radius'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.borderStyle !== undefined && obj.borderStyle !== \"none\") S.borderStyle = obj.borderStyle;\r\n\r\n\r\n\t\t\t\t\ta = JSON.stringify(S);\r\n\t\t\t\t\tif (a !== _R[id].emptyObject && a !== _.caches.cbgS) tpGS.gsap.set(_.cbg, S);\r\n\t\t\t\t\t_.caches.cbgS = a;\r\n\r\n\t\t\t\t\tS = {};\r\n\t\t\t\t\tfor (i = 0; i < 4; i++)\r\n\t\t\t\t\t\tif (objCache['margin' + HR[i]]) S[hr[i]] = (objCache['margin' + HR[i]] * bw) + \"px\";\r\n\t\t\t\t\ta = JSON.stringify(S);\r\n\t\t\t\t\tif (a !== _R[id].emptyObject && a !== _.caches.cbgmaskS) { tpGS.gsap.set(_.cbgmask, S);\r\n\t\t\t\t\t\t_.caches.cbgmaskS = a; }\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.reqWrp!==undefined && !_.reqWrp.loop && !_.reqWrp.mask &&  LOBJ.width==\"100%\" && LOBJ.height==\"100%\")\r\n\t\t\t\t\tLOBJ.position = \"absolute\"; // If no Mask and loop added, content need to be positioned to top leftcorner with absolute to have dimension, Parent has only min-width and min-height !!\r\n\r\n\t\t\t\tif (POBJ.maxWidth === \"auto\") POBJ.maxWidth = \"inherit\";\r\n\t\t\t\tif (POBJ.maxHeight === \"auto\") POBJ.maxHeight = \"inherit\";\r\n\t\t\t\tif (MOBJ.maxWidth === \"auto\") MOBJ.maxWidth = \"inherit\";\r\n\t\t\t\tif (MOBJ.maxHeight === \"auto\") MOBJ.maxHeight = \"inherit\";\r\n\t\t\t\tif (LPOBJ.maxWidth === \"auto\") LPOBJ.maxWidth = \"inherit\";\r\n\t\t\t\tif (LPOBJ.maxHeight === \"auto\") LPOBJ.maxHeight = \"inherit\";\r\n\r\n\r\n\t\t\t\t//SPECIAL CASES FOR INSET SIZES WITH 100% + MARGIN\r\n\t\t\t\tif (_.fullinset && _._ingroup==true && _.position===\"absolute\") {\r\n\t\t\t\t\tPOBJ.width = \"auto\";\r\n\t\t\t\t\tPOBJ.minHeight = \"auto\";\r\n\t\t\t\t\tPOBJ.height = \"auto\";\r\n\t\t\t\t\tPOBJ.left =  LOBJ.marginLeft!==undefined && LOBJ.marginLeft!==\"0px\" ? LOBJ.marginLeft : \"0px\";\r\n\t\t\t\t\tPOBJ.right = LOBJ.marginRight!==undefined && LOBJ.marginRight!==\"0px\" ? LOBJ.marginRight : \"0px\";\r\n\t\t\t\t\tPOBJ.top =  LOBJ.marginTop!==undefined && LOBJ.marginTop!==\"0px\" ? LOBJ.marginTop : \"0px\";\r\n\t\t\t\t\tPOBJ.bottom = LOBJ.marginBottom!==undefined && LOBJ.marginBottom!==\"0px\" ? LOBJ.marginBottom : \"0px\";\r\n\t\t\t\t\tdelete LOBJ.marginLeft;\r\n\t\t\t\t\tdelete LOBJ.marginRight;\r\n\t\t\t\t\tdelete LOBJ.marginTop;\r\n\t\t\t\t\tdelete LOBJ.marginBottom;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// PRESETS\r\n\t\t\t\t// VIDEO OBJECT INFLUENCE ON LAYER\r\n\t\t\t\tif (_.vidOBJ !== undefined) {\r\n\t\t\t\t\tLOBJ.width = _.vidOBJ.width;\r\n\t\t\t\t\tLOBJ.height = _.vidOBJ.height;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// VIDEO INFLUENCE ON PARRENT ELEMENTS\r\n\t\t\t\tif (_.OBJUPD.lppmOBJ !== undefined) {\r\n\t\t\t\t\tif (_.OBJUPD.lppmOBJ.minWidth !== undefined) {\r\n\t\t\t\t\t\tLPOBJ.minWidth = _.OBJUPD.lppmOBJ.minWidth;\r\n\t\t\t\t\t\tMOBJ.minWidth = _.OBJUPD.lppmOBJ.minWidth;\r\n\t\t\t\t\t\t//POBJ.minWidth = _.OBJUPD.lppmOBJ.minWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (_.OBJUPD.lppmOBJ.minHeight !== undefined) {\r\n\t\t\t\t\t\tLPOBJ.minHeight = _.OBJUPD.lppmOBJ.minHeight;\r\n\t\t\t\t\t\tMOBJ.minHeight = _.OBJUPD.lppmOBJ.minHeight;\r\n\t\t\t\t\t\tPOBJ.minHeight = _.OBJUPD.lppmOBJ.minHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//In Column Group width 100% should adjust Group Mask to 100% Also\r\n\t\t\t\tif (_._incolumn && _.type==\"group\" && POBJ!==undefined && POBJ.minWidth==\"100%\") {\r\n\t\t\t\t\tMOBJ.width = \"100%\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Special Solution for thFixed to get lpobj at relative groups also relativ\r\n\t\t\t\tif (_._isgroup && _.thFixed && _.reqWrp!==undefined && _.reqWrp.loop && _.reqWrp.mask && obj.width==\"auto\") {\r\n\t\t\t\t\tLPOBJ.position=\"relative\";\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\t//In Group 100%Height with Elements without Mask and Loop Wrapper need to set 100% Height\r\n\t\t\t\tif (_._ingroup && !_.reqWrp.loop && !_.reqWrp.mask  && _.position==\"absolute\" && POBJ.minHeight==\"100%\") POBJ.height = \"100%\";\r\n\t\t\t\t//HOOK SETTINGS OF LAYERS IF NEEDED\r\n\t\t\t\tfor (var hooki in _R[id].calcResponsiveLayerHooks) {\r\n\t\t\t\t\tvar returns = _R[id].calcResponsiveLayerHooks[hooki]({id:id,L:L,obj:obj,_:_,inobj:inobj,LOBJ:LOBJ, LPOBJ:LPOBJ, MOBJ:MOBJ, POBJ:POBJ});\r\n\t\t\t\t\tif (returns==undefined) continue;\r\n\t\t\t\t\tif (returns.obj!==undefined) obj = jQuery.extend(true,obj,returns.obj);\r\n\t\t\t\t\tif (returns.LOBJ!==undefined) LOBJ = jQuery.extend(true,LOBJ,returns.LOBJ);\r\n\t\t\t\t\tif (returns.LPOBJ!==undefined) LPOBJ = jQuery.extend(true,LPOBJ,returns.LPOBJ);\r\n\t\t\t\t\tif (returns.MOBJ!==undefined) MOBJ = jQuery.extend(true,MOBJ,returns.MOBJ);\r\n\t\t\t\t\tif (returns.POBJ!==undefined) POBJ = jQuery.extend(true,POBJ,returns.POBJ);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\ta = JSON.stringify(LOBJ);\r\n\t\t\t\tb = JSON.stringify(LPOBJ);\r\n\t\t\t\tc = JSON.stringify(MOBJ);\r\n\t\t\t\td = JSON.stringify(POBJ);\r\n\r\n\t\t\t\t//IMG Object Update If Necessary\r\n\t\t\t\tif (_.imgOBJ !== undefined && (_.caches.imgOBJ === undefined || _.caches.imgOBJ.width !== _.imgOBJ.width || _.caches.imgOBJ.height !== _.imgOBJ.height || _.caches.imgOBJ.left !== _.imgOBJ.left || _.caches.imgOBJ.right !== _.imgOBJ.right || _.caches.imgOBJ.top !== _.imgOBJ.top || _.caches.imgOBJ.bottom !== _.imgOBJ.bottom)) {\r\n\t\t\t\t\t_.caches.imgOBJ = _R.clone(_.imgOBJ);\r\n\t\t\t\t\t_.imgOBJ.position = \"relative\";\r\n\t\t\t\t\ttpGS.gsap.set(_.img, _.imgOBJ);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t//UPDATE MEDIA OBJ IF NEEDED\r\n\t\t\t\tif (_.mediaOBJ !== undefined && (_.caches.mediaOBJ === undefined || _.caches.mediaOBJ.width !== _.mediaOBJ.width || _.caches.mediaOBJ.height !== _.mediaOBJ.height || _.caches.mediaOBJ.display !== _.mediaOBJ.display)) {\r\n\t\t\t\t\t_.caches.mediaOBJ = _R.clone(_.mediaOBJ);\r\n\t\t\t\t\t_.media.css(_.mediaOBJ);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tif (a != _R[id].emptyObject && a != _.caches.LOBJ) { tpGS.gsap.set(L, LOBJ);\r\n\t\t\t\t\t_.caches.LOBJ = a; }\r\n\t\t\t\tif (_.lp!==undefined && b != _R[id].emptyObject && b != _.caches.LPOBJ) { tpGS.gsap.set(_.lp, LPOBJ);\r\n\t\t\t\t\t_.caches.LPOBJ = b; }\r\n\t\t\t\tif (c != _R[id].emptyObject && c != _.caches.MOBJ) { tpGS.gsap.set(_.m, MOBJ);_.caches.MOBJ = c; }\r\n\t\t\t\tif (d != _R[id].emptyObject && d != _.caches.POBJ) { tpGS.gsap.set(_.p, POBJ);\r\n\t\t\t\t\t_.caches.POBJ = d;\r\n\t\t\t\t\t_.caches.POBJ_LEFT = POBJ.left;\r\n\t\t\t\t\t_.caches.POBJ_TOP = POBJ.top }\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetSpikePath = function(_) {\r\n\t\t\tvar c = { l: \"none\", lw: 10, r: \"none\", rw: 10 };\r\n\t\t\t_ = _.split(\";\");\r\n\r\n\t\t\tfor (var u in _) {\r\n\t\t\t\tif (!_.hasOwnProperty(u)) continue;\r\n\t\t\t\tvar s = _[u].split(\":\");\r\n\t\t\t\tswitch (s[0]) {\r\n\t\t\t\t\tcase \"l\":\r\n\t\t\t\t\t\tc.l = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"r\":\r\n\t\t\t\t\t\tc.r = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"lw\":\r\n\t\t\t\t\t\tc.lw = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"rw\":\r\n\t\t\t\t\t\tc.rw = s[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"polygon(\" + getClipPaths(c.l, 0, parseFloat(c.lw)) + \",\" + getClipPaths(c.r, 100, (100 - parseFloat(c.rw)), true) + \")\";\r\n\t\t},\r\n\r\n\t\tgetClipPaths = function(_, o, i, reverse) {\r\n\t\t\tvar r;\r\n\t\t\tswitch (_) {\r\n\t\t\t\tcase \"none\":\r\n\t\t\t\t\tr = o + '% 100%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"top\":\r\n\t\t\t\t\tr = i + '% 100%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"middle\":\r\n\t\t\t\t\tr = i + '% 100%,' + o + '% 50%,' + i + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"two\":\r\n\t\t\t\t\tr = i + '% 100%,' + o + '% 75%,' + i + '% 50%,' + o + '% 25%,' + i + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"three\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 75%,' + o + '% 50%,' + i + '% 25%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"four\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 87.5%,' + o + '% 75%,' + i + '% 62.5%,' + o + '% 50%,' + i + '% 37.5%,' + o + '% 25%,' + i + '% 12.5%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"five\":\r\n\t\t\t\t\tr = o + '% 100%,' + i + '% 90%,' + o + '% 80%,' + i + '% 70%,' + o + '% 60%,' + i + '% 50%,' + o + '% 40%,' + i + '% 30%,' + o + '% 20%,' + i + '% 10%,' + o + '% 0%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (reverse) {\r\n\t\t\t\tvar s = r.split(\",\");\r\n\t\t\t\tr = \"\";\r\n\t\t\t\tfor (var i in s) {\r\n\t\t\t\t\tif (!s.hasOwnProperty(i)) continue;\r\n\t\t\t\t\tr += s[(s.length - 1) - i] + (i < s.length - 1 ? \",\" : \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t};\r\n\t//Support Defer and Async and Footer Loads\r\n\twindow.RS_MODULES = window.RS_MODULES || {};\r\n\twindow.RS_MODULES.layeranimation = { loaded: true, version: version };\r\n\tif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.panzoom.js":"/********************************************\r\n * REVOLUTION EXTENSION - PANZOOM\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n    \"use strict\";\r\n\r\n\r\n    // CHECK IF WE SCRIPT RUNNING IN EDITOR OR IN FRONTEND\r\n    if (window._R_is_Editor) RVS._R = RVS._R===undefined ? {} : RVS._R; else window._R_is_Editor=false;\r\n\r\n    jQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\r\nvar  _R = _R_is_Editor ? RVS._R : jQuery.fn.revolution, version = \"6.6.0\";\r\n\r\n    ///////////////////////////////////////////\r\n    // \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n    ///////////////////////////////////////////\r\n    jQuery.extend(true,_R, {\r\n\r\n        bgW : function(id,slide) { return _R_is_Editor ? RVS.RMD.width : _R[id].sliderType===\"carousel\" ? _R[id].justifyCarousel ? _R[id].carousel.slide_widths[slide!==undefined ? slide : _R[id].carousel.focused] : _R[id].carousel.slide_width : _R[id].module.width;},\r\n        bgH : function(id,slide) { return _R_is_Editor ? RVS.RMD.height :_R[id].sliderType===\"carousel\" ? _R[id].carousel.slide_height : _R[id].module.height;},\r\n        getPZSides : function(w,h,f,cw,ch,ho,vo) {\r\n            var tw = w * f,\r\n                th = h * f,\r\n                hd = Math.abs(cw-tw),\r\n                vd = Math.abs(ch-th),\r\n                s = new Object();\r\n            s.l = (0-ho)*hd;\r\n            s.r = s.l + tw;\r\n            s.t = (0-vo)*vd;\r\n            s.b = s.t + th;\r\n            s.h = ho;\r\n            s.v = vo;\r\n            return s;\r\n        },\r\n        getPZCorners : function(d,cw,ch,o) {\r\n            var p = d.bgposition.split(\" \") || \"center center\",\r\n                ho = p[0] == \"center\"  ? \"50%\" : p[0] == \"left\" || p [1] == \"left\" ? \"0%\" : p[0]==\"right\" || p[1] ==\"right\" ? \"100%\" : p[0],\r\n                vo = p[1] == \"center\" ? \"50%\" : p[0] == \"top\" || p [1] == \"top\" ? \"0%\" : p[0]==\"bottom\" || p[1] ==\"bottom\" ? \"100%\" : p[1];\r\n\r\n            ho = parseInt(ho,0)/100 || 0;\r\n            vo = parseInt(vo,0)/100 || 0;\r\n\r\n            var sides = new Object();\r\n\r\n            sides.start = _R.getPZSides(o.start.width,o.start.height,o.start.scale,cw,ch,ho,vo);\r\n            sides.end = _R.getPZSides(o.start.width,o.start.height,o.end.scale,cw,ch,ho,vo);\r\n\r\n\r\n            return sides;\r\n        },\r\n        getPZValues : function(d) {\r\n            var attrs = d.panzoom.split(\";\"),\r\n                _ = {duration:10, ease:'none', scalestart:1, scaleend:1, rotatestart:0.01, rotateend:0, blurstart:0, blurend:0, offsetstart:\"0/0\", offsetend:\"0/0\"};\r\n\r\n\r\n            for (var k in attrs) {\r\n                if (!attrs.hasOwnProperty(k)) continue;\r\n                var _bas = attrs[k].split(\":\"),\r\n                    key = _bas[0],\r\n                    val = _bas[1];\r\n                switch (key) {\r\n                    case \"d\": _.duration = parseInt(val,0) / 1000; break;\r\n                    case \"e\": _.ease = val;break;\r\n                    case \"ss\": _.scalestart=parseInt(val,0)/100;break;\r\n                    case \"se\": _.scaleend=parseInt(val,0)/100;break;\r\n                    case \"rs\": _.rotatestart=parseInt(val,0);break;\r\n                    case \"re\": _.rotateend=parseInt(val,0);break;\r\n                    case \"bs\": _.blurstart=parseInt(val,0);break;\r\n                    case \"be\": _.blurend=parseInt(val,0);break;\r\n                    case \"os\": _.offsetstart=val;break;\r\n                    case \"oe\": _.offsetend=val;break;\r\n                }\r\n            }\r\n            _.offsetstart = _.offsetstart.split(\"/\") || [0,0];\r\n            _.offsetend = _.offsetend.split(\"/\") || [0,0];\r\n            _.rotatestart = _.rotatestart===0 ? 0.01 : _.rotatestart;\r\n            d.panvalues = _;\r\n\r\n            d.bgposition = d.bgposition == \"center center\" ? \"50% 50%\" : d.bgposition;\r\n            return _;\r\n        },\r\n        pzCalcL : function(cw,ch,d) {\r\n\r\n            var c,iws,ihs,iwe,ihe,newf,\r\n                _ = d.panvalues === undefined ? jQuery.extend(true,{},_R.getPZValues(d)) : jQuery.extend(true,{},d.panvalues),\r\n                ofs = _.offsetstart,\r\n                ofe = _.offsetend,\r\n                o = {start:{\r\n                                width:cw,\r\n                                height:_R_is_Editor ?  cw / d.loadobj.width * d.loadobj.height : cw / d.owidth*d.oheight,\r\n\t\t\t\t\t\t\trotation:(Math.PI / 180) * _.rotatestart,\r\n\t\t\t\t\t\t\trotationV:_.rotatestart,\r\n                                scale:_.scalestart,\r\n                                transformOrigin:\"0% 0%\" },\r\n\t\t\t\t end:{\trotation:(Math.PI / 180) * _.rotateend,\r\n\t\t\t\t \t\trotationV: _.rotateend,\r\n                             scale:_.scaleend },\r\n                     },\r\n                sw = cw*_.scalestart,\r\n                sh = sw/d.owidth * d.oheight,\r\n                ew = cw*_.scaleend,\r\n                eh = ew/d.owidth * d.oheight;\r\n\r\n\r\n\r\n            if (o.start.height<ch) {\r\n                newf = ch / o.start.height;\r\n                o.start.height = ch;\r\n                o.start.width = o.start.width*newf;\r\n            }\r\n\r\n            if (_.rotatestart===0.01 && _.rotateend===0) {\r\n                delete o.start.rotation;\r\n                delete o.end.rotation;\r\n            }\r\n\r\n\r\n\r\n            // MAKE SURE THAT OFFSETS ARE NOT TOO HIGH\r\n            c = _R.getPZCorners(d,cw,ch,o);\r\n\r\n\r\n            ofs[0] = parseFloat(ofs[0]) + c.start.l;\r\n            ofe[0] = parseFloat(ofe[0]) + c.end.l;\r\n\r\n            ofs[1] = parseFloat(ofs[1]) + c.start.t;\r\n            ofe[1] = parseFloat(ofe[1]) + c.end.t;\r\n\r\n            iws = c.start.r - c.start.l;\r\n            ihs\t= c.start.b - c.start.t;\r\n            iwe = c.end.r - c.end.l;\r\n            ihe\t= c.end.b - c.end.t;\r\n\r\n            ofs[0] = ofs[0]>0 ? 0 : iws + ofs[0] < cw ? cw-iws : ofs[0];\r\n            ofe[0] = ofe[0]>0 ? 0 : iwe + ofe[0] < cw ? cw-iwe : ofe[0];\r\n\r\n            ofs[1] = ofs[1]>0 ? 0 : ihs + ofs[1] < ch ? ch-ihs : ofs[1];\r\n            ofe[1] = ofe[1]>0 ? 0 : ihe + ofe[1] < ch ? ch-ihe : ofe[1];\r\n\r\n            o.start.x = ofs[0];\r\n            o.start.y = ofs[1];\r\n            o.end.x = ofe[0];\r\n            o.end.y = ofe[1];\r\n            o.end.ease =  _.ease;\r\n            return o;\r\n        },\r\n\r\n\tpzDrawShadow : function(id,nBG,a) {\r\n\t\t// During Animation OR in case no panFake exists use Canvas\r\n\t\tif ((nBG.currentState===\"animating\" || nBG.panFake==undefined) || nBG.pzLastFrame) {\r\n\t\t\tnBG.pzLastFrame = false;\r\n\t\t\tnBG.shadowCTX.clearRect(0,0,nBG.shadowCanvas.width, nBG.shadowCanvas.height);\r\n\t\t\tnBG.shadowCTX.save();\r\n\t\t\tif (a.rotation!==undefined)\r\n\t\t\t\tnBG.shadowCTX.transform(Math.cos(a.rotation) * a.scale, Math.sin(a.rotation) * a.scale,Math.sin(a.rotation) * -a.scale,Math.cos(a.rotation) * a.scale,a.x,a.y);\r\n\t\t\telse\r\n\t\t\t\tnBG.shadowCTX.transform(a.scale, 0, 0, a.scale,a.x,a.y);\r\n\r\n\t\t\tnBG.shadowCTX.drawImage(nBG.loadobj.img, 0,0,a.width, a.height);\r\n\t\t\tnBG.shadowCTX.restore();\r\n\t\t}\r\n\r\n\t\t// If Not Animating\r\n            if (nBG.currentState!==\"animating\") {\r\n\t\t\tif (nBG.panFake!=undefined) {\r\n\t\t\t\tif (!nBG.panFake.visible) {\r\n\t\t\t\t\tnBG.panFake.visible = true;\r\n\t\t\t\t\tnBG.panFake.img.style.opacity = 1;\r\n\t\t\t\t\tnBG.canvas.style.opacity = 0;\r\n\t\t\t\t}\r\n\t\t\t\ttpGS.gsap.set(nBG.panFake.img,{width:a.width, height:a.height,force3D:true,x:a.x,y:a.y,transformOrigin:\"0% 0%\", rotationZ:a.rotationV+\"deg\", scale:a.scale});\r\n\t\t\t\tif (a.blur!==undefined) nBG.panFake.img.style.filter = a.blur===0 ? \"none\" : \"blur(\"+a.blur+\"px)\";\r\n\t\t\t} else {\r\n\t\t\t\t_R.updateSlideBGs(id,a.slidekey,nBG,true);\r\n\t\t\t\tif (a.blur!==undefined) nBG.canvas.style.filter = a.blur===0 ? \"none\" : \"blur(\"+a.blur+\"px)\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (nBG.panFake!==undefined && nBG.panFake.visible!==false) {\r\n\t\t\t\tnBG.panFake.visible = false;\r\n\t\t\t\tnBG.panFake.img.style.opacity = 0;\r\n\t\t\t\tnBG.canvas.style.opacity = 1;\r\n\t\t\t\tnBG.panFake.img.style.filter =  \"none\";\r\n\t\t\t}\r\n\t\t\tif (a.blur!==undefined && nBG.canvasFilter) nBG.canvasFilterBlur = a.blur; else nBG.canvas.style.filter = a.blur===0 ? \"none\" : \"blur(\"+a.blur+\"px)\";\r\n\t\t}\r\n        },\r\n\r\n        startPanZoom :  function(l,id,prgs,cid,prepare,key) {\r\n            var d = _R_is_Editor ? l : l.data();\r\n            if (d.panzoom===undefined || d.panzoom===null) return;\r\n            var\tnBG = _R_is_Editor ? d : _R[id].sbgs[key];\r\n\r\n            if (!_R_is_Editor && _R[id].sliderType===\"carousel\") {\r\n                 if (_R[id].carousel.justify && _R[id].carousel.slide_widths===undefined) _R.setCarouselDefaults(id,true);\r\n                 if (!_R[id].carousel.justify) {\r\n                     if (_R[id].carousel.slide_width===undefined) _R[id].carousel.slide_width = _R[id].carousel.stretch!==true ? _R[id].gridwidth[_R[id].level]*(_R[id].CM.w===0 ? 1 : _R[id].CM.w) : _R[id].canv.width;\r\n                     if (_R[id].carousel.slide_height===undefined) _R[id].carousel.slide_height = _R[id].carousel.stretch!==true ? _R[id].gridheight[_R[id].level]*(_R[id].CM.w===0 ? 1 : _R[id].CM.w) : _R[id].canv.height;\r\n                 }\r\n             }\r\n\r\n            var hDIM = _R.getmDim(id,cid, nBG);\r\n            var\tanim = _R.pzCalcL(hDIM.width,hDIM.height,d),\r\n                PZ;\r\n\t\tnBG.pzAnim = anim;\r\n            if (!_R_is_Editor) {\r\n                _R[id].panzoomTLs = _R[id].panzoomTLs===undefined ? {} : _R[id].panzoomTLs;\r\n                _R[id].panzoomBGs = _R[id].panzoomBGs===undefined ? {} : _R[id].panzoomBGs;\r\n                if (_R[id].panzoomBGs[cid]===undefined) _R[id].panzoomBGs[cid] = l;\r\n                PZ = _R[id].panzoomTLs[cid];\r\n            }\r\n\r\n\r\n            prgs = prgs || 0;\r\n\r\n            if (PZ!==undefined) { PZ.pause(); PZ.kill(); PZ = undefined;}\r\n            PZ =  tpGS.gsap.timeline({paused:true});\r\n\r\n            d.panvalues.duration = d.panvalues.duration===NaN || d.panvalues.duration===undefined ? 10 : d.panvalues.duration;\r\n\r\n            if (!_R_is_Editor && d!==undefined && nBG!==undefined) nBG.panvalues = d.panvalues;\r\n\r\n\r\n            if (nBG!==undefined) {\r\n\r\n                if (nBG.shadowCanvas===undefined) {\r\n                    nBG.shadowCanvas = document.createElement('canvas');\r\n                    nBG.shadowCTX = nBG.shadowCanvas.getContext('2d');\r\n                    nBG.shadowCanvas.style.background = \"transparent\";\r\n                    nBG.shadowCanvas.style.opacity = 1;\r\n                }\r\n\r\n                if(nBG.shadowCanvas.width !== hDIM.width) nBG.shadowCanvas.width = hDIM.width;\r\n                if(nBG.shadowCanvas.height !== hDIM.height) nBG.shadowCanvas.height = hDIM.height;\r\n\r\n                anim.slideindex = cid;\r\n                anim.slidekey = _R_is_Editor ? undefined : key;\r\n\r\n                anim.start.slidekey = anim.slidekey;\r\n                _R.pzDrawShadow(id,nBG,anim.start);\r\n                anim.end.onUpdate = function() {_R.pzDrawShadow(id,nBG,anim.start);}\r\n\r\n                nBG.panStart = jQuery.extend(true,{},anim.start);\r\n\r\n\r\n                if (d.panvalues.blurstart!==undefined && d.panvalues.blurend!==undefined &&  (d.panvalues.blurstart!==0 || d.panvalues.blurend!==0)) {\r\n                    anim.start.blur = d.panvalues.blurstart;\r\n                    anim.end.blur = d.panvalues.blurend;\r\n                }\r\n\r\n                //iOS Canvas PAN BUG Workaround\r\n                if (!_R_is_Editor && anim.start.blur===undefined && !_R.isFF || (window.isSafari11 && _R.ISM)) {\r\n                    nBG.panFake= nBG.panFake===undefined ? { img : nBG.loadobj.img.cloneNode(true)} : nBG.panFake;\r\n                    if (nBG.panFake!==undefined) {\r\n                        if (nBG.panFake.appended!==true) {\r\n                            nBG.panFake.appended = true;\r\n                            nBG.sbg.appendChild(nBG.panFake.img);\r\n                            nBG.panFake.img.style.position=\"absolute\";\r\n                            nBG.panFake.img.style.display = \"block\";\r\n                            nBG.panFake.img.style.zIndex = 0;\r\n                            nBG.panFake.img.style.opacity = 0;\r\n                            nBG.panFake.img.style.top = \"0px\";\r\n                            nBG.panFake.img.style.left = \"0px\";\r\n                        }\r\n                        nBG.panFake.img.width = anim.start.width;\r\n                        nBG.panFake.img.height = anim.start.height;\r\n                    }\r\n                }\r\n\r\n                PZ.add(tpGS.gsap.to(anim.start,d.panvalues.duration,anim.end),0);\r\n                PZ.progress(prgs);\r\n\r\n                if (prepare==='play' || prepare===\"first\") PZ.play();\r\n\r\n                if (!_R_is_Editor) _R[id].panzoomTLs[cid] = PZ; else RVS.TL[RVS.S.slideId].panzoom=PZ;\r\n\r\n            }\r\n        }\r\n    });\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.panzoom = {loaded:true, version:version};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n\r\n    })(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.slideanims.js":"/********************************************\r\n * REVOLUTION EXTENSION - SLIDE ANIMATIONS\r\n * @date:06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n\r\n(function($) {\r\n    \"use strict\";\r\n\r\n\r\n    // CHECK IF WE SCRIPT RUNNING IN EDITOR OR IN FRONTEND\r\n    if (window._R_is_Editor) RVS._R = RVS._R===undefined ? {} : RVS._R; else window._R_is_Editor=false;\r\n\r\n\r\nvar version = \"6.6.0\",\r\n        p1i = \"power1.in\",  p1o = \"power1.out\", p1io = \"power1.inOut\", p2i = \"power2.in\", p2o = \"power2.out\", p2io = \"power2.inOut\",p3i = \"power3.in\", p3o = \"power3.out\", p3io = \"power3.inOut\";\r\n\r\n    jQuery.fn.revolution = jQuery.fn.revolution || {};\r\n    var _R = _R_is_Editor ? RVS._R : jQuery.fn.revolution;\r\n\r\n\r\n            // Function References\r\n            if (_R_is_Editor) RVS._R.isNumeric = RVS.F.isNumeric;\r\n\r\n\r\n        ///////////////////////////////////////////\r\n        // \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n        ///////////////////////////////////////////\r\n        jQuery.extend(true,_R, {\r\n\r\n            // Read DATA Values from Slide DOM Element and Return the Animation Attributes\r\n            getSlideAnimationObj : function(id,_,key) {\r\n                var ret = {},attrs,basic;\r\n\r\n                if (_.anim===undefined && _.in==undefined) _.in = \"o:0\";\r\n                for (var i in _) {\r\n                    if (!_.hasOwnProperty(i) || _[i]===undefined) continue;\r\n                    var attrs = _[i].split(\";\");\r\n                    for (var k in attrs) {\r\n                        if (!attrs.hasOwnProperty(k)) continue;\r\n                            basic = attrs[k].split(\":\");\r\n                        if (basic[0]!==undefined && basic[1]!==undefined) {\r\n                            ret[i] = ret[i]===undefined ? {} : ret[i];\r\n                            ret[i][basic[0]] = i===\"d3\" && basic[0]===\"c\" ? basic[1] : basic[1].split(\",\")[0];\r\n                        }\r\n                    }\r\n                }\r\n                ret.in = ret.in===undefined ? {} : ret.in;\r\n                ret.anim = ret.anim===undefined ? {e:\"basic\"} : ret.anim;\r\n                // If Presets Exists, load the Preset Library and build the Random List\r\n                if (!_R_is_Editor && ret.in!==undefined && ret.in.prst!==undefined) _R.loadSlideAnimLibrary(id,{key:key,prst:ret.in.prst});\r\n                _R[id].sbgs[key].slideanimationRebuild = false;\r\n                return ret;\r\n            },\r\n\r\n            loadSlideAnimLibrary : function(id,rnd) {\r\n                if (_R.SLTR===undefined && _R.SLTR_loading!==true) {\r\n                    _R.SLTR_loading=true;\r\n                    jQuery.ajax({type:'post',url:_R[id].ajaxUrl,dataType:'json',data:{action:'revslider_ajax_call_front', client_action:'get_transitions' /*, token:_R[id].ajaxNonce*/},\r\n                        success:function(ret, textStatus, XMLHttpRequest) { if(ret.success == true) {_R.SLTR = ret.transitions; if (rnd!==undefined) _R.setRandomDefaults(id,rnd.key,rnd.prst); }},\r\n                        error:function(e) { console.log(\"Transition Table can not be loaded\"); console.log(e);}\r\n                    });\r\n                } else if (rnd!==undefined && _R.SLTR!==undefined) _R.setRandomDefaults(id,rnd.key,rnd.prst);\r\n            },\r\n\r\n            convertSlideAnimVals : function (_) {\r\n                return  {\tanim : { eng:_.eng, ms:parseInt(_.speed,0), o:_.o, e:_.e, f:_.f, p:_.p ,d:parseInt(_.d,0), adpr: _.adpr},\r\n                            d3 : {f:_.d3.f, d:_.d3.d, z:_.d3.z, t:_.d3.t, c:_.d3.c, e:_.d3.e, fdi:_.d3.fdi, fdo:_.d3.fdo, fz:_.d3.fz,  su:_.d3.su, smi:_.d3.smi, sma:_.d3.sma, sc:_.d3.sc, sl:_.d3.sl},\r\n                            in : { eng:_.in.eng,  o:_R_is_Editor && _.preset!==undefined && _.preset.indexOf(\"rnd\")===0 ? 0 : _R.valBeau(_.in.o), x:_R.valBeau(_.in.x), y:_R.valBeau(_.in.y), r:_R.valBeau(_.in.r), sx:_R.valBeau(_.in.sx), sy:_R.valBeau(_.in.sy), m:_.in.m, e:_.in.e, row:_.in.row, col:_.in.col,  mo:_.in.mou!==\"false\" && _.in.mou!==false ? _R.valBeau(_.in.mo) : 0, moo:_.in.mou!==\"false\" && _.in.mou!==false ? _R.valBeau(_.in.moo) : 'none', mou:_.in.mou},\r\n                            out:_.out.a===undefined || _.out.a=='true' || _.out.a===true ? undefined : { a: tf(_.out.a), o:_R.valBeau(_.out.o), x:_R.valBeau(_.out.x), y:_R.valBeau(_.out.y), r:_R.valBeau(_.out.r), sx:_R.valBeau(_.out.sx), sy:_R.valBeau(_.out.sy), m:_.out.m, e:_.out.e, row:_R.valBeau(_.out.row), col:_R.valBeau(_.out.col)},\r\n                            filter: {u:_.filter.u, e:_.filter.e, b:_.filter.b, g:_.filter.g, h:_.filter.h,  s:_.filter.s,  c:_.filter.c, i:_.filter.i},\r\n                            addOns: _.addOns\r\n                        };\r\n            },\r\n\r\n            setRandomDefaults : function(id,key,prst) {\r\n                _R[id].sbgs[key].random = _R.getAnimObjectByKey(prst,_R.SLTR);\r\n            },\r\n\r\n            getSlideAnim_AddonDefaults : function() {\r\n                var r = {};\r\n                for (var i in _R.enabledSlideAnimAddons) if (_R.enabledSlideAnimAddons.hasOwnProperty(i)) r  = jQuery.extend(true,r,_R[_R.enabledSlideAnimAddons[i]].defaults());\r\n                return r;\r\n            },\r\n\r\n\r\n            getSlideAnim_EmptyObject:function() {\r\n                return {\r\n\t\t\t\t\tspeed:1000, o:'inout', e:'basic', f:'start', p:'none', d:15, eng:'animateCore', adpr: true,\r\n                        d3 : {f:'none', d:'horizontal', z:300, t:0, c:'#ccc', e:'power2.inOut',fdi:1.5,fdo:2, fz:0, su:false, smi:0, sma:0.5, sc:'#000' , sl:1},\r\n                        filter: {u:false, e:\"default\", b:0, g:0, h:100,  s:0,  c:100, i:0},\r\n                        in: { o:1, x:0, y:0, r:0, sx:1, sy:1, m:false, e:'power2.inOut', row:1, col:1,  mo:80, mou:false},\r\n                        out:{ a:'true', o:1, x:0, y:0, r:0, sx:1, sy:1, m:false, e:'power2.inOut', row:1, col:1},\r\n                        addOns: _R.getSlideAnim_AddonDefaults()\r\n                        }\r\n            },\r\n\r\n            //Get the Right Animation\r\n            getAnimObjectByKey : function(key,lib) {\r\n                //Cache Last Found\r\n                if (_R.getAnimObjectCacheKey===key) return _R.getAnimObjectCache;\r\n                _R.getAnimObjectCacheKey = key;\r\n\r\n                var r;\r\n                for (var main in lib)  if (lib.hasOwnProperty(main) && r===undefined)\r\n                    for (var group in lib[main]) if (lib[main].hasOwnProperty(group) && r===undefined)\r\n                        if (key===group && key.indexOf(\"rnd\")===0) {\r\n                            r = lib[main][group];\r\n                            r.main = main;\r\n                            r.group = group;\r\n                        } else\r\n                        for (var element in lib[main][group]) if (lib[main][group].hasOwnProperty(element) && r===undefined && element===key) {\r\n                            r = lib[main][group][element];\r\n                            r.main = main;\r\n                            r.group = group;\r\n                        }\r\n\r\n                //Cache the R into Global Variable\r\n                _R.getAnimObjectCache = jQuery.extend(true,{},r);\r\n                return r;\r\n            },\r\n\r\n            getRandomSlideTrans : function(main,grp,lib) {\r\n                if (_R.randomSlideAnimCache!==undefined && _R.randomSlideAnimCache[main]!==undefined && _R.randomSlideAnimCache[main][grp]!==undefined)\r\n                    return _R.randomSlideAnimCache[main][grp][Math.floor(Math.random() *  _R.randomSlideAnimCache[main][grp].length)];\r\n\r\n                _R.randomSlideAnimCache = _R.randomSlideAnimCache===undefined ? {} : _R.randomSlideAnimCache;\r\n                _R.randomSlideAnimCache[main] = _R.randomSlideAnimCache[main]===undefined ? {} : _R.randomSlideAnimCache[main];\r\n                _R.randomSlideAnimCache[main][grp] = _R.randomSlideAnimCache[main][grp]===undefined ? [] : _R.randomSlideAnimCache[main][grp];\r\n\r\n                for (var m in lib) if (lib.hasOwnProperty(m) && m!==\"random\" && m!==\"custom\" && (main==\"all\" || m==main))\r\n                    for (var g in lib[m]) if (lib[m].hasOwnProperty(g) && g!==\"icon\" && (\"\"+grp==\"undefined\" || grp.indexOf(g)>=0))\r\n                        for (var e in lib[m][g])  if (lib[m][g].hasOwnProperty(e) && jQuery.inArray(lib[m][g][e].title,[\"*north*\",\"*south*\",\"*east*\",\"*west*\"])==-1) _R.randomSlideAnimCache[main][grp].push(e);\r\n                return _R.randomSlideAnimCache[main][grp][Math.floor(Math.random() *  _R.randomSlideAnimCache[main][grp].length)];\r\n            },\r\n\r\n            cbgW : function(id,slide) { return _R_is_Editor ? RVS.RMD.width : _R[id].sliderType===\"carousel\" ? _R[id].justifyCarousel ? _R[id].carousel.slide_widths[slide!==undefined ? slide : _R[id].carousel.focused] : _R[id].carousel.slide_width : _R[id].canv.width;},\r\n\t\tcbgH : function(id,slide) { return _R_is_Editor ? RVS.RMD.height :_R[id].sliderType===\"carousel\" ? (_R[id].carousel.orientation=='v' && _R[id].sliderLayout===\"fullscreen\") ? _R[id].carousel.slide_height : (_R[id].carousel.justify===true ? _R[id].carousel.slide_height : _R[id].sliderLayout===\"fullscreen\" ? _R[id].module.height : Math.min(_R[id].canv.height,_R[id].gridheight[_R[id].level])) : _R[id].maxHeight!==undefined && _R[id].maxHeight>0 && !_R[id].fixedOnTop ? Math.min(_R[id].canv.height,_R[id].maxHeight) : _R[id].canv.height;},\r\n\r\n            valBeau : function(a) {\r\n                a = (\"\"+a).split(\",\").join('|');\r\n                a = (\"\"+a).replace(\"{\",'ran(');\r\n                a = (\"\"+a).replace(\"}\",')');\r\n                a = (\"\"+a).replace(\"[\",'cyc(');\r\n                a = (\"\"+a).replace(\"]\",')');\r\n\r\n                return a;\r\n            },\r\n\r\n            animateSlide : function(id,obj) {\r\n                if (_R_is_Editor) RVS.F.resetSlideTL();\r\n                if (tpGS.eases.late===undefined) {\r\n                    tpGS.CustomEase.create(\"late\", \"M0,0,C0,0,0.474,0.078,0.724,0.26,0.969,0.438,1,1,1,1\");\r\n                    tpGS.CustomEase.create(\"late2\", \"M0,0 C0,0 0.738,-0.06 0.868,0.22 1,0.506 1,1 1,1 \");\r\n                    tpGS.CustomEase.create(\"late3\", \"M0,0,C0,0,0.682,0.157,0.812,0.438,0.944,0.724,1,1,1,1\");\r\n                }\r\n                return prepareSlideAnimation(id,obj);\r\n            },\r\n\r\n            //Get Basic Animation Object\r\n            getBasic : function(o) {\r\n                //attr -> Which attribute should be compared to incoming options from Slide Options\r\n                return jQuery.extend(true,{ attr:o==undefined || o.attr===undefined ? ['o', 'r', 'sx', 'sy', 'x','y', 'm', 'e', 'row', 'col','mo', 'moo'] : o.attr,\r\n                                        in :{ f:\"start\", m:false, o:1, r:0, sx:1, sy:1, x:0,y:0,row:1,col:1, e:p2io, ms:1000, mo:0, moo: 'none'},\r\n                                        out:{ f:\"start\", m:false, o:1, r:0, sx:1, sy:1, x:0,y:0,row:1,col:1, e:p2io, ms:1000}\r\n                                },o);\r\n            },\r\n\r\n            playBGVideo : function(id,key,nBG) {\r\n\r\n                if (_R_is_Editor) nBG = nBG===undefined ? RVS.SBGS[RVS.S.slideId].n : nBG; else {\r\n                    if (nBG===undefined && (_R[id].pr_next_bg===undefined || _R[id].pr_next_bg.length===0)) return;\r\n                    nBG = nBG===undefined ? _R[id].sbgs[key===undefined ? _R[id].pr_next_bg[0].dataset.key : key] : nBG;\r\n                }\r\n                if (nBG.bgvid!==undefined && nBG.bgvid.length>0) {\r\n                    setBGVideoHandling(id,{},nBG,\"in\");\r\n                    _R.resetVideo(nBG.bgvid,id);\r\n                    _R.playVideo(nBG.bgvid,id,true);\r\n                    tpGS.gsap.to(nBG.bgvid[0],0.2,{zIndex:30, display:\"block\", autoAlpha:1,delay:0.075, overwrite:\"all\"});\r\n\r\n\r\n                }\r\n\r\n            },\r\n\r\n            stopBGVideo : function(id,key,nBG) {\r\n                if (_R_is_Editor) nBG = nBG===undefined ? RVS.SBGS[RVS.S.slideId].n : nBG; else {\r\n                    if (nBG===undefined && (_R[id].pr_next_bg===undefined || _R[id].pr_next_bg.length===0)) return;\r\n                    nBG = nBG===undefined ? _R[id].sbgs[key===undefined ? _R[id].pr_next_bg[0].dataset.key : key] : nBG;\r\n                }\r\n\r\n                if (nBG.bgvid!==undefined && nBG.bgvid.length>0) {\r\n                    nBG.drawVideoCanvasImagesRecall = false;\r\n                    _R.stopVideo(nBG.bgvid,id);\r\n                    tpGS.gsap.to(nBG.bgvid[0],0.2,{autoAlpha:0,zIndex:0, display:\"none\"})\r\n\r\n\r\n                }\r\n            },\r\n\r\n            SATools : {\r\n                // CALCULATE OFFSET BASED ON SIZE AND % or PX  //\r\n                getOffset : function(v,size,sdir,ind) {\r\n                    var p = (\"\"+v).indexOf(\"%\")>=0;\r\n                    v = _R.SATools.getSpecialValue(v,ind,sdir);\r\n                    return v==0 || v===undefined ? 0 : p ? size * (parseInt(v) / 100) : parseInt(v);\r\n                },\r\n\r\n                // Get Special Values like RANDOM||45  or WRAP||10,20,10,25,...//\r\n                getSpecialValue : function(v,ind,sdir,p) {\r\n                    if (_R.isNumeric(parseFloat(v,0))) return parseFloat(v,0);\r\n\r\n                    var type = (\"\"+v).split(\"ran(\").length>1 ? \"random\" : (\"\"+v).split(\"cyc(\").length>1 ? \"wrap\" : (\"\"+v).split(\"(\").length>1 ?  \"dir\" : \"unknown\",\r\n                        s = type===\"random\" ? v.slice(4,-1) : type===\"wrap\" ? v.slice(4,-1) : v.slice(1,-1),\r\n                        vals = s.split(\"|\");\r\n\r\n                    if (type===\"random\") return tpGS.gsap.utils.random(parseFloat(vals[0]),parseFloat((vals.length>1 ? vals[1] : 0-vals[0])));\r\n                    else\r\n                    if (type===\"wrap\") {\r\n                        var r = tpGS.gsap.utils.wrap(vals,ind);\r\n                        return  (\"\"+r).split(\"(\").length>1 ? (parseFloat((r.slice(1,-1))) * sdir) + (p ? \"%\" : \"\") : r;\r\n                    } else\r\n                    if (type===\"dir\") return (parseFloat(vals[0]) * sdir) + (p ? \"%\" : \"\");\r\n                }\r\n            },\r\n\r\n            getmDim : function(id,key, nBG) {\r\n                var w = _R.cbgW(id,key),\r\n                    h = _R.cbgH(id,key);\r\n\t\t\tnBG.DPR = _R_is_Editor ? Math.min(window.devicePixelRatio, 2) : _R[id].DPR;\r\n                return _R.maxDimCheck(nBG,w,h);\r\n            },\r\n\r\n            maxDimCheck : function(nBG,w,h) {\r\n                //CHECK IF CONTAINER WIDTH / HEIGHT BIGGER THEN THE ORIGINAL SOURCE\r\n                var isVidImg = nBG.video!==undefined && (nBG.video.tagName===\"img\" || nBG.video.videoWidth==undefined ||  nBG.video.videoWidth==0),\r\n                    newW,\r\n                    newH;\r\n\r\n\t\t\tif ((nBG.currentState!==\"animating\" && nBG.panzoom==undefined) || (nBG.currentState===\"animating\" && nBG.panzoom==undefined && (nBG.slideanimation==undefined || nBG.slideanimation.anim==undefined || nBG.slideanimation.anim.adpr !== 'true'))) {\r\n                    if (nBG.DPR>1 && _R.ISM && h>1024) {\r\n                        nBG.DPR = 1;\r\n                        newW = w;\r\n                        newH = h;\r\n                    } else {\r\n                        var od = {\r\n                            w : nBG.video==undefined || nBG.isVidImg ? nBG.loadobj.width : nBG.video.videoWidth==0 ? nBG.loadobj.width : nBG.video.videoWidth,\r\n                            h : nBG.video==undefined || nBG.isVidImg ? nBG.loadobj.height : nBG.video.videoHeight==0 ? nBG.loadobj.height : nBG.video.videoHeight\r\n                        }\r\n\r\n\t\t\t\t\tif(od.w === undefined) od.w = nBG.loadobj.width;\r\n\t\t\t\t\tif(od.h === undefined) od.h = nBG.loadobj.height;\r\n\r\n                        var vDPR = h/od.w,\r\n                            hDPR = w/od.h,\r\n                            naturalDPR = Math.max(vDPR,hDPR);\r\n                        if (naturalDPR>nBG.DPR || (vDPR>=1 && hDPR>=1)) nBG.DPR = 1;\r\n                        else if (nBG.DPR>naturalDPR) nBG.DPR = Math.min(nBG.DPR,nBG.DPR/naturalDPR);\r\n\r\n                        newW = w * nBG.DPR;\r\n                        newH = h * nBG.DPR;\r\n\r\n\r\n                        if (nBG.DPR>1) {\r\n                            var ratio = w/h;\r\n                            if(od.w > od.h && od.w < newW){\r\n                                newW = Math.max(w,od.w);\r\n                                newH = newW / ratio;\r\n                                nBG.DPR = 1;\r\n                            } else if( od.h > od.w && od.h < newH){\r\n                                newH = Math.max(h,od.h);\r\n                                newW = newH * ratio;\r\n                                nBG.DPR = 1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    nBG.DPR = 1;\r\n                    newW = w;\r\n                    newH = h;\r\n                }\r\n\r\n                return {width:Math.round(newW), height: Math.round(newH), w: w, h: h};\r\n            },\r\n\r\n            // Upodate The Slide Background Rescaling and Redrwaing the Canvas\r\n            updateSlideBGs : function(id,key,nBG,ignore) {\r\n\r\n\r\n                if (_R_is_Editor) nBG = nBG===undefined ? RVS.SBGS[RVS.S.slideId].n : nBG; else {\r\n                    if (nBG===undefined && (_R[id].pr_next_bg===undefined || _R[id].pr_next_bg.length===0)) return;\r\n                    nBG = nBG===undefined ? _R[id].sbgs[key===undefined ? _R[id].pr_next_bg[0].dataset.key : key] : nBG;\r\n                }\r\n\r\n                ignore = nBG.mDIM===undefined ? false : ignore;\r\n\r\n                if (!ignore) nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n\r\n                if (nBG.video!==undefined) { // Reset and Force Recalculating of Canvas Size of Video\r\n                    if (nBG.video.tagName!==\"IMG\") nBG.isVidImg=\"\";\r\n                    //if (_R[id].sliderType===\"carousel\") {\r\n                        nBG.cDIMS = _R.getBGCanvasDetails(id,nBG);\r\n                        nBG.canvas.width = nBG.mDIM.width;\r\n                        nBG.canvas.height = nBG.mDIM.height;\r\n\r\n                        nBG.ctx.clearRect(0,0,nBG.mDIM.width, nBG.mDIM.height);\r\n                        nBG.ctx.drawImage( nBG.shadowCanvas , 0,0);\r\n                    //}\r\n                } else { // Recalculate Dimensions of Canvas\r\n                    nBG.cDIMS = _R.getBGCanvasDetails(id,nBG,ignore);\r\n                    nBG.canvas.width = nBG.mDIM.width;\r\n                    nBG.canvas.height = nBG.mDIM.height;\r\n                    if (nBG.currentState!==\"panzoom\" && nBG.currentState!==\"animating\" && (nBG.currentState!==undefined || _R_is_Editor || _R[id].sliderType ==\"carousel\")) {\r\n                        nBG.ctx.clearRect(0,0,nBG.mDIM.width, nBG.mDIM.height);\r\n\t\t\t\t\tif(nBG.shadowCanvas.width !== 0 && nBG.shadowCanvas.height !== 0) nBG.ctx.drawImage(nBG.shadowCanvas, 0, 0);\r\n                    }\r\n                }\r\n\r\n\r\n                if (nBG.currentState===\"animating\" && _R[id].sliderType!==\"carousel\") _R.animatedCanvasUpdate(id,nBG);\r\n\r\n            },\r\n\r\n            addCanvas : function() {\r\n                var c = document.createElement('canvas');\r\n                x = c.getContext('2d');\r\n                c.style.background = \"transparent\";\r\n                c.style.opacity =1;\r\n                return x;\r\n            },\r\n\r\n            // Playing HTML5 Video Frames or Cover Image\r\n            updateVideoFrames : function(id,nBG,force) {\r\n\r\n                    nBG.now = Date.now();\r\n                    nBG.then = nBG.then===undefined ? nBG.now-500 : nBG.then;\r\n                    nBG.elapsed = (nBG.now - nBG.then);\r\n                    nBG.fps = nBG.currentState===\"animating\" && window._rs_firefox ? 50 : 33;\r\n                    if (nBG.elapsed>nBG.fps) {\r\n                        nBG.then = nBG.now - (nBG.elapsed % nBG.fps);\r\n                    //Draw Frames on the Shadow Canvas\r\n                    var isVidImg = nBG.video.tagName===\"img\" || nBG.video.videoWidth==undefined ||  nBG.video.videoWidth==0;\r\n                    if (nBG.video!==undefined && !nBG.video.BGrendered && nBG.loadobj!==undefined && nBG.loadobj.img!==undefined || (_R.ISM && _R.isFirefox(id))) {\r\n\r\n                        nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n                        nBG.pDIMS = getContentDimensions(nBG.mDIM,nBG,{width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0, contw: nBG.loadobj.width, conth: nBG.loadobj.height});\r\n\t\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                        nBG.shadowCTX.drawImage(nBG.loadobj.img,nBG.pDIMS.x, nBG.pDIMS.y, nBG.pDIMS.width, nBG.pDIMS.height);\r\n\r\n\r\n                    } else {\r\n                        if (force || nBG.sDIMS===undefined || isVidImg!==nBG.isVidImg || nBG.sDIMS.width===0 || nBG.sDIMS.height===0 ) {\r\n                            nBG.isVidImg = isVidImg;\r\n                            nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n\t\t\t\t\t\tnBG.sDIMS = getContentDimensions(nBG.mDIM,nBG,{width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0, contw: ( nBG.isVidImg ? nBG.loadobj.width : nBG.video.videoWidth), conth: (nBG.isVidImg ? nBG.loadobj.height : nBG.video.videoHeight)});\r\n                        }\r\n\r\n                        if (nBG.sDIMS!==undefined && nBG.sDIMS.width!==0 && nBG.sDIMS.height!==0) {\r\n                            if (nBG.currentState===\"animating\")\t{   // It is still animating, so create Shadow Canvas First\r\n\t\t\t\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                                nBG.shadowCTX.drawImage(nBG.video,nBG.sDIMS.x, nBG.sDIMS.y, nBG.sDIMS.width, nBG.sDIMS.height);\r\n                            } else\r\n                            if(nBG.animateDirection===undefined) {  // If not in Animating and/or Out Animating, than simple draw straight on the Real Canvas, no need Shadow Canvas any more\r\n\t\t\t\t\t\t\tif(nBG.canvas.width !== nBG.mDIM.width) nBG.canvas.width = nBG.mDIM.width;\r\n\t\t\t\t\t\t\tif(nBG.canvas.height !== nBG.mDIM.height)  nBG.canvas.height = nBG.mDIM.height;\r\n                                nBG.ctx.drawImage(nBG.video, nBG.sDIMS.x, nBG.sDIMS.y, nBG.sDIMS.width, nBG.sDIMS.height);\r\n                            }\r\n                            nBG.shadowCanvas_Drawn = true;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (force || (nBG.drawVideoCanvasImagesRecall && nBG.currentState===\"animating\") || (nBG.currentState===\"animating\" && nBG.shadowCanvas_Drawn===undefined))\r\n                    window.requestAnimationFrame(function() {_R.updateVideoFrames(id,nBG);})\r\n\r\n            },\r\n\r\n            createOverlay : function(id,type,len,colors) {\r\n                if(type === \"none\") return \"none\";\r\n                type = type===undefined ? 1 : type;\r\n                len = len===undefined ? 1 : len;\r\n                var colors = colors === undefined ? {\r\n                        0: 'rgba(0, 0, 0, 0)',\r\n                        1: 'rgba(0, 0, 0, 1)',\r\n                    } : colors,\r\n                    patterns = {none:[[0]],\r\n                                1:[[1, 0],[0, 0]],\r\n                                    2:[[1, 0,0],[0,0,0],[0,0,0]],\r\n                                    3:[[1,0,0,0],[0,0,0,0],[0,0,0,0]],\r\n                                    4:[[1],[0]],\r\n                                    5:[[1],[0],[0]],\r\n                                    6:[[1],[0],[0],[0]],\r\n                                    7:[[1,0]],\r\n                                    8:[[1,0,0]],\r\n                                    9:[[1,0,0,0]],\r\n                                10:[[1,0,0,0,0],[0,1,0,1,0],[0,0,0,0,0],[0,1,0,1,0],[0,0,0,0,1]],\r\n                                11:[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],\r\n                                12:[[1,0,0],[0,1,0],[0,0,1]],\r\n                                13:[[0,0,1],[0,1,0],[1,0,0]],\r\n                                14:[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0]],\r\n                                15:[[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0]],\r\n                                16:[[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]]\r\n                                },\r\n                    pattern = patterns[type]===undefined ? patterns['2'] : patterns[type];\r\n                if (_R_is_Editor) _R[id] = _R[id]===undefined ? {} : _R[id];\r\n                _R[id].patternCanvas = document.createElement('canvas');\r\n                _R[id].patternCtx = _R[id].patternCanvas.getContext(\"2d\");\r\n                    _R[id].patternCanvas.width = pattern[0].length * len;\r\n                    _R[id].patternCanvas.height = pattern.length * len;\r\n                    for(var i = 0; i < pattern.length; i++)\r\n                    for(var j = 0; j < pattern[i].length; j++ ){\r\n                        if (colors[pattern[i][j]]==\"transparent\") continue;\r\n                        _R[id].patternCtx.fillStyle = colors[pattern[i][j]];\r\n                        _R[id].patternCtx.fillRect(j * len, i * len, len, len);\r\n                    }\r\n\r\n                var dataURL = _R[id].patternCanvas.toDataURL();\r\n                return \"url(\" + dataURL + \")\";\r\n\r\n            },\r\n            //Get, Build BG Infos like Size, Content, Shadow Canvas\r\n            getBGCanvasDetails : function(id,nBG,ignore) {\r\n                var r ;\r\n                if (!ignore) nBG.mDIM = _R.getmDim(id,nBG.skeyindex, nBG);\r\n                nBG.usepattern = (nBG.bgfit===\"auto\" || nBG.bgfit.indexOf('%')>=0) && (nBG.loadobj===undefined || nBG.loadobj.useBGColor!==true);\r\n                if (_R_is_Editor && nBG.panzoom===undefined) delete nBG.shadowCanvas;\r\n                //Create a Shadow Canvas where we get the Content from later\r\n                if (nBG.shadowCanvas===undefined) {\r\n                    nBG.shadowCanvas = document.createElement('canvas');\r\n                    nBG.shadowCTX = nBG.shadowCanvas.getContext('2d');\r\n                    nBG.shadowCanvas.style.background = \"transparent\";\r\n                    nBG.shadowCanvas.style.opacity =1;\r\n                }\r\n\r\n                if (nBG.replaceShadowCanvas!==true && nBG.loadobj.bgColor!==true && nBG.usebgColor!==true && nBG.panzoom===undefined && (nBG.isHTML5==undefined || nBG.poster==true) && !nBG.usepattern) {  // IT IS AN IMAGE AND NOT A BACKGROUND COLOR\r\n                    r = getContentDimensions(nBG.mDIM,nBG,{width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0, contw: nBG.loadobj.width, conth: nBG.loadobj.height});\r\n\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                    if (nBG.loadobj!==undefined && nBG.loadobj.img!==undefined){\r\n                        nBG.shadowCTX.drawImage(nBG.loadobj.img,r.x, r.y, r.width, r.height);\r\n                    }\r\n                    r = {width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0}\r\n\r\n                } else {\r\n\r\n                    r = {width:nBG.mDIM.width, height:nBG.mDIM.height, x:0, y:0}\r\n                    if (nBG.usepattern && nBG.loadobj!==undefined && nBG.loadobj.img!==undefined)\r\n                        _R.getCanvasPattern(id,nBG, { ratio : nBG.loadobj.height / nBG.loadobj.width});\r\n                    else\r\n                    if (nBG.loadobj.bgColor || nBG.usebgColor) {\r\n\t\t\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n                        _R.getCanvasGradients(id,nBG);\r\n                    }\r\n                }\r\n\r\n                return r;\r\n            },\r\n            getCanvasPattern : function(id,nBG,r) {\r\n                // CREATE PATTERN\r\n                if (nBG.patternImageCanvas===undefined) {\r\n                    nBG.patternImageCanvas = document.createElement('canvas');\r\n                    nBG.patternImageCTX = nBG.patternImageCanvas.getContext('2d');\r\n                }\r\n                var fit = nBG.bgfit.split(\" \");\r\n                if (fit.length===1) fit[1] = fit[0];\r\n\r\n                r.width = fit[0]===\"auto\" ? nBG.loadobj.width : nBG.loadobj.width * (parseInt(fit[0],0)/100);\r\n                r.height = fit[1]===\"auto\" ? nBG.loadobj.height : r.width * r.ratio;\r\n\r\n                nBG.DPR = _R_is_Editor ? Math.min(window.devicePixelRatio, 2) : _R[id].DPR;\r\n                var ratio = r.width/r.height;\r\n                r.width = r.width * nBG.DPR;\r\n                r.height = r.height * nBG.DPR;\r\n\r\n                if(_R.isIOS && r.width * r.height > 60*1024*1024/4){\r\n                    if(nBG.mDIM.width > nBG.mDIM.height){\r\n                        r.width = nBG.mDIM.width;\r\n                        r.height = Math.round(nBG.mDIM.width / ratio);\r\n                    } else {\r\n                        r.height = nBG.mDIM.height;\r\n                        r.width = Math.round(nBG.mDIM.height * ratio);\r\n                    }\r\n                }\r\n\r\n                nBG.patternImageCanvas.width = r.width;\r\n                nBG.patternImageCanvas.height = r.height;\r\n                nBG.patternImageCTX.drawImage(nBG.loadobj.img,0,0,r.width,r.height);\r\n\r\n\t\t\tif(nBG.shadowCanvas.width !== nBG.mDIM.width) nBG.shadowCanvas.width = nBG.mDIM.width;\r\n\t\t\tif(nBG.shadowCanvas.height !== nBG.mDIM.height) nBG.shadowCanvas.height = nBG.mDIM.height;\r\n\t\t\tnBG.shadowCTX.clearRect(0, 0, nBG.shadowCTX.canvas.width, nBG.shadowCTX.canvas.height);\r\n                nBG.pattern = nBG.shadowCTX.createPattern(nBG.patternImageCanvas, nBG.bgrepeat);\r\n                nBG.shadowCTX.fillStyle = nBG.pattern;\r\n\r\n                nBG.shadowShifts = {  h: nBG.bgposition.split(\" \")[0], v:nBG.bgposition.split(\" \")[1]};\r\n\r\n                nBG.shadowShifts.hperc = _R.isNumeric(parseInt(nBG.shadowShifts.h)) ? parseInt(nBG.shadowShifts.h)/100 * nBG.mDIM.width : 0;\r\n                nBG.shadowShifts.vperc = _R.isNumeric(parseInt(nBG.shadowShifts.v)) ? parseInt(nBG.shadowShifts.v)/100 * nBG.mDIM.height : 0;\r\n\r\n                nBG.shadowShifts.x = nBG.shadowShifts.h===\"left\" ? 0 : nBG.shadowShifts.h===\"center\" || nBG.shadowShifts.h==\"50%\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-x\" ? (nBG.mDIM.width/2 - r.width/2) - Math.ceil((nBG.mDIM.width/2)/r.width)*r.width : (nBG.mDIM.width/2 - r.width/2) : nBG.shadowShifts.h===\"right\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-x\" ? -(r.width-(nBG.mDIM.width%r.width)) :nBG.mDIM.width-r.width  : nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-x\" ?  -(r.width -(nBG.shadowShifts.hperc%r.width))  : nBG.shadowShifts.hperc ;\r\n                nBG.shadowShifts.y = nBG.shadowShifts.v===\"top\" ? 0 : nBG.shadowShifts.v===\"center\" || nBG.shadowShifts.v==\"50%\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-y\" ? (nBG.mDIM.height/2 - r.height/2) - Math.ceil((nBG.mDIM.height/2)/r.height)*r.height : (nBG.mDIM.height/2 - r.height/2)  : nBG.shadowShifts.v===\"bottom\" ? nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-y\" ? -(r.height-(nBG.mDIM.height%r.height)) : nBG.mDIM.height-r.height : nBG.bgrepeat==\"repeat\" || nBG.bgrepeat==\"repeat-y\" ? -(r.height -(nBG.shadowShifts.vperc%r.height))  : nBG.shadowShifts.vperc ;\r\n\t\t\tnBG.shadowCTX.save();\r\n                nBG.shadowCTX.translate(nBG.shadowShifts.x,nBG.shadowShifts.y);\r\n                nBG.shadowCTX.fillRect(0,0,nBG.mDIM.width-nBG.shadowShifts.x,nBG.mDIM.height-nBG.shadowShifts.y);\r\n\t\t\tnBG.shadowCTX.restore();\r\n            },\r\n            getCanvasGradients : function(id,nBG) {\t//Create Canvas with color\r\n                if (nBG.bgcolor.indexOf('gradient')>=0) {\r\n                    nBG.gradient = nBG.gradient==undefined || _R_is_Editor ? _R.getGradients(nBG.bgcolor) : nBG.gradient;\r\n                    nBG.shadowGrd = nBG.gradient.type===\"radialGradient\" ?\r\n                                        nBG.shadowCTX.createRadialGradient(nBG.mDIM.width/2,nBG.mDIM.height/2,0,nBG.mDIM.width/2,nBG.mDIM.height/2,Math.max(nBG.mDIM.width/2,nBG.mDIM.height/2)) :\r\n                                        _R.calcLinearGradient(nBG.shadowCTX,nBG.shadowCanvas.width,nBG.shadowCanvas.height,nBG.gradient.deg);\r\n\r\n                    //ADD COLOR STOPS AND FILL AREA\r\n                    for(var i=0;i<nBG.gradient.stops.length;i=i+2) nBG.shadowGrd.addColorStop(nBG.gradient.stops[i+1],nBG.gradient.stops[i]);\r\n                    nBG.shadowCTX.clearRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                    nBG.shadowCTX.fillStyle=nBG.shadowGrd;\r\n                    nBG.shadowCTX.fillRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                } else {\r\n                    // FILL SIMPLE COLOR\r\n\t\t\t\tnBG.shadowCTX.clearRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                    nBG.shadowCTX.fillStyle=nBG.bgcolor;\r\n                    nBG.shadowCTX.fillRect(0,0,nBG.mDIM.width,nBG.mDIM.height);\r\n                }\r\n            },\r\n\r\n            cNS : function(_) { // Create NS Document with Style and Attributes\r\n              var p;\r\n              _.n = document.createElementNS(\"http://www.w3.org/2000/svg\", _.n);\r\n              for (p in _.v) _.n.setAttributeNS(null, p.replace(/[A-Z]/g, function(m, p, o, s) { return \"-\" + m.toLowerCase(); }), _.v[p]); // SET SVG ATTRIBUTES\r\n              if (_.c!==undefined) _.n.setAttribute('class',_.c);  // SET CLASS\r\n              if (_.id!==undefined) _.n.id = _.id; // SET CLASS\r\n              if (_.t!==undefined) _.n.textContent = _.t; // SET CONTENT\r\n              for (p in _.s) if (_.s.hasOwnProperty(p)) _.n.style[p] = _.s[p];  //SET STYLE\r\n              return _.n\r\n            },\r\n\r\n\r\n            rgbToHex : function(rgb) {\r\n              return \"#\" + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\r\n            },\r\n\r\n            getSVGGradient : function(color) {\r\n                if (color===undefined) return color;\r\n                if (_R_is_Editor) color = RSColor.convert(color);\r\n                if (color.indexOf('gradient')==-1) return color;\r\n                var gradient = _R.getGradients(color);\r\n\r\n                if (_R.gradSVG===undefined) {\r\n                    // BUILD SVG\r\n                    _R.gradSVG = _R.cNS({n:'svg',id:'tp_svg_gradients', s:{width:\"100%\", height:\"100%\", opacity:0, pointerEvents:\"none\"}});\r\n                    _R.gradSVG.setAttribute('viewBox', '0 0 1 1');\r\n                    _R.gradSVG.setAttribute('preserveAspectRatio', 'none');\r\n                    document.body.appendChild(_R.gradSVG);\r\n                    _R.svgGradients = [];\r\n                }\r\n                var found = false, cString = JSON.stringify(color);\r\n\r\n                //Check if we created SVG GRADIENT ALREADY\r\n                for (var i=0;i<_R.svgGradients.length;i++) {\r\n                    if (found) continue;\r\n                    if (_R.svgGradients[i].src == cString) {\r\n                        found = true;\r\n                        color = _R.svgGradients[i].url;\r\n                    }\r\n                }\r\n\r\n                if (!found) {\r\n                    var cS,c,nG,\r\n                        anglePI = gradient.type===\"radialGradient\" ? 0 : (gradient.deg) * (Math.PI / 180),\r\n                            aC = gradient.type===\"radialGradient\" ? 0 : {\r\n                                'x1': Math.round(50 + Math.sin(anglePI) * 50) + '%',\r\n                                'y1': Math.round(50 + Math.cos(anglePI) * 50) + '%',\r\n                                'x2': Math.round(50 + Math.sin(anglePI + Math.PI) * 50) + '%',\r\n                                'y2': Math.round(50 + Math.cos(anglePI + Math.PI) * 50) + '%',\r\n                            };\r\n                        nG = _R.cNS({n:gradient.type,id:'tp_svg_gradient_'+_R.svgGradients.length, v:gradient.type===\"radialGradient\" ? undefined : {gradientUnits:\"userSpaceOnUse\", x1:aC.x1, y1:aC.y1, x2:aC.x2, y2:aC.y2}})\r\n\r\n                    for (var s=0;s<=gradient.stops.length/2;s=s+2) {\r\n                        c = tpGS.gsap.utils.splitColor(gradient.stops[s]);\r\n                        cS = _R.cNS({n:'stop', v:{offset:(gradient.stops[s+1]*100)+\"%\", stopColor:_R.rgbToHex(c), stopOpacity:c.length>3 ? c[3] : 1}})\r\n                        nG.appendChild(cS);\r\n                    }\r\n                    _R.gradSVG.appendChild(nG);\r\n                    color = 'url(#tp_svg_gradient_'+(_R.svgGradients.length)+')';\r\n                    _R.svgGradients.push({url:color,src:cString,g:nG});\r\n                }\r\n\r\n                return color;\r\n\r\n            },\r\n            getGradients : function(color) {\r\n                // RADIAL GRADIENT\r\n                if (color.indexOf('radial-gradient')>=0)\r\n                    return {stops : _R.getGradientColorStopPoints((color.split('radial-gradient(ellipse at center, ')[1])), type:'radialGradient',deg:0};\r\n                else if (color.indexOf('gradient')!==-1)\r\n                    return _R.getLinearGradientStops(color);\r\n                else return color;\r\n\r\n            },\r\n            getLinearGradientStops : function(color) {\r\n                var c = color.split('linear-gradient(')[1];\r\n                if (_R_is_Editor) {\r\n                    c = c.split(', ').join(',');\r\n                    c = c.split(',rgba').join(', rgba');\r\n                }\r\n                var cDeg = c.split('deg, ');\r\n                c = (cDeg.length>1 ? cDeg[1] : cDeg[0]).split(\" \");\r\n                cDeg = cDeg.length>1 ? cDeg[0] : 180;\r\n                for(var i in c) if (c.hasOwnProperty(i) && c[i].indexOf('%')>=0) c[i] = \"\"+Math.round(parseFloat((c[i].split(\"%,\")[0]).split(\"%)\")[0])*100)/10000;\r\n                return {stops:c, deg:cDeg, type:'linearGradient'};\r\n            },\r\n\r\n            getGradientColorStopPoints : function(color){\r\n                var pattern = /rgb([\\s\\S]*?)%/g;\r\n                var match;\r\n                var matches = [];\r\n                var points = [];\r\n\r\n                do {\r\n                    match = pattern.exec(color);\r\n                    if (match) {\r\n                        matches.push(match[0]);\r\n                    }\r\n                } while (match);\r\n\r\n                for (var i = 0; i < matches.length; i++) {\r\n                    var match = matches[i];\r\n                    var color = /rgb([\\s\\S]*?)\\)/.exec(match);\r\n                    var stop = /\\)([\\s\\S]*?)%/.exec(match);\r\n                    if (color[0]) color = color[0];\r\n                    if (stop[1]) stop = stop[1];\r\n\r\n                    points.push(color);\r\n                    points.push(parseFloat(stop)/100);\r\n                }\r\n\r\n                return points;\r\n            },\r\n\r\n            calcLinearGradient : function (ctx,w, h,deg) {\r\n\r\n                deg = deg * Math.PI / 180 + Math.PI / 2;\r\n\r\n                var tx,ty,bx,by,\r\n                    _w = w/2,\r\n                    _h = h/2,\r\n                    len = Math.sqrt(_w * _w + _h * _h),\r\n                    l1 = {\r\n                        x1: Math.cos(deg) * len + _w,\r\n                        y1: Math.sin(deg) * len + _h,\r\n                        x2: _w,\r\n                        y2: _h\r\n                    },\r\n                    lines = [\r\n                        getPerpLine({x: 0, y: 0}, deg),\r\n                        getPerpLine({x: w, y: 0}, deg),\r\n                        getPerpLine({x: w, y: h}, deg),\r\n                        getPerpLine({x: 0, y: h}, deg),\r\n                    ],\r\n                    intersects = [];\r\n\r\n\r\n                    for (var i = 0; i < lines.length; i++) intersects.push(lineIntersect(lines[i], l1));\r\n\r\n                    if(dist(_w, _h, intersects[0].x, intersects[0].y) > dist(_w, _h, intersects[1].x, intersects[1].y)){\r\n                        tx = intersects[0].x;\r\n                        ty = intersects[0].y;\r\n                    } else {\r\n                        tx = intersects[1].x;\r\n                        ty = intersects[1].y;\r\n                    }\r\n\r\n                    if(dist(_w, _h, intersects[2].x, intersects[2].y) > dist(_w, _h, intersects[3].x, intersects[3].y)){\r\n                        bx = intersects[2].x;\r\n                        by = intersects[2].y;\r\n                    } else {\r\n                        bx = intersects[3].x;\r\n                        by = intersects[3].y;\r\n                    }\r\n\r\n                    var eAngle = Math.round( Math.atan2((_h - ty), (_w - tx)) * 100) / 100;\r\n                    var aAngle = Math.round(deg % (Math.PI * 2) * 100) / 100;\r\n\r\n                    if(eAngle === aAngle){\r\n                        var x = tx, y = ty;\r\n                        tx = bx, ty = by;\r\n                        bx = x, by = y;\r\n                    }\r\n\r\n                return ctx.createLinearGradient(Math.round(tx), Math.round(ty), Math.round(bx), Math.round(by));\r\n            },\r\n\r\n            // Here you can extend the Transition Library to manipulate animations during the transformations and by preparing them.\r\n            transitions : {\r\n                filter : {\r\n                    update : function(f,ctx,blurExt) {\r\n                        if (f!==undefined && f.tl!==undefined) {\r\n                            var blur = blurExt!==undefined || f.tl.blur!==undefined ? \" blur(\"+(blurExt!==undefined ? blurExt : 0 + f.tl.blur!==undefined ? f.tl.blur : 0 )+\"px)\" : \"\";\r\n                            ctx.canvas.style.filter = f.tl.filter === undefined ? \"\" + blur : f.tl.filter + blur;\r\n                        }\r\n                    },\r\n\r\n                    extendTimeLine : function(TL,_,BG) {\r\n                        if (_==undefined) return;\r\n                        //var f = _.b!==undefined && _.b!==\"0px\" && _.b!==0 ? \"blur(_b_px)\" : \"\";\r\n                        var f = _.g!==undefined && _.g!==\"0%\" && _.g!==0 ? (f===\"\" ? \"\" : \" \") + \"grayscale(_g_%)\" : \"\";\r\n                            f += _.h!==undefined && _.h!==\"100%\" && _.h!==100 ? (f===\"\" ? \"\" : \" \") + \"brightness(_h_%)\" : \"\";\r\n                            f += _.s!==undefined && _.s!==\"0px\" && _.s!==0 ? (f===\"\" ? \"\" : \" \") + \"sepia(_s_%)\" : \"\";\r\n                            f += _.c!==undefined && _.c!==100 ? (f===\"\" ? \"\" : \" \") + \"contrast(_c_%)\" : \"\";\r\n                            f += _.i!==undefined && _.i!==0 ? (f===\"\" ? \"\" : \" \") + \"invert(_i_%)\" : \"\";\r\n\r\n                        if (f!==\"\") _.tl = {filter:f.replace('_g_',parseFloat(_.g)).replace('_h_',parseFloat(_.h)).replace('_s_',parseFloat(_.s)).replace('_c_',parseFloat(_.c)).replace('_i_',parseFloat(_.i))};\r\n                        if (_.b!==undefined && _.b!==\"0px\" && _.b!==0) if (_.tl===undefined) _.tl = {blur:parseFloat(_.b)}; else _.tl.blur = parseFloat(_.b);\r\n                        if (_.tl!==undefined) {\r\n                            TL.add(tpGS.gsap.to(_.tl, _.ms/_.sec, _.tl.filter===undefined ? {blur:0} : _.tl.blur===undefined ? {filter:f.replace('_g_','0').replace('_h_','100').replace('_s_','0').replace('_c_',100).replace('_i_',0), ease:_.e} : {blur:0, filter:f.replace('_g_','0').replace('_h_','100').replace('_s_','0').replace('_c_',100).replace('_i_',0), ease:_.e}),0)\r\n                            BG.canvasFilter = true;\r\n                        }\r\n                    },\r\n                },\r\n\r\n                slidingoverlay : {\r\n                    getBasic : function() {\r\n                        return _R.getBasic({ attr:['x','y'], in:{m:true,o:-1, _xy:20, _gxys:10,_gxye:-10 ,zIndex:20,e:p1io},out:{m:true, reversed:false, _xy:-100,o:0, zIndex:10, e:p1io}});\r\n                        },\r\n                    updateAnim : function(id,_,sdir) {\r\n                        var v = _.in.x!==undefined && _.in.x!==0 && _.in.x!==\"0%\" ? \"x\" : \"y\";\r\n                        _.in[\"g\"+v+\"s\"] =_R.SATools.getOffset(_.in[v],_.in._gxys,sdir,1)+\"%\";\r\n                        _.in[\"g\"+v+\"e\"] = _R.SATools.getOffset(_.in[v],_.in._gxye,sdir,1)+\"%\";\r\n                        _.out[v] = _R.SATools.getOffset(_.in[v],_.out._xy,sdir,1)+\"%\"\r\n                        _.in[v] = _R.SATools.getOffset(_.in[v],_.in._xy,sdir,1)+\"%\";\r\n                        var pos = parseInt(_.in[v])>=0;\r\n                        _.in.d = v===\"x\" ?  pos ? \"left\" : \"right\" : pos ? \"up\" : \"down\";\r\n                        return _;\r\n                    },\r\n\r\n                    beforeDraw : function(id,ctx,box,BG) {\r\n                        if (box.d!==undefined) {\r\n                                box._dxs = box.d===\"right\" ?  0 + box.mw  : box.d===\"left\" ? 0 - box.mw : 0,\r\n                                box._dys = box.d===\"down\" ?  0 + box.mh  : box.d===\"up\" ? 0 - box.mh : 0,\r\n                                box._xs = box.d===\"left\" ? 0 - box.mw : 0,\r\n                                box._ys = box.d===\"up\" ? 0 - box.mh : 0,\r\n                                box._xe = box.d===\"right\" ? BG.SLOT.OW + box.mw : box.d===\"left\" ?  BG.SLOT.OW - box.mw  : BG.SLOT.OW,\r\n                                box._ye = box.d===\"down\" ? BG.SLOT.OH + box.mh : box.d===\"up\" ?  BG.SLOT.OH - box.mh  : BG.SLOT.OH;\r\n                            ctx.beginPath();\r\n                            ctx.rect(box.d===\"left\" ? Math.max(0,box._xs) : box.d===\"right\" ? Math.min(0,box._xs) : 0,\r\n                                        box.d===\"up\" ? Math.max(0,box._ys) : box.d===\"down\" ? Math.min(0,box._ys) : 0,\r\n                                        box.d===\"left\" ? Math.max(BG.SLOT.OW,box._xe) : box.d===\"right\" ? Math.min(BG.SLOT.OW,box._xe) : box._xe,\r\n                                        box.d===\"up\" ? Math.max(BG.SLOT.OH,box._ye) : box.d===\"down\" ? Math.min(BG.SLOT.OH,box._ye) : box._ye);\r\n                            ctx.clip();\r\n                        }\r\n\r\n                    },\r\n                    afterDraw : function(id,ctx,box, BG,tr) {\r\n                        // Ghost Image (For Slide Overlays)\r\n                        if (box.d!==undefined) {\r\n                            ctx.save();\r\n                            ctx.beginPath();\r\n                            ctx.rect(Math.max(0,box._dxs),Math.max(0,box._dys),box._xe,box._ye);\r\n                            ctx.clip();\r\n                            ctx.save();\r\n                            ctx.transform(tr.csx, tr.ssx, tr.ssy, tr.csy, BG.SLOT.OW*(0.5) + box.x + box.sgx, BG.SLOT.OH*(0.5)+ box.y + box.sgy);\r\n                            ctx.drawImage(BG.shadowCanvas!==undefined ? BG.shadowCanvas : BG.loadobj.img, 0 ,  0  , BG.SLOT.OW, BG.SLOT.OH, box.sgx-BG.SLOT.OW/2, box.sgy-BG.SLOT.OH/2  , BG.SLOT.OW, BG.SLOT.OH);\r\n                            ctx.restore();\r\n                            ctx.fillStyle=\"rgba(0,0,0,0.6)\";\r\n                            ctx.fillRect(box.gx,  box.gy,BG.SLOT.OW, BG.SLOT.OH);\r\n                            ctx.restore();\r\n                        }\r\n                    },\r\n\r\n                    extendTimeLine : function(id,TL,boxes,_,params,dim) {\r\n                        if (params.direction===\"in\" && (_.gxe!==undefined || _.gye!==undefined)) {\r\n                            jQuery.extend(true,boxes[0], {\td:_.d,\r\n                                                            gx:_.gxs===undefined ? 0 : _R.SATools.getOffset(_.gxs,dim.width,params.sdir,0)*2,\r\n                                                            gy:_.gys===undefined ? 0 : _R.SATools.getOffset(_.gys,dim.height,params.sdir,0)*2,\r\n                                                            sgx:_.gxs===undefined ? 0 : _R.SATools.getOffset(_.gxs,dim.width,params.sdir,0),\r\n                                                            sgy:_.gys===undefined ? 0 : _R.SATools.getOffset(_.gys,dim.height,params.sdir,0),\r\n                                                            mw:0-dim.width,\r\n                                                            mh:0-dim.height});\r\n\r\n\r\n                            TL.add(tpGS.gsap.to(boxes, (_.ms/_.sec), {\tgx:_.gxe===undefined ? 0 : _R.SATools.getOffset(_.gxe,dim.width,params.sdir,0)*2,\r\n                                                                        gy:_.gye===undefined ? 0 : _R.SATools.getOffset(_.gye,dim.height,params.sdir,0)*2,\r\n                                                                        sgx:_.gxe===undefined ? 0 : _R.SATools.getOffset(_.gxe,dim.width,params.sdir,0)*2,\r\n                                                                        sgy:_.gye===undefined ? 0 : _R.SATools.getOffset(_.gye,dim.height,params.sdir,0)*2,\r\n                                                                        mw:dim.width,\r\n                                                                        mh:dim.height,\r\n                                                                        ease:_.e\r\n                                                                    }),0);\r\n                        }\r\n\r\n                    }\r\n                },\r\n                motionFilter : {\r\n                    init: function(BG,mo) {\r\n                        if(mo!==undefined && parseFloat(mo) > 0){\r\n                            mo = parseFloat(mo);\r\n                            BG.fmExists = true;\r\n                            BG.fmShadow = BG.fmShadow === undefined ? document.createElement('canvas') : BG.fmShadow;\r\n                            BG.fmCtx = BG.fmShadow.getContext('2d');\r\n                            BG.fmShadow.width = BG.ctx.canvas.width;\r\n                            BG.fmShadow.height = BG.ctx.canvas.height;\r\n                            BG.fmCtx.globalAlpha = tpGS.gsap.utils.mapRange(100, 0, 40, 0,mo) / 100;\r\n                            BG.fmCtx.clearRect(0, 0, BG.ctx.canvas.width, BG.ctx.canvas.height);\r\n                        } else BG.fmExists = false;\r\n                        return mo;\r\n                    },\r\n                    render : function(BG, o) {\r\n                        if(o === 'partial')BG.fmCtx.globalCompositeOperation = 'source-over';\r\n                        BG.fmCtx.drawImage(BG.canvas, 0, 0, BG.canvas.width, BG.canvas.height);\r\n                        BG.ctx.clearRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                        BG.ctx.drawImage(BG.fmCtx.canvas, 0, 0, BG.canvas.width, BG.canvas.height);\r\n                        if(o === 'partial')BG.fmCtx.globalCompositeOperation = 'source-atop';\r\n                        if(o === 'partial' || o === 'full'){\r\n                            BG.fmCtx.fillStyle = 'rgba(255, 255, 255, 0.1)';\r\n                            BG.fmCtx.fillRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                        }\r\n                    },\r\n                    clearFull : function(BG,TL) {\r\n                        if (BG.fmExists) {\r\n                            if (BG.fmCtx!==undefined) {\r\n                                BG.ctx.clearRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                                BG.fmCtx.clearRect(0,0,BG.canvas.width, BG.canvas.height);\r\n                                if (TL!==undefined) TL.render(TL.time(), true, true);\r\n                            }\r\n                        }\r\n                    },\r\n                    complete : function(BG) {\r\n                        if(BG.fmShadow) BG.fmShadow.remove();\r\n                    }\r\n                },\r\n                d3 : {\r\n                    ticker : function(_,BG,dir) {\r\n                        if (_.helper===undefined) return;\r\n                        var min = _.smi * ( dir===\"in\" ? _.helper.oo : _.helper.o),\r\n                            max = _.sma * ( dir===\"in\" ? _.helper.oo : _.helper.o);\r\n\r\n                        //Gradient on Canvases\r\n                        _.gradient = _.d===\"vertical\" ? dir===\"in\" ? BG.ctx.createLinearGradient(0,0,0,BG.canvas.height) : BG.ctx.createLinearGradient(0,BG.canvas.height,0,0)\r\n                                                        : dir===\"in\" ? BG.ctx.createLinearGradient(0,0,BG.canvas.width,0) : BG.ctx.createLinearGradient(BG.canvas.width,0,0,0);\r\n\r\n                        _.gradient.addColorStop(0,'rgba('+_.sc+','+min+')');\r\n                        _.gradient.addColorStop(_.sl,'rgba('+_.sc+','+max+')');\r\n\r\n\r\n                        BG.ctx.fillStyle = _.gradient;\r\n                        BG.ctx.fillRect(0,0,BG.canvas.width,BG.canvas.height);\r\n\r\n\r\n                        //Gradient on Wall\r\n                        if(BG.cube!==undefined && BG.cube.ctx) {\r\n                            var rh = _.roomhelper!==undefined && _.roomhelper!==false ? (90-_.roomhelper.r)/90 : false;\r\n                            min =  rh!==false ? rh : _.smi * _.helper.o;\r\n                            max =  rh!==false ? rh : _.sma * _.helper.o;\r\n                            BG.cube.ctx.clearRect(0,0,BG.cube.ctx.canvas.width,BG.cube.ctx.canvas.height);\r\n                            _.gradientW = rh!==false ? _.d===\"vertical\" ? (_.t<0 && _.sdir===1) || (_.t>0 && _.sdir===-1) ?\r\n                                                        BG.ctx.createRadialGradient(0,BG.cube.ctx.canvas.width/2,0,0,0,BG.cube.ctx.canvas.width*2)\r\n                                                        : BG.ctx.createRadialGradient(BG.cube.ctx.canvas.width,0,0,0,0,BG.cube.ctx.canvas.width*2) :\r\n                                                        (_.t>0 && _.sdir===1) || (_.t<0 && _.sdir===-1) ?\r\n                                                        BG.ctx.createRadialGradient(BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height,0,BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height,BG.cube.ctx.canvas.width)\r\n                                                        : BG.ctx.createRadialGradient(BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height*0.2,0,BG.cube.ctx.canvas.width/2,BG.cube.ctx.canvas.height*0.2,BG.cube.ctx.canvas.width)\r\n                                            : _.d===\"vertical\" ? BG.ctx.createLinearGradient(0,0,0,BG.cube.ctx.canvas.height) : BG.ctx.createLinearGradient(0,0,BG.cube.ctx.canvas.width,0);\r\n\r\n                            _.gradientW.addColorStop(0,'rgba('+_.sc+','+(rh!==false ? _.DIR===\"a\" ? max : 0 : _.DIR===\"a\" ? 0 : max )+')');\r\n                            _.gradientW.addColorStop(1,'rgba('+_.sc+','+(rh!==false ? _.DIR===\"a\" ? 0 : max : _.DIR===\"a\" ? max : 0)+')');\r\n                            BG.cube.ctx.fillStyle = _.gradientW;\r\n                            BG.cube.ctx.fillRect(0,0,BG.cube.ctx.canvas.width,BG.cube.ctx.canvas.height);\r\n                        }\r\n\r\n                    },\r\n                    setWall : function(_,t,p,d,c,first) {\r\n                        _.TL = tpGS.gsap.timeline();\r\n                        _.TL.add(tpGS.gsap.to(_.c,0.2,{display:\"block\"}),0);\r\n                        if (p===\"rotationX\") {\r\n                            _.ctx.canvas.width = d.w;\r\n                            _.ctx.canvas.height = d.w;\r\n                            _.TL.add(tpGS.gsap.set(_.w,{backgroundColor:c,width : d.w, height : d.w, transformOrigin : \"50% 50% -\"+d.w/2+\"px\",x:0,y: t>0 ? -(d.w-d.h) : 0,rotationX: t>0 ? -90 : 90,rotationY: 0}),0);\r\n                        }\r\n                        else {\r\n                            _.ctx.canvas.width = first ? d.w : d.h;\r\n                            _.ctx.canvas.height = d.h;\r\n                            _.TL.add(tpGS.gsap.set(_.w,{backgroundColor:c,width: first ? d.w : d.h,height : d.h,transformOrigin : \"50% 50% -\"+(first ? d.w : d.h)/2+\"px\",x : t<0 ? (d.w-d.h) : 0,y : 0,rotationX : 0,rotationY : t>0 ? -90 : 90}),0);\r\n                        }\r\n                        return _.TL;\r\n                    },\r\n                    buildCube : function(BG) {\r\n                        BG.cube = { c:document.createElement('div'),\r\n                                    w:document.createElement('canvas')};\r\n                        BG.cube.ctx =  BG.cube.w.getContext('2d');\r\n                        BG.cube.c.className =\"rs_fake_cube\";\r\n                        BG.cube.w.className =\"rs_fake_cube_wall\";\r\n                        tpGS.gsap.set(BG.cube.c,{width:BG.mDIM.w, height:BG.mDIM.h});\r\n                        tpGS.gsap.set(BG.cube.w,{width:BG.mDIM.w, height:BG.mDIM.h, backgroundColor:\"#ccc\"});\r\n                        BG.cube.c.appendChild(BG.cube.w);\r\n                        BG.sbg.appendChild(BG.cube.c);\r\n\r\n                    },\r\n                    cubeTL : function(id,_,BG,dir) {\r\n                        if (_.f===\"none\" || _.f===undefined) return;\r\n\r\n                        BG.sbg.style.transformStyle = \"preserve-3d\";\r\n                        var TL = tpGS.gsap.timeline(),\r\n                            zDirection = _.f===\"incube\" ? 1 : -1,\r\n                            isCube = _.f===\"incube\" || _.f===\"cube\",\r\n                            rD = _.f===\"fly\" ? -30 : 90,\r\n                            tilt = _.f!==\"turn\" && _.t!==false && (_R_is_Editor || _R[id].firstSlideAnimDone===true),\r\n                            roomZ =  _.z*-1,\r\n                            frame_Canvas_from = {},\r\n                            frame_Z_from = {z:tilt ? 0 : roomZ ,ease:\"power1.inOut\"},\r\n                            frame_Canvas_to = {ease:_.e},\r\n                            frame_Z_to = {z:0,ease:\"power1.inOut\"},\r\n                            targets = [BG.canvas],\r\n                            canvasOrigin = isCube ? \"50% 50% \" : \"20% 20% \",\r\n                            canvasRotation = \"rotationX\",\r\n                            roomRotation = \"rotationY\",\r\n                            canvasMove = \"y\",\r\n                            canvasDistance = \"height\",\r\n                            canvasDuration = _.fd,\r\n                            DELAY = 0;\r\n\r\n                        if (_.d!==\"vertical\"){\r\n                            canvasRotation = \"rotationY\";\r\n                            roomRotation = \"rotationX\";\r\n                            canvasMove = \"x\";\r\n                            canvasDistance = \"width\";\r\n                            _.DIR = _.sdir === 1 ? \"b\" : \"a\";\r\n                        } else {\r\n                            _.DIR = _.sdir === 1 ? \"a\" : \"b\";\r\n                        }\r\n                        canvasDistance = canvasDistance===\"width\" ? \"w\" : canvasDistance===\"height\" ? \"h\" : canvasDistance;\r\n\r\n                        if (_.f===\"turn\") {\r\n                            rD = _.d===\"vertical\" ? -120 : 120;\r\n                            canvasOrigin = _.d===\"vertical\" ? _.sdir===1 ? dir===\"in\" ? \"0% 0% 0%\" : \"0% 100% 0%\" : dir===\"in\" ? \"0% 100% 0%\" : \"0% 0% 0%\" :\r\n                                                                _.sdir===1 ? dir===\"in\" ? \"0% 0% 0%\" : \"100% 0% 0%\" : dir===\"in\" ? \"100% 0% 0%\" : \"0% 0% 0%\";\r\n\r\n                            frame_Z_from.z = 0;\r\n                            frame_Canvas_to.ease = dir===\"out\" ? \"power3.out\" : frame_Canvas_to.ease;\r\n                            canvasDuration = dir===\"out\" ? canvasDuration/2 : canvasDuration;\r\n                        } else {\r\n                            canvasOrigin +=(zDirection*BG.mDIM[canvasDistance]/2 )+\"px\";\r\n                        }\r\n\r\n                        frame_Canvas_to[canvasRotation] = 0;\r\n                        frame_Canvas_to[canvasMove] = 0;\r\n                        if (dir===\"in\") frame_Canvas_from[canvasRotation] = rD * _.sdir; else frame_Canvas_to[canvasRotation] = -rD * _.sdir;\r\n\r\n\r\n                        if (_.f===\"fly\") {\r\n                            var fR = _.fz===undefined ? Math.random()*20-10 : parseInt(_.fz);\r\n                            if (dir===\"in\") {\r\n                                frame_Canvas_from[canvasMove] = BG.mDIM[canvasDistance]*(_.fdi===undefined ? 1.5 : parseFloat(_.fdi)) * _.sdir;\r\n                                frame_Canvas_from.rotateZ = _.sdir * fR;\r\n                                frame_Canvas_to.rotateZ = 0;\r\n                            } else {\r\n                                frame_Canvas_to[canvasMove] = -1 * (BG.mDIM[canvasDistance]*(_.fdo===undefined ? 2 : parseFloat(_.fdo)) * _.sdir);\r\n                                frame_Canvas_to.rotateZ = _.sdir * fR * -1;\r\n                            }\r\n                        }\r\n\r\n                        BG.sbg.style.perspective = tilt ? \"2500px\" : \"1500px\";\r\n\r\n                        // If Tilt set, need to change the perspective of parrents also\r\n                        if (tilt) {\r\n                            var frame_Room_Start = {z:roomZ*(_.f===\"fly\" ? 1.5 : 3),ease:\"power1.inOut\"},\r\n                                frame_Room_End = {z:0,ease:\"power1.inOut\"};\r\n                            frame_Room_Start[roomRotation] = -1*_.t;\r\n                            frame_Room_End[roomRotation] = 0;\r\n                            _.roomhelper = {r:0};\r\n                            TL.add(tpGS.gsap.set(_R_is_Editor ? RVS.SBGS[RVS.S.slideId].wrap : BG.wrap[0],{perspective:1200, transformStyle:\"preserve-3d\", transformOrigin:canvasOrigin}),0);\r\n                            TL.add(tpGS.gsap.to(BG.sbg,_.md*3,frame_Room_Start),0);\r\n                            TL.add(tpGS.gsap.to(BG.sbg,_.md*3,frame_Room_End),(canvasDuration-_.md));\r\n\r\n                            //Gradients Opacity on Wall\r\n                            TL.add(tpGS.gsap.to(_.roomhelper,_.md*3,{r:Math.abs(_.t)}),0);\r\n                            TL.add(tpGS.gsap.to(_.roomhelper,_.md*3,{r:0}),(canvasDuration-_.md));\r\n\r\n                            // Building the Cube\r\n                            if (dir===\"in\" && zDirection!==1 && isCube) {\r\n                                if (BG.cube===undefined)  _R.transitions.d3.buildCube(BG);\r\n                                TL.add(_R.transitions.d3.setWall(BG.cube,frame_Room_Start[roomRotation],roomRotation,BG.mDIM,_.c),0);\r\n                                targets.push(BG.cube.c);\r\n                            }\r\n                        } else {\r\n                            _.roomhelper=false;\r\n                            TL.add(tpGS.gsap.set(_R_is_Editor ? RVS.SBGS[RVS.S.slideId].wrap : BG.wrap[0],{perspective:\"none\", transformStyle:\"none\", transformOrigin:\"50% 50%\"}),0);\r\n                            if (!_R_is_Editor && _R[id].firstSlideAnimDone!==true && isCube) {\r\n                                if (BG.cube===undefined)  _R.transitions.d3.buildCube(BG);\r\n                                TL.add(_R.transitions.d3.setWall(BG.cube,frame_Canvas_from[canvasRotation],canvasRotation,BG.mDIM,_.c,true),0);\r\n                                TL.add(tpGS.gsap.fromTo(BG.cube.w,_.md*4,{opacity:0},{opacity:1}),0);\r\n                                targets.push(BG.cube.c);\r\n                            }\r\n                        }\r\n                        //Gradients Opacity\r\n                        _.helper = {o:0, oo:1};\r\n                        TL.add(tpGS.gsap.to(_.helper,canvasDuration,{o:1, oo:0, ease:_.e}),_.md+DELAY);\r\n\r\n                        TL.add(tpGS.gsap.set(targets,jQuery.extend(true,{},frame_Canvas_from,{force3D:true,transformOrigin:canvasOrigin})),0);\r\n                        if (_.f!==\"turn\") TL.add(tpGS.gsap.to(targets,_.md*3,frame_Z_from),0);\r\n                        TL.add(tpGS.gsap.to(targets,canvasDuration,frame_Canvas_to),_.md+DELAY);\r\n                        if (_.f!==\"turn\") TL.add(tpGS.gsap.to(targets,_.md*3,frame_Z_to),(canvasDuration-_.md));\r\n                        if (dir===\"out\" && zDirection!==1) TL.add(tpGS.gsap.to(targets,_.md*2,{opacity:0}),(_.dur - _.md*2));\r\n\r\n                        return TL;\r\n                    }\r\n                }\r\n            },\r\n\r\n\r\n            ////////////////////////////////////////////\r\n            // \t\tAnimate The Slide In/Out Effect  //\r\n            ////////////////////////////////////////////\r\n            animatedCanvasUpdate : function(id,BG) {\r\n                // ANIMATION PREPARATION\r\n                BG.cDIMS = _R.getBGCanvasDetails(id,BG);\r\n\r\n                BG.canvas.style.backgroundColor = \"transparent\";\r\n                BG.canvas.style.opacity = 1;\r\n\r\n                if (BG.canvas.width!==BG.mDIM.width) BG.canvas.width = BG.mDIM.width;\r\n                if (BG.canvas.height!==BG.mDIM.height) BG.canvas.height = BG.mDIM.height;\r\n\r\n                if(!_R_is_Editor && _R[id].clearModalBG === true) {\r\n                    BG.ctx.clearRect(0, 0, BG.canvas.width, BG.canvas.height);\r\n                    _R[id].clearModalBG = false;\r\n                    BG.sbg.parentNode.style.opacity = 1\r\n                }\r\n\r\n                BG.col = BG.col || 1;\r\n                BG.row = BG.row || 1;\r\n                BG.SLOT = jQuery.extend(true,{s:{},c:{}},slotSize(id,BG.col,BG.row, BG.mDIM,\"OW\",\"OH\"));\r\n                BG.SLOT.DX = 0-BG.SLOT.OW/2;\r\n                BG.SLOT.DY = 0-BG.SLOT.OH/2;\r\n                BG.row=Math.ceil(BG.mDIM.height/BG.SLOT.OH) || 1;\r\n\r\n                //FURTHER ADJUSTEMENTS\r\n                if (BG.callFromAnimatedCanvasUpdate!==undefined) BG.callFromAnimatedCanvasUpdate();\r\n\r\n\r\n            },\r\n\r\n            slideAnimFinished : function(id,BG,params,ignoreClear) {\r\n                if (BG===undefined) return;\r\n                //Clear BG of Outgoing Canvas to make sure not disturbing next time\r\n                if (BG.bgvid!==undefined && BG.bgvid.length>0 && params.direction===\"out\") {\r\n                    BG.drawVideoCanvasImagesRecall = false;\r\n                    _R.stopVideo(BG.bgvid,id);\r\n                    BG.bgvid[0].style.display=\"none\";\r\n                    BG.bgvid[0].style.zIndex=0;\r\n                }\r\n\r\n\t\t\tif(BG.panFake && BG.panFake.img){\r\n\t\t\t\tif(params.direction === \"out\") BG.panFake.img.style.display = \"none\";\r\n\t\t\t\telse BG.panFake.img.style.display = \"block\";\r\n\t\t\t}\r\n\r\n                if (params.direction===\"in\") {\r\n                    _R.transitions.motionFilter.complete(BG);\r\n                    BG.ctx.canvas.style.filter = \"none\";\r\n                    tpGS.gsap.set(params.slide,{zIndex:20});\r\n                    delete BG.animateDirection;\r\n                    if (BG.bgvid.length>0) {\r\n                        if (!BG.isHTML5) {\r\n                            _R.resetVideo(BG.bgvid,id);\r\n\t\t\t\t\t\ttpGS.gsap.delayedCall(0.1, function(){\r\n\t\t\t\t\t\t\t_R.playVideo(BG.bgvid,id,true);\r\n\t\t\t\t\t\t\ttpGS.gsap.set(BG.bgvid[0],{zIndex:30, display:\"block\",opacity:1});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttpGS.gsap.set(BG.bgvid[0],{zIndex:30, display:\"block\",opacity:1});\r\n                        }\r\n                    }\r\n                }\r\n                if (params.direction===\"out\") {\r\n                    tpGS.gsap.set(params.slide,{zIndex:10});\r\n                    tpGS.gsap.set(BG.canvas,{rotationX:0, rotationY:0, rotationZ:0,x:0,y:0,z:0,opacity:1});\r\n                    BG.currentState=undefined;\r\n                } else  BG.currentState=\"idle\";\r\n\r\n                if (BG.cube!==undefined) BG.cube.c.style.display=\"none\";\r\n                if (params.direction===\"in\") {\r\n                    //Recalculate it for better DPR\r\n                    _R.updateSlideBGs(id,BG.skeyindex, BG);\r\n                    //Update for good DPR the PanZoom Also\r\n                    if (BG.panzoom!==undefined && !_R_is_Editor) _R.startPanZoom(_R[id].pr_next_bg,id,(_R[id].panzoomTLs[BG.skeyindex]!==undefined ? _R[id].panzoomTLs[BG.skeyindex].progress() : 0),BG.skeyindex,'play', BG.key);\r\n                    // Clear the Rectangle of Outgoing Canvas\r\n                    if (params.BG!==undefined && ignoreClear!==true) params.BG.ctx.clearRect(0,0,BG.canvas.width*2, BG.canvas.height*2); // Clear the Out BG\r\n                }\r\n\r\n                //if (_R_is_Editor && RVS.TL[RVS.S.slideId].slideRepeat) RVS.TL[RVS.S.slideId].slide.progress(0).play();\r\n            },\r\n\r\n            animateCore : function(id,BG,_,params) {\r\n                var canvas = BG.canvas,\r\n                    ctx = BG.ctx,\r\n                    i,j,c=0, amnt,boxes;\r\n                BG.col = _.col;\r\n                BG.row = _.row;\r\n\r\n                // REMOVE WEBGL CONTAINERS IN CASE WE ARE IN EDIROR MODE\r\n                if (_R_is_Editor && BG.three) {\r\n                    BG.canvas.style.display=\"block\";\r\n                    while(BG.three.scene.children.length > 0){\r\n                        BG.three.scene.remove(BG.three.scene.children[0]);\r\n                    }\r\n                    BG.three.canvas.parentNode.removeChild(BG.three.canvas);\r\n                    BG.three = \tundefined;\r\n                }\r\n\r\n                _R.animatedCanvasUpdate(id,BG);\r\n                _.row = BG.row;\r\n\r\n                BG.animateDirection = params.direction;\r\n                params.delay = params.delay===undefined ? 0 : params.delay;\r\n                amnt = _.col * _.row,\r\n                boxes = Array(amnt);\r\n\r\n                // Build a Sprite for Extra BG\r\n                if (BG.help_canvas===undefined && params.direction===\"out\" && params.bgColor!==undefined) {\r\n                    BG.help_canvas = document.createElement('canvas');\r\n                    BG.help_ctx = BG.help_canvas.getContext('2d');\r\n                }\r\n\r\n                // Color the Sprite Background (For Fade Through Effects)\r\n                if (params.direction===\"out\" && params.bgColor!==undefined) {\r\n                    BG.help_canvas.width = BG.mDIM.width;\r\n                    BG.help_canvas.height = BG.mDIM.height;\r\n                    BG.help_ctx.fillStyle = params.bgColor;\r\n                    BG.help_ctx.fillRect(0,0,BG.mDIM.width,BG.mDIM.height);\r\n                }\r\n\r\n                //Init Motion Filter\r\n                _.mo = _R.transitions.motionFilter.init(BG,_.mo);\r\n\r\n                //Duration\r\n                _.dur = (_.ms/_.sec);\r\n\r\n                //3D Preparation\r\n                if (params.d3!==undefined) {\r\n                    params.d3.dur = _.dur;\r\n                    params.d3.fd = _.dur*0.7;\r\n                    params.d3.md = _.dur*0.15;\r\n                    params.d3.sdir = params.sdir;\r\n                }\r\n\r\n                BG.SLOT.c = { ws :0, hs : 0, wd : 0, hd : 0};\r\n                if (_.mo>0 && _R_is_Editor) ctx.clearRect(0,0,canvas.width, canvas.height);\r\n\r\n                // Main Animation\r\n                var TL = tpGS.gsap.timeline({onUpdate:function() {\r\n\r\n                    c = 0;\r\n                    //Check Motion Filtler\r\n                    if(_.mo > 0)\r\n                        _R.transitions.motionFilter.render(BG, _.moo);\r\n                    else\r\n                        ctx.clearRect(0,0,canvas.width, canvas.height);\r\n\r\n                    //Helper Background\r\n                    if (BG.help_canvas && params.direction===\"out\") ctx.drawImage(BG.help_canvas,  0,0);\r\n\r\n                    //Draw Filter\r\n                    if((params.filter && params.filter.u) || !_R_is_Editor)\r\n                        _R.transitions.filter.update(params.filter,ctx,BG.canvasFilterBlur);\r\n\r\n                    if (_R_is_Editor && (_.zIndex!==0 && _.zIndex!==undefined)) tpGS.gsap.set(params.slide,{zIndex:_.zIndex});\r\n\r\n\r\n                    if (BG.shadowCanvas!==undefined)\r\n                        for(i=0;i<_.col;i++) {\r\n                            BG.SLOT.SX = BG.SLOT.OW*i;\r\n                            BG.SLOT.tw = BG.SLOT.OW*(i+0.5);\r\n\r\n                            BG.SLOT.c.wd = BG.mDIM.width - (BG.SLOT.tw+BG.SLOT.DX+BG.SLOT.OW);\r\n                            BG.SLOT.c.wd = (BG.SLOT.c.wd<0 ? BG.SLOT.c.wd : 0);\r\n                            BG.SLOT.DW = BG.SLOT.SW = BG.SLOT.OW+BG.SLOT.c.wd;\r\n\r\n                            for (j=0;j<_.row;j++) {\r\n                                ctx.save();\r\n                                var r =   -(Math.PI / 180) * boxes[c].r,\r\n                                    csx = _.r!==0 ? Math.cos(r) * boxes[c].sx : boxes[c].sx,\r\n                                    csy = _.r!==0 ? Math.cos(r) * boxes[c].sy : boxes[c].sy,\r\n                                    ssx = _.r!==0 ? Math.sin(r) * boxes[c].sx : 0,\r\n                                    ssy = _.r!==0 ? Math.sin(r) * -boxes[c].sy : 0;\r\n                                BG.SLOT.SY = (BG.SLOT.OH*j);\r\n                                BG.SLOT.th = BG.SLOT.OH*(j+0.5);\r\n\r\n                                //Before Draw Specials\r\n                                if (_R.transitions[params.effect] && _R.transitions[params.effect].beforeDraw) _R.transitions[params.effect].beforeDraw(id,ctx,boxes[c],BG);\r\n\r\n                                if (_.m) { // MASK !?\r\n                                    ctx.beginPath();\r\n                                    ctx.rect(BG.SLOT.OW*i,  BG.SLOT.OH*j, BG.SLOT.OW, BG.SLOT.OH);\r\n                                    ctx.clip();\r\n                                }\r\n\r\n                                ctx.transform(csx, ssx, ssy, csy, (BG.SLOT.tw+ boxes[c].x), (BG.SLOT.th+ boxes[c].y));\r\n                                ctx.globalAlpha = Math.max(0,boxes[c].o);\r\n\r\n\r\n                                BG.SLOT.c.hd = BG.mDIM.height - (BG.SLOT.th+BG.SLOT.DY+BG.SLOT.OH);\r\n                                BG.SLOT.c.hd = (BG.SLOT.c.hd<0 ? BG.SLOT.c.hd : 0);\r\n                                BG.SLOT.DH = BG.SLOT.SH = BG.SLOT.OH+BG.SLOT.c.hd;\r\n\r\n                                if (BG.SLOT.SW>1 && BG.SLOT.SH>1)\r\n                                    ctx.drawImage(BG.shadowCanvas,  BG.SLOT.SX, BG.SLOT.SY,\r\n                                                                    BG.SLOT.SW , BG.SLOT.SH,\r\n                                                                    BG.SLOT.DX, BG.SLOT.DY,\r\n                                                                    BG.SLOT.DW, BG.SLOT.DH);\r\n                                ctx.restore();\r\n                                //After Draw Specials\r\n                                if (_R.transitions[params.effect] && _R.transitions[params.effect].afterDraw)\r\n                                    _R.transitions[params.effect].afterDraw(id,ctx,boxes[c],BG,{csx:csx,csy:csy,ssx:ssx,ssy:ssy});\r\n\r\n                                c++;\r\n                            }\r\n                        }\r\n                    if (params.d3!==undefined && params.d3.su) _R.transitions.d3.ticker(params.d3,BG,params.direction);\r\n                    BG.currentState=\"animating\";\r\n                },\r\n\r\n\r\n                onComplete:function() {\r\n                    _R.slideAnimFinished(id,BG,params);\r\n                }});\r\n\r\n                // Protection against Gsap Bug\r\n                if (_.col*_.row<2) _.f = \"start\";\r\n\r\n                // Set Right zIndex on Elements\r\n                if (_.zIndex!==0 && _.zIndex!==undefined) TL.add(tpGS.gsap.set(params.slide,{zIndex:parseInt(_.zIndex,0)}),0);\r\n\r\n                _.m = _.m==\"false\" || _.m===false ? false : true;\r\n\r\n                //SINGLE BOX ANIMATIONS\r\n                if (params.direction===\"in\") {\r\n                    for (i=0;i<amnt;i++) boxes[i] = { \tx:_R.SATools.getOffset(_.x,_.m ? BG.SLOT.OW :BG.mDIM.width,params.sdir,i),\r\n                                                        y:_R.SATools.getOffset(_.y,_.m ? BG.SLOT.OH : BG.mDIM.height,params.sdir,i),\r\n                                                        o:_R.SATools.getSpecialValue(_.o,i,params.sdir),\r\n                                                        sx:_R.SATools.getSpecialValue(_.sx,i,params.sdir),\r\n                                                        sy:_R.SATools.getSpecialValue(_.sy,i,params.sdir),\r\n                                                        r:_.r!==0 ? _R.SATools.getSpecialValue(_.r,i,params.sdir) : 0\r\n                                                    }\r\n                    TL.add(tpGS.gsap.to(boxes, _.dur, { o:1, sx:1, sy:1, r:0,  x:0, y:0, ease:_.e, stagger:{amount:_.f===\"nodelay\" ? 0 : _.ms/_.stasec,grid:[_.col,_.row],from:_.f===\"nodelay\" ? \"start\" : _.f}}),params.delay);\r\n                    //3D Cube, InCube Etc.\r\n\r\n                    if (params.d3!==undefined) TL.add(_R.transitions.d3.cubeTL(id,params.d3,BG,\"in\"),0);\r\n\r\n                    //Extend TimeLine with Filters\r\n                    _R.transitions.filter.extendTimeLine(TL,params.filter,BG);\r\n                } else {\r\n                    for (i=0;i<amnt;i++) boxes[i] = {x:0, y:0, o:1, sx:1, sy:1, r:0 }\r\n                    TL.add(tpGS.gsap.to(boxes, _.dur, {\to:function(i) { return _R.SATools.getSpecialValue(_.o,i,params.sdir)},\r\n                                                                sx:function(i) { return _R.SATools.getSpecialValue(_.sx,i,params.sdir)},\r\n                                                                sy:function(i) { return _R.SATools.getSpecialValue(_.sy,i,params.sdir)},\r\n                                                                r:_.r!==0  && _.r!==undefined ? function(i) { return _R.SATools.getSpecialValue(_.r,i,params.sdir)} : 0,\r\n                                                                x:function(i) { return _R.SATools.getOffset(_.x,_.m ? BG.SLOT.OW :BG.mDIM.width,params.sdir,i) * (_.reversed ? -1 : 1)},\r\n                                                                y:function(i) { return _R.SATools.getOffset(_.y,_.m ? BG.SLOT.OH : BG.mDIM.height,params.sdir,i) * (_.reversed ? -1 : 1)},\r\n                                                                ease:_.e,\r\n                                                                stagger:{amount:_.f===\"nodelay\" ? 0 :_.ms/_.stasec,grid:[_.col,_.row],from:_.f===\"nodelay\" ? \"start\" : _.f}\r\n                                                            }),params.delay + (_.outdelay!==undefined ? _.outdelay : 0));\r\n                    if (params.d3!==undefined) TL.add(_R.transitions.d3.cubeTL(id,params.d3,BG,\"out\"),0);\r\n                }\r\n\r\n                // TL Extensions Due other Animations\r\n                if (_R.transitions[params.effect] && _R.transitions[params.effect].extendTimeLine)\r\n                    _R.transitions[params.effect].extendTimeLine(id,TL,boxes, _,params,BG.mDIM);\r\n\r\n                if (_R_is_Editor) RVS.TL[RVS.S.slideId].slide.add(TL,0); else _R[id].mtl.add(TL,params.delay);\r\n            }\r\n        });\r\n\r\n\r\n\r\n    var toDefNum = function(d,a) {\r\n            return a!==undefined && _R.isNumeric(a) ? parseFloat(a,0) : a==undefined || a===\"default\" || a===\"d\" ? d : a;\r\n        },\r\n\r\n        //Calculate Slot Size\r\n        slotSize = function(id, col, row,dim,w,h) {\r\n            var r = {};\r\n            r[w] = Math.ceil(dim.width/col);\r\n            r[h] = _R_is_Editor ? Math.ceil(dim.height/row) : /*(_R[id].sliderLayout==\"fullscreen\" && _R[id].keepBGMaxHeightsOnFullscreen) ? Math.ceil(Math.max(!_R_is_Editor ? _R[id].module.height : 0,(_R.getWinH(id)-_R[id].fullScreenOffsetResult))/row) :*/ Math.ceil(dim.height/row);\r\n            return  r;\r\n        },\r\n\r\n        MinOne = function(a) {\r\n            return a===undefined || a===null || a===0 || a===NaN ? 1 : a;\r\n        },\r\n\r\n        //Get the Searched Animation\r\n        getAnim = function(id,obj,sdir) {\r\n\r\n            var\tanim =  _R.transitions[obj.anim.e] !== undefined  && _R.transitions[obj.anim.e].getBasic!==undefined ? _R.transitions[obj.anim.e].getBasic() : _R.getBasic(),\r\n                a = \"\";\r\n\r\n            //MOVE OPTIONS\r\n            anim.out = anim.out==undefined ? {} : anim.out;\r\n            anim.out.reversed = obj.out!==undefined ? false : anim.out.reversed===undefined ? true : anim.out.reversed;\r\n\r\n            // Translate Directsion from up,down,left,right to GBO(x) or to Definition due Animation Defaults or due Set x,y %s\r\n            var in_dist = obj.iw!==undefined ? parseInt(obj.iw,0) : 100,\r\n                out_dist = obj.ow!==undefined ? parseInt(obj.ow,0) : 100;\r\n\r\n            // Collect Needed Attributes\r\n            for (var i in anim.attr) if (anim.attr.hasOwnProperty(i)) {\r\n                a = anim.attr[i];\r\n                anim.in[a] = toDefNum(anim.in[a], obj.in[a]);  // Get Values from Object\r\n                anim.out[a] = anim.out.reversed ? anim.in[a] : obj.out===undefined ? anim.out[a] : toDefNum(anim.out[a], obj.out[a]); // Get Values from Object\r\n            }\r\n\r\n            //Get Filters\r\n            anim.filter = obj.filter!==undefined ? jQuery.extend(true,obj.filter,obj.filter) : anim.filter;\r\n\r\n\r\n\r\n            //Extend, update Options\r\n            if (_R.transitions[obj.anim.e] && _R.transitions[obj.anim.e].updateAnim) anim = _R.transitions[obj.anim.e].updateAnim(id,anim,sdir);\r\n            anim.e = obj.anim.e;\r\n\r\n            //ROW, COL min 1 !\r\n            if (anim.in!==undefined) { anim.in.col = anim.in.col===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.in.col);anim.in.row = anim.in.row===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.in.row);}\r\n            if (anim.out!==undefined) { anim.out.col = anim.out.col===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.out.col);anim.out.row = anim.out.row===\"random\" ? tpGS.gsap.utils.random(1,10,1) : MinOne(anim.out.row);}\r\n\r\n            return anim;\r\n        },\r\n\r\n        // Prepate The Slide Animation\r\n        prepareSlideAnimation = function(id,obj) {\r\n\r\n            if (!_R_is_Editor) _R[id].duringslidechange = true;\r\n\r\n            // GET THE TRANSITION\r\n            var SDIR = _R_is_Editor ? -1 : _R[id].sc_indicator==\"arrow\" ? _R[id].sc_indicator_dir===undefined ? _R[id].sdir : _R[id].sc_indicator_dir : _R[id].sdir,\r\n                NBGE = _R_is_Editor ? true : _R[id].pr_next_bg!==undefined && _R[id].pr_next_bg.length>0 && _R[id].pr_next_bg[0]!==undefined,\r\n                CBGE = _R_is_Editor ? true : _R[id].pr_active_bg!==undefined && _R[id].pr_active_bg.length>0 && _R[id].pr_active_bg[0]!==undefined,\r\n\r\n                nBG = _R_is_Editor ? RVS.SBGS[RVS.S.slideId].n : NBGE ? _R[id].sbgs[_R[id].pr_next_bg[0].dataset.key] : undefined,\r\n                cBG = _R_is_Editor ? RVS.SBGS[RVS.S.slideId].c : CBGE ? _R[id].sbgs[_R[id].pr_active_bg[0].dataset.key] : undefined,\r\n                _;\r\n\r\n            SDIR = SDIR === 1 ? -1 : 1; //-1 -> Previous, 1 -> Next\r\n\r\n            if (!_R_is_Editor) {\r\n                delete _R[id].sc_indicator;\r\n                delete _R[id].sc_indicator_dir;\r\n            }\r\n\r\n            _ = jQuery.extend(true,{},getAnim(id,obj,SDIR));\r\n\r\n\r\n            if (nBG.random!==undefined  && _R.SLTR!==undefined && cBG!==undefined) {\r\n                delete cBG.help_canvas;\r\n                delete cBG.help_ctx;\r\n            }\r\n\r\n\r\n            //GET NOT DEFAULTS\r\n            _.ms = toDefNum(undefined,obj.anim.ms===undefined ? 1000 : obj.anim.ms);\r\n\r\n\r\n            _.f = toDefNum(undefined,obj.anim.f);\r\n            _.p = toDefNum(undefined,obj.anim.p);\r\n            _.d = toDefNum(undefined,obj.anim.d);  // Delays in Staggers\r\n            _.o = obj.anim.o;\r\n\r\n\r\n            if (obj.d3!==undefined)  {\r\n                obj.d3.t = obj.d3.t===undefined || obj.d3.t===0 ? false : obj.d3.t;\r\n                obj.d3.su = obj.d3.su==\"true\" || obj.d3.su==true ? true : false;\r\n                if (obj.d3.su) {\r\n                    obj.d3.smi = obj.d3.smi===undefined ? 0 : parseFloat(obj.d3.smi);\r\n                    obj.d3.sl = obj.d3.sl===undefined ? 1 : parseFloat(obj.d3.sl);\r\n                    obj.d3.sma = obj.d3.sma===undefined ? 0.5 : parseFloat(obj.d3.sma);\r\n                    obj.d3.sc = obj.d3.sc===undefined ? '0,0,0' : tpGS.gsap.utils.splitColor(obj.d3.sc).join(',');\r\n                }\r\n                _.p=\"none\";\r\n                if (_.in.row!==undefined && _.in.col!==undefined && _.in.row*_.in.col>200) _.filter = undefined;\r\n            }\r\n\r\n\r\n            // ADJUST SETTINGS\r\n            _.in.sec = _.in.sec===undefined ? 1000 : _.in.sec;\r\n            _.in.stasec = _.in.stasec===undefined ? _.d===undefined ? 1500 : _.d*100 : _.in.stasec;\r\n\r\n            _.in.ms = _.ms===\"default\" || _.ms===\"d\" ? _.in.ms : _.ms===\"random\" ? Math.round(Math.random()*1000+300) : _.ms!=undefined ? parseInt(_.ms,0) : _.in.ms;\r\n            _.out.ms = _.in.ms;\r\n\r\n\r\n            if (_.filter!==undefined) {\r\n                _.filter.ms = _.in.ms;\r\n                _.filter.sec = _.in.sec;\r\n                _.filter.e = _.filter.e===undefined || _.filter.e===\"default\"? _.in.e : _.filter.e;\r\n            }\r\n\r\n            // Also Write From into in and out\r\n            _.in.f = _.f===undefined || _.f===\"default\" || _.f===\"d\" ? _.in.f : _.f;\r\n            _.in.f = _.in.f ===\"slidebased\" ? SDIR==1 ? 'start' : 'end' :  _.in.f ===\"oppslidebased\" ? SDIR===1 ? 'end' : 'start' : _.in.f;\r\n            _.out.f = _.in.f;\r\n            _.out = jQuery.extend(true,{},_.in,_.out);\r\n\r\n            // GET ENGINE\r\n            _.in.eng = _.out.eng = obj.anim.eng;\r\n\r\n\t\t// Out Engin is not available ? Set in/out Fade instead\r\n\t\tif (_.out.eng!==undefined && _R[_.out.eng]==undefined) {\r\n\t\t\t_.out.o = 0;\r\n\t\t\t_.in.o = 0;\r\n\t\t\t_.in.ms = _.out.ms = 1000;\r\n\t\t\t_.in.eng = _.out.eng = 'animateCore';\r\n\t\t}\r\n\r\n            //PAUSE OPTIONS\r\n            if (_.p!==undefined && _.p!==\"none\") {\r\n                _.in.bg = _.p===\"dark\" ? '#000' : _.p===\"light\" ? '#fff' : 'transparent';\r\n                _.out.delay = _.p!==\"none\" ? function(a,b) { return a/2.5} : 0;\r\n\r\n                // If Outgoing Animation does not move at all, we can fade out to show BG of Incoming Animation\r\n                if (_.out.o===1 && _.out.x===0 && _.out.y===0) _.out.o = 0;\r\n            }\r\n\r\n\r\n\r\n            // CHECK IF zINDEX NEED TO BE CHANGED !\r\n            if (_.o===\"forceinout\") {\r\n                _.in.zIndex = 20;\r\n                _.out.zIndex = 10;\r\n            } else\r\n            if (_.o===\"outin\" || (_.in.o===1 && _.in.x===0 && _.in.y===0 && (obj.out!==undefined && (_.out.o!==1 || _.out.x!==0 || _.out.y!==0)))) {\r\n                _.in.zIndex = 10;\r\n                _.out.zIndex = 20;\r\n            }\r\n\r\n\r\n            // VIDEO NEED TO BE STOPPED DURING SLIDE ANIMATION AT SOME SLIDE ANIMATIONS\r\n            if (nBG.bgvid.length>0) _.in = setBGVideoHandling(id,_.in,nBG,\"in\");\r\n            if (CBGE && cBG.bgvid!==undefined && cBG.bgvid.length>0) _.out = setBGVideoHandling(id,_.out,cBG,\"out\");\r\n\r\n            // FALL BACK TO SIMPLE ANIMATION IF YOUTUBE/VIMEO VIDEO EXISTS\r\n            if (_.out!==undefined && (_.out.simplify || _.in.simplify)) _.out = simplify(_.out);\r\n            if (_.in.simplify) _.in = simplify(_.in);\r\n\r\n            // FIX PARALLAX CALCULATION IF NEEDED, BUT IGNORE LAYERS FOR THE MOMENT\r\n            if (!_R_is_Editor) requestAnimationFrame(function() {_R.generalObserver(_R.ISM,true);});\r\n\r\n\r\n            _.in.eng = _.in.eng===undefined ? \"animateCore\" : _.in.eng;\r\n            _.out.eng = _.out.eng===undefined ? \"animateCore\" : _.out.eng;\r\n\r\n\r\n            // Animate In and Out the Slide Background Content\r\n            if (CBGE && _.out.skip!==true) _R[_.out.eng](id,cBG, _.out,{\teffect:_.e,\r\n                                                                                slide:_R_is_Editor ? RVS.SBGS[RVS.S.slideId].c.sbg : _R[id].pr_active_slide,\r\n                                                                                direction:\"out\",\r\n                                                                                delay:0,\r\n                                                                                bgColor:_.in.bg,\r\n                                                                                sdir:SDIR,\r\n                                                                                filter:undefined,\r\n                                                                                d3:obj.d3,\r\n                                                                                addOns:_R_is_Editor ? obj.addOns : undefined\r\n                                                                            });\r\n\r\n            if (_.in.skip!==true) _R[_.in.eng](id,nBG,_.in, {\teffect:_.e,\r\n                                                                    slide:_R_is_Editor ? RVS.SBGS[RVS.S.slideId].n.sbg : _R[id].pr_next_slide,\r\n                                                                    direction:\"in\",\r\n                                                                    delay:CBGE ? typeof _.out.delay===\"function\" ? _.out.delay(_.in.ms/1000, _.out.row*_.out.col) : _.out.delay : _.in.delay,\r\n                                                                    BG:cBG,\r\n                                                                    outslide:_R_is_Editor ? RVS.SBGS[RVS.S.slideId].c.sbg : _R[id].pr_active_slide,\r\n                                                                    sdir:SDIR,\r\n                                                                    filter:_.filter,\r\n                                                                    d3:obj.d3,\r\n                                                                    addOns:_R_is_Editor ? obj.addOns : undefined\r\n                                                                });\r\n\r\n            return;\r\n        },\r\n\r\n\r\n\r\n\r\n\r\n        ///////////////////////////////////////////////\r\n        ///\tGet cover, contain and auto dimenstions //\r\n        //////////////////////////////////////////////\r\n        getContentDimensions = function(c,nBG,r) {\r\n\r\n\r\n            function getPos(c,i,off) {\r\n                var x,y;\r\n                off = off.split(\" \");\r\n                if (off.length===1) off[1] = off[0];\r\n\r\n                x = off[0]===\"center\" || off[0]===\"50%\" ? (c.width - i.width) / 2 :\r\n                        off[0]===\"left\" ? 0 :\r\n                        off[0]===\"right\" ? (c.width - i.width) :\r\n                        !_R.isNumeric(off[0]) ? off[0].indexOf('%')>=0 ? (parseInt(off[0],0)/100 * c.width) - (parseInt(off[0],0)/100 * i.width): parseInt(off[0],0) : 0;\r\n\r\n                y = off[1]===\"center\" || off[1]===\"50%\" ? (c.height - i.height) / 2 :\r\n                        off[1]===\"top\" ? 0 :\r\n                        off[1]===\"bottom\" ? (c.height - i.height) :\r\n                        !_R.isNumeric(off[1]) ? off[1].indexOf('%')>=0 ? (parseInt(off[1],0)/100 * c.height) - (parseInt(off[1],0)/100 * i.height) : parseInt(off[1],0) : 0;\r\n                return {x:x, y:y};\r\n            }\r\n            var mratio = c.height / c.width;\r\n\r\n            r.ratio = r.conth / r.contw;\r\n            // DRAW IMAGE (Center, Center)\r\n            if ((r.ratio < mratio && nBG.bgfit === 'contain') || (r.ratio > mratio && nBG.bgfit === 'cover'))\r\n                r.height = c.width * r.ratio;\r\n            else\r\n            if ((r.ratio > mratio && nBG.bgfit === 'contain') || (r.ratio < mratio && nBG.bgfit === 'cover'))\r\n                r.width = c.width * mratio / r.ratio;\r\n            else\r\n            if (r.ratio===mratio && (nBG.bgfit === 'contain' || nBG.bgfit === 'cover')) r.width = c.width;\r\n            else {\r\n                var fit = nBG.bgfit.split(\" \");\r\n                if (fit.length===1) fit[1] = fit[0];\r\n                r.width = fit[0]===\"auto\" ? r.contw : c.width * (parseInt(fit[0],0)/100);\r\n                r.height = fit[1]===\"auto\" ? r.conth : r.width * r.ratio;\r\n                nBG.usepattern=true;\r\n            }\r\n            var p = getPos(c, r, nBG.bgposition);\r\n            r.x = p.x;\r\n            r.y = p.y;\r\n\r\n            return r;\r\n        },\r\n\r\n\r\n        ///////////////////////////////////////////////////////////////////////////////////////\r\n        // Make complex Animations to normal Fade animations (for YouTuve and Vimeo Content) //\r\n        ///////////////////////////////////////////////////////////////////////////////////////\r\n        simplify = function(_) {\r\n            _.o = 0; _.r = 0;_.row = 1;_.col = 1;_.x = 0;_.y = 0;_.sx = 1; _.sy = 1;\r\n            return _;\r\n        },\r\n\r\n        tf = function(v) {\r\n            if (v===\"false\" || v===false || v===\"off\" || v===undefined || v===0 || v===-1)\r\n                v=false;\r\n            else\r\n                v=true;\r\n            return v;\r\n        },\r\n\r\n\r\n        componentToHex = function(c) {\r\n          var hex = c.toString(16);\r\n          return hex.length == 1 ? \"0\" + hex : hex;\r\n        },\r\n\r\n        radToDeg = function(radians){\r\n          var pi = Math.PI;\r\n          return radians * (180/pi);\r\n        },\r\n\r\n        degToRad = function(degrees){\r\n          var pi = Math.PI;\r\n          return degrees * (pi/180);\r\n        },\r\n\r\n        //////////////////////////////////////////\r\n        // Prepare Video Content for Animation\t//\r\n        //////////////////////////////////////////\r\n        setBGVideoHandling = function(id,_,BG,dir) {\r\n            _.skip = false;\r\n            if (dir===\"in\") { // INCOMING VIDEO HANDLING\r\n                if (BG.isHTML5) { //HTML5 Video\r\n                    BG.bgvid[0].style.display=\"none\";\r\n                    _R.resetVideo(BG.bgvid,id);\r\n                    BG.animateDirection = \"in\";\r\n                    BG.currentState=\"animating\";\r\n                    BG.drawVideoCanvasImagesRecall=true;\r\n                    _R.updateVideoFrames(id,BG,true);\r\n                    _R.playVideo(BG.bgvid,id);\r\n                } else {\r\n                    _R[id].videos[BG.bgvid[0].id].pauseCalled = false;\r\n                    _.waitToSlideTrans = _R[id].videos[BG.bgvid[0].id].waitToSlideTrans; //Wait Video Start until animation done ?\r\n\r\n                    if (BG.poster!==true) { // HAS NO COVER ->\r\n                        _R.resetVideo(BG.bgvid,id);\r\n                        _R[id].videos[BG.bgvid[0].id].prePlayForaWhile = false; //Vimeo Video does Preload some frame to be able to jump on right Frame\r\n                        if (_.waitToSlideTrans!==true) _R.playVideo(BG.bgvid,id,true);\r\n                        tpGS.gsap.fromTo(BG.bgvid,_.ms/_.sec,{zIndex:30,display:\"block\",opacity:0},{opacity:1,zIndex:30,display:\"block\"});\r\n                        BG.loadobj.bgColor = true;\r\n                        BG.bgcolor = \"#000\";\r\n                        _.simplify = true;\r\n                    } else { // HAS COVER\r\n                        _R[id].videos[BG.bgvid[0].id].prePlayForaWhile = false;\r\n                        _R.resetVideo(BG.bgvid,id);\r\n                        _R.playVideo(BG.bgvid,id);\r\n                        BG.bgvid[0].style.display=\"none\";\r\n                        BG.bgvid[0].style.zIndex=0;\r\n                        BG.bgvid[0].style.opacity=0;\r\n                    }\r\n                }\r\n            } else\r\n            if (dir===\"out\") {\r\n                if (BG.isHTML5) { // HTML5 VIDEO\r\n                    BG.currentState=\"animating\";\r\n                    BG.drawVideoCanvasImagesRecall=true;\r\n                    _R.updateVideoFrames(id,BG,true);\r\n                    window.requestAnimationFrame(function() {\r\n                        tpGS.gsap.to(BG.bgvid,0.1,{zIndex:0,display:\"none\"});\r\n                    });\r\n                } else { // YOUTUBE, VIMEO VIDEO\r\n\r\n                    _R.stopVideo(BG.bgvid,id,true);\r\n                    if (BG.poster!==true) {\r\n                        BG.loadobj.bgColor = true;\r\n                        BG.bgcolor = \"#000\";\r\n                    }\r\n                }\r\n            }\r\n            return _;\r\n        },\r\n\r\n        dist = function(x1, y1, x2, y2){ return Math.sqrt( Math.pow((x1-x2),2) + Math.pow((y1-y2),2));},\r\n        getPerpLine = function(p, ang){ var a = ang + Math.PI/2; return { x1: p.x, y1: p.y, x2: p.x + Math.cos(a) * 100, y2: p.y + Math.sin(a) * 100}},\r\n        lineIntersect = function(l1, l2) {\r\n            var A1 = l1.y2 - l1.y1,\r\n                B1 = l1.x1 - l1.x2,\r\n                C1 = A1 * l1.x1 + B1 * l1.y1,\r\n                A2 = l2.y2 - l2.y1,\r\n                B2 = l2.x1 - l2.x2,\r\n                C2 = A2 * l2.x1 + B2 * l2.y1,\r\n                denominator = (A1 * B2 - A2 * B1);\r\n\r\n            return denominator === 0 ? false : {\r\n                x: Math.round((B2 * C1 - B1 * C2) / denominator*100) / 100,\r\n                y: Math.round((A1 * C2 - A2 * C1) / denominator*100) / 100\r\n            }\r\n        }\r\n        //Support Defer and Async and Footer Loads\r\n    window.RS_MODULES = window.RS_MODULES || {};\r\n    window.RS_MODULES.slideanims = {loaded:true, version:version};\r\n    if (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n    })(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.parallax.js":"/********************************************\r\n * REVOLUTION EXTENSION - PARALLAX\r\n * @date: 06.10.2022\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n *********************************************/\r\n(function ($) {\r\n\t\"use strict\";\r\n\tvar version = \"6.6.0\";\r\n\tjQuery.fn.revolution = jQuery.fn.revolution || {};\r\n\tvar _R = jQuery.fn.revolution;\r\n\r\n\tjQuery.extend(true, _R, {\r\n\r\n\t\tcheckForParallax: function (id) {\r\n\r\n\t\t\tvar _ = _R[id].parallax;\r\n\r\n\r\n\t\t\tif (_.done) return;\r\n\t\t\t_.done = true;\r\n\r\n\t\t\tif (_R.ISM && _.disable_onmobile) return false;\r\n\r\n\t\t\tif (_.type == \"3D\" || _.type == \"3d\") {\r\n\t\t\t\t_R.addSafariFix(id);\r\n\t\t\t\ttpGS.gsap.set(_R[id].c, {\r\n\t\t\t\t\toverflow: _.ddd_overflow\r\n\t\t\t\t});\r\n\t\t\t\ttpGS.gsap.set(_R[id].canvas, {\r\n\t\t\t\t\toverflow: _.ddd_overflow\r\n\t\t\t\t});\r\n\t\t\t\tif (_R[id].sliderType != \"carousel\" && _.ddd_shadow) {\r\n\t\t\t\t\tvar dddshadow = jQuery('<div class=\"dddwrappershadow\"></div>');\r\n\t\t\t\t\ttpGS.gsap.set(dddshadow, {\r\n\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\ttransformPerspective: 1600,\r\n\t\t\t\t\t\ttransformOrigin: \"50% 50%\",\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\tzIndex: 0\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_R[id].c.prepend(dddshadow);\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tfor (var i in _R[id].slides)\r\n\t\t\t\t\tif (_R[id].slides.hasOwnProperty(i)) setDDDInContainer(jQuery(_R[id].slides[i]),id);\r\n\t\t\t\tif (_R[id].c.find('rs-static-layers').length > 0) {\r\n\t\t\t\t\ttpGS.gsap.set(_R[id].c.find('rs-static-layers'), {\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"100%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDDDInContainer(_R[id].c.find('rs-static-layers'),id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_.pcontainers = {};\r\n\t\t\t_.bgcontainers = [];\r\n\t\t\t_.bgcontainer_depths = [];\r\n\t\t\t_.speed = _.speed === undefined ? 0 : parseInt(_.speed, 0);\r\n\t\t\t_.speedbg = _.speedbg === undefined ? 0 : parseInt(_.speedbg, 0);\r\n\t\t\t_.speedls = _.speedls === undefined ? 0 : parseInt(_.speedls, 0);\r\n\r\n\t\t\t_R[id].c.find('rs-slide rs-sbg-wrap, rs-slide rs-bgvideo').each(function () {\r\n\t\t\t\tvar t = jQuery(this),\r\n\t\t\t\t\tl = t.data('parallax');\r\n\r\n\t\t\t\t//This Solves Flickering on BG Elements in Mac Chrome\r\n\t\t\t\tif (!window.isSafari11) _R[id].parZ = 1;\r\n\r\n\t\t\t\tl = l == \"on\" || l === true ? 1 : l;\r\n\t\t\t\tif (l !== undefined && (l !== \"off\" && l !== false)) {\r\n\t\t\t\t\t_.bgcontainers.push(t.closest('rs-sbg-px'));\r\n\t\t\t\t\t_.bgcontainer_depths.push(_R[id].parallax.levels[parseInt(l, 0) - 1] / 100);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfor (var i = 1; i <= _.levels.length; i++) {\r\n\t\t\t\tfor(var key in _R[id].slides){\r\n\t\t\t\t\tif(!_R[id].slides.hasOwnProperty(key)) continue;\r\n\t\t\t\t\tvar slide = _R[id].slides[key];\r\n\t\t\t\t\tvar skey = slide.dataset.key;\r\n\t\t\t\t\tif(_.pcontainers[skey] === undefined) _.pcontainers[skey] = {};\r\n\t\t\t\t\tcollectParallaxTargets(i, _, slide, _.pcontainers[skey])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar skey = 'static';\r\n\t\t\t\tif(_.pcontainers[skey] === undefined) _.pcontainers[skey] = {};\r\n\t\t\t\tcollectParallaxTargets(i, _, _R[id].slayers[0], _.pcontainers[skey]);\r\n\t\t\t\tif (JSON.stringify(_.pcontainers[skey]) == JSON.stringify({})) delete _.pcontainers[skey];\r\n\t\t\t}\r\n\r\n\t\t\tif (_.type == \"mouse\" || _.type == \"mousescroll\" || _.type == \"3D\" || _.type == \"3d\") {\r\n\t\t\t\tvar sctor = 'rs-slide .dddwrapper, .dddwrappershadow, rs-slide .dddwrapper-layer, rs-static-layers .dddwrapper-layer';\r\n\t\t\t\tif (_R[id].sliderType === \"carousel\") sctor = \"rs-slide .dddwrapper, rs-slide .dddwrapper-layer, rs-static-layers .dddwrapper-layer\";\r\n\r\n\t\t\t\t_.sctors = {};\r\n\r\n\t\t\t\tfor(var key in _R[id].slides){\r\n\t\t\t\t\tif(!_R[id].slides.hasOwnProperty(key)) continue;\r\n\t\t\t\t\tvar slide = _R[id].slides[key];\r\n\t\t\t\t\tvar skey = slide.dataset.key;\r\n\r\n\t\t\t\t\t_.sctors[skey] = slide.querySelectorAll(sctor);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(_R[id].slayers[0]) _.sctors['static'] = _R[id].slayers[0].querySelectorAll(sctor);\r\n\t\t\t\t_.mouseEntered = false;\r\n\r\n\t\t\t\t_R[id].c.on('mouseenter', function (e) {\r\n\t\t\t\t\tvar t = _R[id].c.offset().top,\r\n\t\t\t\t\t\tl = _R[id].c.offset().left;\r\n\r\n\t\t\t\t\t_.mouseEnterX = e.pageX - l;\r\n\t\t\t\t\t_.mouseEnterY = e.pageY - t;\r\n\t\t\t\t\t_.mouseEntered = true;\r\n\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t_.parallaxHandler = this.updateParallax.bind(this, id, _);\r\n\t\t\t\t_.hasAlreadyPermission = false;\r\n\r\n\t\t\t\t_R[id].c.on('mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath', function (e) {\r\n\t\t\t\t\t_.eventData = e;\r\n\t\t\t\t\tif (_.frame === undefined || e.type === \"mouseleave\") _.frame = window.requestAnimationFrame(_.parallaxHandler);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (_R.ISM) {\r\n\t\t\t\t\t_R.modulesNeedOrientationListener = _R.modulesNeedOrientationListener== undefined ? {} : _R.modulesNeedOrientationListener;\r\n\t\t\t\t\t_R.modulesNeedOrientationListener[id] = true;\r\n\t\t\t\t\t_R.addDeviceOrientationListener(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// COLLECT ALL ELEMENTS WHICH NEED FADE IN/OUT ON PARALLAX SCROLL\r\n\t\t\tvar _s = _R[id].scrolleffect;\r\n\r\n\t\t\tif (_s.set) {\r\n\t\t\t\t_s.multiplicator_layers = parseFloat(_s.multiplicator_layers);\r\n\t\t\t\t_s.multiplicator = parseFloat(_s.multiplicator);\r\n\t\t\t}\r\n\r\n\t\t\tif (_s._L !== undefined && _s._L.length === 0) _s._L = false;\r\n\t\t\tif (_s.bgs !== undefined && _s.bgs.length === 0) _s.bgs = false;\r\n\t\t},\r\n\r\n\t\tremoveIOSPermissionWait : function() {\r\n\t\t\tdocument.querySelectorAll('.iospermaccwait').forEach(function(el) {el.classList.add('permanenthidden');});\t\t\t\t\t\t \r\n\t\t},\r\n\r\n\t\taddDeviceOrientationListener : function(id) {\r\n\t\t\tvar _ = _R[id].parallax;\t\t\t\r\n\t\t\twindow.addEventListener(\"deviceorientation\", function (e) {\r\n\t\t\t\tif (_R.modulesNeedOrientationListener[id]) {\r\n\t\t\t\t\t_R.modulesNeedOrientationListener[id] = false;\r\n\t\t\t\t\t_R.removeIOSPermissionWait();\r\n\t\t\t\t}\r\n\t\t\t\t_.eventData = e;\r\n\t\t\t\tif (_.frame === undefined) _.frame = window.requestAnimationFrame(_.parallaxHandler);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetAccelerationPermission : function(id) {\t\t\t\r\n\t\t\tDeviceMotionEvent.requestPermission().then(function(response){\r\n\t\t\t\tif (response == 'granted') {\r\n\t\t\t\t\tfor (var i in _R.modulesNeedOrientationListener) {\r\n\t\t\t\t\t\tif (!_R.modulesNeedOrientationListener.hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\t_R.modulesNeedOrientationListener[i] = false;\r\n\t\t\t\t\t\t_R.removeIOSPermissionWait();\r\n\t\t\t\t\t\t_R.addDeviceOrientationListener(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t},\r\n\t\t\r\n\t\tgetLayerParallaxOffset : function(id,lid,dir) {\r\n\t\t\treturn _R[id].parallax!==undefined && _R[id].parallax.pcontainers!==undefined && _R[id].parallax.pcontainers[_R[id]._L[lid].slidekey]!==undefined && _R[id].parallax.pcontainers[_R[id]._L[lid].slidekey][lid]!==undefined ? Math.abs(_R[id].parallax.pcontainers[_R[id]._L[lid].slidekey][lid]['offs'+dir]) : 0;\r\n\t\t},\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param {string} id id to be passed to _R revolution object to retrive revolution instance\r\n\t\t * @param {Object} _ shorthand for _R[id].parallax object\r\n\t\t */\r\n\t\tupdateParallax: function (id, _) {\r\n\t\t\tif (_.frame) _.frame = window.cancelAnimationFrame(_.frame);\r\n\r\n\t\t\tvar e = _.eventData;\r\n\t\t\tvar l = _R[id].c.offset().left,\r\n\t\t\t\tt = _R[id].c.offset().top,\r\n\t\t\t\tcw = _R[id].canv.width,\r\n\t\t\t\tch = _R[id].canv.height,\r\n\t\t\t\ts = _.speed / 1000 || 3,\r\n\t\t\t\tdiffh, diffv;\r\n\r\n\t\t\t// CALCULATE DISTANCES\r\n\t\t\tif (_.origo == \"enterpoint\" && e.type !== \"deviceorientation\") {\r\n\r\n\t\t\t\tif (_.mouseEntered === false) {\r\n\t\t\t\t\t_.mouseEnterX = e.pageX - l;\r\n\t\t\t\t\t_.mouseEnterY = e.pageY - t;\r\n\t\t\t\t\t_.mouseEntered = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdiffh = _.mouseEnterX - (e.pageX - l);\r\n\t\t\t\tdiffv = _.mouseEnterY - (e.pageY - t);\r\n\t\t\t\ts = _.speed / 1000 || 0.4;\r\n\t\t\t} else if (e.type !== \"deviceorientation\") {\r\n\t\t\t\tdiffh = cw / 2 - (e.pageX - l);\r\n\t\t\t\tdiffv = ch / 2 - (e.pageY - t);\r\n\t\t\t}\r\n\r\n\t\t\tif (e.type == \"deviceorientation\") {\r\n\t\t\t\tvar beta, gamma, x, y;\r\n\t\t\t\tbeta = e.beta - 60;\r\n\t\t\t\tgamma = e.gamma;\r\n\r\n\t\t\t\tx = gamma;\r\n\t\t\t\ty = beta;\r\n\r\n\t\t\t\tvar orientationChanged = (Math.abs(_.orientationX - x) > 1 || Math.abs(_.orientationY - y) > 1);\r\n\t\t\t\t_.orientationX = x;\r\n\t\t\t\t_.orientationY = y;\r\n\t\t\t\tif (!orientationChanged) return;\r\n\r\n\t\t\t\tif (_R.winW > _R.getWinH(id)) {\r\n\t\t\t\t\tvar xx = x;\r\n\t\t\t\t\tx = y;\r\n\t\t\t\t\ty = xx;\r\n\t\t\t\t}\r\n\t\t\t\tx *= 1.5;\r\n\t\t\t\ty *= 1.5;\r\n\r\n\t\t\t\tdiffh = (360 / cw * x);\r\n\t\t\t\tdiffv = (180 / ch * y);\r\n\t\t\t}\r\n\r\n\t\t\tif (e.type === \"mouseleave\", e.type === \"mouseout\") {\r\n\t\t\t\tdiffh = 0;\r\n\t\t\t\tdiffv = 0;\r\n\t\t\t\t_.mouseEntered = false;\r\n\t\t\t}\r\n\r\n\t\t\tfor(var slidekey in _.pcontainers){\r\n\t\t\t\tif(!_.pcontainers.hasOwnProperty(slidekey)) continue;\r\n\r\n\t\t\t\tif(_R[id].activeRSSlide === undefined || slidekey === 'static' || _R[id].slides[_R[id].activeRSSlide].dataset.key === slidekey){\r\n\t\t\t\t\tfor (var i in _.pcontainers[slidekey]) {\r\n\t\t\t\t\t\tif (!_.pcontainers[slidekey].hasOwnProperty(i)) continue;\r\n\t\t\t\t\t\tvar pc = _.pcontainers[slidekey][i];\r\n\t\t\t\t\t\tpc.pl = _.type == \"3D\" || _.type == \"3d\" ? pc.depth / 200 : pc.depth / 100;\r\n\t\t\t\t\t\tpc.offsh = diffh * pc.pl,\r\n\t\t\t\t\t\tpc.offsv = diffv * pc.pl;\r\n\r\n\t\t\t\t\t\tif (_.type == \"mousescroll\")\r\n\t\t\t\t\t\t\ttpGS.gsap.to(pc.tpw, s, {\r\n\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\tx: pc.offsh,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ttpGS.gsap.to(pc.tpw, s, {\r\n\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\tx: pc.offsh,\r\n\t\t\t\t\t\t\t\ty: pc.offsv,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (_.type == \"3D\" || _.type == \"3d\") {\r\n\r\n\t\t\t\tfor(var slidekey in _.sctors){\r\n\t\t\t\t\tif(!_.sctors.hasOwnProperty(slidekey)) continue;\r\n\t\t\t\t\tif(!(_R[id].activeRSSlide === undefined || slidekey === 'static' || _R[id].slides[_R[id].activeRSSlide].dataset.key === slidekey) && !_R.isFF) continue;\r\n\t\t\t\t\tfor(var i in _.sctors[slidekey]){\r\n\t\t\t\t\t\tif(!_.sctors[slidekey].hasOwnProperty(i)) continue;\r\n\r\n\t\t\t\t\t\tvar t = jQuery(_.sctors[slidekey][i]),\r\n\t\t\t\t\t\tpl = _R.isFirefox() ? Math.min(25, _.levels[_.levels.length - 1]) / 200 : _.levels[_.levels.length - 1] / 200,\r\n\t\t\t\t\t\toffsh = diffh * pl,\r\n\t\t\t\t\t\toffsv = diffv * pl,\r\n\t\t\t\t\t\toffrv = _R[id].canv.width == 0 ? 0 : Math.round((diffh / _R[id].canv.width * pl) * 100) || 0,\r\n\t\t\t\t\t\toffrh = _R[id].canv.height == 0 ? 0 : Math.round((diffv / _R[id].canv.height * pl) * 100) || 0,\r\n\t\t\t\t\t\tli = t.closest('rs-slide'),\r\n\t\t\t\t\t\tzz = 0,\r\n\t\t\t\t\t\titslayer = false;\r\n\r\n\t\t\t\t\tif (e.type === \"deviceorientation\") {\r\n\t\t\t\t\t\tpl = _.levels[_.levels.length - 1] / 200,\r\n\t\t\t\t\t\t\toffsh = diffh * pl;\r\n\t\t\t\t\t\toffsv = diffv * pl * 3;\r\n\t\t\t\t\t\toffrv = _R[id].canv.width == 0 ? 0 : Math.round((diffh / _R[id].canv.width * pl) * 500) || 0;\r\n\t\t\t\t\t\toffrh = _R[id].canv.height == 0 ? 0 : Math.round((diffv / _R[id].canv.height * pl) * 700) || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (t.hasClass(\"dddwrapper-layer\")) {\r\n\t\t\t\t\t\tzz = _.ddd_z_correction || 65;\r\n\t\t\t\t\t\titslayer = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (t.hasClass(\"dddwrapper-layer\")) {\r\n\t\t\t\t\t\toffsh = 0;\r\n\t\t\t\t\t\toffsv = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (li.index() === _R[id].pr_active_key || _R[id].sliderType != \"carousel\")\r\n\t\t\t\t\t\tif (!_.ddd_bgfreeze || (itslayer))\r\n\t\t\t\t\t\t\ttpGS.gsap.to(t, s, {\r\n\t\t\t\t\t\t\t\trotationX: offrh,\r\n\t\t\t\t\t\t\t\trotationY: -offrv,\r\n\t\t\t\t\t\t\t\tx: offsh,\r\n\t\t\t\t\t\t\t\tz: zz,\r\n\t\t\t\t\t\t\t\ty: offsv,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ttpGS.gsap.to(t, 0.5, {\r\n\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\trotationY: 0,\r\n\t\t\t\t\t\t\t\trotationX: 0,\r\n\t\t\t\t\t\t\t\tz: 0,\r\n\t\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ttpGS.gsap.to(t, 0.5, {\r\n\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\trotationY: 0,\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\trotationX: 0,\r\n\t\t\t\t\t\t\tz: 0,\r\n\t\t\t\t\t\t\tease: \"power3.out\",\r\n\t\t\t\t\t\t\toverwrite: \"all\"\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (e.type == \"mouseleave\" || e.type === \"mouseout\")\r\n\t\t\t\t\t\ttpGS.gsap.to(this, 3.8, {\r\n\t\t\t\t\t\t\tz: 0,\r\n\t\t\t\t\t\t\tease: \"power3.out\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tparallaxProcesses: function (id, b, ignorelayers, speedoverwrite) {\r\n\r\n\t\t\tvar mproc = _R[id].fixedOnTop ? Math.min(1, Math.max(0, (window.scrollY / _R.lastwindowheight))) : Math.min(1, Math.max(0, ( 0 - (b.top - _R.lastwindowheight)) / (b.hheight + _R.lastwindowheight))),\r\n\t\t\t\tvisible = (b.top >= 0 && b.top <= _R.lastwindowheight) || (b.top <= 0 && b.bottom >= 0) || (b.top <= 0 && b.bottom >= 0),\r\n\t\t\t\tslide = _R[id].slides[_R[id].pr_active_key === undefined ? 0 : _R[id].pr_active_key];\r\n\r\n\t\t\t_R[id].scrollProg = mproc;\r\n\t\t\t_R[id].scrollProgBasics = { top:b.top, height:b.hheight, bottom:b.bottom};\r\n\r\n\t\t\t// FIXED TOP POSITION ON SCROLL (STICKY SLIDER)\r\n\t\t\tif (_R[id].sbtimeline.fixed) {\r\n\t\t\t\tif (_R[id].fixedScrollOnState !== false && (_R[id].drawUpdates.cpar.left === 0) && _R.stickySupported && (_R[id].fullScreenOffsetResult==0 || _R[id].fullScreenOffsetResult==undefined)) {\r\n\t\t\t\t\t_R[id].topc.addClass(\"rs-stickyscrollon\");\r\n\t\t\t\t\t_R[id].fixedScrollOnState = true;\r\n\t\t\t\t} else _R.stickySupported=false;\r\n\t\t\t\tif (_R[id].sbtimeline.rest === undefined) _R.updateFixedScrollTimes(id);\r\n\t\t\t\tif (b.top >= _R[id].fullScreenOffsetResult && b.top <= _R.lastwindowheight) {\r\n\r\n\t\t\t\t\tmproc = (_R[id].sbtimeline.fixStart * (1 - (b.top / _R.lastwindowheight))) / 1000;\r\n\t\t\t\t\tif (_R.stickySupported !== true && _R[id].fixedScrollOnState !== false) {\r\n\t\t\t\t\t\t_R[id].topc.removeClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\ty:0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_R[id].fixedScrollOnState = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\tif (b.top <= _R[id].fullScreenOffsetResult && b.bottom >= _R[id].module.height) {\r\n\r\n\t\t\t\t\tif (_R.stickySupported !== true && _R[id].fixedScrollOnState !== true) {\r\n\t\t\t\t\t\t_R[id].fixedScrollOnState = true;\r\n\t\t\t\t\t\t_R[id].topc.addClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\ty:_R[id].fullScreenOffsetResult\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmproc = (_R[id].sbtimeline.fixStart + (_R[id].sbtimeline.time * (Math.abs(b.top) / (b.hheight - _R[id].module.height)))) / 1000;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (_R.stickySupported !== true) {\r\n\t\t\t\t\t\ttpGS.gsap.set(_R[id].cpar, {\r\n\t\t\t\t\t\t\ttop: _R[id].scrollproc >= 0 ? 0 : (b.height - _R[id].module.height)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (_R[id].fixedScrollOnState !== false) {\r\n\t\t\t\t\t\t\t_R[id].topc.removeClass(\"rs-fixedscrollon\");\r\n\t\t\t\t\t\t\t_R[id].fixedScrollOnState = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmproc = b.top > _R.lastwindowheight ? 0 : (_R[id].sbtimeline.fixEnd + (_R[id].sbtimeline.rest * (1 - (b.bottom / _R[id].module.height)))) / 1000;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else mproc = (_R[id].duration * mproc) / 1000;\r\n\r\n\t\t\t\r\n\t\t\t// Erste Animation mit Speed, dann vielleicht immer sofort auf position springen !\r\n\r\n\t\t\t//Animate to Timeline Based on Scroll Position\r\n\t\t\tif (slide !== undefined && _R.gA(slide, \"key\") !== undefined && ignorelayers !== true) {\r\n\t\t\t\tvar wasnotprepared = 0; //check if Timelines prepared already\r\n\t\t\t\tfor (var sba in _R[id].sbas[_R.gA(slide, \"key\")]) {\r\n\t\t\t\t\tif (_R[id]._L[sba] !== undefined && _R[id]._L[sba].timeline == undefined) wasnotprepared++;\r\n\t\t\t\t\tif (_R[id]._L[sba] !== undefined && _R[id]._L[sba].timeline !== undefined && (_R[id]._L[sba].animationonscroll == true || _R[id]._L[sba].animationonscroll == \"true\")) {\r\n\t\t\t\t\t\twasnotprepared = -9999; // This makes sure, that no unneeded recalls happens\r\n\t\t\t\t\t\tvar time = (_R[id]._L[sba].scrollBasedOffset !== undefined ? mproc + _R[id]._L[sba].scrollBasedOffset : mproc);\r\n\t\t\t\t\t\ttime = time <= 0 ? 0 : time < 0.1 ? 0.1 : time;\r\n\r\n\t\t\t\t\t\tif (_R[id]._L[sba].animteToTime !== time) {\r\n\t\t\t\t\t\t\t_R[id]._L[sba].animteToTimeCache = _R[id]._L[sba].animteToTime;\r\n\t\t\t\t\t\t\t_R[id]._L[sba].animteToTime = time;\r\n\t\t\t\t\t\t\ttpGS.gsap.to(_R[id]._L[sba].timeline, _R[id].sbtimeline.speed, {\r\n\t\t\t\t\t\t\t\ttime: time,\r\n\t\t\t\t\t\t\t\tease: _R[id].sbtimeline.ease\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (wasnotprepared>0) requestAnimationFrame(function() {\r\n\t\t\t\t\t_R.parallaxProcesses(id, b, ignorelayers, speedoverwrite);\r\n\t\t\t\t});\r\n\t\t\t\t_R[id].c.trigger('timeline_scroll_processed',{id:id,mproc:mproc,speed:_R[id].sbtimeline.speed});\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// SCROLL BASED PARALLAX EFFECT\r\n\t\t\tif (_R.ISM && _R[id].parallax.disable_onmobile) return false;\r\n\r\n\t\t\tvar _ = _R[id].parallax, procslidekey;\r\n\t\t\tif (_R[id].slides[_R[id].pr_processing_key]!==undefined && _R[id].slides[_R[id].pr_processing_key].dataset!==undefined) procslidekey = _R[id].slides[_R[id].pr_processing_key].dataset.key;\r\n\t\t\tif (_.type != \"3d\" && _.type != \"3D\") {\r\n\t\t\t\tif (_.type == \"scroll\" || _.type == \"mousescroll\")\r\n\t\t\t\t\tfor(var slidekey in _.pcontainers)\r\n\t\t\t\t\t\tif(_.pcontainers.hasOwnProperty(slidekey) && (_R[id].activeRSSlide === undefined || slidekey === 'static' || _R[id].slides[_R[id].activeRSSlide].dataset.key === slidekey || procslidekey === slidekey))\r\n\t\t\t\t\t\t\tfor (var i in _.pcontainers[slidekey])\r\n\t\t\t\t\t\t\t\tif (_.pcontainers[slidekey].hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\t\t\tvar pc = _.pcontainers[slidekey][i],\r\n\t\t\t\t\t\t\t\t\t\ts = speedoverwrite !== undefined ? speedoverwrite : _.speedls / 1000 || 0;\r\n\t\t\t\t\t\t\t\t\tpc.pl = pc.depth / 100;\r\n\t\t\t\t\t\t\t\t\tpc.offsv = Math.round((_R[id].scrollproc * -(pc.pl * _R[id].canv.height) * 10)) / 10 || 0;\r\n\t\t\t\t\t\t\t\t\ttpGS.gsap.to(pc.tpw, s, {\r\n\t\t\t\t\t\t\t\t\t\toverwrite: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\tforce3D: \"auto\",\r\n\t\t\t\t\t\t\t\t\t\ty: pc.offsv\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\tif (_.bgcontainers) {\r\n\t\t\t\t\tfor (var i = 0; i < _.bgcontainers.length; i++) {\r\n\t\t\t\t\t\tvar t = _.bgcontainers[i],\r\n\t\t\t\t\t\t\tl = _.bgcontainer_depths[i],\r\n\t\t\t\t\t\t\toffsv = _R[id].scrollproc * -(l * _R[id].canv.height) || 0,\r\n\t\t\t\t\t\t\ts = speedoverwrite !== undefined ? speedoverwrite : _.speedbg / 1000 || 0.015;\r\n\t\t\t\t\t\ts = _R[id].parallax.lastBGY !== undefined && s === 0 && Math.abs(offsv - _R[id].parallax.lastBGY) > 50 ? 0.15 : s;\r\n\r\n\t\t\t\t\t\ttpGS.gsap.to(t, s, {\r\n\t\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\t\ttop: \"0px\",\r\n\t\t\t\t\t\t\tleft: \"0px\",\r\n\t\t\t\t\t\t\tbackfaceVisibility: \"hidden\",\r\n\t\t\t\t\t\t\tforce3D: \"true\",\r\n\t\t\t\t\t\t\ty: offsv + \"px\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_R[id].parallax.lastBGY = offsv;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// SCROLL BASED BLUR,FADE,GRAYSCALE EFFECT\r\n\t\t\tvar _s = _R[id].scrolleffect;\r\n\t\t\tif (_s.set && (!_R.ISM || _s.disable_onmobile === false)) {\r\n\r\n\t\t\t\tvar _fproc = Math.abs(_R[id].scrollproc) - (_s.tilt / 100);\r\n\t\t\t\t_fproc = _fproc < 0 ? 0 : _fproc;\r\n\t\t\t\tif (_s._L !== false) {\r\n\t\t\t\t\tvar elev = 1 - (_fproc * _s.multiplicator_layers),\r\n\t\t\t\t\t\tseo = {\r\n\t\t\t\t\t\t\tforce3D: \"true\"\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tif (_s.direction == \"top\" && _R[id].scrollproc >= 0) elev = 1;\r\n\t\t\t\t\tif (_s.direction == \"bottom\" && _R[id].scrollproc <= 0) elev = 1;\r\n\t\t\t\t\telev = elev > 1 ? 1 : elev < 0 ? 0 : elev;\r\n\r\n\t\t\t\t\tif (_s.fade) seo.opacity = elev;\r\n\r\n\t\t\t\t\tif (_s.scale) {\r\n\t\t\t\t\t\tvar scalelevel = (elev);\r\n\t\t\t\t\t\tseo.scale = 1 + (1 - scalelevel);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_s.blur) {\r\n\t\t\t\t\t\tvar blurlevel = (1 - elev) * _s.maxblur;\r\n\r\n\t\t\t\t\t\t// new line for fix, see comment above\r\n\t\t\t\t\t\tblurlevel = blurlevel <= 0.03 ? 0 : blurlevel;\r\n\r\n\t\t\t\t\t\tseo['-webkit-filter'] = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\tseo.filter = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\t//Fix for Blurred Masks in Safari\r\n\t\t\t\t\t\tif (window.isSafari11 && _s._L!==undefined && _s._L[0]!==undefined && _s._L[0][0]!==undefined && _s._L[0][0].tagName==\"RS-MASK-WRAP\") seo.z  = 0.001;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (_s.grayscale) {\r\n\t\t\t\t\t\tvar graylevel = (1 - elev) * 100,\r\n\t\t\t\t\t\t\tgf = 'grayscale(' + graylevel + '%)';\r\n\t\t\t\t\t\tseo['-webkit-filter'] = seo['-webkit-filter'] === undefined ? gf : seo['-webkit-filter'] + ' ' + gf;\r\n\t\t\t\t\t\tseo.filter = seo.filter === undefined ? gf : seo.filter + ' ' + gf;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\ttpGS.gsap.set(_s._L, seo);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_s.bgs !== false) {\r\n\r\n\t\t\t\t\tvar elev = 1 - (_fproc * _s.multiplicator),\r\n\t\t\t\t\t\tseo = {\r\n\t\t\t\t\t\t\tbackfaceVisibility: \"hidden\",\r\n\t\t\t\t\t\t\tforce3D: \"true\"\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tif (_s.direction == \"top\" && _R[id].scrollproc >= 0) elev = 1;\r\n\t\t\t\t\tif (_s.direction == \"bottom\" && _R[id].scrollproc <= 0) elev = 1;\r\n\t\t\t\t\telev = elev > 1 ? 1 : elev < 0 ? 0 : elev;\r\n\t\t\t\t\tfor (var si in _s.bgs) {\r\n\t\t\t\t\t\tif (!_s.bgs.hasOwnProperty(si)) continue;\r\n\t\t\t\t\t\tif (_s.bgs[si].fade) seo.opacity = elev;\r\n\r\n\t\t\t\t\t\tif (_s.bgs[si].blur) {\r\n\t\t\t\t\t\t\tvar blurlevel = (1 - elev) * _s.maxblur;\r\n\t\t\t\t\t\t\tseo['-webkit-filter'] = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\t\tseo.filter = 'blur(' + blurlevel + 'px)';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (_s.bgs[si].grayscale) {\r\n\t\t\t\t\t\t\tvar graylevel = (1 - elev) * 100,\r\n\t\t\t\t\t\t\t\tgf = 'grayscale(' + graylevel + '%)';\r\n\t\t\t\t\t\t\tseo['-webkit-filter'] = seo['-webkit-filter'] === undefined ? gf : seo['-webkit-filter'] + ' ' + gf;\r\n\t\t\t\t\t\t\tseo.filter = seo.filter === undefined ? gf : seo.filter + ' ' + gf;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttpGS.gsap.set(_s.bgs[si].c, seo);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t});\r\n\r\n\tvar setDDDInContainer = function(li,id) {\r\n\r\n\t\tvar _ = _R[id].parallax;\r\n\r\n\t\tli.find('rs-sbg-wrap').wrapAll('<div class=\"dddwrapper\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden\"></div>');\r\n\t\tvar players = li[0].querySelectorAll('.rs-parallax-wrap'),\r\n\t\t\tdddwrapper = document.createElement('div');\r\n\r\n\t\tdddwrapper.className = \"dddwrapper-layer\";\r\n\t\tdddwrapper.style.width = \"100%\";\r\n\t\tdddwrapper.style.height = \"100%\";\r\n\t\tdddwrapper.style.position = \"absolute\";\r\n\t\tdddwrapper.style.top = \"0px\";\r\n\t\tdddwrapper.style.left = \"0px\";\r\n\t\tdddwrapper.style.zIndex = 5;\r\n\t\tdddwrapper.style.overflow = _.ddd_layer_overflow;\r\n\t\tfor (var i=0; i<players.length;i++) {\r\n\t\t\tif (!players.hasOwnProperty(i)) continue;\r\n\t\t\tif (_R.closestNode(players[i],'RS-GROUP')===null && _R.closestNode(players[i],'RS-ROW')===null) dddwrapper.appendChild(players[i]);\r\n\t\t}\r\n\t\tli[0].appendChild(dddwrapper);\r\n\t\t//li.find('.rs-parallax-wrap').wrapAll('<div class=\"dddwrapper-layer\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:' + _.ddd_layer_overflow + ';\"></div>');\r\n\r\n\t\t// MOVE THE REMOVED 3D LAYERS OUT OF THE PARALLAX GROUP\r\n\t\tli.find('.rs-pxl-tobggroup').closest('.rs-parallax-wrap').wrapAll('<div class=\"dddwrapper-layertobggroup\" style=\"position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%\"></div>');\r\n\r\n\t\tvar dddw = li.find('.dddwrapper'),\r\n\t\t\tdddwl = li.find('.dddwrapper-layer'),\r\n\t\t\tdddwlbg = li.find('.dddwrapper-layertobggroup');\r\n\r\n\t\tdddwlbg.appendTo(dddw);\r\n\r\n\t\tif (_R[id].sliderType == \"carousel\") {\r\n\t\t\tif (_.ddd_shadow) dddw.addClass(\"dddwrappershadow\");\r\n\t\t\ttpGS.gsap.set(dddw, {\r\n\t\t\t\tborderRadius: _R[id].carousel.border_radius\r\n\t\t\t});\r\n\t\t}\r\n\t\ttpGS.gsap.set(li, {\r\n\t\t\toverflow: \"visible\",\r\n\t\t\ttransformStyle: \"preserve-3d\",\r\n\t\t\tperspective: 1600\r\n\t\t});\r\n\t\ttpGS.gsap.set(dddw, {\r\n\t\t\tforce3D: \"auto\",\r\n\t\t\ttransformOrigin: \"50% 50%\",\r\n\t\t\ttransformStyle: \"preserve-3d\",\r\n\t\t\ttransformPerspective: 1600\r\n\t\t});\r\n\t\ttpGS.gsap.set(dddwl, {\r\n\t\t\tforce3D: \"auto\",\r\n\t\t\ttransformOrigin: \"50% 50%\",\r\n\t\t\tzIndex: 5,\r\n\t\t\ttransformStyle: \"flat\",\r\n\t\t\ttransformPerspective: 1600\r\n\t\t});\r\n\t\ttpGS.gsap.set(_R[id].canvas, {\r\n\t\t\ttransformStyle: \"preserve-3d\",\r\n\t\t\ttransformPerspective: 1600\r\n\t\t});\r\n\t}\r\n\r\n    function collectParallaxTargets(i, _, slide, pcontainer){\r\n        $(slide).find('.rs-pxl-' + i).each(function () {\r\n            var rspxmask = this.className.indexOf('rs-pxmask') >= 0,\r\n                tpw = rspxmask ? _R.closestNode(this,'RS-PX-MASK') : _R.closestClass(this,'rs-parallax-wrap');\r\n            if(!tpw) return;\r\n\r\n            if (rspxmask && !window.isSafari11) {\r\n                tpGS.gsap.set(tpw,{z:1});\r\n                tpGS.gsap.set(_R.closestNode(tpw,'RS-BG-ELEM'),{z:1});\r\n            }\r\n\r\n            tpw.dataset['parallaxlevel'] = _.levels[i - 1];\r\n            tpw.classList.add(\"tp-parallax-container\");\r\n\r\n            pcontainer[this.id] = {tpw:tpw, depth:_.levels[i-1], offsv:0, offsh:0};\r\n        });\r\n    }\r\n\r\n//Support Defer and Async and Footer Loads\r\nwindow.RS_MODULES = window.RS_MODULES || {};\r\nwindow.RS_MODULES.parallax = {loaded:true, version:version};\r\nif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/dev/rs6.actions.js":"/********************************************\r\n * REVOLUTION EXTENSION - ACTIONS\r\n * @Date: (05.10.2022)\r\n * @requires rs6.main.js\r\n * @author ThemePunch\r\n*********************************************/\r\n(function($,undefined) {\r\n\"use strict\";\r\nvar version = \"6.6.0\";\r\n\r\njQuery.fn.revolution = jQuery.fn.revolution || {};\r\nvar _R = jQuery.fn.revolution;\r\n\r\n///////////////////////////////////////////\r\n// \tEXTENDED FUNCTIONS AVAILABLE GLOBAL  //\r\n///////////////////////////////////////////\r\njQuery.extend(true,_R, {\r\n\tcheckActions : function(layer,id) {\r\n\t\tif (layer===undefined) moduleEnterLeaveActions(id); else checkActions_intern(layer,id);\r\n\t},\r\n\r\n\tdelayer : function(id,wait,caller) {\r\n\t\t_R[id].timeStamps = _R[id].timeStamps===undefined ? {} : _R[id].timeStamps;\r\n\t\tvar dt = new Date().getTime(),\r\n\t\t\tdelay =  _R[id].timeStamps[caller]===undefined ? parseInt(wait)+100 : dt- _R[id].timeStamps[caller];\r\n\t\tvar ret = parseInt(delay)>wait ? true : false;\r\n\t\tif (ret) _R[id].timeStamps[caller] = dt;\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tgetURLDetails : function(obj) {\r\n\t\tobj = obj===undefined ? {} : obj;\r\n\t\tobj.url = obj.url===undefined ? window.location.href : obj.url;\r\n\t\tobj.url = obj.url.replace(\"www\",\"\");\r\n\t\tobj.protocol = obj.url.indexOf('http://')===0 ? 'http://' : obj.url.indexOf('https://')===0 ? 'https://' : obj.url.indexOf('//')===0 ? '//' : 'relative';\r\n\t\tvar hostpath = obj.url.replace(\"https://\",\"\");\r\n\t\thostpath = hostpath.replace(\"http://\",\"\");\r\n\t\tif (obj.protocol===\"relative\") hostpath = hostpath.replace(\"//\",\"\");\r\n\t\thostpath = hostpath.split(\"#\");\r\n\t\tobj.anchor = (obj.anchor===undefined || obj.anchor==\"\" || obj.anchor.length==0) && hostpath.length>1 ? hostpath[1] : obj.anchor===undefined ? \"\" : obj.anchor.replace(\"#\",\"\");\r\n\t\tobj.anchor = obj.anchor.split(\"?\");\r\n\t\t// Query Strings should come first, however this may ignored so check both ways !\r\n\t\tobj.queries = hostpath[0].split(\"?\");\r\n\t\tobj.queries = obj.queries.length>1 ? obj.queries[1] : \"\";\r\n\t\tobj.queries = obj.queries.length>1 ? obj.queries[1] : obj.anchor.length>1 ? obj.anchor[1] : obj.queries;\r\n\t\tobj.anchor = obj.anchor[0];\r\n\t\thostpath = hostpath[0];\r\n\t\tvar hostpath_array = hostpath.split(\"/\");\r\n\t\tvar temp = hostpath.split(\"/\");\r\n\t\tobj.host = temp[0];\r\n\t\ttemp.splice(0,1);\r\n\t\tobj.path = \"/\"+temp.join(\"/\");\r\n\t\tif (obj.path[obj.path.length-1]==\"/\") obj.path = obj.path.slice(0,-1);\r\n\t\tobj.origin = obj.protocol!==\"relative\" ?  obj.protocol+obj.host : window.location.origin.replace(\"www\",\"\")+window.location.pathname;\r\n\t\tobj.hash = (obj.queries!==\"\" && obj.queries!==undefined ? \"?\"+obj.queries  : \"\") + (obj.anchor!==\"\" && obj.anchor!==undefined ? \"#\"+obj.anchor  : \"\");\r\n\t\treturn obj;\r\n\t},\r\n\r\n\tscrollToId : function(obj) {\r\n\t\t/* OBJ Attributes:\r\n\t\t \tid : Slider Id\r\n\t\t \toffset : Scroll Offset\r\n\t\t \taction : called Action\r\n\t\t \tanchor : the Targeted ID where to Scroll\r\n\t\t \thash : Change Hash in URL after animation\r\n\t\t \tspeed : Animation Speed\r\n\t\t \tevent : Animation Ease\r\n\t\t */\r\n\t\t_R.scrollToObj = obj;\r\n\t\tif (!window.isSafari11) {\r\n\t\t\tvar scrollBehaviorHtml = tpGS.gsap.getProperty('html', 'scrollBehavior');\r\n\t\t\tvar scrollBehaviorBody = tpGS.gsap.getProperty('body', 'scrollBehavior');\r\n\t\t\ttpGS.gsap.set('html,body', {scrollBehavior: 'auto'});\r\n\t\t\tobj.scrollBehaviorHtml = scrollBehaviorHtml;\r\n\t\t\tobj.scrollBehaviorBody = scrollBehaviorBody;\r\n\t\t}\r\n\t\t_R.calcScrollToId();\r\n\t},\r\n\r\n\tcalcScrollToId: function() {\r\n\t\tif(!_R.scrollToObj) return;\r\n\t\tvar obj = _R.scrollToObj;\r\n\t\tvar progress = obj.tween && obj.tween.progress ? obj.tween.progress() : 0;\r\n\t\tif(obj.tween && obj.tween.kill) obj.tween.kill();\r\n\r\n\t\tif(obj.startScrollPos === undefined || obj.startScrollPos === null) obj.startScrollPos = (_R[obj.id].modal.useAsModal) ? _R[obj.id].cpar.scrollTop() : _R.document.scrollTop();\r\n\r\n\t\tvar off= obj.action===\"scrollbelow\" ? (getOffContH(_R[obj.id].fullScreenOffsetContainer) || 0) - (parseInt(obj.offset,0) || 0) || 0 : 0-(parseInt(obj.offset,0) || 0),\r\n\t\tc =  obj.action===\"scrollbelow\" ? _R[obj.id].c : jQuery('#'+obj.anchor),\r\n\t\tctop = c.length>0 ? c.offset().top : 0,\r\n\t\tsobj = {_y: _R[obj.id].modal.useAsModal ? _R[obj.id].cpar[0].scrollTop :  (window.pageYOffset!==document.documentElement.scrollTop) ? window.pageYOffset!==0 ? window.pageYOffset :document.documentElement.scrollTop : window.pageYOffset };\r\n\r\n\t\tctop += obj.action===\"scrollbelow\" ? _R[obj.id].sbtimeline.fixed ? _R[obj.id].cpar.parent().height() + _R[obj.id].fullScreenOffsetResult : jQuery(_R[obj.id].slides[0]).height() : 0;\r\n\r\n\t\tobj.tween = tpGS.gsap.fromTo(sobj,obj.speed/1000, {_y:obj.startScrollPos}, {_y:(ctop-off), ease:obj.ease,\r\n\t\t\tonUpdate:function() { if (_R[obj.id].modal.useAsModal) _R[obj.id].cpar.scrollTop(sobj._y); else _R.document.scrollTop(sobj._y); /* document.documentElement.scrollTop = sobj._y*/},\r\n\t\t\tonComplete:function() {\r\n\t\t\t\tif (obj.hash!==undefined) history.pushState(null, null, obj.hash);\r\n\t\t\t\tif (!window.isSafari11) {\r\n\t\t\t\t\ttpGS.gsap.set('html', {scrollBehavior: obj.scrollBehaviorHtml});\r\n\t\t\t\t\ttpGS.gsap.set('body', {scrollBehavior: obj.scrollBehaviorBody});\r\n\t\t\t\t}\r\n\t\t\t\tif(_R.scrollToObj){\r\n\t\t\t\t\tif(_R.scrollToObj.tween){ _R.scrollToObj.tween.kill(); _R.scrollToObj.tween = null; }\r\n\t\t\t\t\t_R.scrollToObj.startScrollPos = null;\r\n\t\t\t\t\t_R.scrollToObj = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tobj.tween.progress(progress);\r\n\t}\r\n});\r\n\r\n//////////////////////////////////////////\r\n//\t-\tINITIALISATION OF ACTIONS \t-\t//\r\n//////////////////////////////////////////\r\nvar moduleEnterLeaveActions = function(id) {\r\n\tif (!_R[id].moduleActionsPrepared && _R[id].c[0].getElementsByClassName('rs-on-sh').length>0) {\r\n\t\t_R[id].c.on('tp-mouseenter',function() {\r\n\t\t\t_R[id].mouseoncontainer = true;\r\n\t\t\tvar key = _R[id].pr_next_key!==undefined ? _R[id].pr_next_key : _R[id].pr_processing_key!==undefined ? _R[id].pr_processing_key : _R[id].pr_active_key!==undefined ? _R[id].pr_active_key : _R[id].pr_next_key,\r\n\t\t\t\tli;\r\n\t\t\tif (key===\"none\" || key===undefined) return;\r\n\t\t\tkey = _R.gA(_R[id].slides[key],\"key\");\r\n\t\t\tif (key!==undefined && _R[id].layers[key]) for (li in _R[id].layers[key]) if (_R[id].layers[key][li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers[key][li]), frame:\"frame_1\", mode:\"trigger\", id:id});\r\n\t\t\tfor (li in _R[id].layers.static) if (_R[id].layers.static[li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers.static[li]), frame:\"frame_1\", mode:\"trigger\", id:id});\r\n\t\t});\r\n\r\n\t\t_R[id].c.on('tp-mouseleft',function() {\r\n\t\t\t_R[id].mouseoncontainer = true;\r\n\t\t\tvar key = _R[id].pr_next_key!==undefined ? _R[id].pr_next_key : _R[id].pr_processing_key!==undefined ? _R[id].pr_processing_key : _R[id].pr_active_key!==undefined ? _R[id].pr_active_key : _R[id].pr_next_key,\r\n\t\t\t\tli;\r\n\t\t\tif (key===\"none\" || key===undefined) return;\r\n\t\t\tkey = _R.gA(_R[id].slides[key],\"key\");\r\n\t\t\tif (key!==undefined && _R[id].layers[key]) for (li in _R[id].layers[key]) if (_R[id].layers[key][li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers[key][li]), frame:\"frame_999\", mode:\"trigger\", id:id});\r\n\t\t\tfor (li in _R[id].layers.static) if (_R[id].layers.static[li].className.indexOf(\"rs-on-sh\")>=0) _R.renderLayerAnimation({layer:jQuery(_R[id].layers.static[li]), frame:\"frame_999\", mode:\"trigger\", id:id});\r\n\t\t});\r\n\t}\r\n\t_R[id].moduleActionsPrepared = true;\r\n}\r\n\r\nvar checkActions_intern = function(layer,id) {\r\n\tvar actions = _R.gA(layer[0],\"actions\");\r\n\r\n\tif (layer[0].tagName==\"RS-COLUMN\") {\r\n\t\tvar wrap = _R.closestNode(layer[0], 'RS-COLUMN-WRAP');\r\n\t\tif (wrap!==null && wrap!==undefined) {\r\n\t\t\t_R.sA(wrap,\"action\",actions);\r\n\t\t\tlayer = jQuery(wrap);\r\n\t\t}\r\n\t}\r\n\r\n\tvar _L = layer.data();\r\n\tactions = actions.split(\"||\");\r\n\tlayer.addClass(\"rs-waction\");\r\n\t_L.events = _L.events===undefined ? [] : _L.events;\r\n\t//GET THROUGH THE EVENTS AND COLLECT INFORMATIONS\r\n\tfor (var ei in actions) {\r\n\t\tif (!actions.hasOwnProperty(ei)) continue;\r\n\t\tvar event = getEventParams(actions[ei].split(\";\"));\r\n\t\t_L.events.push(event);\r\n\t\tif (event.on===\"click\") layer[0].classList.add('rs-wclickaction');\r\n\t\t// LISTEN TO ESC TO EXIT FROM FULLSCREEN\r\n\t\tif (!_R[id].fullscreen_esclistener && (event.action==\"exitfullscreen\" || event.action==\"togglefullscreen\")) {\r\n\t\t\t_R.document.keyup(function(e) {\r\n\t\t\t\t if (e.keyCode == 27 && jQuery('#rs-go-fullscreen').length>0) layer.trigger(event.on);\r\n\t\t\t});\r\n\t\t\t_R[id].fullscreen_esclistener = true;\r\n\t\t}\r\n\r\n\t\tvar targetlayer = event.layer == \"backgroundvideo\" ? jQuery(\"rs-bgvideo\") : event.layer == \"firstvideo\" ? jQuery(\"rs-slide\").find('.rs-layer-video') : jQuery(\"#\"+event.layer);\r\n\r\n\t\t// NO NEED EXTRA TOGGLE CLASS HANDLING\r\n\t\tif (jQuery.inArray(event.action,[\"toggleslider\",\"toggle_mute_video\",\"toggle_global_mute_video\",\"togglefullscreen\"])!=-1) _L._togglelisteners=true;\r\n\r\n\t\t// COLLECT ALL TOGGLE TRIGGER TO CONNECT THEM WITH TRIGGERED LAYER\r\n\t\tswitch (event.action) {\r\n\t\t\tcase \"togglevideo\": jQuery.each(targetlayer,function() { updateToggleByList(jQuery(this),'videotoggledby', layer[0].id);}); break;\r\n\t\t\tcase \"togglelayer\": jQuery.each(targetlayer,function() {\r\n\r\n\t\t\t\tupdateToggleByList(jQuery(this),'layertoggledby', layer[0].id); jQuery(this).data('triggered_startstatus',event.togglestate);\r\n\t\t\t});break;\r\n\t\t\tcase \"toggle_global_mute_video\":\r\n\t\t\tcase \"toggle_mute_video\":\r\n\t\t\t\tjQuery.each(targetlayer,function() { updateToggleByList(jQuery(this),'videomutetoggledby', layer[0].id);});\r\n\t\t\tbreak;\r\n\t\t\tcase \"toggleslider\":\r\n\t\t\t\tif (_R[id].slidertoggledby == undefined) _R[id].slidertoggledby = [];\r\n\t\t\t\t_R[id].slidertoggledby.push(layer[0].id);\r\n\t\t\tbreak;\r\n\t\t\tcase \"togglefullscreen\":\r\n\t\t\t\tif (_R[id].fullscreentoggledby == undefined) _R[id].fullscreentoggledby = [];\r\n\t\t\t\t_R[id].fullscreentoggledby.push(layer[0].id);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t_R[id].actionsPrepared = true;\r\n\r\n\tlayer.on(\"click mouseenter mouseleave\",function(e) {\r\n\t\tfor (var i in _L.events) {\r\n\t\t\tif (!_L.events.hasOwnProperty(i)) continue;\r\n\t\t\tif (_L.events[i].on!==e.type) continue;\r\n\t\t\tvar event = _L.events[i];\r\n\t\t\tif (event.repeat!==undefined && event.repeat>0 && !_R.delayer(id,event.repeat*1000,_L.c[0].id+\"_\"+event.action)) continue;\r\n\r\n\t\t\tif (event.on===\"click\" && layer.hasClass(\"tp-temporarydisabled\")) return false;\r\n\t\t\tvar targetlayer = event.layer == \"backgroundvideo\" ? jQuery(_R[id].slides[_R[id].pr_active_key]).find(\"rs-sbg-wrap rs-bgvideo\") : event.layer == \"firstvideo\" ? jQuery(_R[id].slides[_R[id].pr_active_key]).find(\".rs-layer-video\").first() : jQuery(\"#\"+event.layer),\r\n\t\t\t\ttex = targetlayer.length>0;\r\n\t\t\tswitch (event.action) {\r\n\t\t\t\tcase \"menulink\":\r\n\t\t\t\t\tvar linkto = _R.getURLDetails({url:event.url, anchor:event.anchor}),\r\n\t\t\t\t\t\tlinkfrom = _R.getURLDetails();\r\n\r\n\t\t\t\t\t//SAME PAGE, DIFFERENT ANCHOR ?\r\n\t\t\t\t\tif (linkto.host == linkfrom.host && linkto.path == linkfrom.path && event.target===\"_self\") {\r\n\t\t\t\t\t\t//Scroll To Position\r\n\t\t\t\t\t\t_R.scrollToId({id:id, offset:event.offset, action:event.action, anchor: event.anchor, hash:linkto.hash, speed:event.speed, ease:event.ease});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//Update Location and add Anchor, plus Speed/Ease Parameter if necessary\r\n\t\t\t\t\t\tif (event.target===\"_self\")\r\n\t\t\t\t\t\t\twindow.location = linkto.url + (linkto.anchor!==undefined && linkto.anchor!==\"\" ? (/*(linkto.params!=\"\" && linkto.params!=undefined ? \";\" : \"?\") + \"rsaspd=\" + event.speed+\";rsaese:\"+event.ease+\";\" +*/ \"#\"+linkto.anchor) : \"\");\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twindow.open(linkto.url + (linkto.anchor!==undefined && linkto.anchor!==\"\" ? (/*(linkto.params!=\"\" && linkto.params!=undefined ? \";\" : \"?\") + \"rsaspd=\" + event.speed+\";rsaese:\"+event.ease+\";\" +*/ \"#\"+linkto.anchor) : \"\"));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"getAccelerationPermission\":\r\n\t\t\t\t\t_R.getAccelerationPermission(id);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"nextframe\":\r\n\t\t\t\tcase \"prevframe\":\r\n\t\t\t\tcase \"gotoframe\":\r\n\t\t\t\tcase \"togglelayer\":\r\n\t\t\t\tcase \"toggleframes\":\r\n\t\t\t\tcase \"startlayer\":\r\n\t\t\t\tcase \"stoplayer\":\r\n\t\t\t\t\tif (targetlayer[0]===undefined) continue;\r\n\t\t\t\t\tvar _ = _R[id]._L[targetlayer[0].id],\r\n\t\t\t\t\t\tframe=event.frame,\r\n\t\t\t\t\t\ttou = \"triggerdelay\";\r\n\r\n\r\n\t\t\t\t\tif (e.type===\"click\" && _.clicked_time_stamp !==undefined && ((new Date().getTime() - _.clicked_time_stamp)<300)) return;\r\n\t\t\t\t\tif (e.type===\"mouseenter\" && _.mouseentered_time_stamp !==undefined && ((new Date().getTime() - _.mouseentered_time_stamp)<300)) return;\r\n\t\t\t\t\t//if (e.type===\"mouseleave\" && _.mouseleaveed_time_stamp !==undefined && ((new Date().getTime() - _.mouseleaveed_time_stamp)<300)) return;\r\n\r\n\t\t\t\t\tclearTimeout(_.triggerdelayIn);\r\n\t\t\t\t\tclearTimeout(_.triggerdelayOut);\r\n\t\t\t\t\tclearTimeout(_.triggerdelay);\r\n\r\n\t\t\t\t \tif (e.type===\"click\") _.clicked_time_stamp = new Date().getTime();\r\n\t\t\t\t \tif (e.type===\"mouseenter\") _.mouseentered_time_stamp = new Date().getTime();\r\n\t\t\t\t \t//if (e.type===\"mouseleave\") _.mouseleaveed_time_stamp = new Date().getTime();\r\n\t\t\t\t \tif (e.type===\"mouseleave\") _.mouseentered_time_stamp = undefined;\r\n\r\n\t\t\t\t \tif (event.action===\"nextframe\" || event.action===\"prevframe\") {\r\n\t\t\t\t \t\t_.forda = _.forda===undefined ? getFordWithAction(_) : _.forda;\r\n\t\t\t\t \t\tvar inx = jQuery.inArray(_.currentframe,_.ford);\r\n\t\t\t\t \t\tif (event.action===\"nextframe\") inx++;\r\n\t\t\t\t \t\tif (event.action===\"prevframe\") inx--;\r\n\t\t\t\t \t\twhile (_.forda[inx]!==\"skip\" && inx>0 && inx<_.forda.length-1) {\r\n\t\t\t\t \t\t\tif (event.action===\"nextframe\") inx++;\r\n\t\t\t\t \t\t\tif (event.action===\"prevframe\") inx--;\r\n\t\t\t\t \t\t\tinx = Math.min(Math.max(0,inx),_.forda.length-1);\r\n\t\t\t\t \t\t}\r\n\t\t\t\t \t\tframe = _.ford[inx];\r\n\t\t\t\t \t}\r\n\t\t\t\t \tif (jQuery.inArray(event.action,[\"toggleframes\",\"togglelayer\",\"startlayer\",\"stoplayer\"])>=0) {\r\n\r\n\r\n\t\t\t\t\t \t_.triggeredstate = event.action===\"startlayer\" || (event.action===\"togglelayer\" && _.currentframe!==\"frame_1\") || (event.action===\"toggleframes\" && _.currentframe!==event.frameN);\r\n\r\n\t\t\t\t\t \tif (event.action===\"togglelayer\" && _.triggeredstate===true && _.currentframe!==undefined &&_.currentframe!==\"frame_999\") _.triggeredstate=false; // If we are between two Frames, not on frame99 and frame1 need to toggle to frame999 !\r\n\t\t\t\t\t \tframe = _.triggeredstate ? event.action===\"toggleframes\" ? event.frameN : \"frame_1\" : event.action===\"toggleframes\" ? event.frameM : \"frame_999\";\r\n\t\t\t\t\t \ttou = _.triggeredstate ? \"triggerdelayIn\" : \"triggerdelayOut\";\r\n\r\n\t\t\t\t\t \tif (!_.triggeredstate) {\r\n\t\t\t\t\t \t\tif (_R.stopVideo) _R.stopVideo(targetlayer,id);\r\n\t\t\t\t\t \t\t_R.unToggleState(_.layertoggledby);\r\n\t\t\t\t\t \t} else {\r\n\t\t\t\t\t \t\t_R.toggleState(_.layertoggledby);\r\n\t\t\t\t\t \t}\r\n\t\t\t\t\t }\r\n\t\t\t\t\tvar pars = \t{layer:targetlayer, frame:frame, mode:\"trigger\", id:id};\r\n\r\n\t\t\t\t\tif (event.children===true) {\r\n\t\t\t\t\t\tpars.updateChildren = true;\r\n\t\t\t\t\t\tpars.fastforward = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t \tif (_R.renderLayerAnimation) {\r\n\t\t\t\t \t\tclearTimeout(_[tou]);\r\n\t\t\t\t \t\t_[tou] = setTimeout(function(_) {\r\n\t\t\t\t \t\t\t_R.renderLayerAnimation(_);\r\n\t\t\t\t \t\t},(event.delay*1000),pars);\r\n\t\t\t\t \t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"playvideo\": if (tex) _R.playVideo(targetlayer,id);break;\r\n\t\t\t\tcase \"stopvideo\": if (tex && _R.stopVideo) _R.stopVideo(targetlayer,id);break;\r\n\t\t\t\tcase \"togglevideo\": if (tex) if (!_R.isVideoPlaying(targetlayer,id)) _R.playVideo(targetlayer,id); else if (_R.stopVideo) _R.stopVideo(targetlayer,id);break;\r\n\t\t\t\tcase \"mutevideo\": if (tex) _R.Mute(targetlayer,id,true);break;\r\n\t\t\t\tcase \"unmutevideo\":\tif (tex && _R.Mute) _R.Mute(targetlayer,id,false);break;\r\n\t\t\t\tcase \"toggle_mute_video\": if (tex) if (_R.Mute(targetlayer,id)) _R.Mute(targetlayer,id,false); else if (_R.Mute) _R.Mute(targetlayer,id,true); /*layer.toggleClass('rs-tc-active');*/break;\r\n\t\t\t\tcase \"toggle_global_mute_video\":\r\n\t\t\t\t\tvar pvl = _R[id].playingvideos != undefined && _R[id].playingvideos.length>0;\r\n\t\t\t\t\tif (pvl)\r\n\t\t\t\t\t\tif (_R[id].globalmute)\r\n\t\t\t\t\t\t\tjQuery.each(_R[id].playingvideos,function(i,layer) { if (_R.Mute) _R.Mute(layer,id,false);});\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tjQuery.each(_R[id].playingvideos,function(i,layer) { if (_R.Mute) _R.Mute(layer,id,true);});\r\n\t\t\t\t\t_R[id].globalmute = !_R[id].globalmute;\r\n\t\t\t\t\t//layer.toggleClass('rs-tc-active');\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\t// DELAYED ACTION CHECK\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttpGS.gsap.delayedCall(event.delay,function(targetlayer,id,event,layer) {\r\n\t\t\t\t\t\tswitch(event.action) {\r\n\t\t\t\t\t\t\tcase \"openmodal\":\r\n\t\t\t\t\t\t\t\t_R.openModalAPI(\r\n                                    event.modal,\r\n                                    event.modalslide===undefined ? 0 : event.modalslide,\r\n                                    window.parent.ajaxurl == undefined ? _R[id].ajaxUrl : window.parent.ajaxurl,\r\n                                    true,\r\n                                    id,\r\n                                    event\r\n                                );\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"closemodal\": _R.revModal(id,{mode:\"close\"});break;\r\n\t\t\t\t\t\t\tcase \"callback\": eval(event.callback);break;\r\n\t\t\t\t\t\t\tcase \"simplelink\":\twindow.open(event.url,event.target);break;\r\n\t\t\t\t\t\t\tcase \"simulateclick\": if (targetlayer.length>0) targetlayer.trigger('click');break;\r\n\t\t\t\t\t\t\tcase \"toggleclass\": if (targetlayer.length>0) targetlayer.toggleClass(event.classname);break;\r\n\t\t\t\t\t\t\tcase \"scrollbelow\":\r\n\t\t\t\t\t\t\tcase \"scrollto\":\r\n\t\t\t\t\t\t\t\tif (event.action===\"scrollbelow\") layer.addClass(\"tp-scrollbelowslider\");\r\n\t\t\t\t\t\t\t\t_R.scrollToId({id:id, offset:event.offset, action:event.action, anchor: event.id,  speed:event.speed, ease:event.ease});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"jumptoslide\":\r\n\t\t\t\t\t\t\t\t_R[id].skipAttachDetach = true;\r\n\t\t\t\t\t\t\t\tswitch (event.slide.toLowerCase()) {\r\n\t\t\t\t\t\t\t\t\tcase \"rs-random\":\r\n\t\t\t\t\t\t\t\t\t\tvar ts = Math.min(Math.max(0,Math.ceil(Math.random()*_R[id].realslideamount)-1));\r\n\t\t\t\t\t\t\t\t\t\tts = _R[id].activeRSSlide==ts ? ts>0 ? ts-1 : ts+1 : ts;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,_R[id].slides[ts].dataset.key,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"+1\":\r\n\t\t\t\t\t\t\t\t\tcase \"next\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-next\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 0;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,1,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"rs-previous\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-prev\":\r\n\t\t\t\t\t\t\t\t\tcase \"previous\":\r\n\t\t\t\t\t\t\t\t\tcase \"prev\":\r\n\t\t\t\t\t\t\t\t\tcase \"-1\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 1;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,-1,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"first\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-first\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 1;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,0,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase \"last\":\r\n\t\t\t\t\t\t\t\t\tcase \"rs-last\":\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator=\"arrow\";\r\n\t\t\t\t\t\t\t\t\t\t_R[id].sc_indicator_dir = 0;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,(_R[id].slideamount-1),_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\tvar ts = _R.isNumeric(event.slide) ?  parseInt(event.slide,0) : event.slide;\r\n\t\t\t\t\t\t\t\t\t\t_R.callingNewSlide(id,ts,_R[id].sliderType===\"carousel\");\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"toggleslider\":\r\n\t\t\t\t\t\t\t\t_R[id].noloopanymore=0;\r\n\t\t\t\t\t\t\t\tif (_R[id].sliderstatus==\"playing\") {\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revpause();\r\n\t\t\t\t\t\t\t\t\t_R[id].forcepaused = true;\r\n\t\t\t\t\t\t\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t_R[id].forcepaused = false;\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revresume();\r\n\t\t\t\t\t\t\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"pauseslider\":\r\n\t\t\t\t\t\t\t\t_R[id].c.revpause();\r\n\t\t\t\t\t\t\t\t_R.unToggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"playslider\":\r\n\t\t\t\t\t\t\t\t_R[id].noloopanymore=0;\r\n\t\t\t\t\t\t\t\t_R[id].c.revresume();\r\n\t\t\t\t\t\t\t\t_R.toggleState(_R[id].slidertoggledby);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\t\t\tcase \"gofullscreen\":\r\n\t\t\t\t\t\t\tcase \"exitfullscreen\":\r\n\t\t\t\t\t\t\tcase \"togglefullscreen\":\r\n                                var gf;\r\n                                tpGS.gsap.set(_R[id].parallax.bgcontainers, {y: 0});\r\n\t\t\t\t\t\t\t\tif (jQuery('.rs-go-fullscreen').length>0 && (event.action==\"togglefullscreen\" || event.action==\"exitfullscreen\")) {\r\n\t\t\t\t\t\t\t\t\tjQuery('.rs-go-fullscreen').removeClass(\"rs-go-fullscreen\");\r\n\t\t\t\t\t\t\t\t\tgf = _R[id].c.closest('rs-fullwidth-wrap').length>0 ? _R[id].c.closest('rs-fullwidth-wrap') : _R[id].c.closest('rs-module-wrap');\r\n\t\t\t\t\t\t\t\t\t_R[id].minHeight  = _R[id].oldminheight;\r\n\t\t\t\t\t\t\t\t\t_R[id].infullscreenmode = false;\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\t\t\t\t\tjQuery(window).trigger(\"resize\");\r\n\t\t\t\t\t\t\t\t\t_R.unToggleState(_R[id].fullscreentoggledby);\r\n\r\n\t\t\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\tif (jQuery('.rs-go-fullscreen').length==0 && (event.action==\"togglefullscreen\" || event.action==\"gofullscreen\")) {\r\n\t\t\t\t\t\t\t\t\tgf = _R[id].c.closest('rs-fullwidth-wrap').length>0 ? _R[id].c.closest('rs-fullwidth-wrap') : _R[id].c.closest('rs-module-wrap');\r\n\t\t\t\t\t\t\t\t\tgf.addClass(\"rs-go-fullscreen\");\r\n\t\t\t\t\t\t\t\t\t_R[id].oldminheight = _R[id].minHeight;\r\n\t\t\t\t\t\t\t\t\t_R[id].minHeight = _R.getWinH(id);\r\n\t\t\t\t\t\t\t\t\t_R[id].infullscreenmode = true;\r\n\t\t\t\t\t\t\t\t\tjQuery(window).trigger(\"resize\");\r\n\t\t\t\t\t\t\t\t\t_R.toggleState(_R[id].fullscreentoggledby);\r\n\t\t\t\t\t\t\t\t\t_R[id].c.revredraw();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault: _R[id].c.trigger('layeraction',[event.action, layer, event]);break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},[targetlayer,id,event,layer]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} // GET THROUGH THE EXISITNG EVENTS ON THIS ELEMENTS\r\n\t});\r\n};\r\n\r\n/*\r\nGET FRAME ORDERS WITH ACTIONS\r\n*/\r\nfunction getFordWithAction(_) {\r\n\tvar neworder = [];\r\n\tfor (var i in _.ford) {\r\n\t\tif (_.frames[_.ford[i]].timeline.waitoncall)\r\n\t\t\tneworder.push(_.ford[i]);\r\n\t\telse\r\n\t\t\tneworder.push(\"skip\");\r\n\t}\r\n\treturn neworder;\r\n}\r\n/*\r\nHELPER TO CACHE TOGGLER TRIGGERERS\r\n */\r\nfunction updateToggleByList(j,w,id) {\r\n\tvar _ = j.data(w);\r\n\tif (_ === undefined) _ = [];\r\n\t_.push(id);\r\n\tj.data(w,_);\r\n}\r\n/*\r\nBUILD ACTION OBJECT FOR LAYER\r\n */\r\nfunction getEventParams(_) {\r\n\tvar r = { on:\"click\",\r\n\t\t\t  delay:0,\r\n\t\t\t  ease:\"power2.out\",\r\n\t\t\t  speed:400\r\n\t\t\t };\r\n\tfor (var i in _) {\r\n\r\n\t\t// needed for new default (custom values from AddOn Action)\r\n\t\tif(!_.hasOwnProperty(i)) continue;\r\n\t\tvar s = _[i].split(\":\");\r\n\r\n\t\t//Fix for \":\" chars in the value\r\n\t\tif(s.length>2 && s[0]===\"call\") s[1] = (s.join(\":\")).replace(s[0]+\":\",'');\r\n\r\n\t\tswitch (s[0]) {\r\n\t\t\tcase \"modal\": r.modal = s[1];break;\r\n\t\t\tcase \"ms\": r.modalslide = s[1];break;\r\n\t\t\tcase \"m\": r.frameM = s[1];break;\r\n\t\t\tcase \"n\": r.frameN = s[1];break;\r\n\t\t\tcase \"o\": r.on = (s[1]===\"click\" || s[1]===\"c\" ? \"click\" : s[1]===\"ml\" || s[1]===\"mouseleave\" ? \"mouseleave\" : s[1]===\"mouseenter\" || s[1]===\"me\" ? \"mouseenter\" : s[1]); break;\r\n\t\t\tcase \"d\": r.delay = parseInt(s[1],0)/1000; r.delay = r.delay===\"NaN\" || isNaN(r.delay) ? 0 : r.delay; break;\r\n\t\t\tcase \"rd\": r.repeat = parseInt(s[1],0)/1000; r.repeat = r.repeat===\"NaN\" || isNaN(r.repeat) ? 0 : r.repeat; break;\r\n\t\t\tcase \"a\": r.action = s[1];break;\r\n\t\t\tcase \"f\": r.frame = s[1];break;\r\n\t\t\tcase \"slide\": r.slide = s[1];break;\r\n\t\t\tcase \"layer\": r.layer = s[1];break;\r\n\t\t\tcase \"sp\": r.speed = parseInt(s[1],0);break;\r\n\t\t\tcase \"e\": r.ease = s[1];break;\r\n\t\t\tcase \"ls\": r.togglestate = s[1];break;\r\n\t\t\tcase \"offset\": r.offset = s[1];break;\r\n\t\t\tcase \"call\": r.callback = s[1];break;\r\n\t\t\tcase \"url\": r.url = \"\"; for (var ii=1;ii<s.length;ii++) r.url += s[ii]+(ii===s.length-1 ? \"\" : \":\");break;\r\n\t\t\tcase \"target\": r.target = s[1];break;\r\n\t\t\tcase \"class\": r.classname = s[1];break;\r\n\t\t\tcase \"ch\": r.children = (s[1]==\"true\" || s[1]==true || s[1]==\"t\" ? true : false);break;\r\n\t\t\tdefault: if(s[0].length>0 && s[0]!==\"\") r[s[0]] = s[1];\r\n\t\t}\r\n\t}\r\n\treturn r;\r\n}\r\n\r\n\r\nvar getOffContH = function(c) {\r\n\tif (c==undefined) return 0;\r\n\tif (c.split(',').length>1) {\r\n\t\tvar oc = c.split(\",\"),\r\n\t\t\ta =0;\r\n\t\tif (oc)\r\n\t\t\tjQuery.each(oc,function(index,sc) {\r\n\t\t\t\tif (jQuery(sc).length>0)\r\n\t\t\t\t\ta = a + jQuery(sc).outerHeight(true);\r\n\t\t\t});\r\n\t\treturn a;\r\n\t} else {\r\n\t\treturn jQuery(c).height();\r\n\t}\r\n\treturn 0;\r\n};\r\n\r\n//Support Defer and Async and Footer Loads\r\nwindow.RS_MODULES = window.RS_MODULES || {};\r\nwindow.RS_MODULES.actions = {loaded:true, version:version};\r\nif (window.RS_MODULES.checkMinimal) window.RS_MODULES.checkMinimal();\r\n\r\n})(jQuery);","Nwdthemes_Revslider/public/assets/js/libs/noise.js":"if (THREE!==undefined) {\t\t\r\n\tTHREE.EffectComposer=function(a,b){if(this.renderer=a,void 0===b){var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat},d=a.getSize(new THREE.Vector2);this._pixelRatio=a.getPixelRatio(),this._width=d.width,this._height=d.height,b=new THREE.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,c),b.texture.name=\"EffectComposer.rt1\"}else this._pixelRatio=1,this._width=b.width,this._height=b.height;this.renderTarget1=b,this.renderTarget2=b.clone(),this.renderTarget2.texture.name=\"EffectComposer.rt2\",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===THREE.CopyShader&&console.error(\"THREE.EffectComposer relies on THREE.CopyShader\"),void 0===THREE.ShaderPass&&console.error(\"THREE.EffectComposer relies on THREE.ShaderPass\"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader),this.clock=new THREE.Clock},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var a=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=a},addPass:function(a){this.passes.push(a),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(a,b){this.passes.splice(b,0,a),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},removePass:function(a){const b=this.passes.indexOf(a);-1!==b&&this.passes.splice(b,1)},isLastEnabledPass:function(a){for(var b=a+1;b<this.passes.length;b++)if(this.passes[b].enabled)return!1;return!0},render:function(a){a===void 0&&(a=this.clock.getDelta());var b,c,d=this.renderer.getRenderTarget(),e=!1,f=this.passes.length;for(c=0;c<f;c++)if(b=this.passes[c],!1!==b.enabled){if(b.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(c),b.render(this.renderer,this.writeBuffer,this.readBuffer,a,e),b.needsSwap){if(e){var g=this.renderer.getContext(),h=this.renderer.state.buffers.stencil;h.setFunc(g.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,a),h.setFunc(g.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(b instanceof THREE.MaskPass?e=!0:b instanceof THREE.ClearMaskPass&&(e=!1))}this.renderer.setRenderTarget(d)},reset:function(a){if(a===void 0){var b=this.renderer.getSize(new THREE.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=b.width,this._height=b.height,a=this.renderTarget1.clone(),a.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=a,this.renderTarget2=a.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(a,b){this._width=a,this._height=b;var c=this._width*this._pixelRatio,d=this._height*this._pixelRatio;this.renderTarget1.setSize(c,d),this.renderTarget2.setSize(c,d);for(var e=0;e<this.passes.length;e++)this.passes[e].setSize(c,d)},setPixelRatio:function(a){this._pixelRatio=a,this.setSize(this._width,this._height)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(){},render:function(){console.error(\"THREE.Pass: .render() must be implemented in derived pass.\")}}),THREE.Pass.FullScreenQuad=function(){var a=new THREE.OrthographicCamera(-1,1,1,-1,0,1),b=new THREE.BufferGeometry;b.setAttribute(\"position\",new THREE.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),b.setAttribute(\"uv\",new THREE.Float32BufferAttribute([0,2,0,0,2,0],2));var c=function(a){this._mesh=new THREE.Mesh(b,a)};return Object.defineProperty(c.prototype,\"material\",{get:function(){return this._mesh.material},set:function(a){this._mesh.material=a}}),Object.assign(c.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(b){b.render(this._mesh,a)}}),c}();\r\n\tTHREE.RenderPass=function(a,b,c,d,e){THREE.Pass.call(this),this.scene=a,this.camera=b,this.overrideMaterial=c,this.clearColor=d,this.clearAlpha=e===void 0?0:e,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new THREE.Color},THREE.RenderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.RenderPass,render:function(a,b,c){var d=a.autoClear;a.autoClear=!1;var e,f;this.overrideMaterial!==void 0&&(f=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(a.getClearColor(this._oldClearColor),e=a.getClearAlpha(),a.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&a.clearDepth(),a.setRenderTarget(this.renderToScreen?null:c),this.clear&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),a.render(this.scene,this.camera),this.clearColor&&a.setClearColor(this._oldClearColor,e),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=f),a.autoClear=d}});\r\n\tTHREE.Blur2dShader = {\r\n\r\n\t\tuniforms: {\r\n\t\t\t'tColor': { value: null },\r\n\t\t\t'intensity': { value: 0 },\r\n\t\t\t'progress': { value: 0 },\r\n\t\t\t'left': {value: 1.0},\r\n\t\t\t'top': {value: 0.0}\r\n\t\t},\r\n\r\n\t\tvertexShader: /* glsl */`\r\n\t\t\tvarying vec2 vUv;\r\n\t\t\tvoid main() {\r\n\t\t\t\tvUv = uv;\r\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t\t}`,\r\n\r\n\t\tfragmentShader: /* glsl */`\r\n\t\t\t#if __VERSION__ < 130\\n\r\n\t\t\t#define TEXTURE2D texture2D\\n\r\n\t\t\t#else\\n\r\n\t\t\t#define TEXTURE2D texture\\n\r\n\t\t\t#endif\\n\r\n\r\n\t\t\t#include <common>\r\n\t\t\tvarying vec2 vUv;\r\n\t\t\tuniform sampler2D tColor;\r\n\t\t\tuniform float progress;\r\n\t\t\tuniform float intensity;\r\n\t\t\tuniform float left;\r\n\t\t\tuniform float top;\r\n\t\t\tint Samples = 64;\r\n\t\t\t#include <packing>\r\n\t\t\t\r\n\t\t\tvec4 DirectionalBlur(in vec2 UV, in vec2 Direction, in float Intensity, in sampler2D Texture) {\r\n\t\t\t\tvec4 Color = vec4(0.0);  \r\n\r\n\t\t\t\tfor (int i=1; i<=Samples/2; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tColor += TEXTURE2D(Texture,UV+float(i)*Intensity/float(Samples/2)*Direction);\r\n\t\t\t\t\tColor += TEXTURE2D(Texture,UV-float(i)*Intensity/float(Samples/2)*Direction);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Color/float(Samples);    \r\n\t\t\t}\r\n\r\n\t\t\tvoid main() {\r\n\t\t\t\tvec2 uv = vUv;\r\n\t\t\t\t\r\n\t\t\t\tvec2 Direction = vec2(left, top);\r\n\t\t\t\tfloat Intensity = intensity;\r\n\t\t\t\tfloat m = progress;\r\n\t\t\t\t\r\n\t\t\t\tfloat mult = (m -0.5)*2.;\r\n\t\t\t\tIntensity *= (-(mult * mult) + 1.);\r\n\t\t\t\tIntensity *= 1.0 - step(1.0,m);\r\n\t\t\t\t\r\n\t\t\t\tvec4 Color = DirectionalBlur(uv,normalize(Direction), Intensity, tColor);\r\n\r\n\t\t\t\tgl_FragColor = vec4(Color.xyz, 1.0);\r\n\t\t}`\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Directional blur post-process with Blur2D shader\r\n\t */\r\n\r\n\tTHREE.Blur2D = function ( scene, camera, params ) {\r\n\r\n\t\tTHREE.Pass.call( this );\r\n\r\n\t\tthis.scene = scene;\r\n\t\tthis.camera = camera;\r\n\r\n\t\tvar left = params.left === undefined ? 0 : params.left;\r\n\t\tvar top = params.top === undefined ? 0 : params.top;\r\n\t\tif(left === 0 && top === 0) left = 1.0;\r\n\t\t// render targets\r\n\r\n\t\tvar width = params.width || window.innerWidth || 1;\r\n\t\tvar height = params.height || window.innerHeight || 1;\r\n\r\n\t\tthis.renderTargetDepth = new THREE.WebGLRenderTarget( width, height, {\r\n\t\t\tminFilter: THREE.NearestFilter,\r\n\t\t\tmagFilter: THREE.NearestFilter\r\n\t\t} );\r\n\r\n\t\tthis.renderTargetDepth.texture.name = 'Blur2D.depth';\r\n\r\n\t\t// blur2d material\r\n\r\n\t\tif ( THREE.Blur2dShader === undefined ) console.error( 'THREE.Blur2D relies on THREE.Blur2dShader' );\r\n\r\n\t\tvar Blur2dShader = THREE.Blur2dShader;\r\n\t\tvar blur2dUniforms = THREE.UniformsUtils.clone( Blur2dShader.uniforms );\r\n\r\n\t\tblur2dUniforms[ 'intensity' ].value = params.intensity !== undefined ? params.intensity : 0.1;\r\n\t\tblur2dUniforms[ 'progress' ].value = 0.0;\r\n\t\tblur2dUniforms[ 'left' ].value = left;\r\n\t\tblur2dUniforms[ 'top' ].value = top;\r\n\r\n\t\tthis.materialBlur2d = new THREE.ShaderMaterial( {\r\n\t\t\tuniforms: blur2dUniforms,\r\n\t\t\tvertexShader: Blur2dShader.vertexShader,\r\n\t\t\tfragmentShader: Blur2dShader.fragmentShader\r\n\t\t} );\r\n\r\n\t\tthis.uniforms = blur2dUniforms;\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\tthis.fsQuad = new THREE.Pass.FullScreenQuad( this.materialBlur2d );\r\n\r\n\t\tthis._oldClearColor = new THREE.Color();\r\n\r\n\t};\r\n\r\n\tTHREE.Blur2D.prototype = Object.assign( Object.create( THREE.Pass.prototype ), {\r\n\r\n\t\tconstructor: THREE.Blur2D,\r\n\r\n\t\trender: function ( renderer, writeBuffer, readBuffer/*, deltaTime, maskActive*/ ) {\r\n\r\n\t\t\t// Render depth into texture\r\n\r\n\t\t\trenderer.getClearColor( this._oldClearColor );\r\n\t\t\tvar oldClearAlpha = renderer.getClearAlpha();\r\n\t\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\t\trenderer.autoClear = false;\r\n\r\n\t\t\trenderer.setClearColor( 0xffffff );\r\n\t\t\trenderer.setClearAlpha( 1.0 );\r\n\t\t\trenderer.setRenderTarget( this.renderTargetDepth );\r\n\t\t\trenderer.clear();\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t\t// Render blur2d composite\r\n\t\t\tthis.uniforms[ 'tColor' ].value = readBuffer.texture;\r\n\r\n\t\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\t\trenderer.setRenderTarget( null );\r\n\t\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\t\t\trenderer.clear();\r\n\t\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.scene.overrideMaterial = null;\r\n\t\t\trenderer.setClearColor( this._oldClearColor );\r\n\t\t\trenderer.setClearAlpha( oldClearAlpha );\r\n\t\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\tvar _R = _R_is_Editor ? RVS._R : jQuery.fn.revolution;\r\n\r\n\t_R.postProcessing = _R.postProcessing || {};\r\n\r\n\t_R.postProcessing.blur2d = {\r\n\t\tinit: function(renderer, scene, camera, opt) {\r\n\t\t\tlet PP = {};\r\n\t\t\tPP.type = \"blur2d\";\r\n\t\t\tPP.renderPass = new THREE.RenderPass( scene, camera );\r\n\t\t\tPP.blur2D = new THREE.Blur2D( scene, camera, {\r\n\t\t\t\tprogress: opt.progress,\r\n\t\t\t\tintensity: opt.intensity,\r\n\t\t\t\tleft: opt.left,\r\n\t\t\t\ttop: opt.top,\r\n\t\t\t\twidth: opt.width,\r\n\t\t\t\theight: opt.height\r\n\t\t\t});\t\t\t\t\t\t\r\n\t\t\tPP.composer = new THREE.EffectComposer( renderer);\r\n\t\t\tPP.composer.addPass( PP.renderPass );\r\n\t\t\tPP.composer.addPass( PP.blur2D );\r\n\t\t\treturn PP;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"}
}});
